<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C++ | Layout of object types</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Class types, Arithmetic types, Arrays">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="C++ | Layout of object types">
    <meta property="og:description" content="Class types, Arithmetic types, Arrays">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/cpp/layout-of-object-types.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="C++ | Layout of object types">
    <meta name="twitter:description" content="Class types, Arithmetic types, Arrays">
    <meta name="twitter:url" content="/cpp/layout-of-object-types.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/670.b423cdac.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>C++</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cpp/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/cpp/getting-started-with-cpp.html" class="sidebar-link">Getting started with C++</a></li><li><a href="/cpp/literals.html" class="sidebar-link">Literals</a></li><li><a href="/cpp/operator-precedence.html" class="sidebar-link">operator precedence</a></li><li><a href="/cpp/floating-point-arithmetic.html" class="sidebar-link">Floating Point Arithmetic</a></li><li><a href="/cpp/bit-operators.html" class="sidebar-link">Bit Operators</a></li><li><a href="/cpp/bit-manipulation.html" class="sidebar-link">Bit Manipulation</a></li><li><a href="/cpp/bit-fields.html" class="sidebar-link">Bit fields</a></li><li><a href="/cpp/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/cpp/iterators.html" class="sidebar-link">Iterators</a></li><li><a href="/cpp/basic-input-output-in-c.html" class="sidebar-link">Basic input/output in c++</a></li><li><a href="/cpp/loops.html" class="sidebar-link">Loops</a></li><li><a href="/cpp/file-i-o.html" class="sidebar-link">File I/O</a></li><li><a href="/cpp/cpp-streams.html" class="sidebar-link">C++ Streams</a></li><li><a href="/cpp/stream-manipulators.html" class="sidebar-link">Stream manipulators</a></li><li><a href="/cpp/flow-control.html" class="sidebar-link">Flow Control</a></li><li><a href="/cpp/metaprogramming.html" class="sidebar-link">Metaprogramming</a></li><li><a href="/cpp/const-keyword.html" class="sidebar-link">const keyword</a></li><li><a href="/cpp/mutable-keyword.html" class="sidebar-link">mutable keyword</a></li><li><a href="/cpp/friend-keyword.html" class="sidebar-link">Friend keyword</a></li><li><a href="/cpp/type-keywords.html" class="sidebar-link">Type Keywords</a></li><li><a href="/cpp/basic-type-keywords.html" class="sidebar-link">Basic Type Keywords</a></li><li><a href="/cpp/variable-declaration-keywords.html" class="sidebar-link">Variable Declaration Keywords</a></li><li><a href="/cpp/keywords.html" class="sidebar-link">Keywords</a></li><li><a href="/cpp/returning-several-values-from-a-function.html" class="sidebar-link">Returning several values from a function</a></li><li><a href="/cpp/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/cpp/references.html" class="sidebar-link">References</a></li><li><a href="/cpp/value-and-reference-semantics.html" class="sidebar-link">Value and Reference Semantics</a></li><li><a href="/cpp/c-function-call-by-value-vs-call-by-reference.html" class="sidebar-link">C++ function &quot;call by value&quot; vs. &quot;call by reference&quot;</a></li><li><a href="/cpp/copying-vs-assignment.html" class="sidebar-link">Copying vs Assignment</a></li><li><a href="/cpp/pointers.html" class="sidebar-link">Pointers</a></li><li><a href="/cpp/pointers-to-members.html" class="sidebar-link">Pointers to members</a></li><li><a href="/cpp/the-this-pointer.html" class="sidebar-link">The This Pointer</a></li><li><a href="/cpp/smart-pointers.html" class="sidebar-link">Smart Pointers</a></li><li><a href="/cpp/classes-structures.html" class="sidebar-link">Classes/Structures</a></li><li><a href="/cpp/function-overloading.html" class="sidebar-link">Function Overloading</a></li><li><a href="/cpp/operator-overloading.html" class="sidebar-link">Operator Overloading</a></li><li><a href="/cpp/function-template-overloading.html" class="sidebar-link">Function Template Overloading</a></li><li><a href="/cpp/virtual-member-functions.html" class="sidebar-link">Virtual Member Functions</a></li><li><a href="/cpp/inline-functions.html" class="sidebar-link">Inline functions</a></li><li><a href="/cpp/special-member-functions.html" class="sidebar-link">Special Member Functions</a></li><li><a href="/cpp/non-static-member-functions.html" class="sidebar-link">Non-Static Member Functions</a></li><li><a href="/cpp/constant-class-member-functions.html" class="sidebar-link">Constant class member functions</a></li><li><a href="/cpp/c-containers.html" class="sidebar-link">C++ Containers</a></li><li><a href="/cpp/namespaces.html" class="sidebar-link">Namespaces</a></li><li><a href="/cpp/header-files.html" class="sidebar-link">Header Files</a></li><li><a href="/cpp/using-declaration.html" class="sidebar-link">Using declaration</a></li><li><a href="/cpp/std-string.html" class="sidebar-link">std::string</a></li><li><a href="/cpp/std-array.html" class="sidebar-link">std::array</a></li><li><a href="/cpp/std-vector.html" class="sidebar-link">std::vector</a></li><li><a href="/cpp/std-map.html" class="sidebar-link">std::map</a></li><li><a href="/cpp/std-optional.html" class="sidebar-link">std::optional</a></li><li><a href="/cpp/std-function-to-wrap-any-element-that-is-callable.html" class="sidebar-link">std::function: To wrap any element that is callable</a></li><li><a href="/cpp/std-forward-list.html" class="sidebar-link">std::forward_list</a></li><li><a href="/cpp/std-pair.html" class="sidebar-link">std::pair</a></li><li><a href="/cpp/std-atomics.html" class="sidebar-link">std::atomics</a></li><li><a href="/cpp/std-variant.html" class="sidebar-link">std::variant</a></li><li><a href="/cpp/std-iomanip.html" class="sidebar-link">std::iomanip</a></li><li><a href="/cpp/std-any.html" class="sidebar-link">std::any</a></li><li><a href="/cpp/std-set-and-std-multiset.html" class="sidebar-link">std::set and std::multiset</a></li><li><a href="/cpp/std-integer-sequence.html" class="sidebar-link">std::integer_sequence</a></li><li><a href="/cpp/using-std-unordered-map.html" class="sidebar-link">Using std::unordered_map</a></li><li><a href="/cpp/standard-library-algorithms.html" class="sidebar-link">Standard Library Algorithms</a></li><li><a href="/cpp/the-iso-c-standard.html" class="sidebar-link">The ISO C++ Standard</a></li><li><a href="/cpp/inline-variables.html" class="sidebar-link">Inline variables</a></li><li><a href="/cpp/random-number-generation.html" class="sidebar-link">Random number generation</a></li><li><a href="/cpp/date-and-time-using-chrono-header.html" class="sidebar-link">Date and time using  header</a></li><li><a href="/cpp/sorting.html" class="sidebar-link">Sorting</a></li><li><a href="/cpp/enumeration.html" class="sidebar-link">Enumeration</a></li><li><a href="/cpp/iteration.html" class="sidebar-link">Iteration</a></li><li><a href="/cpp/regular-expressions.html" class="sidebar-link">Regular expressions</a></li><li><a href="/cpp/implementation-defined-behavior.html" class="sidebar-link">Implementation-defined behavior</a></li><li><a href="/cpp/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/cpp/lambdas.html" class="sidebar-link">Lambdas</a></li><li><a href="/cpp/value-categories.html" class="sidebar-link">Value Categories</a></li><li><a href="/cpp/preprocessor.html" class="sidebar-link">Preprocessor</a></li><li><a href="/cpp/data-structures-in-c.html" class="sidebar-link">Data Structures in C++</a></li><li><a href="/cpp/templates.html" class="sidebar-link">Templates</a></li><li><a href="/cpp/expression-templates.html" class="sidebar-link">Expression templates</a></li><li><a href="/cpp/curiously-recurring-template-pattern-crtp.html" class="sidebar-link">Curiously Recurring Template Pattern (CRTP)</a></li><li><a href="/cpp/threading.html" class="sidebar-link">Threading</a></li><li><a href="/cpp/thread-synchronization-structures.html" class="sidebar-link">Thread synchronization structures</a></li><li><a href="/cpp/the-rule-of-three-five-and-zero.html" class="sidebar-link">The Rule of Three, Five, And Zero</a></li><li><a href="/cpp/raii-resource-acquisition-is-initialization.html" class="sidebar-link">RAII: Resource Acquisition Is Initialization</a></li><li><a href="/cpp/rtti-run-time-type-information.html" class="sidebar-link">RTTI: Run-Time Type Information</a></li><li><a href="/cpp/mutexes.html" class="sidebar-link">Mutexes</a></li><li><a href="/cpp/recursive-mutex.html" class="sidebar-link">Recursive Mutex</a></li><li><a href="/cpp/semaphore.html" class="sidebar-link">Semaphore</a></li><li><a href="/cpp/futures-and-promises.html" class="sidebar-link">Futures and Promises</a></li><li><a href="/cpp/atomic-types.html" class="sidebar-link">Atomic Types</a></li><li><a href="/cpp/type-erasure.html" class="sidebar-link">Type Erasure</a></li><li><a href="/cpp/explicit-type-conversions.html" class="sidebar-link">Explicit type conversions</a></li><li><a href="/cpp/unnamed-types.html" class="sidebar-link">Unnamed types</a></li><li><a href="/cpp/type-traits.html" class="sidebar-link">Type Traits</a></li><li><a href="/cpp/return-type-covariance.html" class="sidebar-link">Return Type Covariance</a></li><li><a href="/cpp/layout-of-object-types.html" aria-current="page" class="active sidebar-link">Layout of object types</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cpp/layout-of-object-types.html#class-types" class="sidebar-link">Class types</a></li><li class="sidebar-sub-header"><a href="/cpp/layout-of-object-types.html#arithmetic-types" class="sidebar-link">Arithmetic types</a></li><li class="sidebar-sub-header"><a href="/cpp/layout-of-object-types.html#arrays" class="sidebar-link">Arrays</a></li></ul></li><li><a href="/cpp/type-inference.html" class="sidebar-link">Type Inference</a></li><li><a href="/cpp/typedef-and-type-aliases.html" class="sidebar-link">Typedef and type aliases</a></li><li><a href="/cpp/type-deduction.html" class="sidebar-link">type deduction</a></li><li><a href="/cpp/trailing-return-type.html" class="sidebar-link">Trailing return type</a></li><li><a href="/cpp/alignment.html" class="sidebar-link">Alignment</a></li><li><a href="/cpp/perfect-forwarding.html" class="sidebar-link">Perfect Forwarding</a></li><li><a href="/cpp/decltype.html" class="sidebar-link">decltype</a></li><li><a href="/cpp/sfinae-substitution-failure-is-not-an-error.html" class="sidebar-link">SFINAE (Substitution Failure Is Not An Error)</a></li><li><a href="/cpp/undefined-behavior.html" class="sidebar-link">Undefined Behavior</a></li><li><a href="/cpp/overload-resolution.html" class="sidebar-link">Overload resolution</a></li><li><a href="/cpp/move-semantics.html" class="sidebar-link">Move Semantics</a></li><li><a href="/cpp/pimpl-idiom.html" class="sidebar-link">Pimpl Idiom</a></li><li><a href="/cpp/auto.html" class="sidebar-link">auto</a></li><li><a href="/cpp/copy-elision.html" class="sidebar-link">Copy Elision</a></li><li><a href="/cpp/fold-expressions.html" class="sidebar-link">Fold Expressions</a></li><li><a href="/cpp/unions.html" class="sidebar-link">Unions</a></li><li><a href="/cpp/design-pattern-implementation-in-c.html" class="sidebar-link">Design pattern implementation in C++</a></li><li><a href="/cpp/singleton-design-pattern.html" class="sidebar-link">Singleton Design Pattern</a></li><li><a href="/cpp/user-defined-literals.html" class="sidebar-link">User-Defined Literals</a></li><li><a href="/cpp/memory-management.html" class="sidebar-link">Memory management</a></li><li><a href="/cpp/c-11-memory-model.html" class="sidebar-link">C++11 Memory Model</a></li><li><a href="/cpp/scopes.html" class="sidebar-link">Scopes</a></li><li><a href="/cpp/static-assert.html" class="sidebar-link">static_assert</a></li><li><a href="/cpp/constexpr.html" class="sidebar-link">constexpr</a></li><li><a href="/cpp/one-definition-rule-odr.html" class="sidebar-link">One Definition Rule (ODR)</a></li><li><a href="/cpp/unspecified-behavior.html" class="sidebar-link">Unspecified behavior</a></li><li><a href="/cpp/argument-dependent-name-lookup.html" class="sidebar-link">Argument Dependent Name Lookup</a></li><li><a href="/cpp/attributes.html" class="sidebar-link">Attributes</a></li><li><a href="/cpp/recursion-in-c.html" class="sidebar-link">Recursion in C++</a></li><li><a href="/cpp/arithmitic-metaprogramming.html" class="sidebar-link">Arithmitic Metaprogramming</a></li><li><a href="/cpp/callable-objects.html" class="sidebar-link">Callable Objects</a></li><li><a href="/cpp/client-server-examples.html" class="sidebar-link">Client server examples</a></li><li><a href="/cpp/const-correctness.html" class="sidebar-link">Const Correctness</a></li><li><a href="/cpp/parameter-packs.html" class="sidebar-link">Parameter packs</a></li><li><a href="/cpp/build-systems.html" class="sidebar-link">Build Systems</a></li><li><a href="/cpp/concurrency-with-openmp.html" class="sidebar-link">Concurrency With OpenMP</a></li><li><a href="/cpp/resource-management.html" class="sidebar-link">Resource Management</a></li><li><a href="/cpp/storage-class-specifiers.html" class="sidebar-link">Storage class specifiers</a></li><li><a href="/cpp/linkage-specifications.html" class="sidebar-link">Linkage specifications</a></li><li><a href="/cpp/digit-separators.html" class="sidebar-link">Digit separators</a></li><li><a href="/cpp/c-incompatibilities.html" class="sidebar-link">C incompatibilities</a></li><li><a href="/cpp/side-by-side-comparisons-of-classic-c-examples-solved-via-c-vs-c-11-vs-c-14-vs-c-17.html" class="sidebar-link">Side by Side Comparisons of classic C++ examples solved via C++ vs C++11 vs C++14 vs C++17</a></li><li><a href="/cpp/compiling-and-building.html" class="sidebar-link">Compiling and Building</a></li><li><a href="/cpp/common-compile-linker-errors-gcc.html" class="sidebar-link">Common compile/linker errors (GCC)</a></li><li><a href="/cpp/more-undefined-behaviors-in-c.html" class="sidebar-link">More undefined behaviors in C++</a></li><li><a href="/cpp/unit-testing-in-c.html" class="sidebar-link">Unit Testing in C++</a></li><li><a href="/cpp/c-debugging-and-debug-prevention-tools-techniques.html" class="sidebar-link">C++ Debugging and Debug-prevention Tools &amp; Techniques</a></li><li><a href="/cpp/optimization-in-c.html" class="sidebar-link">Optimization in C++</a></li><li><a href="/cpp/optimization.html" class="sidebar-link">Optimization</a></li><li><a href="/cpp/profiling.html" class="sidebar-link">Profiling</a></li><li><a href="/cpp/refactoring-techniques.html" class="sidebar-link">Refactoring Techniques</a></li><li><a href="/cpp/internationalization-in-c.html" class="sidebar-link">Internationalization in C++</a></li><li><a href="/cpp/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="layout-of-object-types"><a href="#layout-of-object-types" class="header-anchor">#</a> Layout of object types</h1> <h2 id="class-types"><a href="#class-types" class="header-anchor">#</a> Class types</h2> <p>By &quot;class&quot;, we mean a type that was defined using the <code>class</code> or <code>struct</code> keyword (but not <code>enum struct</code> or <code>enum class</code>).</p> <li>
Even an empty class still occupies at least one byte of storage; it will therefore consist purely of padding. This ensures that if `p` points to an object of an empty class, then `p + 1` is a distinct address and points to a distinct object. However, it is possible for an empty class to have a size of 0 when used as a base class. See [empty base optimisation](http://en.cppreference.com/w/cpp/language/ebo).
<div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Empty_1</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                               <span class="token comment">// sizeof(Empty_1)       == 1</span>
<span class="token keyword">class</span> <span class="token class-name">Empty_2</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                               <span class="token comment">// sizeof(Empty_2)       == 1</span>
<span class="token keyword">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">Empty_1</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                     <span class="token comment">// sizeof(Derived)       == 1</span>
<span class="token keyword">class</span> <span class="token class-name">DoubleDerived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">Empty_1</span><span class="token punctuation">,</span> <span class="token class-name">Empty_2</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>      <span class="token comment">// sizeof(DoubleDerived) == 1</span>
<span class="token keyword">class</span> <span class="token class-name">Holder</span> <span class="token punctuation">{</span> Empty_1 e<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>                    <span class="token comment">// sizeof(Holder)        == 1</span>
<span class="token keyword">class</span> <span class="token class-name">DoubleHolder</span> <span class="token punctuation">{</span> Empty_1 e1<span class="token punctuation">;</span> Empty_2 e2<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// sizeof(DoubleHolder)  == 2</span>
<span class="token keyword">class</span> <span class="token class-name">DerivedHolder</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">Empty_1</span></span> <span class="token punctuation">{</span> Empty_1 e<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">// sizeof(DerivedHolder) == 2</span>

</code></pre></div></li> <li>
The object representation of a class type contains the object representations of the base class and non-static member types. Therefore, for example, in the following class:
<div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">char</span><span class="token operator">*</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>there is a consecutive sequence of <code>sizeof(int)</code> bytes within an <code>S</code> object, called a <strong>subobject,</strong> that contain the value of <code>x</code>, and another subobject with <code>sizeof(char*)</code> bytes that contains the value of <code>y</code>. The two cannot be interleaved.
</p></li> <li>
If a class type has members and/or base classes with types <code>t1, t2,...tN</code>, the size must be at least <code>sizeof(t1) + sizeof(t2) + ... + sizeof(tN)</code> given the preceding points. However, depending on the <a href="http://stackoverflow.com/documentation/c%2b%2b/9249/alignment" target="_blank" rel="noopener noreferrer">alignment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> requirements of the members and base classes, the compiler may be forced to insert padding between subobjects, or at the beginning or end of the complete object.<p></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">AnInt</span>      <span class="token punctuation">{</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(AnInt)        == sizeof(int)</span>
  <span class="token comment">// Assuming a typical 32- or 64-bit system, sizeof(AnInt)        == 4 (4).</span>
<span class="token keyword">struct</span> <span class="token class-name">TwoInts</span>    <span class="token punctuation">{</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(TwoInts)      &gt;= 2 * sizeof(int)</span>
  <span class="token comment">// Assuming a typical 32- or 64-bit system, sizeof(TwoInts)      == 8 (4 + 4).</span>
<span class="token keyword">struct</span> <span class="token class-name">IntAndChar</span> <span class="token punctuation">{</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token keyword">char</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(IntAndChar)   &gt;= sizeof(int) + sizeof(char)</span>
  <span class="token comment">// Assuming a typical 32- or 64-bit system, sizeof(IntAndChar)   == 8 (4 + 1 + padding).</span>
<span class="token keyword">struct</span> <span class="token class-name">AnIntDerived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">AnInt</span></span> <span class="token punctuation">{</span> <span class="token keyword">long</span> <span class="token keyword">long</span> l<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(AnIntDerived) &gt;= sizeof(AnInt) + sizeof(long long)</span>
  <span class="token comment">// Assuming a typical 32- or 64-bit system, sizeof(AnIntDerived) == 16 (4 + padding + 8).</span>

</code></pre></div></li> <li><p>If padding is inserted in an object due to alignment requirements, the size will be greater than the sum of the sizes of the members and base classes.  With `n`-byte alignment, size will typically be the smallest multiple of `n` which is larger than the size of all members &amp; base classes.  Each member `memN` will typically be placed at an address which is a multiple of `alignof(memN)`, and `n` will typically be the largest `alignof` out of all members' `alignof`s.  Due to this, if a member with a smaller `alignof` is followed by a member with a larger `alignof`, there is a possibility that the latter member will not be aligned properly if placed immediately after the former.  In this case, padding (also known as an **alignment member** ) will be placed between the two members, such that the latter member can have its desired alignment.  Conversely, if a member with a larger `alignof` is followed by a member with a smaller `alignof`, no padding will usually be necessary.  This process is also known as &quot;packing&quot;.<br>
Due to classes typically sharing the `alignof` of their member with the largest `alignof`, classes will typically be aligned to the `alignof` of the largest built-in type they directly or indirectly contain.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Assume sizeof(short) == 2, sizeof(int) == 4, and sizeof(long long) == 8.</span>
<span class="token comment">// Assume 4-byte alignment is specified to the compiler.</span>
<span class="token keyword">struct</span> <span class="token class-name">Char</span> <span class="token punctuation">{</span> <span class="token keyword">char</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(Char)                == 1 (sizeof(char))</span>
<span class="token keyword">struct</span> <span class="token class-name">Int</span>  <span class="token punctuation">{</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(Int)                 == 4 (sizeof(int))</span>
<span class="token keyword">struct</span> <span class="token class-name">CharInt</span> <span class="token punctuation">{</span> <span class="token keyword">char</span> c<span class="token punctuation">;</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(CharInt)             == 8 (1 (char) + 3 (padding) + 4 (int))</span>
<span class="token keyword">struct</span> <span class="token class-name">ShortIntCharInt</span> <span class="token punctuation">{</span> <span class="token keyword">short</span> s<span class="token punctuation">;</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token keyword">char</span> c<span class="token punctuation">;</span> <span class="token keyword">int</span> j<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(ShortIntCharInt)     == 16 (2 (short) + 2 (padding) + 4 (int) + 1 (char) +</span>
  <span class="token comment">//                                    3 (padding) + 4 (int))</span>
<span class="token keyword">struct</span> <span class="token class-name">ShortIntCharCharInt</span> <span class="token punctuation">{</span> <span class="token keyword">short</span> s<span class="token punctuation">;</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token keyword">char</span> c<span class="token punctuation">;</span> <span class="token keyword">char</span> d<span class="token punctuation">;</span> <span class="token keyword">int</span> j<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(ShortIntCharCharInt) == 16 (2 (short) + 2 (padding) + 4 (int) + 1 (char) +</span>
  <span class="token comment">//                                    1 (char) + 2 (padding) + 4 (int))</span>
<span class="token keyword">struct</span> <span class="token class-name">ShortCharShortInt</span> <span class="token punctuation">{</span> <span class="token keyword">short</span> s<span class="token punctuation">;</span> <span class="token keyword">char</span> c<span class="token punctuation">;</span> <span class="token keyword">short</span> t<span class="token punctuation">;</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(ShortCharShortInt)   == 12 (2 (short) + 1 (char) + 1 (padding) + 2 (short) +</span>
  <span class="token comment">//                                    2 (padding) + 4 (int))</span>
<span class="token keyword">struct</span> <span class="token class-name">IntLLInt</span> <span class="token punctuation">{</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token keyword">long</span> <span class="token keyword">long</span> l<span class="token punctuation">;</span> <span class="token keyword">int</span> j<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// sizeof(IntLLInt)            == 16 (4 (int) + 8 (long long) + 4 (int))</span>
  <span class="token comment">// If packing isn't explicitly specified, most compilers will pack this as</span>
  <span class="token comment">//   8-byte alignment, such that:</span>
  <span class="token comment">// sizeof(IntLLInt)            == 24 (4 (int) + 4 (padding) + 8 (long long) +</span>
  <span class="token comment">//                                    4 (int) + 4 (padding))</span>

<span class="token comment">// Assume sizeof(bool) == 1, sizeof(ShortIntCharInt) == 16, and sizeof(IntLLInt) == 24.</span>
<span class="token comment">// Assume default alignment: alignof(ShortIntCharInt) == 4, alignof(IntLLInt) == 8.</span>
<span class="token keyword">struct</span> <span class="token class-name">ShortChar3ArrShortInt</span> <span class="token punctuation">{</span>
    <span class="token keyword">short</span> s<span class="token punctuation">;</span>
    <span class="token keyword">char</span> c3<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">short</span> t<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// ShortChar3ArrShortInt has 4-byte alignment: alignof(int) &gt;= alignof(char) &amp;&amp;</span>
  <span class="token comment">//                                             alignof(int) &gt;= alignof(short)</span>
  <span class="token comment">// sizeof(ShortChar3ArrShortInt) == 12 (2 (short) + 3 (char[3]) + 1 (padding) +</span>
  <span class="token comment">//                                      2 (short) + 4 (int))</span>
  <span class="token comment">// Note that t is placed at alignment of 2, not 4.  alignof(short) == 2.</span>

<span class="token keyword">struct</span> <span class="token class-name">Large_1</span> <span class="token punctuation">{</span>
    ShortIntCharInt sici<span class="token punctuation">;</span>
    <span class="token keyword">bool</span> b<span class="token punctuation">;</span>
    ShortIntCharInt tjdj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// Large_1 has 4-byte alignment.</span>
    <span class="token comment">// alignof(ShortIntCharInt) == alignof(int) == 4</span>
    <span class="token comment">// alignof(b) == 1</span>
    <span class="token comment">// Therefore, alignof(Large_1) == 4.</span>
  <span class="token comment">// sizeof(Large_1) == 36 (16 (ShortIntCharInt) + 1 (bool) + 3 (padding) +</span>
  <span class="token comment">//                        16 (ShortIntCharInt))</span>
<span class="token keyword">struct</span> <span class="token class-name">Large_2</span> <span class="token punctuation">{</span>
    IntLLInt illi<span class="token punctuation">;</span>
    <span class="token keyword">float</span> f<span class="token punctuation">;</span>
    IntLLInt jmmj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// Large_2 has 8-byte alignment.</span>
    <span class="token comment">// alignof(IntLLInt) == alignof(long long) == 8</span>
    <span class="token comment">// alignof(float) == 4</span>
    <span class="token comment">// Therefore, alignof(Large_2) == 8.</span>
  <span class="token comment">// sizeof(Large_2) == 56 (24 (IntLLInt) + 4 (float) + 4 (padding) + 24 (IntLLInt))</span>

</code></pre></div></li> <li>
If strict alignment is forced with `alignas`, padding will be used to force the type to meet the specified alignment, even when it would otherwise be smaller. For example, with the definition below, `Chars&lt;5&gt;` will have three (or possibly more) padding bytes inserted at the end so that its total size is 8. It is not possible for a class with an alignment of 4 to have a size of 5 because it would be impossible to make an array of that class, so the size must be &quot;rounded up&quot; to a multiple of 4 by inserting padding bytes.
<div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// This type shall always be aligned to a multiple of 4.  Padding shall be inserted as</span>
<span class="token comment">// needed.</span>
<span class="token comment">// Chars&lt;1&gt;..Chars&lt;4&gt; are 4 bytes, Chars&lt;5&gt;..Chars&lt;8&gt; are 8 bytes, etc.</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span>size_t SZ<span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token keyword">alignas</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> Chars <span class="token punctuation">{</span> <span class="token keyword">char</span> arr<span class="token punctuation">[</span>SZ<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">static_assert</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Chars<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Chars<span class="token operator">&lt;</span><span class="token number">4</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Alignment is strict.\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div></li> <ul><li>If two non-static members of a class have the same <a href="http://stackoverflow.com/documentation/c%2b%2b/508/classes-structures/1668/access-specifiers" target="_blank" rel="noopener noreferrer">access specifier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, then the one that comes later in declaration order is guaranteed to come later in the object representation. But if two non-static members have different access specifiers, their relative order within the object is unspecified.</li> <li>It is unspecified what order the base class subobjects appear in within an object, whether they occur consecutively, and whether they appear before, after, or between member subobjects.</li></ul> <h2 id="arithmetic-types"><a href="#arithmetic-types" class="header-anchor">#</a> Arithmetic types</h2> <h3 id="narrow-character-types"><a href="#narrow-character-types" class="header-anchor">#</a> Narrow character types</h3> <p>The <code>unsigned char</code> type uses all bits to represent a binary number. Therefore, for example, if <code>unsigned char</code> is 8 bits long, then the 256 possible bit patterns of a <code>char</code> object represent the 256 different values {0, 1, ..., 255}. The number 42 is guaranteed to be represented by the bit pattern <code>00101010</code>.</p> <p>The <code>signed char</code> type has no padding bits, <strong>i.e.,</strong> if <code>signed char</code> is 8 bits long, then it has 8 bits of capacity to represent a number.</p> <p>Note that these guarantees do not apply to types other than narrow character types.</p> <h3 id="integer-types"><a href="#integer-types" class="header-anchor">#</a> Integer types</h3> <p>The unsigned integer types use a pure binary system, but may contain padding bits. For example, it is possible (though unlikely) for <code>unsigned int</code> to be 64 bits long but only  be capable of storing integers between 0 and 2<sup>32</sup> - 1, inclusive. The other 32 bits would be padding bits, which should not be written to directly.</p> <p>The signed integer types use a binary system with a sign bit and possibly padding bits. Values that belong to the common range of a signed integer type and the corresponding unsigned integer type have the same representation. For example, if the bit pattern <code>0001010010101011</code> of an <code>unsigned short</code> object represents the value <code>5291</code>, then it also represents the value <code>5291</code> when interpreted as a <code>short</code> object.</p> <p>It is implementation-defined whether a two's complement, one's complement, or sign-magnitude representation is used, since all three systems satisfy the requirement in the previous paragraph.</p> <h3 id="floating-point-types"><a href="#floating-point-types" class="header-anchor">#</a> Floating point types</h3> <p>The value representation of floating point types is implementation-defined. Most commonly, the <code>float</code> and <code>double</code> types conform to IEEE 754 and are 32 and 64 bits long (so, for example, <code>float</code> would have 23 bits of precision which would follow 8 exponent bits and 1 sign bit). However, the standard does not guarantee anything. Floating point types often have &quot;trap representations&quot;, which cause errors when they are used in calculations.</p> <h2 id="arrays"><a href="#arrays" class="header-anchor">#</a> Arrays</h2> <p>An array type has no padding in between its elements. Therefore, an array with element type <code>T</code> is just a sequence of <code>T</code> objects laid out in memory, in order.</p> <p>A multidimensional array is an array of arrays, and the above applies recursively. For example, if we have the declaration</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><p>then <code>a</code> is an array of 5 arrays of 3 <code>int</code>s. Therefore, <code>a[0]</code>, which consists of the three elements <code>a[0][0]</code>, <code>a[0][1]</code>, <code>a[0][2]</code>, is laid out in memory before <code>a[1]</code>, which consists of <code>a[1][0]</code>, <code>a[1][1]</code>, and <code>a[1][2]</code>. This is called <strong>row major</strong> order.</p> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>See also <a href="http://stackoverflow.com/documentation/c%2b%2b/1363/implementation-defined-behavior/4450/size-of-integral-types" target="_blank" rel="noopener noreferrer">Size of integral types<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/cpp/layout-of-object-types.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cpp/return-type-covariance.html" class="prev">
        Return Type Covariance
      </a></span> <span class="next"><a href="/cpp/type-inference.html">
        Type Inference
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/670.b423cdac.js" defer></script>
  </body>
</html>
