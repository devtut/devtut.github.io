<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL - JOIN</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Self Join, Differences between inner/outer joins, JOIN Terminology: Inner, Outer, Semi, Anti..., Left Outer Join, Implicit Join, Basic explicit inner join, CROSS JOIN, Joining on a Subquery, CROSS APPLY & LATERAL JOIN , FULL JOIN, Recursive JOINs">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="SQL - JOIN">
    <meta property="og:description" content="Self Join, Differences between inner/outer joins, JOIN Terminology: Inner, Outer, Semi, Anti..., Left Outer Join, Implicit Join, Basic explicit inner join, CROSS JOIN, Joining on a Subquery, CROSS APPLY & LATERAL JOIN , FULL JOIN, Recursive JOINs">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/sql/join.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="SQL - JOIN">
    <meta name="twitter:description" content="Self Join, Differences between inner/outer joins, JOIN Terminology: Inner, Outer, Semi, Anti..., Left Outer Join, Implicit Join, Basic explicit inner join, CROSS JOIN, Joining on a Subquery, CROSS APPLY & LATERAL JOIN , FULL JOIN, Recursive JOINs">
    <meta name="twitter:url" content="/sql/join.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/3275.ebbf442a.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/sql/" class="sidebar-link">Disclaimer</a></li><li><a href="/sql/getting-started-with-sql.html" class="sidebar-link">Getting started with SQL</a></li><li><a href="/sql/identifier.html" class="sidebar-link">Identifier</a></li><li><a href="/sql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/sql/null.html" class="sidebar-link">NULL</a></li><li><a href="/sql/example-databases-and-tables.html" class="sidebar-link">Example Databases and Tables</a></li><li><a href="/sql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/sql/group-by.html" class="sidebar-link">GROUP BY</a></li><li><a href="/sql/order-by.html" class="sidebar-link">ORDER BY</a></li><li><a href="/sql/and-or-operators.html" class="sidebar-link">AND &amp; OR Operators</a></li><li><a href="/sql/case.html" class="sidebar-link">CASE</a></li><li><a href="/sql/like-operator.html" class="sidebar-link">LIKE operator</a></li><li><a href="/sql/in-clause.html" class="sidebar-link">IN clause</a></li><li><a href="/sql/filter-results-using-where-and-having.html" class="sidebar-link">Filter results using WHERE and HAVING</a></li><li><a href="/sql/skip-take-pagination.html" class="sidebar-link">SKIP TAKE (Pagination)</a></li><li><a href="/sql/except.html" class="sidebar-link">EXCEPT</a></li><li><a href="/sql/explain-and-describe.html" class="sidebar-link">EXPLAIN and DESCRIBE</a></li><li><a href="/sql/exists-clause.html" class="sidebar-link">EXISTS CLAUSE</a></li><li><a href="/sql/join.html" class="active sidebar-link">JOIN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sql/join.html#self-join" class="sidebar-link">Self Join</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#differences-between-inner-outer-joins" class="sidebar-link">Differences between inner/outer joins</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#join-terminology-inner-outer-semi-anti" class="sidebar-link">JOIN Terminology: Inner, Outer, Semi, Anti...</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#left-outer-join-3" class="sidebar-link">Left Outer Join</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#implicit-join" class="sidebar-link">Implicit Join</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#basic-explicit-inner-join" class="sidebar-link">Basic explicit inner join</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#cross-join-2" class="sidebar-link">CROSS JOIN</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#joining-on-a-subquery" class="sidebar-link">Joining on a Subquery</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#cross-apply-lateral-join" class="sidebar-link">CROSS APPLY &amp; LATERAL JOIN</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#full-join" class="sidebar-link">FULL JOIN</a></li><li class="sidebar-sub-header"><a href="/sql/join.html#recursive-joins" class="sidebar-link">Recursive JOINs</a></li></ul></li><li><a href="/sql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/sql/create-database.html" class="sidebar-link">CREATE Database</a></li><li><a href="/sql/create-table.html" class="sidebar-link">CREATE TABLE</a></li><li><a href="/sql/create-function.html" class="sidebar-link">CREATE FUNCTION</a></li><li><a href="/sql/try-catch.html" class="sidebar-link">TRY/CATCH</a></li><li><a href="/sql/union-union-all.html" class="sidebar-link">UNION / UNION ALL</a></li><li><a href="/sql/alter-table.html" class="sidebar-link">ALTER TABLE</a></li><li><a href="/sql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/sql/merge.html" class="sidebar-link">MERGE</a></li><li><a href="/sql/cross-apply-outer-apply.html" class="sidebar-link">cross apply, outer apply</a></li><li><a href="/sql/delete.html" class="sidebar-link">DELETE</a></li><li><a href="/sql/truncate.html" class="sidebar-link">TRUNCATE</a></li><li><a href="/sql/drop-table.html" class="sidebar-link">DROP Table</a></li><li><a href="/sql/drop-or-delete-database.html" class="sidebar-link">DROP or DELETE Database</a></li><li><a href="/sql/cascading-delete.html" class="sidebar-link">Cascading Delete</a></li><li><a href="/sql/grant-and-revoke.html" class="sidebar-link">GRANT and REVOKE</a></li><li><a href="/sql/xml.html" class="sidebar-link">XML</a></li><li><a href="/sql/primary-keys.html" class="sidebar-link">Primary Keys</a></li><li><a href="/sql/indexes.html" class="sidebar-link">Indexes</a></li><li><a href="/sql/row-number.html" class="sidebar-link">Row number</a></li><li><a href="/sql/sql-group-by-vs-distinct.html" class="sidebar-link">SQL Group By vs Distinct</a></li><li><a href="/sql/finding-duplicates-on-a-column-subset-with-detail.html" class="sidebar-link">Finding Duplicates on a Column Subset with Detail</a></li><li><a href="/sql/string-functions.html" class="sidebar-link">String Functions</a></li><li><a href="/sql/functions-aggregate.html" class="sidebar-link">Functions (Aggregate)</a></li><li><a href="/sql/functions-scalar-single-row.html" class="sidebar-link">Functions (Scalar/Single Row)</a></li><li><a href="/sql/functions-analytic.html" class="sidebar-link">Functions (Analytic)</a></li><li><a href="/sql/window-functions.html" class="sidebar-link">Window Functions</a></li><li><a href="/sql/common-table-expressions.html" class="sidebar-link">Common Table Expressions</a></li><li><a href="/sql/views.html" class="sidebar-link">Views</a></li><li><a href="/sql/materialized-views.html" class="sidebar-link">Materialized Views</a></li><li><a href="/sql/comments.html" class="sidebar-link">Comments</a></li><li><a href="/sql/foreign-keys.html" class="sidebar-link">Foreign Keys</a></li><li><a href="/sql/sequence.html" class="sidebar-link">Sequence</a></li><li><a href="/sql/subqueries.html" class="sidebar-link">Subqueries</a></li><li><a href="/sql/execution-blocks.html" class="sidebar-link">Execution blocks</a></li><li><a href="/sql/stored-procedures.html" class="sidebar-link">Stored Procedures</a></li><li><a href="/sql/triggers.html" class="sidebar-link">Triggers</a></li><li><a href="/sql/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/sql/table-design.html" class="sidebar-link">Table Design</a></li><li><a href="/sql/synonyms.html" class="sidebar-link">Synonyms</a></li><li><a href="/sql/information-schema.html" class="sidebar-link">Information Schema</a></li><li><a href="/sql/order-of-execution.html" class="sidebar-link">Order of Execution</a></li><li><a href="/sql/clean-code-in-sql.html" class="sidebar-link">Clean Code in SQL</a></li><li><a href="/sql/relational-algebra.html" class="sidebar-link">Relational Algebra</a></li><li><a href="/sql/sql-injection.html" class="sidebar-link">SQL Injection</a></li><li><a href="/sql/sql-cursor.html" class="sidebar-link">SQL CURSOR</a></li><li><a href="/sql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="join"><a href="#join" class="header-anchor">#</a> JOIN</h1> <p>JOIN is a method of combining (joining) information from two tables. The result is a stitched set of columns from both tables, defined by the join type (INNER/OUTER/CROSS and LEFT/RIGHT/FULL, explained below) and join criteria (how rows from both tables relate).</p> <p>A table may be joined to itself or to any other table. If information from more than two tables needs to be accessed, multiple joins can be specified in a FROM clause.</p> <h2 id="self-join"><a href="#self-join" class="header-anchor">#</a> Self Join</h2> <p>A table may be joined to itself, with different rows matching each other by some condition. In this use case, aliases must be used in order to distinguish the two occurrences of the table.</p> <p>In the below example, for each Employee in the <a href="http://stackoverflow.com/documentation/sql/280/example-database#t=201604180847497343904" target="_blank" rel="noopener noreferrer">example database Employees table<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, a record is returned containing the employee's first name together with the corresponding first name of the employee's manager. Since managers are also employees, the table is joined with itself:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
    e<span class="token punctuation">.</span>FName <span class="token keyword">AS</span> <span class="token string">&quot;Employee&quot;</span><span class="token punctuation">,</span> 
    m<span class="token punctuation">.</span>FName <span class="token keyword">AS</span> <span class="token string">&quot;Manager&quot;</span>
<span class="token keyword">FROM</span>   
    Employees e
<span class="token keyword">JOIN</span>   
    Employees m 
    <span class="token keyword">ON</span> e<span class="token punctuation">.</span>ManagerId <span class="token operator">=</span> m<span class="token punctuation">.</span>Id

</code></pre></div><p>This query will return the following data:</p> <table><thead><tr><th>Employee</th> <th>Manager</th></tr></thead> <tbody><tr><td>John</td> <td>James</td></tr> <tr><td>Michael</td> <td>James</td></tr> <tr><td>Johnathon</td> <td>John</td></tr></tbody></table> <h3 id="so-how-does-this-work"><a href="#so-how-does-this-work" class="header-anchor">#</a> So how does this work?</h3> <p>The original table contains these records:</p> <table><thead><tr><th>Id</th> <th>FName</th> <th>LName</th> <th>PhoneNumber</th> <th>ManagerId</th> <th>DepartmentId</th> <th>Salary</th> <th>HireDate</th></tr></thead> <tbody><tr><td>1</td> <td>James</td> <td>Smith</td> <td>1234567890</td> <td>NULL</td> <td>1</td> <td>1000</td> <td>01-01-2002</td></tr> <tr><td>2</td> <td>John</td> <td>Johnson</td> <td>2468101214</td> <td>1</td> <td>1</td> <td>400</td> <td>23-03-2005</td></tr> <tr><td>3</td> <td>Michael</td> <td>Williams</td> <td>1357911131</td> <td>1</td> <td>2</td> <td>600</td> <td>12-05-2009</td></tr> <tr><td>4</td> <td>Johnathon</td> <td>Smith</td> <td>1212121212</td> <td>2</td> <td>1</td> <td>500</td> <td>24-07-2016</td></tr></tbody></table> <p>The first action is to create a <strong>Cartesian</strong> product of all records in the tables used in the <strong>FROM</strong> clause.  In this case it's the Employees table twice, so the intermediate table will look like this (I've removed any fields not used in this example):</p> <table><thead><tr><th>e.Id</th> <th>e.FName</th> <th>e.ManagerId</th> <th>m.Id</th> <th>m.FName</th> <th>m.ManagerId</th></tr></thead> <tbody><tr><td>1</td> <td>James</td> <td>NULL</td> <td>1</td> <td>James</td> <td>NULL</td></tr> <tr><td>1</td> <td>James</td> <td>NULL</td> <td>2</td> <td>John</td> <td>1</td></tr> <tr><td>1</td> <td>James</td> <td>NULL</td> <td>3</td> <td>Michael</td> <td>1</td></tr> <tr><td>1</td> <td>James</td> <td>NULL</td> <td>4</td> <td>Johnathon</td> <td>2</td></tr> <tr><td>2</td> <td>John</td> <td>1</td> <td>1</td> <td>James</td> <td>NULL</td></tr> <tr><td>2</td> <td>John</td> <td>1</td> <td>2</td> <td>John</td> <td>1</td></tr> <tr><td>2</td> <td>John</td> <td>1</td> <td>3</td> <td>Michael</td> <td>1</td></tr> <tr><td>2</td> <td>John</td> <td>1</td> <td>4</td> <td>Johnathon</td> <td>2</td></tr> <tr><td>3</td> <td>Michael</td> <td>1</td> <td>1</td> <td>James</td> <td>NULL</td></tr> <tr><td>3</td> <td>Michael</td> <td>1</td> <td>2</td> <td>John</td> <td>1</td></tr> <tr><td>3</td> <td>Michael</td> <td>1</td> <td>3</td> <td>Michael</td> <td>1</td></tr> <tr><td>3</td> <td>Michael</td> <td>1</td> <td>4</td> <td>Johnathon</td> <td>2</td></tr> <tr><td>4</td> <td>Johnathon</td> <td>2</td> <td>1</td> <td>James</td> <td>NULL</td></tr> <tr><td>4</td> <td>Johnathon</td> <td>2</td> <td>2</td> <td>John</td> <td>1</td></tr> <tr><td>4</td> <td>Johnathon</td> <td>2</td> <td>3</td> <td>Michael</td> <td>1</td></tr> <tr><td>4</td> <td>Johnathon</td> <td>2</td> <td>4</td> <td>Johnathon</td> <td>2</td></tr></tbody></table> <p>The next action is to only keep the records that meet the <strong>JOIN</strong> criteria, so any records where the aliased <code>e</code> table <code>ManagerId</code> equals the aliased <code>m</code> table <code>Id</code>:</p> <table><thead><tr><th>e.Id</th> <th>e.FName</th> <th>e.ManagerId</th> <th>m.Id</th> <th>m.FName</th> <th>m.ManagerId</th></tr></thead> <tbody><tr><td>2</td> <td>John</td> <td>1</td> <td>1</td> <td>James</td> <td>NULL</td></tr> <tr><td>3</td> <td>Michael</td> <td>1</td> <td>1</td> <td>James</td> <td>NULL</td></tr> <tr><td>4</td> <td>Johnathon</td> <td>2</td> <td>2</td> <td>John</td> <td>1</td></tr></tbody></table> <p>Then, each expression used within the <strong>SELECT</strong> clause is evaluated to return this table:</p> <table><thead><tr><th>e.FName</th> <th>m.FName</th></tr></thead> <tbody><tr><td>John</td> <td>James</td></tr> <tr><td>Michael</td> <td>James</td></tr> <tr><td>Johnathon</td> <td>John</td></tr></tbody></table> <p>Finally, column names <code>e.FName</code> and <code>m.FName</code> are replaced by their alias column names, assigned with the <a href="http://stackoverflow.com/documentation/sql/222/select/1264/select-using-column-aliases#t=201609282325090459635" target="_blank" rel="noopener noreferrer">AS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> operator:</p> <table><thead><tr><th>Employee</th> <th>Manager</th></tr></thead> <tbody><tr><td>John</td> <td>James</td></tr> <tr><td>Michael</td> <td>James</td></tr> <tr><td>Johnathon</td> <td>John</td></tr></tbody></table> <h2 id="differences-between-inner-outer-joins"><a href="#differences-between-inner-outer-joins" class="header-anchor">#</a> Differences between inner/outer joins</h2> <p>SQL has various join types to specify whether (non-)matching rows are included in the result: <code>INNER JOIN</code>, <code>LEFT OUTER JOIN</code>, <code>RIGHT OUTER JOIN</code>, and <code>FULL OUTER JOIN</code> (the <code>INNER</code> and <code>OUTER</code> keywords are optional). The figure below underlines the differences between these types of joins: the blue area represents the results returned by the join, and the white area represents the results that the join will not return.</p> <p><a href="https://i.stack.imgur.com/3bs7C.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/3bs7C.png" alt="Venn diagrams representing SQL inner/outer joins"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Cross Join SQL Pictorial Presentation (<a href="http://www.w3resource.com/sql/joins/cross-join.php" target="_blank" rel="noopener noreferrer">reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) :</p> <p><a href="http://www.w3resource.com/sql/joins/cross-join.php" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/gdMOZ.png" alt="enter image description here"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Below are examples from <a href="http://stackoverflow.com/a/38578/3709746" target="_blank" rel="noopener noreferrer">this<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> answer.</p> <p>For instance there are two tables as below :</p> <div class="language-sql extra-class"><pre class="language-sql"><code>A    B
<span class="token operator">-</span>    <span class="token operator">-</span>
<span class="token number">1</span>    <span class="token number">3</span>
<span class="token number">2</span>    <span class="token number">4</span>
<span class="token number">3</span>    <span class="token number">5</span>
<span class="token number">4</span>    <span class="token number">6</span>

</code></pre></div><p>Note that (1,2) are unique to A, (3,4) are common, and (5,6) are unique to B.</p> <h3 id="inner-join"><a href="#inner-join" class="header-anchor">#</a> Inner Join</h3> <p>An inner join using either of the equivalent queries gives the intersection of the two tables, i.e. the two rows they have in common:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> a <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> b <span class="token keyword">on</span> a<span class="token punctuation">.</span>a <span class="token operator">=</span> b<span class="token punctuation">.</span>b<span class="token punctuation">;</span>
<span class="token keyword">select</span> a<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> a<span class="token punctuation">,</span>b <span class="token keyword">where</span> a<span class="token punctuation">.</span>a <span class="token operator">=</span> b<span class="token punctuation">.</span>b<span class="token punctuation">;</span>

a <span class="token operator">|</span> b
<span class="token comment">--+--</span>
<span class="token number">3</span> <span class="token operator">|</span> <span class="token number">3</span>
<span class="token number">4</span> <span class="token operator">|</span> <span class="token number">4</span>

</code></pre></div><h3 id="left-outer-join"><a href="#left-outer-join" class="header-anchor">#</a> Left outer join</h3> <p>A left outer join will give all rows in A, plus any common rows in B:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> a <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> b <span class="token keyword">on</span> a<span class="token punctuation">.</span>a <span class="token operator">=</span> b<span class="token punctuation">.</span>b<span class="token punctuation">;</span>

a <span class="token operator">|</span>  b
<span class="token comment">--+-----</span>
<span class="token number">1</span> <span class="token operator">|</span> <span class="token boolean">null</span>
<span class="token number">2</span> <span class="token operator">|</span> <span class="token boolean">null</span>
<span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">3</span>
<span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">4</span>

</code></pre></div><h3 id="right-outer-join"><a href="#right-outer-join" class="header-anchor">#</a> Right outer join</h3> <p>Similarly, a right outer join will give all rows in B, plus any common rows in A:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> a <span class="token keyword">RIGHT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> b <span class="token keyword">on</span> a<span class="token punctuation">.</span>a <span class="token operator">=</span> b<span class="token punctuation">.</span>b<span class="token punctuation">;</span>

a    <span class="token operator">|</span>  b
<span class="token comment">-----+----</span>
<span class="token number">3</span>    <span class="token operator">|</span>  <span class="token number">3</span>
<span class="token number">4</span>    <span class="token operator">|</span>  <span class="token number">4</span>
<span class="token boolean">null</span> <span class="token operator">|</span>  <span class="token number">5</span>
<span class="token boolean">null</span> <span class="token operator">|</span>  <span class="token number">6</span>

</code></pre></div><h3 id="full-outer-join"><a href="#full-outer-join" class="header-anchor">#</a> Full outer join</h3> <p>A full outer join will give you the union of A and B, i.e., all the rows in A and all the rows in B. If something in A doesn't have a corresponding datum in B, then the B portion is null, and vice versa.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> a <span class="token keyword">FULL</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> b <span class="token keyword">on</span> a<span class="token punctuation">.</span>a <span class="token operator">=</span> b<span class="token punctuation">.</span>b<span class="token punctuation">;</span>

 a   <span class="token operator">|</span>  b
<span class="token comment">-----+-----</span>
   <span class="token number">1</span> <span class="token operator">|</span> <span class="token boolean">null</span>
   <span class="token number">2</span> <span class="token operator">|</span> <span class="token boolean">null</span>
   <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">3</span>
   <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">4</span>
<span class="token boolean">null</span> <span class="token operator">|</span>    <span class="token number">6</span>
<span class="token boolean">null</span> <span class="token operator">|</span>    <span class="token number">5</span>

</code></pre></div><h2 id="join-terminology-inner-outer-semi-anti"><a href="#join-terminology-inner-outer-semi-anti" class="header-anchor">#</a> JOIN Terminology: Inner, Outer, Semi, Anti...</h2> <p>Let's say we have two tables (A and B) and some of their rows match (relative to the given JOIN condition, whatever it may be in the particular case):</p> <p><a href="http://i.stack.imgur.com/TbHy6.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/TbHy6.png" alt="Join Terminology Overview"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>We can use various join types to include or exclude matching or non-matching rows from either side, and correctly name the join by picking the corresponding terms from the diagram above.</p> <p>The examples below use the following test data:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> A <span class="token punctuation">(</span>
    X <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> B <span class="token punctuation">(</span>
    Y <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> A <span class="token keyword">VALUES</span>
    <span class="token punctuation">(</span><span class="token string">'Amy'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'John'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Lisa'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Marco'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Phil'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> B <span class="token keyword">VALUES</span>
    <span class="token punctuation">(</span><span class="token string">'Lisa'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Marco'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Phil'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Tim'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'Vincent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="inner-join-2"><a href="#inner-join-2" class="header-anchor">#</a> Inner Join</h3> <p>Combines left and right rows that match.</p> <p><a href="http://i.stack.imgur.com/j4eti.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/j4eti.png" alt="Inner Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">JOIN</span> B <span class="token keyword">ON</span> X <span class="token operator">=</span> Y<span class="token punctuation">;</span>

X      Y
<span class="token comment">------ -----</span>
Lisa   Lisa
Marco  Marco
Phil   Phil

</code></pre></div><h3 id="left-outer-join-2"><a href="#left-outer-join-2" class="header-anchor">#</a> Left Outer Join</h3> <p>Sometimes abbreviated to &quot;left join&quot;. Combines left and right rows that match, and includes non-matching left rows.</p> <p><a href="http://i.stack.imgur.com/5UjhU.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/5UjhU.png" alt="Left Outer Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> B <span class="token keyword">ON</span> X <span class="token operator">=</span> Y<span class="token punctuation">;</span>

X      Y
<span class="token comment">-----  -----</span>
Amy    <span class="token boolean">NULL</span>
John   <span class="token boolean">NULL</span>
Lisa   Lisa
Marco  Marco
Phil   Phil

</code></pre></div><h3 id="right-outer-join-2"><a href="#right-outer-join-2" class="header-anchor">#</a> Right Outer Join</h3> <p>Sometimes abbreviated to &quot;right join&quot;. Combines left and right rows that match, and includes non-matching right rows.</p> <p><a href="http://i.stack.imgur.com/Lrg4z.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/Lrg4z.png" alt="Right Outer Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> B <span class="token keyword">ON</span> X <span class="token operator">=</span> Y<span class="token punctuation">;</span>

X      Y
<span class="token comment">-----  -------</span>
Lisa   Lisa
Marco  Marco
Phil   Phil
<span class="token boolean">NULL</span>   Tim
<span class="token boolean">NULL</span>   Vincent

</code></pre></div><h3 id="full-outer-join-2"><a href="#full-outer-join-2" class="header-anchor">#</a> Full Outer Join</h3> <p>Sometimes abbreviated to &quot;full join&quot;. Union of left and right outer join.</p> <p><a href="http://i.stack.imgur.com/XCCMm.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/XCCMm.png" alt="Full Outer Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">FULL</span> <span class="token keyword">JOIN</span> B <span class="token keyword">ON</span> X <span class="token operator">=</span> Y<span class="token punctuation">;</span>

X      Y
<span class="token comment">-----  -------</span>
Amy    <span class="token boolean">NULL</span>
John   <span class="token boolean">NULL</span>
Lisa   Lisa
Marco  Marco
Phil   Phil
<span class="token boolean">NULL</span>   Tim
<span class="token boolean">NULL</span>   Vincent

</code></pre></div><h3 id="left-semi-join"><a href="#left-semi-join" class="header-anchor">#</a> Left Semi Join</h3> <p>Includes left rows that match right rows.</p> <p><a href="http://i.stack.imgur.com/UGEsN.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/UGEsN.png" alt="Left Semi Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">WHERE</span> X <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Y <span class="token keyword">FROM</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>

X
<span class="token comment">-----</span>
Lisa
Marco
Phil

</code></pre></div><h3 id="right-semi-join"><a href="#right-semi-join" class="header-anchor">#</a> Right Semi Join</h3> <p>Includes right rows that match left rows.</p> <p><a href="http://i.stack.imgur.com/OwH1z.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/OwH1z.png" alt="Right Semi Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> B <span class="token keyword">WHERE</span> Y <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> X <span class="token keyword">FROM</span> A<span class="token punctuation">)</span><span class="token punctuation">;</span>

Y
<span class="token comment">-----</span>
Lisa
Marco
Phil

</code></pre></div><p>As you can see, there is no dedicated IN syntax for left vs. right semi join - we achieve the effect simply by switching the table positions within SQL text.</p> <h3 id="left-anti-semi-join"><a href="#left-anti-semi-join" class="header-anchor">#</a> Left Anti Semi Join</h3> <p>Includes left rows that do <strong>not</strong> match right rows.</p> <p><a href="http://i.stack.imgur.com/I3KVl.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/I3KVl.png" alt="Left Anti Semi Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">WHERE</span> X <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Y <span class="token keyword">FROM</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>

X
<span class="token comment">----</span>
Amy
John

</code></pre></div><p><strong>WARNING:</strong> Be careful if you happen to be using NOT IN on a NULL-able column! More details <a href="http://stackoverflow.com/a/132402/533120" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="right-anti-semi-join"><a href="#right-anti-semi-join" class="header-anchor">#</a> Right Anti Semi Join</h3> <p>Includes right rows that do <strong>not</strong> match left rows.</p> <p><a href="http://i.stack.imgur.com/sPY3h.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/sPY3h.png" alt="Right Anti Semi Join"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> B <span class="token keyword">WHERE</span> Y <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> X <span class="token keyword">FROM</span> A<span class="token punctuation">)</span><span class="token punctuation">;</span>

Y
<span class="token comment">-------</span>
Tim
Vincent

</code></pre></div><p>As you can see, there is no dedicated NOT IN syntax for left vs. right anti semi join - we achieve the effect simply by switching the table positions within SQL text.</p> <h3 id="cross-join"><a href="#cross-join" class="header-anchor">#</a> Cross Join</h3> <p>A Cartesian product of all left with all right rows.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> B<span class="token punctuation">;</span>

X      Y
<span class="token comment">-----  -------</span>
Amy    Lisa
John   Lisa
Lisa   Lisa
Marco  Lisa
Phil   Lisa
Amy    Marco
John   Marco
Lisa   Marco
Marco  Marco
Phil   Marco
Amy    Phil
John   Phil
Lisa   Phil
Marco  Phil
Phil   Phil
Amy    Tim
John   Tim
Lisa   Tim
Marco  Tim
Phil   Tim
Amy    Vincent
John   Vincent
Lisa   Vincent
Marco  Vincent
Phil   Vincent

</code></pre></div><p>Cross join is equivalent to an inner join with join condition which always matches, so the following query would have returned the same result:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A <span class="token keyword">JOIN</span> B <span class="token keyword">ON</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="self-join-2"><a href="#self-join-2" class="header-anchor">#</a> Self-Join</h3> <p>This simply denotes a table joining with itself. A self-join can be any of the join types discussed above. For example, this is a an inner self-join:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> A A1 <span class="token keyword">JOIN</span> A A2 <span class="token keyword">ON</span> <span class="token function">LEN</span><span class="token punctuation">(</span>A1<span class="token punctuation">.</span>X<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">LEN</span><span class="token punctuation">(</span>A2<span class="token punctuation">.</span>X<span class="token punctuation">)</span><span class="token punctuation">;</span>

X     X
<span class="token comment">----  -----</span>
Amy   John
Amy   Lisa
Amy   Marco
John  Marco
Lisa  Marco
Phil  Marco
Amy   Phil

</code></pre></div><h2 id="left-outer-join-3"><a href="#left-outer-join-3" class="header-anchor">#</a> Left Outer Join</h2> <p>A Left Outer Join (also known as a Left Join or Outer Join) is a Join that ensures all rows from the left table are represented; if no matching row from the right table exists, its corresponding fields are <code>NULL</code>.</p> <p>The following example will select all departments and the first name of employees that work in that department.  Departments with no employees are still returned in the results, but will have NULL for the employee name:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>          Departments<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> Employees<span class="token punctuation">.</span>FName
<span class="token keyword">FROM</span>            Departments 
<span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> Employees 
<span class="token keyword">ON</span>              Departments<span class="token punctuation">.</span>Id <span class="token operator">=</span> Employees<span class="token punctuation">.</span>DepartmentId

</code></pre></div><p>This would return the following from the <a href="http://stackoverflow.com/documentation/sql/280/example-database#t=201604180847497343904" target="_blank" rel="noopener noreferrer">example database<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <table><thead><tr><th>Departments.Name</th> <th>Employees.FName</th></tr></thead> <tbody><tr><td>HR</td> <td>James</td></tr> <tr><td>HR</td> <td>John</td></tr> <tr><td>HR</td> <td>Johnathon</td></tr> <tr><td>Sales</td> <td>Michael</td></tr> <tr><td>Tech</td> <td>NULL</td></tr></tbody></table> <h3 id="so-how-does-this-work-2"><a href="#so-how-does-this-work-2" class="header-anchor">#</a> So how does this work?</h3> <p>There are two tables in the FROM clause:</p> <table><thead><tr><th>Id</th> <th>FName</th> <th>LName</th> <th>PhoneNumber</th> <th>ManagerId</th> <th>DepartmentId</th> <th>Salary</th> <th>HireDate</th></tr></thead> <tbody><tr><td>1</td> <td>James</td> <td>Smith</td> <td>1234567890</td> <td>NULL</td> <td>1</td> <td>1000</td> <td>01-01-2002</td></tr> <tr><td>2</td> <td>John</td> <td>Johnson</td> <td>2468101214</td> <td>1</td> <td>1</td> <td>400</td> <td>23-03-2005</td></tr> <tr><td>3</td> <td>Michael</td> <td>Williams</td> <td>1357911131</td> <td>1</td> <td>2</td> <td>600</td> <td>12-05-2009</td></tr> <tr><td>4</td> <td>Johnathon</td> <td>Smith</td> <td>1212121212</td> <td>2</td> <td>1</td> <td>500</td> <td>24-07-2016</td></tr></tbody></table> <p>and</p> <table><thead><tr><th>Id</th> <th>Name</th></tr></thead> <tbody><tr><td>1</td> <td>HR</td></tr> <tr><td>2</td> <td>Sales</td></tr> <tr><td>3</td> <td>Tech</td></tr></tbody></table> <p>First a <strong>Cartesian</strong> product is created from the two tables giving an intermediate table.<br>
The records that meet the join criteria (<strong>Departments.Id = Employees.DepartmentId</strong>) are highlighted in bold; these are passed to the next stage of the query.</p> <p>As this is a LEFT OUTER JOIN all records are returned from the LEFT side of the join (Departments), while any records on the RIGHT side are given a NULL marker if they do not match the join criteria.  In the table below this will return <strong>Tech</strong> with <code>NULL</code></p> <table><thead><tr><th>Id</th> <th>Name</th> <th>Id</th> <th>FName</th> <th>LName</th> <th>PhoneNumber</th> <th>ManagerId</th> <th>DepartmentId</th> <th>Salary</th> <th>HireDate</th></tr></thead> <tbody><tr><td><strong>1</strong></td> <td><strong>HR</strong></td> <td><strong>1</strong></td> <td><strong>James</strong></td> <td><strong>Smith</strong></td> <td><strong>1234567890</strong></td> <td><strong>NULL</strong></td> <td><strong>1</strong></td> <td><strong>1000</strong></td> <td><strong>01-01-2002</strong></td></tr> <tr><td><strong>1</strong></td> <td><strong>HR</strong></td> <td><strong>2</strong></td> <td><strong>John</strong></td> <td><strong>Johnson</strong></td> <td><strong>2468101214</strong></td> <td><strong>1</strong></td> <td><strong>1</strong></td> <td><strong>400</strong></td> <td><strong>23-03-2005</strong></td></tr> <tr><td>1</td> <td>HR</td> <td>3</td> <td>Michael</td> <td>Williams</td> <td>1357911131</td> <td>1</td> <td>2</td> <td>600</td> <td>12-05-2009</td></tr> <tr><td><strong>1</strong></td> <td><strong>HR</strong></td> <td><strong>4</strong></td> <td><strong>Johnathon</strong></td> <td><strong>Smith</strong></td> <td><strong>1212121212</strong></td> <td><strong>2</strong></td> <td><strong>1</strong></td> <td><strong>500</strong></td> <td><strong>24-07-2016</strong></td></tr> <tr><td>2</td> <td>Sales</td> <td>1</td> <td>James</td> <td>Smith</td> <td>1234567890</td> <td>NULL</td> <td>1</td> <td>1000</td> <td>01-01-2002</td></tr> <tr><td>2</td> <td>Sales</td> <td>2</td> <td>John</td> <td>Johnson</td> <td>2468101214</td> <td>1</td> <td>1</td> <td>400</td> <td>23-03-2005</td></tr> <tr><td><strong>2</strong></td> <td><strong>Sales</strong></td> <td><strong>3</strong></td> <td><strong>Michael</strong></td> <td><strong>Williams</strong></td> <td><strong>1357911131</strong></td> <td><strong>1</strong></td> <td><strong>2</strong></td> <td><strong>600</strong></td> <td><strong>12-05-2009</strong></td></tr> <tr><td>2</td> <td>Sales</td> <td>4</td> <td>Johnathon</td> <td>Smith</td> <td>1212121212</td> <td>2</td> <td>1</td> <td>500</td> <td>24-07-2016</td></tr> <tr><td>3</td> <td>Tech</td> <td>1</td> <td>James</td> <td>Smith</td> <td>1234567890</td> <td>NULL</td> <td>1</td> <td>1000</td> <td>01-01-2002</td></tr> <tr><td>3</td> <td>Tech</td> <td>2</td> <td>John</td> <td>Johnson</td> <td>2468101214</td> <td>1</td> <td>1</td> <td>400</td> <td>23-03-2005</td></tr> <tr><td>3</td> <td>Tech</td> <td>3</td> <td>Michael</td> <td>Williams</td> <td>1357911131</td> <td>1</td> <td>2</td> <td>600</td> <td>12-05-2009</td></tr> <tr><td>3</td> <td>Tech</td> <td>4</td> <td>Johnathon</td> <td>Smith</td> <td>1212121212</td> <td>2</td> <td>1</td> <td>500</td> <td>24-07-2016</td></tr></tbody></table> <p>Finally each expression used within the <strong>SELECT</strong> clause is evaluated to return our final table:</p> <table><thead><tr><th>Departments.Name</th> <th>Employees.FName</th></tr></thead> <tbody><tr><td>HR</td> <td>James</td></tr> <tr><td>HR</td> <td>John</td></tr> <tr><td>Sales</td> <td>Richard</td></tr> <tr><td>Tech</td> <td>NULL</td></tr></tbody></table> <h2 id="implicit-join"><a href="#implicit-join" class="header-anchor">#</a> Implicit Join</h2> <p>Joins can also be performed by having several tables in the <code>from</code> clause, separated with commas <code>,</code> and defining the relationship between them in the <code>where</code> clause. This technique is called an Implicit Join (since it doesn't actually contain a <code>join</code> clause).</p> <p>All RDBMSs support it, but the syntax is usually advised against. The reasons why it is a bad idea to use this syntax are:</p> <ul><li>It is possible to get accidental cross joins which then return incorrect results, especially if you have a lot of joins in the query.</li> <li>If you intended a cross join, then it is not clear from the syntax (write out CROSS JOIN instead), and someone is likely to change it during maintenance.</li></ul> <p>The following example will select employee's first names and the name of the departments they work for:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>FName<span class="token punctuation">,</span> d<span class="token punctuation">.</span>Name
<span class="token keyword">FROM</span>   Employee e<span class="token punctuation">,</span> Departments d
<span class="token keyword">WHERE</span>  e<span class="token punctuation">.</span>DeptartmentId <span class="token operator">=</span> d<span class="token punctuation">.</span>Id

</code></pre></div><p>This would return the following from the <a href="http://stackoverflow.com/documentation/sql/280/example-database#t=201604180847497343904" target="_blank" rel="noopener noreferrer">example database<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <table><thead><tr><th>e.FName</th> <th>d.Name</th></tr></thead> <tbody><tr><td>James</td> <td>HR</td></tr> <tr><td>John</td> <td>HR</td></tr> <tr><td>Richard</td> <td>Sales</td></tr></tbody></table> <h2 id="basic-explicit-inner-join"><a href="#basic-explicit-inner-join" class="header-anchor">#</a> Basic explicit inner join</h2> <p>A basic join (also called &quot;inner join&quot;) queries data from two tables, with their relationship defined in a <code>join</code> clause.</p> <p>The following example will select employees' first names (FName) from the Employees table and the name of the department they work for (Name) from the Departments table:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Employees<span class="token punctuation">.</span>FName<span class="token punctuation">,</span> Departments<span class="token punctuation">.</span>Name
<span class="token keyword">FROM</span>   Employees
<span class="token keyword">JOIN</span>   Departments
<span class="token keyword">ON</span> Employees<span class="token punctuation">.</span>DepartmentId <span class="token operator">=</span> Departments<span class="token punctuation">.</span>Id

</code></pre></div><p>This would return the following from the <a href="http://stackoverflow.com/documentation/sql/280/example-database#t=201604180847497343904" target="_blank" rel="noopener noreferrer">example database<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <table><thead><tr><th>Employees.FName</th> <th>Departments.Name</th></tr></thead> <tbody><tr><td>James</td> <td>HR</td></tr> <tr><td>John</td> <td>HR</td></tr> <tr><td>Richard</td> <td>Sales</td></tr></tbody></table> <h2 id="cross-join-2"><a href="#cross-join-2" class="header-anchor">#</a> CROSS JOIN</h2> <p>Cross join does a Cartesian product of the two members, A Cartesian product means each row of one table is combined with each row of the second table in the join. For example, if <code>TABLEA</code> has 20 rows and <code>TABLEB</code> has 20 rows, the result would be <code>20*20 = 400</code> output rows.</p> <p>Using <a href="http://stackoverflow.com/documentation/sql/280/example-databases#t=201604180847497343904" target="_blank" rel="noopener noreferrer">example database<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> d<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>FName
<span class="token keyword">FROM</span>   Departments d
<span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> Employees e<span class="token punctuation">;</span>

</code></pre></div><p>Which returns:</p> <table><thead><tr><th>d.Name</th> <th>e.FName</th></tr></thead> <tbody><tr><td>HR</td> <td>James</td></tr> <tr><td>HR</td> <td>John</td></tr> <tr><td>HR</td> <td>Michael</td></tr> <tr><td>HR</td> <td>Johnathon</td></tr> <tr><td>Sales</td> <td>James</td></tr> <tr><td>Sales</td> <td>John</td></tr> <tr><td>Sales</td> <td>Michael</td></tr> <tr><td>Sales</td> <td>Johnathon</td></tr> <tr><td>Tech</td> <td>James</td></tr> <tr><td>Tech</td> <td>John</td></tr> <tr><td>Tech</td> <td>Michael</td></tr> <tr><td>Tech</td> <td>Johnathon</td></tr></tbody></table> <p>It is recommended to write an explicit CROSS JOIN if you want to do a cartesian join, to highlight that this is what you want.</p> <h2 id="joining-on-a-subquery"><a href="#joining-on-a-subquery" class="header-anchor">#</a> Joining on a Subquery</h2> <p>Joining a subquery is often used when you want to get aggregate data from a child/details table and display that along with records from the parent/header table. For example, you might want to get a count of child records, an average of some numeric column in child records, or the top or bottom row based on a date or numeric field. This example uses aliases, which arguable makes queries easier to read when you have multiple tables involved. Here's what a fairly typical subquery join looks like. In this case we are retrieving all rows from the parent table Purchase Orders and retrieving only the first row for each parent record of the child table PurchaseOrderLineItems.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> po<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> po<span class="token punctuation">.</span>PODate<span class="token punctuation">,</span> po<span class="token punctuation">.</span>VendorName<span class="token punctuation">,</span> po<span class="token punctuation">.</span><span class="token keyword">Status</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>ItemNo<span class="token punctuation">,</span> 
  item<span class="token punctuation">.</span>Description<span class="token punctuation">,</span> item<span class="token punctuation">.</span>Cost<span class="token punctuation">,</span> item<span class="token punctuation">.</span>Price
<span class="token keyword">FROM</span> PurchaseOrders po
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> 
     <span class="token punctuation">(</span>
       <span class="token keyword">SELECT</span> l<span class="token punctuation">.</span>PurchaseOrderId<span class="token punctuation">,</span> l<span class="token punctuation">.</span>ItemNo<span class="token punctuation">,</span> l<span class="token punctuation">.</span>Description<span class="token punctuation">,</span> l<span class="token punctuation">.</span>Cost<span class="token punctuation">,</span> l<span class="token punctuation">.</span>Price<span class="token punctuation">,</span> <span class="token function">Min</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> Id 
       <span class="token keyword">FROM</span> PurchaseOrderLineItems l
       <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> l<span class="token punctuation">.</span>PurchaseOrderId<span class="token punctuation">,</span> l<span class="token punctuation">.</span>ItemNo<span class="token punctuation">,</span> l<span class="token punctuation">.</span>Description<span class="token punctuation">,</span> l<span class="token punctuation">.</span>Cost<span class="token punctuation">,</span> l<span class="token punctuation">.</span>Price
     <span class="token punctuation">)</span> <span class="token keyword">AS</span> item <span class="token keyword">ON</span> item<span class="token punctuation">.</span>PurchaseOrderId <span class="token operator">=</span> po<span class="token punctuation">.</span>Id

</code></pre></div><h2 id="cross-apply-lateral-join"><a href="#cross-apply-lateral-join" class="header-anchor">#</a> CROSS APPLY &amp; LATERAL JOIN</h2> <p>A very interesting type of JOIN is the LATERAL JOIN (new in PostgreSQL 9.3+), <br>
which is also known as CROSS APPLY/OUTER APPLY in SQL-Server &amp; Oracle.</p> <p>The basic idea is that a table-valued function (or inline subquery) gets applied for every row you join.</p> <p>This makes it possible to, for example, only join the first matching entry in another table. <br>
The difference between a normal and a lateral join lies in the fact that you can use a column that you previously joined <strong>in the subquery</strong> that you &quot;CROSS APPLY&quot;.</p> <p>Syntax:</p> <p>PostgreSQL 9.3+</p> <blockquote></blockquote> <p>left | right | inner JOIN <strong>LATERAL</strong></p> <p>SQL-Server:</p> <blockquote></blockquote> <p>CROSS | OUTER <strong>APPLY</strong></p> <p><code>INNER JOIN LATERAL</code> is the same as <code>CROSS APPLY</code> <br>
and <code>LEFT JOIN LATERAL</code> is the same as <code>OUTER APPLY</code></p> <p>Example usage (PostgreSQL 9.3+):</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> T_Contacts 

<span class="token comment">--LEFT JOIN T_MAP_Contacts_Ref_OrganisationalUnit ON MAP_CTCOU_CT_UID = T_Contacts.CT_UID AND MAP_CTCOU_SoftDeleteStatus = 1 </span>
<span class="token comment">--WHERE T_MAP_Contacts_Ref_OrganisationalUnit.MAP_CTCOU_UID IS NULL -- 989</span>


<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> LATERAL 
<span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> 
         <span class="token comment">--MAP_CTCOU_UID    </span>
         MAP_CTCOU_CT_UID   
        <span class="token punctuation">,</span>MAP_CTCOU_COU_UID  
        <span class="token punctuation">,</span>MAP_CTCOU_DateFrom 
        <span class="token punctuation">,</span>MAP_CTCOU_DateTo   
   <span class="token keyword">FROM</span> T_MAP_Contacts_Ref_OrganisationalUnit 
   <span class="token keyword">WHERE</span> MAP_CTCOU_SoftDeleteStatus <span class="token operator">=</span> <span class="token number">1</span> 
   <span class="token operator">AND</span> MAP_CTCOU_CT_UID <span class="token operator">=</span> T_Contacts<span class="token punctuation">.</span>CT_UID 

    <span class="token comment">/*  
    AND 
    ( 
        (__in_DateFrom &lt;= T_MAP_Contacts_Ref_OrganisationalUnit.MAP_KTKOE_DateTo) 
        AND 
        (__in_DateTo &gt;= T_MAP_Contacts_Ref_OrganisationalUnit.MAP_KTKOE_DateFrom) 
    ) 
    */</span>
   <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> MAP_CTCOU_DateFrom 
   <span class="token keyword">LIMIT</span> <span class="token number">1</span> 
<span class="token punctuation">)</span> <span class="token keyword">AS</span> FirstOE 

</code></pre></div><p>And for SQL-Server</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> T_Contacts 

<span class="token comment">--LEFT JOIN T_MAP_Contacts_Ref_OrganisationalUnit ON MAP_CTCOU_CT_UID = T_Contacts.CT_UID AND MAP_CTCOU_SoftDeleteStatus = 1 </span>
<span class="token comment">--WHERE T_MAP_Contacts_Ref_OrganisationalUnit.MAP_CTCOU_UID IS NULL -- 989</span>

<span class="token comment">-- CROSS APPLY -- = INNER JOIN </span>
<span class="token keyword">OUTER</span> <span class="token keyword">APPLY</span>    <span class="token comment">-- = LEFT JOIN </span>
<span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token keyword">TOP</span> <span class="token number">1</span> 
         <span class="token comment">--MAP_CTCOU_UID    </span>
         MAP_CTCOU_CT_UID   
        <span class="token punctuation">,</span>MAP_CTCOU_COU_UID  
        <span class="token punctuation">,</span>MAP_CTCOU_DateFrom 
        <span class="token punctuation">,</span>MAP_CTCOU_DateTo   
   <span class="token keyword">FROM</span> T_MAP_Contacts_Ref_OrganisationalUnit 
   <span class="token keyword">WHERE</span> MAP_CTCOU_SoftDeleteStatus <span class="token operator">=</span> <span class="token number">1</span> 
   <span class="token operator">AND</span> MAP_CTCOU_CT_UID <span class="token operator">=</span> T_Contacts<span class="token punctuation">.</span>CT_UID 

    <span class="token comment">/*  
    AND 
    ( 
        (@in_DateFrom &lt;= T_MAP_Contacts_Ref_OrganisationalUnit.MAP_KTKOE_DateTo) 
        AND 
        (@in_DateTo &gt;= T_MAP_Contacts_Ref_OrganisationalUnit.MAP_KTKOE_DateFrom) 
    ) 
    */</span>
   <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> MAP_CTCOU_DateFrom 
<span class="token punctuation">)</span> <span class="token keyword">AS</span> FirstOE 

</code></pre></div><h2 id="full-join"><a href="#full-join" class="header-anchor">#</a> FULL JOIN</h2> <p>One type of JOIN that is less known, is the FULL JOIN. <br>
(Note: FULL JOIN is not supported by MySQL as per 2016)</p> <p>A FULL OUTER JOIN returns all rows from the left table, and all rows from the right table.</p> <p>If there are rows in the left table that do not have matches in the right table, or if there are rows in right table that do not have matches in the left table, then those rows will be listed, too.</p> <p>Example 1 :</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Table1

<span class="token keyword">FULL</span> <span class="token keyword">JOIN</span> Table2 
     <span class="token keyword">ON</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span> 

</code></pre></div><p>Example 2:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
     <span class="token keyword">COALESCE</span><span class="token punctuation">(</span>T_Budget<span class="token punctuation">.</span><span class="token keyword">Year</span><span class="token punctuation">,</span> tYear<span class="token punctuation">.</span><span class="token keyword">Year</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> RPT_BudgetInYear 
    <span class="token punctuation">,</span><span class="token keyword">COALESCE</span><span class="token punctuation">(</span>T_Budget<span class="token punctuation">.</span><span class="token keyword">Value</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> RPT_Value 
<span class="token keyword">FROM</span> T_Budget 

<span class="token keyword">FULL</span> <span class="token keyword">JOIN</span> tfu_RPT_All_CreateYearInterval<span class="token punctuation">(</span><span class="token variable">@budget_year_from</span><span class="token punctuation">,</span> <span class="token variable">@budget_year_to</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> tYear 
      <span class="token keyword">ON</span> tYear<span class="token punctuation">.</span><span class="token keyword">Year</span> <span class="token operator">=</span> T_Budget<span class="token punctuation">.</span><span class="token keyword">Year</span> 

</code></pre></div><p>Note that if you're using soft-deletes, you'll have to check the soft-delete status again in the WHERE-clause (because FULL JOIN behaves kind-of like a UNION); <br>
It's easy to overlook this little fact, since you put AP_SoftDeleteStatus = 1 in the join clause.</p> <p>Also, if you are doing a FULL JOIN, you'll usually have to allow NULL in the WHERE-clause; forgetting to allow NULL on a value will have the same effects as an INNER join, which is something you don't want if you're doing a FULL JOIN.</p> <p>Example:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
     T_AccountPlan<span class="token punctuation">.</span>AP_UID
    <span class="token punctuation">,</span>T_AccountPlan<span class="token punctuation">.</span>AP_Code
    <span class="token punctuation">,</span>T_AccountPlan<span class="token punctuation">.</span>AP_Lang_EN
    <span class="token punctuation">,</span>T_BudgetPositions<span class="token punctuation">.</span>BUP_Budget
    <span class="token punctuation">,</span>T_BudgetPositions<span class="token punctuation">.</span>BUP_UID 
    <span class="token punctuation">,</span>T_BudgetPositions<span class="token punctuation">.</span>BUP_Jahr
<span class="token keyword">FROM</span> T_BudgetPositions    

<span class="token keyword">FULL</span> <span class="token keyword">JOIN</span> T_AccountPlan
    <span class="token keyword">ON</span> T_AccountPlan<span class="token punctuation">.</span>AP_UID <span class="token operator">=</span> T_BudgetPositions<span class="token punctuation">.</span>BUP_AP_UID 
    <span class="token operator">AND</span> T_AccountPlan<span class="token punctuation">.</span>AP_SoftDeleteStatus <span class="token operator">=</span> <span class="token number">1</span> 

<span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> 
<span class="token operator">AND</span> <span class="token punctuation">(</span>T_BudgetPositions<span class="token punctuation">.</span>BUP_SoftDeleteStatus <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">OR</span> T_BudgetPositions<span class="token punctuation">.</span>BUP_SoftDeleteStatus <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> 
<span class="token operator">AND</span> <span class="token punctuation">(</span>T_AccountPlan<span class="token punctuation">.</span>AP_SoftDeleteStatus <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">OR</span> T_AccountPlan<span class="token punctuation">.</span>AP_SoftDeleteStatus <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> 

</code></pre></div><h2 id="recursive-joins"><a href="#recursive-joins" class="header-anchor">#</a> Recursive JOINs</h2> <p>Recursive joins are often used to obtain parent-child data.
In SQL, they are implemented with recursive <a href="http://stackoverflow.com/documentation/sql/747/common-table-expressions#t=201608060613313832648" target="_blank" rel="noopener noreferrer">common table expressions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, for example:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WITH</span> RECURSIVE MyDescendants <span class="token keyword">AS</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> Name
    <span class="token keyword">FROM</span> People
    <span class="token keyword">WHERE</span> Name <span class="token operator">=</span> <span class="token string">'John Doe'</span>

    <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>

    <span class="token keyword">SELECT</span> People<span class="token punctuation">.</span>Name
    <span class="token keyword">FROM</span> People
    <span class="token keyword">JOIN</span> MyDescendants <span class="token keyword">ON</span> People<span class="token punctuation">.</span>Name <span class="token operator">=</span> MyDescendants<span class="token punctuation">.</span>Parent
<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> MyDescendants<span class="token punctuation">;</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li><code>[ { INNER | { { LEFT | RIGHT | FULL } [ OUTER ] } } ] JOIN</code></li></ul> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>Joins, as their name suggests, are a way of querying data from several tables in a joint fashion, with the rows displaying columns taken from more than one table.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/sql/join.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/sql/exists-clause.html" class="prev">
        EXISTS CLAUSE
      </a></span> <span class="next"><a href="/sql/update.html">
        UPDATE
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/3275.ebbf442a.js" defer></script>
  </body>
</html>
