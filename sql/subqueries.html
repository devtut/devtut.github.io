<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL - Subqueries</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Subquery in FROM clause, Subquery in WHERE clause, Subquery in SELECT clause, Correlated Subqueries, Subqueries in FROM clause , Subqueries in WHERE clause, Filter query results using query on different table, Subqueries in SELECT clause">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="SQL - Subqueries">
    <meta property="og:description" content="Subquery in FROM clause, Subquery in WHERE clause, Subquery in SELECT clause, Correlated Subqueries, Subqueries in FROM clause , Subqueries in WHERE clause, Filter query results using query on different table, Subqueries in SELECT clause">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/sql/subqueries.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="SQL - Subqueries">
    <meta name="twitter:description" content="Subquery in FROM clause, Subquery in WHERE clause, Subquery in SELECT clause, Correlated Subqueries, Subqueries in FROM clause , Subqueries in WHERE clause, Filter query results using query on different table, Subqueries in SELECT clause">
    <meta name="twitter:url" content="/sql/subqueries.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/3293.0b58b92a.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/sql/" class="sidebar-link">Disclaimer</a></li><li><a href="/sql/getting-started-with-sql.html" class="sidebar-link">Getting started with SQL</a></li><li><a href="/sql/identifier.html" class="sidebar-link">Identifier</a></li><li><a href="/sql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/sql/null.html" class="sidebar-link">NULL</a></li><li><a href="/sql/example-databases-and-tables.html" class="sidebar-link">Example Databases and Tables</a></li><li><a href="/sql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/sql/group-by.html" class="sidebar-link">GROUP BY</a></li><li><a href="/sql/order-by.html" class="sidebar-link">ORDER BY</a></li><li><a href="/sql/and-or-operators.html" class="sidebar-link">AND &amp; OR Operators</a></li><li><a href="/sql/case.html" class="sidebar-link">CASE</a></li><li><a href="/sql/like-operator.html" class="sidebar-link">LIKE operator</a></li><li><a href="/sql/in-clause.html" class="sidebar-link">IN clause</a></li><li><a href="/sql/filter-results-using-where-and-having.html" class="sidebar-link">Filter results using WHERE and HAVING</a></li><li><a href="/sql/skip-take-pagination.html" class="sidebar-link">SKIP TAKE (Pagination)</a></li><li><a href="/sql/except.html" class="sidebar-link">EXCEPT</a></li><li><a href="/sql/explain-and-describe.html" class="sidebar-link">EXPLAIN and DESCRIBE</a></li><li><a href="/sql/exists-clause.html" class="sidebar-link">EXISTS CLAUSE</a></li><li><a href="/sql/join.html" class="sidebar-link">JOIN</a></li><li><a href="/sql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/sql/create-database.html" class="sidebar-link">CREATE Database</a></li><li><a href="/sql/create-table.html" class="sidebar-link">CREATE TABLE</a></li><li><a href="/sql/create-function.html" class="sidebar-link">CREATE FUNCTION</a></li><li><a href="/sql/try-catch.html" class="sidebar-link">TRY/CATCH</a></li><li><a href="/sql/union-union-all.html" class="sidebar-link">UNION / UNION ALL</a></li><li><a href="/sql/alter-table.html" class="sidebar-link">ALTER TABLE</a></li><li><a href="/sql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/sql/merge.html" class="sidebar-link">MERGE</a></li><li><a href="/sql/cross-apply-outer-apply.html" class="sidebar-link">cross apply, outer apply</a></li><li><a href="/sql/delete.html" class="sidebar-link">DELETE</a></li><li><a href="/sql/truncate.html" class="sidebar-link">TRUNCATE</a></li><li><a href="/sql/drop-table.html" class="sidebar-link">DROP Table</a></li><li><a href="/sql/drop-or-delete-database.html" class="sidebar-link">DROP or DELETE Database</a></li><li><a href="/sql/cascading-delete.html" class="sidebar-link">Cascading Delete</a></li><li><a href="/sql/grant-and-revoke.html" class="sidebar-link">GRANT and REVOKE</a></li><li><a href="/sql/xml.html" class="sidebar-link">XML</a></li><li><a href="/sql/primary-keys.html" class="sidebar-link">Primary Keys</a></li><li><a href="/sql/indexes.html" class="sidebar-link">Indexes</a></li><li><a href="/sql/row-number.html" class="sidebar-link">Row number</a></li><li><a href="/sql/sql-group-by-vs-distinct.html" class="sidebar-link">SQL Group By vs Distinct</a></li><li><a href="/sql/finding-duplicates-on-a-column-subset-with-detail.html" class="sidebar-link">Finding Duplicates on a Column Subset with Detail</a></li><li><a href="/sql/string-functions.html" class="sidebar-link">String Functions</a></li><li><a href="/sql/functions-aggregate.html" class="sidebar-link">Functions (Aggregate)</a></li><li><a href="/sql/functions-scalar-single-row.html" class="sidebar-link">Functions (Scalar/Single Row)</a></li><li><a href="/sql/functions-analytic.html" class="sidebar-link">Functions (Analytic)</a></li><li><a href="/sql/window-functions.html" class="sidebar-link">Window Functions</a></li><li><a href="/sql/common-table-expressions.html" class="sidebar-link">Common Table Expressions</a></li><li><a href="/sql/views.html" class="sidebar-link">Views</a></li><li><a href="/sql/materialized-views.html" class="sidebar-link">Materialized Views</a></li><li><a href="/sql/comments.html" class="sidebar-link">Comments</a></li><li><a href="/sql/foreign-keys.html" class="sidebar-link">Foreign Keys</a></li><li><a href="/sql/sequence.html" class="sidebar-link">Sequence</a></li><li><a href="/sql/subqueries.html" class="active sidebar-link">Subqueries</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sql/subqueries.html#subquery-in-from-clause" class="sidebar-link">Subquery in FROM clause</a></li><li class="sidebar-sub-header"><a href="/sql/subqueries.html#subquery-in-where-clause" class="sidebar-link">Subquery in WHERE clause</a></li><li class="sidebar-sub-header"><a href="/sql/subqueries.html#subquery-in-select-clause" class="sidebar-link">Subquery in SELECT clause</a></li><li class="sidebar-sub-header"><a href="/sql/subqueries.html#correlated-subqueries" class="sidebar-link">Correlated Subqueries</a></li><li class="sidebar-sub-header"><a href="/sql/subqueries.html#subqueries-in-from-clause" class="sidebar-link">Subqueries in FROM clause</a></li><li class="sidebar-sub-header"><a href="/sql/subqueries.html#subqueries-in-where-clause" class="sidebar-link">Subqueries in WHERE clause</a></li><li class="sidebar-sub-header"><a href="/sql/subqueries.html#filter-query-results-using-query-on-different-table" class="sidebar-link">Filter query results using query on different table</a></li><li class="sidebar-sub-header"><a href="/sql/subqueries.html#subqueries-in-select-clause" class="sidebar-link">Subqueries in SELECT clause</a></li></ul></li><li><a href="/sql/execution-blocks.html" class="sidebar-link">Execution blocks</a></li><li><a href="/sql/stored-procedures.html" class="sidebar-link">Stored Procedures</a></li><li><a href="/sql/triggers.html" class="sidebar-link">Triggers</a></li><li><a href="/sql/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/sql/table-design.html" class="sidebar-link">Table Design</a></li><li><a href="/sql/synonyms.html" class="sidebar-link">Synonyms</a></li><li><a href="/sql/information-schema.html" class="sidebar-link">Information Schema</a></li><li><a href="/sql/order-of-execution.html" class="sidebar-link">Order of Execution</a></li><li><a href="/sql/clean-code-in-sql.html" class="sidebar-link">Clean Code in SQL</a></li><li><a href="/sql/relational-algebra.html" class="sidebar-link">Relational Algebra</a></li><li><a href="/sql/sql-injection.html" class="sidebar-link">SQL Injection</a></li><li><a href="/sql/sql-cursor.html" class="sidebar-link">SQL CURSOR</a></li><li><a href="/sql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="subqueries"><a href="#subqueries" class="header-anchor">#</a> Subqueries</h1> <h2 id="subquery-in-from-clause"><a href="#subquery-in-from-clause" class="header-anchor">#</a> Subquery in FROM clause</h2> <p>A subquery in a <code>FROM</code> clause acts similarly to a temporary table that is generated during the execution of a query and lost afterwards.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Managers<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> Employees<span class="token punctuation">.</span>Salary
<span class="token keyword">FROM</span> <span class="token punctuation">(</span>
  <span class="token keyword">SELECT</span> Id
  <span class="token keyword">FROM</span> Employees
  <span class="token keyword">WHERE</span> ManagerId <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span> <span class="token keyword">AS</span> Managers
<span class="token keyword">JOIN</span> Employees <span class="token keyword">ON</span> Managers<span class="token punctuation">.</span>Id <span class="token operator">=</span> Employees<span class="token punctuation">.</span>Id

</code></pre></div><h2 id="subquery-in-where-clause"><a href="#subquery-in-where-clause" class="header-anchor">#</a> Subquery in WHERE clause</h2> <p>Use a subquery to filter the result set. For example this will return all employees with a salary equal to the highest paid employee.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> Employees
<span class="token keyword">WHERE</span> Salary <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>Salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Employees<span class="token punctuation">)</span>

</code></pre></div><h2 id="subquery-in-select-clause"><a href="#subquery-in-select-clause" class="header-anchor">#</a> Subquery in SELECT clause</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
  Id<span class="token punctuation">,</span> 
  FName<span class="token punctuation">,</span> 
  LName<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> Cars <span class="token keyword">WHERE</span> Cars<span class="token punctuation">.</span>CustomerId <span class="token operator">=</span> Customers<span class="token punctuation">.</span>Id<span class="token punctuation">)</span> <span class="token keyword">AS</span> NumberOfCars
<span class="token keyword">FROM</span> Customers

</code></pre></div><h2 id="correlated-subqueries"><a href="#correlated-subqueries" class="header-anchor">#</a> Correlated Subqueries</h2> <p>Correlated (also known as Synchronized or Coordinated) Subqueries are nested queries that make references to the current row of their outer query:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> EmployeeId
    <span class="token keyword">FROM</span> Employee <span class="token keyword">AS</span> eOuter
    <span class="token keyword">WHERE</span> Salary <span class="token operator">&gt;</span> <span class="token punctuation">(</span>
       <span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>Salary<span class="token punctuation">)</span>
       <span class="token keyword">FROM</span> Employee eInner
       <span class="token keyword">WHERE</span> eInner<span class="token punctuation">.</span>DepartmentId <span class="token operator">=</span> eOuter<span class="token punctuation">.</span>DepartmentId
    <span class="token punctuation">)</span>

</code></pre></div><p>Subquery <code>SELECT AVG(Salary) ...</code> is <strong>correlated</strong> because it refers to <code>Employee</code> row <code>eOuter</code> from its outer query.</p> <h2 id="subqueries-in-from-clause"><a href="#subqueries-in-from-clause" class="header-anchor">#</a> Subqueries in FROM clause</h2> <p>You can use subqueries to define a temporary table  and use it in the FROM clause of an &quot;outer&quot; query.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> city<span class="token punctuation">,</span> temp_hi <span class="token operator">-</span> temp_lo <span class="token keyword">AS</span> temp_var <span class="token keyword">FROM</span> weather<span class="token punctuation">)</span> <span class="token keyword">AS</span> w
<span class="token keyword">WHERE</span> temp_var <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">;</span>

</code></pre></div><p>The above finds cities from the <a href="http://stackoverflow.com/documentation/sql/280/example-databases/2641/weather-table" target="_blank" rel="noopener noreferrer">weather table<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> whose daily temperature variation is greater than 20. The result is:</p> <table><thead><tr><th>city</th> <th>temp_var</th></tr></thead> <tbody><tr><td>ST LOUIS</td> <td>21</td></tr> <tr><td>LOS ANGELES</td> <td>31</td></tr> <tr><td>LOS ANGELES</td> <td>23</td></tr> <tr><td>LOS ANGELES</td> <td>31</td></tr> <tr><td>LOS ANGELES</td> <td>27</td></tr> <tr><td>LOS ANGELES</td> <td>28</td></tr> <tr><td>LOS ANGELES</td> <td>28</td></tr> <tr><td>LOS ANGELES</td> <td>32</td></tr></tbody></table> <p>.</p> <h2 id="subqueries-in-where-clause"><a href="#subqueries-in-where-clause" class="header-anchor">#</a> Subqueries in WHERE clause</h2> <p>The following example finds cities (from the <a href="http://stackoverflow.com/documentation/sql/280/example-databases/2709/cities-table" target="_blank" rel="noopener noreferrer">cities example<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) whose population is below the average temperature (obtained via a sub-qquery):</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> pop2000 <span class="token keyword">FROM</span> cities 
<span class="token keyword">WHERE</span> pop2000 <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">avg</span><span class="token punctuation">(</span>pop2000<span class="token punctuation">)</span>  <span class="token keyword">FROM</span> cities<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Here: the subquery (SELECT avg(pop2000)  FROM cities) is used to specify conditions in the WHERE clause. The result is:</p> <table><thead><tr><th>name</th> <th>pop2000</th></tr></thead> <tbody><tr><td>San Francisco</td> <td>776733</td></tr> <tr><td>ST LOUIS</td> <td>348189</td></tr> <tr><td>Kansas City</td> <td>146866</td></tr></tbody></table> <h2 id="filter-query-results-using-query-on-different-table"><a href="#filter-query-results-using-query-on-different-table" class="header-anchor">#</a> Filter query results using query on different table</h2> <p>This query selects all employees not on the Supervisors table.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> Employees
<span class="token keyword">WHERE</span> EmployeeID <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> EmployeeID
                            <span class="token keyword">FROM</span> Supervisors<span class="token punctuation">)</span>

</code></pre></div><p>The same results can be achieved using a LEFT JOIN.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> Employees <span class="token keyword">AS</span> e
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Supervisors <span class="token keyword">AS</span> s <span class="token keyword">ON</span> s<span class="token punctuation">.</span>EmployeeID<span class="token operator">=</span>e<span class="token punctuation">.</span>EmployeeID
<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>EmployeeID <span class="token operator">is</span> <span class="token boolean">NULL</span>

</code></pre></div><h2 id="subqueries-in-select-clause"><a href="#subqueries-in-select-clause" class="header-anchor">#</a> Subqueries in SELECT clause</h2> <p>Subqueries can also be used in the <code>SELECT</code> part of the outer query. The following query
shows all <a href="http://stackoverflow.com/documentation/sql/280/example-databases/2641/weather-table" target="_blank" rel="noopener noreferrer">weather table<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> columns with the corresponding states from the <a href="http://stackoverflow.com/documentation/sql/280/example-databases/2709/cities-table" target="_blank" rel="noopener noreferrer">cities table<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> w<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span>state <span class="token keyword">FROM</span> cities <span class="token keyword">AS</span> c <span class="token keyword">WHERE</span> c<span class="token punctuation">.</span>name <span class="token operator">=</span> w<span class="token punctuation">.</span>city <span class="token punctuation">)</span> <span class="token keyword">AS</span> state 
<span class="token keyword">FROM</span> weather <span class="token keyword">AS</span> w<span class="token punctuation">;</span>

</code></pre></div><h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>Subqueries can appear in different clauses of an outer query, or in the set operation.</p> <p>They must be enclosed in parentheses <code>()</code>.
If the result of the subquery is compared to something else, the number of columns must match.
Table aliases are required for subqueries in the FROM clause to name the temporary table.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/sql/subqueries.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/sql/sequence.html" class="prev">
        Sequence
      </a></span> <span class="next"><a href="/sql/execution-blocks.html">
        Execution blocks
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/3293.0b58b92a.js" defer></script>
  </body>
</html>
