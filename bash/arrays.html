<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bash - Arrays</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Array Assignments, Accessing Array Elements, Array Modification, Array Length, Array Iteration, Associative Arrays, Looping through an array, Destroy, Delete, or Unset an Array, List of initialized indexes, Array from string, Reading an entire file into an array, Array insert function">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Bash - Arrays">
    <meta property="og:description" content="Array Assignments, Accessing Array Elements, Array Modification, Array Length, Array Iteration, Associative Arrays, Looping through an array, Destroy, Delete, or Unset an Array, List of initialized indexes, Array from string, Reading an entire file into an array, Array insert function">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/bash/arrays.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Bash - Arrays">
    <meta name="twitter:description" content="Array Assignments, Accessing Array Elements, Array Modification, Array Length, Array Iteration, Associative Arrays, Looping through an array, Destroy, Delete, or Unset an Array, List of initialized indexes, Array from string, Reading an entire file into an array, Array insert function">
    <meta name="twitter:url" content="/bash/arrays.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/473.895e0e6f.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Bash</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bash/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/bash/getting-started-with-bash.html" class="sidebar-link">Getting started with Bash</a></li><li><a href="/bash/script-shebang.html" class="sidebar-link">Script shebang</a></li><li><a href="/bash/navigating-directories.html" class="sidebar-link">Navigating directories</a></li><li><a href="/bash/listing-files.html" class="sidebar-link">Listing Files</a></li><li><a href="/bash/using-cat.html" class="sidebar-link">Using cat</a></li><li><a href="/bash/grep.html" class="sidebar-link">Grep</a></li><li><a href="/bash/aliasing.html" class="sidebar-link">Aliasing</a></li><li><a href="/bash/jobs-and-processes.html" class="sidebar-link">Jobs and Processes</a></li><li><a href="/bash/redirection.html" class="sidebar-link">Redirection</a></li><li><a href="/bash/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/bash/true-false-and-commands.html" class="sidebar-link">true, false and : commands</a></li><li><a href="/bash/arrays.html" aria-current="page" class="active sidebar-link">Arrays</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bash/arrays.html#array-assignments" class="sidebar-link">Array Assignments</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#accessing-array-elements" class="sidebar-link">Accessing Array Elements</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#array-modification" class="sidebar-link">Array Modification</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#array-length" class="sidebar-link">Array Length</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#array-iteration" class="sidebar-link">Array Iteration</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#associative-arrays" class="sidebar-link">Associative Arrays</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#looping-through-an-array" class="sidebar-link">Looping through an array</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#destroy-delete-or-unset-an-array" class="sidebar-link">Destroy, Delete, or Unset an Array</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#list-of-initialized-indexes" class="sidebar-link">List of initialized indexes</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#array-from-string" class="sidebar-link">Array from string</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#reading-an-entire-file-into-an-array" class="sidebar-link">Reading an entire file into an array</a></li><li class="sidebar-sub-header"><a href="/bash/arrays.html#array-insert-function" class="sidebar-link">Array insert function</a></li></ul></li><li><a href="/bash/associative-arrays.html" class="sidebar-link">Associative arrays</a></li><li><a href="/bash/functions.html" class="sidebar-link">Functions</a></li><li><a href="/bash/bash-parameter-expansion.html" class="sidebar-link">Bash Parameter Expansion</a></li><li><a href="/bash/copying-cp.html" class="sidebar-link">Copying (cp)</a></li><li><a href="/bash/find.html" class="sidebar-link">Find</a></li><li><a href="/bash/using-sort.html" class="sidebar-link">Using sort</a></li><li><a href="/bash/sourcing.html" class="sidebar-link">Sourcing</a></li><li><a href="/bash/here-documents-and-here-strings.html" class="sidebar-link">Here documents and here strings</a></li><li><a href="/bash/quoting.html" class="sidebar-link">Quoting</a></li><li><a href="/bash/conditional-expressions.html" class="sidebar-link">Conditional Expressions</a></li><li><a href="/bash/scripting-with-parameters.html" class="sidebar-link">Scripting with Parameters</a></li><li><a href="/bash/bash-history-substitutions.html" class="sidebar-link">Bash history substitutions</a></li><li><a href="/bash/math.html" class="sidebar-link">Math</a></li><li><a href="/bash/bash-arithmetic.html" class="sidebar-link">Bash Arithmetic</a></li><li><a href="/bash/scoping.html" class="sidebar-link">Scoping</a></li><li><a href="/bash/process-substitution.html" class="sidebar-link">Process substitution</a></li><li><a href="/bash/programmable-completion.html" class="sidebar-link">Programmable completion</a></li><li><a href="/bash/customizing-ps1.html" class="sidebar-link">Customizing PS1</a></li><li><a href="/bash/brace-expansion.html" class="sidebar-link">Brace Expansion</a></li><li><a href="/bash/getopts-smart-positional-parameter-parsing.html" class="sidebar-link">getopts : smart positional-parameter parsing</a></li><li><a href="/bash/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/bash/pattern-matching-and-regular-expressions.html" class="sidebar-link">Pattern matching and regular expressions</a></li><li><a href="/bash/change-shell.html" class="sidebar-link">Change shell</a></li><li><a href="/bash/internal-variables.html" class="sidebar-link">Internal variables</a></li><li><a href="/bash/job-control.html" class="sidebar-link">Job Control</a></li><li><a href="/bash/case-statement.html" class="sidebar-link">Case statement</a></li><li><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html" class="sidebar-link">Read a file (data stream, variable) line-by-line (and/or field-by-field)?</a></li><li><a href="/bash/file-execution-sequence.html" class="sidebar-link">File execution sequence</a></li><li><a href="/bash/splitting-files.html" class="sidebar-link">Splitting Files</a></li><li><a href="/bash/file-transfer-using-scp.html" class="sidebar-link">File Transfer using scp</a></li><li><a href="/bash/pipelines.html" class="sidebar-link">Pipelines</a></li><li><a href="/bash/managing-path-environment-variable.html" class="sidebar-link">Managing PATH environment variable</a></li><li><a href="/bash/word-splitting.html" class="sidebar-link">Word splitting</a></li><li><a href="/bash/avoiding-date-using-printf.html" class="sidebar-link">Avoiding date using printf</a></li><li><a href="/bash/using-trap-to-react-to-signals-and-system-events.html" class="sidebar-link">Using &quot;trap&quot; to react to signals and system events</a></li><li><a href="/bash/chain-of-commands-and-operations.html" class="sidebar-link">Chain of commands and operations</a></li><li><a href="/bash/type-of-shells.html" class="sidebar-link">Type of Shells</a></li><li><a href="/bash/color-script-output-cross-platform.html" class="sidebar-link">Color script output (cross-platform)</a></li><li><a href="/bash/co-processes.html" class="sidebar-link">co-processes</a></li><li><a href="/bash/typing-variables.html" class="sidebar-link">Typing variables</a></li><li><a href="/bash/jobs-at-specific-times.html" class="sidebar-link">Jobs at specific times</a></li><li><a href="/bash/handling-the-system-prompt.html" class="sidebar-link">Handling the system prompt</a></li><li><a href="/bash/the-cut-command.html" class="sidebar-link">The cut command</a></li><li><a href="/bash/bash-on-windows-10.html" class="sidebar-link">Bash on Windows 10</a></li><li><a href="/bash/cut-command.html" class="sidebar-link">Cut Command</a></li><li><a href="/bash/global-and-local-variables.html" class="sidebar-link">global and local variables</a></li><li><a href="/bash/cgi-scripts.html" class="sidebar-link">CGI Scripts</a></li><li><a href="/bash/select-keyword.html" class="sidebar-link">Select keyword</a></li><li><a href="/bash/when-to-use-eval.html" class="sidebar-link">When to use eval</a></li><li><a href="/bash/networking-with-bash.html" class="sidebar-link">Networking With Bash</a></li><li><a href="/bash/parallel.html" class="sidebar-link">Parallel</a></li><li><a href="/bash/decoding-url.html" class="sidebar-link">Decoding URL</a></li><li><a href="/bash/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/bash/namespace.html" class="sidebar-link">Namespace</a></li><li><a href="/bash/creating-directories.html" class="sidebar-link">Creating directories</a></li><li><a href="/bash/strace.html" class="sidebar-link">strace</a></li><li><a href="/bash/sleep-utility.html" class="sidebar-link">Sleep utility</a></li><li><a href="/bash/pitfalls.html" class="sidebar-link">Pitfalls</a></li><li><a href="/bash/keyboard-shortcuts.html" class="sidebar-link">Keyboard shortcuts</a></li><li><a href="/bash/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="arrays"><a href="#arrays" class="header-anchor">#</a> Arrays</h1> <h2 id="array-assignments"><a href="#array-assignments" class="header-anchor">#</a> Array Assignments</h2> <p><strong>List Assignment</strong></p> <p>If you are familiar with Perl, C, or Java, you might think that Bash would use commas to separate array elements, however this is not the case; instead, Bash uses spaces:</p> <div class="language- extra-class"><pre class="language-text"><code>
# Array in Perl
 my @array = (1, 2, 3, 4);

</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code> <span class="token comment"># Array in Bash</span>
 <span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">)</span>

</code></pre></div><p>Create an array with new elements:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'first element'</span> <span class="token string">'second element'</span> <span class="token string">'third element'</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Subscript Assignment</strong></p> <p>Create an array with explicit element indices:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'fourth element'</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'fifth element'</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Assignment by index</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'first element'</span>
array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'second element'</span>

</code></pre></div><p><strong>Assignment by name (associative array)</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -A array
array<span class="token punctuation">[</span>first<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'First element'</span>
array<span class="token punctuation">[</span>second<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'Second element'</span>

</code></pre></div><p><strong>Dynamic Assignment</strong></p> <p>Create an array from the output of other command, for example use <strong>seq</strong> to get a range from 1 to 10:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> <span class="token number">1</span> <span class="token number">10</span><span class="token variable">`</span></span><span class="token punctuation">)</span>

</code></pre></div><p>Assignment from script's input arguments:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">$@</span>&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>Assignment within loops:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token builtin class-name">read</span> -r<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token comment">#array+=(&quot;$REPLY&quot;)     # Array append</span>
    array<span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$REPLY</span>&quot;</span>     <span class="token comment"># Assignment by index</span>
    <span class="token builtin class-name">let</span> i++                <span class="token comment"># Increment index </span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">seq</span> <span class="token number">1</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># command substitution</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>    <span class="token comment"># output: 1 2 3 4 5 6 7 8 9 10</span>

</code></pre></div><p>where <code>$REPLY</code> is always the current input</p> <h2 id="accessing-array-elements"><a href="#accessing-array-elements" class="header-anchor">#</a> Accessing Array Elements</h2> <p>Print element at index 0</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>&quot;</span>

</code></pre></div><p>Print last element using substring expansion syntax</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span> -1 }</span>&quot;</span>

</code></pre></div><p>Print last element using subscript syntax</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>-1<span class="token punctuation">]</span>}</span>&quot;</span>

</code></pre></div><p>Print all elements, each quoted separately</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>

</code></pre></div><p>Print all elements as a single quoted string</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>&quot;</span>

</code></pre></div><p>Print all elements from index 1, each quoted separately</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>1}</span>&quot;</span>

</code></pre></div><p>Print 3 elements from index 1, each quoted separately</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>1<span class="token operator">:</span>3}</span>&quot;</span>

</code></pre></div><p><strong>String Operations</strong></p> <p>If referring to a single element, string operations are permitted:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span>zero one two<span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">:</span>0<span class="token operator">:</span>3}</span>&quot;</span> <span class="token comment"># gives out zer (chars at position 0, 1 and 2 in the string zero)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">:</span>1<span class="token operator">:</span>3}</span>&quot;</span> <span class="token comment"># gives out ero (chars at position 1, 2 and 3 in the string zero)</span>

</code></pre></div><p>so <code>${array[$i]:N:M}</code> gives out a string from the <code>N</code>th position (starting from 0) in the string <code>${array[$i]}</code> with <code>M</code> following chars.</p> <h2 id="array-modification"><a href="#array-modification" class="header-anchor">#</a> Array Modification</h2> <p><strong>Change Index</strong></p> <p>Initialize or update a particular element in the array</p> <div class="language-bash extra-class"><pre class="language-bash"><code>array<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;elevenths element&quot;</span>    <span class="token comment"># because it's starting with 0</span>

</code></pre></div><p><strong>Append</strong></p> <p>Modify array, adding elements to the end if no subscript is specified.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token string">'fourth element'</span> <span class="token string">'fifth element'</span><span class="token punctuation">)</span>

</code></pre></div><p>Replace the entire array with a new parameter list.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token string">&quot;fourth element&quot;</span> <span class="token string">&quot;fifth element&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>Add an element at the beginning:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;new element&quot;</span> <span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Insert</strong></p> <p>Insert an element at a given index:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d<span class="token punctuation">)</span>
<span class="token comment"># insert an element at index 2</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>0<span class="token operator">:</span>$i}</span>&quot;</span> <span class="token string">'new'</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>$i}</span>&quot;</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token comment">#output: new</span>

</code></pre></div><p><strong>Delete</strong></p> <p>Delete array indexes using the <code>unset</code> builtin:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c<span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>   <span class="token comment"># outputs: a b c</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># outputs: 0 1 2</span>
<span class="token builtin class-name">unset</span> -v <span class="token string">'arr[1]'</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>   <span class="token comment"># outputs: a c</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  <span class="token comment"># outputs: 0 2</span>

</code></pre></div><p><strong>Merge</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array3</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${array1<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token string">&quot;<span class="token variable">${array2<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>This works for sparse arrays as well.</p> <p><strong>Re-indexing an array</strong></p> <p>This can be useful if elements have been removed from an array, or if you're unsure whether there are gaps in the array. To recreate the indices without gaps:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="array-length"><a href="#array-length" class="header-anchor">#</a> Array Length</h2> <p><code>${#array[@]}</code> gives the length of the array <code>${array[@]}</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'first element'</span> <span class="token string">'second element'</span> <span class="token string">'third element'</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">#</span>array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token comment"># gives out a length of 3</span>

</code></pre></div><p>This works also with Strings in single elements:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">#</span>array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>&quot;</span>    <span class="token comment"># gives out the lenght of the string at element 0: 13</span>

</code></pre></div><h2 id="array-iteration"><a href="#array-iteration" class="header-anchor">#</a> Array Iteration</h2> <p>Array iteration comes in two flavors, foreach and the classic for-loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment"># foreach loop</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">y</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${a<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token comment"># act on $y</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$y</span>&quot;</span>
<span class="token keyword">done</span>
<span class="token comment"># classic for-loop</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>idx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> ${#a[@]}<span class="token punctuation">;</span> <span class="token operator">++</span>idx<span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token comment"># act on ${a[$idx]}</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${a<span class="token punctuation">[</span>$idx<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token keyword">done</span>

</code></pre></div><h3 id="you-can-also-iterate-over-the-output-of-a-command"><a href="#you-can-also-iterate-over-the-output-of-a-command" class="header-anchor">#</a> You can also iterate over the output of a command:</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">$(</span><span class="token function">tr</span> <span class="token string">','</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;&lt;</span><span class="token string">&quot;a,b,c,d&quot;</span><span class="token variable">)</span></span><span class="token punctuation">)</span> <span class="token comment"># tr can transform one character to another</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">y</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${a<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$y</span>&quot;</span>
<span class="token keyword">done</span>

</code></pre></div><h2 id="associative-arrays"><a href="#associative-arrays" class="header-anchor">#</a> Associative Arrays</h2> <p><strong>Declare an associative array</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -A aa 

</code></pre></div><p>Declaring an associative array before initialization or use is mandatory.</p> <p><strong>Initialize elements</strong></p> <p>You can initialize elements one at a time as follows:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>aa<span class="token punctuation">[</span>hello<span class="token punctuation">]</span><span class="token operator">=</span>world
aa<span class="token punctuation">[</span>ab<span class="token punctuation">]</span><span class="token operator">=</span>cd
aa<span class="token punctuation">[</span><span class="token string">&quot;key with space&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span>

</code></pre></div><p>You can also initialize an entire associative array in a single statement:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">aa</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">[</span>hello<span class="token punctuation">]</span><span class="token operator">=</span>world <span class="token punctuation">[</span>ab<span class="token punctuation">]</span><span class="token operator">=</span>cd <span class="token punctuation">[</span><span class="token string">&quot;key with space&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Access an associative array element</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token variable">${aa<span class="token punctuation">[</span>hello<span class="token punctuation">]</span>}</span>
<span class="token comment"># Out: world</span>

</code></pre></div><p><strong>Listing associative array keys</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>aa<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment">#Out: hello ab key with space</span>

</code></pre></div><p><strong>Listing associative array values</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${aa<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment">#Out: world cd hello world</span>

</code></pre></div><p><strong>Iterate over associative array keys and values</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">key</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>aa<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Key:   <span class="token variable">${key}</span>&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Value: <span class="token variable">${array<span class="token punctuation">[</span>$key<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token keyword">done</span>

<span class="token comment"># Out:</span>
<span class="token comment"># Key:   hello</span>
<span class="token comment"># Value: world</span>
<span class="token comment"># Key:   ab</span>
<span class="token comment"># Value: cd</span>
<span class="token comment"># Key:   key with space</span>
<span class="token comment"># Value: hello world</span>

</code></pre></div><p><strong>Count associative array elements</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">#</span>aa<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># Out: 3</span>

</code></pre></div><h2 id="looping-through-an-array"><a href="#looping-through-an-array" class="header-anchor">#</a> Looping through an array</h2> <p>Our example array:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f<span class="token punctuation">)</span>

</code></pre></div><p>Using a <code>for..in</code> loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$i</span>&quot;</span>
<span class="token keyword">done</span>

</code></pre></div><p>Using C-style <code>for</code> loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>${#arr[@]}<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>&quot;</span> 
<span class="token keyword">done</span>

</code></pre></div><p>Using <code>while</code> loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> -lt <span class="token variable">${<span class="token operator">#</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>&quot;</span>
    <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token variable">))</span></span>
<span class="token keyword">done</span>

</code></pre></div><p>Using <code>while</code> loop with numerical conditional:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> <span class="token variable"><span class="token punctuation">((</span> $i <span class="token operator">&lt;</span> ${#arr[@]} <span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>&quot;</span>
    <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">done</span>

</code></pre></div><p>Using an <code>until</code> loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> -ge <span class="token variable">${<span class="token operator">#</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>&quot;</span>
    <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token variable">))</span></span>
<span class="token keyword">done</span>

</code></pre></div><p>Using an <code>until</code> loop with numerical conditional:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">until</span> <span class="token variable"><span class="token punctuation">((</span> $i <span class="token operator">&gt;=</span> ${#arr[@]} <span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>&quot;</span>
    <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">done</span>

</code></pre></div><h2 id="destroy-delete-or-unset-an-array"><a href="#destroy-delete-or-unset-an-array" class="header-anchor">#</a> Destroy, Delete, or Unset an Array</h2> <p>To destroy, delete, or unset an array:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">unset</span> array

</code></pre></div><p>To destroy, delete, or unset a single array element:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">unset</span> array<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>

</code></pre></div><h2 id="list-of-initialized-indexes"><a href="#list-of-initialized-indexes" class="header-anchor">#</a> List of initialized indexes</h2> <p>Get the list of inialized indexes in an array</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'second'</span>
$ arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'tenth'</span>
$ arr<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'twenty five'</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token number">2</span> <span class="token number">10</span> <span class="token number">25</span>

</code></pre></div><h2 id="array-from-string"><a href="#array-from-string" class="header-anchor">#</a> Array from string</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">stringVar</span><span class="token operator">=</span><span class="token string">&quot;Apple Orange Banana Mango&quot;</span>
<span class="token assign-left variable">arrayVar</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable">${stringVar<span class="token operator">/</span><span class="token operator">/</span> <span class="token operator">/</span> }</span><span class="token punctuation">)</span>

</code></pre></div><p>Each space in the string denotes a new item in the resulting array.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token variable">${arrayVar<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span> <span class="token comment"># will print Apple</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arrayVar<span class="token punctuation">[</span>3<span class="token punctuation">]</span>}</span> <span class="token comment"># will print Mango</span>

</code></pre></div><p>Similarly, other characters can be used for the delimiter.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">stringVar</span><span class="token operator">=</span><span class="token string">&quot;Apple+Orange+Banana+Mango&quot;</span>
<span class="token assign-left variable">arrayVar</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable">${stringVar<span class="token operator">/</span><span class="token operator">/</span>+<span class="token operator">/</span> }</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arrayVar<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span> <span class="token comment"># will print Apple</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arrayVar<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span> <span class="token comment"># will print Banana</span>

</code></pre></div><h2 id="reading-an-entire-file-into-an-array"><a href="#reading-an-entire-file-into-an-array" class="header-anchor">#</a> Reading an entire file into an array</h2> <p>Reading in a single step:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">$'<span class="token entity" title="\n">\n</span>'</span> <span class="token builtin class-name">read</span> -r -a arr <span class="token operator">&lt;</span> <span class="token function">file</span>

</code></pre></div><p>Reading in a loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line<span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token assign-left variable">arr</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">$line</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">done</span>

</code></pre></div><p>Using <code>mapfile</code> or <code>readarray</code> (which are synonymous):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">mapfile</span> -t arr <span class="token operator">&lt;</span> <span class="token function">file</span>
<span class="token builtin class-name">readarray</span> -t arr <span class="token operator">&lt;</span> <span class="token function">file</span>

</code></pre></div><h2 id="array-insert-function"><a href="#array-insert-function" class="header-anchor">#</a> Array insert function</h2> <p>This function will insert an element into an array at a given index:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function-name function">insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token assign-left variable">h</span><span class="token operator">=</span><span class="token string">'
################## insert ########################
# Usage:
#   insert arr_name index element
#
#   Parameters:
#       arr_name    : Name of the array variable
#       index       : Index to insert at
#       element     : Element to insert
##################################################
    '</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token operator">=</span> -h <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$h</span>&quot;</span> <span class="token operator">&gt;</span>/dev/stderr<span class="token punctuation">;</span> <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token builtin class-name">declare</span> -n <span class="token assign-left variable">__arr__</span><span class="token operator">=</span><span class="token variable">$1</span>   <span class="token comment"># reference to the array variable</span>
    <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable">$2</span>                    <span class="token comment"># index to insert at</span>
    <span class="token assign-left variable">el</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$3</span>&quot;</span>                 <span class="token comment"># element to insert</span>
    <span class="token comment"># handle errors</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token string">&quot;<span class="token variable">$i</span>&quot;</span> <span class="token operator">=~</span> ^<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+$ <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;E: insert: index must be a valid integer&quot;</span> <span class="token operator">&gt;</span>/dev/stderr<span class="token punctuation">;</span> <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token variable"><span class="token punctuation">((</span> $<span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">))</span></span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;E: insert: index can not be negative&quot;</span> <span class="token operator">&gt;</span>/dev/stderr<span class="token punctuation">;</span> <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment"># Now insert $el at $i</span>
    <span class="token assign-left variable">__arr__</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${__arr__<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>0<span class="token operator">:</span>$i}</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$el</span>&quot;</span> <span class="token string">&quot;<span class="token variable">${__arr__<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>$i}</span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Usage:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>insert array_variable_name index element

</code></pre></div><p>Example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d<span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token comment"># output: c</span>
<span class="token comment"># Now call the insert function and pass the array variable name,</span>
<span class="token comment"># index to insert at</span>
<span class="token comment"># and the element to insert</span>
insert arr <span class="token number">2</span> <span class="token string">'New Element'</span>
<span class="token comment"># 'New Element' was inserted at index 2 in arr, now print them</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token comment"># output: New Element</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>3<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token comment"># output: c</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/bash/arrays.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bash/true-false-and-commands.html" class="prev">
        true, false and : commands
      </a></span> <span class="next"><a href="/bash/associative-arrays.html">
        Associative arrays
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/473.895e0e6f.js" defer></script>
  </body>
</html>
