<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bash - Conditional Expressions</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="File type tests, String comparison and matching, Test on exit status of a command, File comparison, File access tests, Numerical comparisons, One liner test">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Bash - Conditional Expressions">
    <meta property="og:description" content="File type tests, String comparison and matching, Test on exit status of a command, File comparison, File access tests, Numerical comparisons, One liner test">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/bash/conditional-expressions.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Bash - Conditional Expressions">
    <meta name="twitter:description" content="File type tests, String comparison and matching, Test on exit status of a command, File comparison, File access tests, Numerical comparisons, One liner test">
    <meta name="twitter:url" content="/bash/conditional-expressions.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/487.70ec1279.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Bash</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bash/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/bash/getting-started-with-bash.html" class="sidebar-link">Getting started with Bash</a></li><li><a href="/bash/script-shebang.html" class="sidebar-link">Script shebang</a></li><li><a href="/bash/navigating-directories.html" class="sidebar-link">Navigating directories</a></li><li><a href="/bash/listing-files.html" class="sidebar-link">Listing Files</a></li><li><a href="/bash/using-cat.html" class="sidebar-link">Using cat</a></li><li><a href="/bash/grep.html" class="sidebar-link">Grep</a></li><li><a href="/bash/aliasing.html" class="sidebar-link">Aliasing</a></li><li><a href="/bash/jobs-and-processes.html" class="sidebar-link">Jobs and Processes</a></li><li><a href="/bash/redirection.html" class="sidebar-link">Redirection</a></li><li><a href="/bash/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/bash/true-false-and-commands.html" class="sidebar-link">true, false and : commands</a></li><li><a href="/bash/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/bash/associative-arrays.html" class="sidebar-link">Associative arrays</a></li><li><a href="/bash/functions.html" class="sidebar-link">Functions</a></li><li><a href="/bash/bash-parameter-expansion.html" class="sidebar-link">Bash Parameter Expansion</a></li><li><a href="/bash/copying-cp.html" class="sidebar-link">Copying (cp)</a></li><li><a href="/bash/find.html" class="sidebar-link">Find</a></li><li><a href="/bash/using-sort.html" class="sidebar-link">Using sort</a></li><li><a href="/bash/sourcing.html" class="sidebar-link">Sourcing</a></li><li><a href="/bash/here-documents-and-here-strings.html" class="sidebar-link">Here documents and here strings</a></li><li><a href="/bash/quoting.html" class="sidebar-link">Quoting</a></li><li><a href="/bash/conditional-expressions.html" aria-current="page" class="active sidebar-link">Conditional Expressions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bash/conditional-expressions.html#file-type-tests" class="sidebar-link">File type tests</a></li><li class="sidebar-sub-header"><a href="/bash/conditional-expressions.html#string-comparison-and-matching" class="sidebar-link">String comparison and matching</a></li><li class="sidebar-sub-header"><a href="/bash/conditional-expressions.html#test-on-exit-status-of-a-command" class="sidebar-link">Test on exit status of a command</a></li><li class="sidebar-sub-header"><a href="/bash/conditional-expressions.html#file-comparison" class="sidebar-link">File comparison</a></li><li class="sidebar-sub-header"><a href="/bash/conditional-expressions.html#file-access-tests" class="sidebar-link">File access tests</a></li><li class="sidebar-sub-header"><a href="/bash/conditional-expressions.html#numerical-comparisons" class="sidebar-link">Numerical comparisons</a></li><li class="sidebar-sub-header"><a href="/bash/conditional-expressions.html#one-liner-test" class="sidebar-link">One liner test</a></li></ul></li><li><a href="/bash/scripting-with-parameters.html" class="sidebar-link">Scripting with Parameters</a></li><li><a href="/bash/bash-history-substitutions.html" class="sidebar-link">Bash history substitutions</a></li><li><a href="/bash/math.html" class="sidebar-link">Math</a></li><li><a href="/bash/bash-arithmetic.html" class="sidebar-link">Bash Arithmetic</a></li><li><a href="/bash/scoping.html" class="sidebar-link">Scoping</a></li><li><a href="/bash/process-substitution.html" class="sidebar-link">Process substitution</a></li><li><a href="/bash/programmable-completion.html" class="sidebar-link">Programmable completion</a></li><li><a href="/bash/customizing-ps1.html" class="sidebar-link">Customizing PS1</a></li><li><a href="/bash/brace-expansion.html" class="sidebar-link">Brace Expansion</a></li><li><a href="/bash/getopts-smart-positional-parameter-parsing.html" class="sidebar-link">getopts : smart positional-parameter parsing</a></li><li><a href="/bash/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/bash/pattern-matching-and-regular-expressions.html" class="sidebar-link">Pattern matching and regular expressions</a></li><li><a href="/bash/change-shell.html" class="sidebar-link">Change shell</a></li><li><a href="/bash/internal-variables.html" class="sidebar-link">Internal variables</a></li><li><a href="/bash/job-control.html" class="sidebar-link">Job Control</a></li><li><a href="/bash/case-statement.html" class="sidebar-link">Case statement</a></li><li><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html" class="sidebar-link">Read a file (data stream, variable) line-by-line (and/or field-by-field)?</a></li><li><a href="/bash/file-execution-sequence.html" class="sidebar-link">File execution sequence</a></li><li><a href="/bash/splitting-files.html" class="sidebar-link">Splitting Files</a></li><li><a href="/bash/file-transfer-using-scp.html" class="sidebar-link">File Transfer using scp</a></li><li><a href="/bash/pipelines.html" class="sidebar-link">Pipelines</a></li><li><a href="/bash/managing-path-environment-variable.html" class="sidebar-link">Managing PATH environment variable</a></li><li><a href="/bash/word-splitting.html" class="sidebar-link">Word splitting</a></li><li><a href="/bash/avoiding-date-using-printf.html" class="sidebar-link">Avoiding date using printf</a></li><li><a href="/bash/using-trap-to-react-to-signals-and-system-events.html" class="sidebar-link">Using &quot;trap&quot; to react to signals and system events</a></li><li><a href="/bash/chain-of-commands-and-operations.html" class="sidebar-link">Chain of commands and operations</a></li><li><a href="/bash/type-of-shells.html" class="sidebar-link">Type of Shells</a></li><li><a href="/bash/color-script-output-cross-platform.html" class="sidebar-link">Color script output (cross-platform)</a></li><li><a href="/bash/co-processes.html" class="sidebar-link">co-processes</a></li><li><a href="/bash/typing-variables.html" class="sidebar-link">Typing variables</a></li><li><a href="/bash/jobs-at-specific-times.html" class="sidebar-link">Jobs at specific times</a></li><li><a href="/bash/handling-the-system-prompt.html" class="sidebar-link">Handling the system prompt</a></li><li><a href="/bash/the-cut-command.html" class="sidebar-link">The cut command</a></li><li><a href="/bash/bash-on-windows-10.html" class="sidebar-link">Bash on Windows 10</a></li><li><a href="/bash/cut-command.html" class="sidebar-link">Cut Command</a></li><li><a href="/bash/global-and-local-variables.html" class="sidebar-link">global and local variables</a></li><li><a href="/bash/cgi-scripts.html" class="sidebar-link">CGI Scripts</a></li><li><a href="/bash/select-keyword.html" class="sidebar-link">Select keyword</a></li><li><a href="/bash/when-to-use-eval.html" class="sidebar-link">When to use eval</a></li><li><a href="/bash/networking-with-bash.html" class="sidebar-link">Networking With Bash</a></li><li><a href="/bash/parallel.html" class="sidebar-link">Parallel</a></li><li><a href="/bash/decoding-url.html" class="sidebar-link">Decoding URL</a></li><li><a href="/bash/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/bash/namespace.html" class="sidebar-link">Namespace</a></li><li><a href="/bash/creating-directories.html" class="sidebar-link">Creating directories</a></li><li><a href="/bash/strace.html" class="sidebar-link">strace</a></li><li><a href="/bash/sleep-utility.html" class="sidebar-link">Sleep utility</a></li><li><a href="/bash/pitfalls.html" class="sidebar-link">Pitfalls</a></li><li><a href="/bash/keyboard-shortcuts.html" class="sidebar-link">Keyboard shortcuts</a></li><li><a href="/bash/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="conditional-expressions"><a href="#conditional-expressions" class="header-anchor">#</a> Conditional Expressions</h1> <h2 id="file-type-tests"><a href="#file-type-tests" class="header-anchor">#</a> File type tests</h2> <p>The <code>-e</code> conditional operator tests whether a file exists (including all file types: directories, etc.).</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -e <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> exists&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>There are tests for specific file types as well.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -f <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a regular file&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -d <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a directory&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -p <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a named pipe&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -S <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a named socket&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -b <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a block device&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -c <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a character device&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -L <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a symbolic link (to any file type)&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>For a symbolic link, apart from <code>-L</code>, these tests apply to the target, and return false for a broken link.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -L <span class="token variable">$filename</span> <span class="token operator">||</span> -e <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> exists (but may be a broken symbolic link)&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -L <span class="token variable">$filename</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> -e <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a broken symbolic link&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><h2 id="string-comparison-and-matching"><a href="#string-comparison-and-matching" class="header-anchor">#</a> String comparison and matching</h2> <p>String comparison uses the <code>==</code> operator between <strong>quoted</strong> strings. The <code>!=</code> operator negates the comparison.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$string1</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;<span class="token variable">$string2</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$string1</span> and \<span class="token variable">$string2</span> are identical&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$string1</span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;<span class="token variable">$string2</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$string1</span> and \<span class="token variable">$string2</span> are not identical&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>If the right-hand side is not quoted then it is a wildcard pattern that <code>$string1</code> is matched against.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">'abc'</span>
<span class="token assign-left variable">pattern1</span><span class="token operator">=</span><span class="token string">'a*'</span>
<span class="token assign-left variable">pattern2</span><span class="token operator">=</span><span class="token string">'x*'</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> <span class="token operator">==</span> <span class="token variable">$pattern1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token comment"># the test is true</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;The string <span class="token variable">$string</span> matches the pattern <span class="token variable">$pattern</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> <span class="token operator">!=</span> <span class="token variable">$pattern2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token comment"># the test is false</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;The string <span class="token variable">$string</span> does not match the pattern <span class="token variable">$pattern</span>&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>The <code>&lt;</code> and <code>&gt;</code> operators compare the strings in lexicographic order (there are no less-or-equal or greater-or-equal operators for strings).</p> <p>There are unary tests for the empty string.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$string</span> is non-empty&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">${string<span class="token operator">/</span><span class="token operator">/</span> }</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$string</span> is empty or contains only spaces&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$string</span> is empty&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>Above, the <code>-z</code> check may mean <code>$string</code> is unset, or it is set to an empty string. To distinguish between empty and unset, use:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">${string+x}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$string</span> is set, possibly to the empty string&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">${string-x}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$string</span> is either unset or set to a non-empty string&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">${string+x}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$string</span> is unset&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">${string-x}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$string</span> is set to an empty string&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>where <code>x</code> is arbitrary. Or in <a href="http://serverfault.com/questions/7503/how-to-determine-if-a-bash-variable-is-empty" target="_blank" rel="noopener noreferrer">table form<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language- extra-class"><pre class="language-text"><code>
                       +-------+-------+-----------+
            $string is: | unset | empty | non-empty |
+-----------------------+-------+-------+-----------+
| [[ -z ${string} ]]    | true  | true  | false     |
| [[ -z ${string+x} ]]  | true  | false | false     |
| [[ -z ${string-x} ]]  | false | true  | false     |
| [[ -n ${string} ]]    | false | false | true      |
| [[ -n ${string+x} ]]  | false | true  | true      |
| [[ -n ${string-x} ]]  | true  | false | true      |
+-----------------------+-------+-------+-----------+

</code></pre></div><p><a href="http://unix.stackexchange.com/a/147362" target="_blank" rel="noopener noreferrer">Alternatively<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, the state can be checked in a case statement:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">case</span> <span class="token variable">${var+x$var}</span> <span class="token keyword">in</span>
  <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> empty<span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token builtin class-name">unset</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span>x*<span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">[</span>:blank:<span class="token punctuation">]</span><span class="token punctuation">]</span>*<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> non-blank<span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span>*<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> blank
<span class="token keyword">esac</span>

</code></pre></div><p>Where <code>[:blank:]</code> is locale specific horizontal spacing characters (tab, space, etc).</p> <h2 id="test-on-exit-status-of-a-command"><a href="#test-on-exit-status-of-a-command" class="header-anchor">#</a> Test on exit status of a command</h2> <p>Exit status 0: success<br>
Exit status other than 0: failure</p> <p>To test on the exit status of a command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token builtin class-name">command</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'success'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'failure'</span>
<span class="token keyword">fi</span>

</code></pre></div><h2 id="file-comparison"><a href="#file-comparison" class="header-anchor">#</a> File comparison</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$file1</span> -ef <span class="token variable">$file2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$file1</span> and <span class="token variable">$file2</span> are the same file&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>“Same file” means that modifying one of the files in place affects the other. Two files can be the same even if they have different names, for example if they are hard links, or if they are symbolic links with the same target, or if one is a symbolic link pointing to the other.</p> <p>If two files have the same content, but they are distinct files (so that modifying one does not affect the other), then <code>-ef</code> reports them as different. If you want to compare two files byte by byte, use the <code>cmp</code> utility.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token function">cmp</span> -s -- <span class="token string">&quot;<span class="token variable">$file1</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$file2</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$file1</span> and <span class="token variable">$file2</span> have identical contents&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$file1</span> and <span class="token variable">$file2</span> differ&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>To produce a human-readable list of differences between text files, use the <code>diff</code> utility.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token function">diff</span> -u <span class="token string">&quot;<span class="token variable">$file1</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$file2</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$file1</span> and <span class="token variable">$file2</span> have identical contents&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">:</span> <span class="token comment"># the differences between the files have been listed</span>
<span class="token keyword">fi</span>

</code></pre></div><h2 id="file-access-tests"><a href="#file-access-tests" class="header-anchor">#</a> File access tests</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -r <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a readable file&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -w <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is a writable file&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -x <span class="token variable">$filename</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$filename</span> is an executable file&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>These tests take permissions and ownership into account to determine whether the script (or programs launched from the script) can access the file.</p> <p>Beware of <a href="https://en.wikipedia.org/wiki/Time_of_check_to_time_of_use" target="_blank" rel="noopener noreferrer">race conditions (TOCTOU)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: just because the test succeeds now doesn't mean that it's still valid on the next line. It's usually better to try to access a file, and handle the error, rather than test first and then have to handle the error anyway in case the file has changed in the meantime.</p> <h2 id="numerical-comparisons"><a href="#numerical-comparisons" class="header-anchor">#</a> Numerical comparisons</h2> <p>Numerical comparisons use the <code>-eq</code> operators and friends</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$num1</span> -eq <span class="token variable">$num2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$num1</span> == <span class="token variable">$num2</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$num1</span> -le <span class="token variable">$num2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$num1</span> &lt;= <span class="token variable">$num2</span>&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>There are six numeric operators:</p> <ul><li><code>-eq</code> equal</li> <li><code>-ne</code> not equal</li> <li><code>-le</code> less or equal</li> <li><code>-lt</code> less than</li> <li><code>-ge</code> greater or equal</li> <li><code>-gt</code> greater than</li></ul> <p>Note that the <code>&lt;</code> and <code>&gt;</code> operators inside <code>[[ … ]]</code> compare strings, not numbers.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">9</span> -lt <span class="token number">10</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;9 is before 10 in numeric order&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">9</span> <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;9 is after 10 in lexicographic order&quot;</span>
<span class="token keyword">fi</span>

</code></pre></div><p>The two sides must be numbers written in decimal (or in octal with a leading zero). Alternatively, use the <code>((…))</code> arithmetic expression syntax, which performs <strong>integer</strong> calculations in a C/Java/…-like syntax.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token keyword">if</span> <span class="token variable"><span class="token punctuation">((</span><span class="token number">2</span><span class="token operator">*</span>x <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;2 times 2 is 4&quot;</span>
<span class="token keyword">fi</span>
<span class="token variable"><span class="token punctuation">((</span>x <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">))</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;2 plus 1 is <span class="token variable">$x</span>&quot;</span>

</code></pre></div><h2 id="one-liner-test"><a href="#one-liner-test" class="header-anchor">#</a> One liner test</h2> <p>You can do things like this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$s</span> <span class="token operator">=</span> <span class="token string">'something'</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'matched'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;didn't match&quot;</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$s</span> <span class="token operator">==</span> <span class="token string">'something'</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'matched'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;didn't match&quot;</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$s</span> <span class="token operator">!=</span> <span class="token string">'something'</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;didn't match&quot;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;matched&quot;</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$s</span> -eq <span class="token number">10</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'equal'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;not equal&quot;</span>
<span class="token variable"><span class="token punctuation">((</span> $s <span class="token operator">==</span> <span class="token number">10</span> <span class="token punctuation">))</span></span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'equal'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'not equal'</span>

</code></pre></div><p>One liner test for exit status:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">command</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'exited with 0'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'non 0 exit'</span>
cmd <span class="token operator">&amp;&amp;</span> cmd1 <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'previous cmds were successful'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'one of them failed'</span>
cmd <span class="token operator">||</span> cmd1 <span class="token comment">#If cmd fails try cmd1</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>[[ -OP $filename ]]</li> <li>[[ $file1 -OP $file2 ]]</li> <li>[[ -z $string ]]</li> <li>[[ -n $string ]]</li> <li>[[ &quot;$string1&quot; == &quot;$string2&quot; ]]</li> <li>[[ &quot;$string1&quot; == $pattern ]]</li></ul> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>The <code>[[ … ]]</code> syntax surrounds bash built-in conditional expressions. Note that spaces are required on either side of the brackets.</p> <p>Conditional expressions can use unary and binary operators to test properties of strings, integers and files. They can also use the logical operators <code>&amp;&amp;</code>, <code>||</code> and <code>!</code>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/bash/conditional-expressions.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bash/quoting.html" class="prev">
        Quoting
      </a></span> <span class="next"><a href="/bash/scripting-with-parameters.html">
        Scripting with Parameters
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/487.70ec1279.js" defer></script>
  </body>
</html>
