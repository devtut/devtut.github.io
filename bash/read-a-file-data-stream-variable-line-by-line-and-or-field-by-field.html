<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bash - Read a file (data stream, variable) line-by-line (and/or field-by-field)?</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Looping through a file line by line, Looping through the output of a command field by field, Read lines of a file into an array, Read lines of a string into an array, Looping through a string line by line, Looping through the output of a command line by line, Read a file field by field, Read a string field by field, Read fields of a file into an array, Read fields of a string into an array, Reads file (/etc/passwd) line by line and field by field">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Bash - Read a file (data stream, variable) line-by-line (and/or field-by-field)?">
    <meta property="og:description" content="Looping through a file line by line, Looping through the output of a command field by field, Read lines of a file into an array, Read lines of a string into an array, Looping through a string line by line, Looping through the output of a command line by line, Read a file field by field, Read a string field by field, Read fields of a file into an array, Read fields of a string into an array, Reads file (/etc/passwd) line by line and field by field">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Bash - Read a file (data stream, variable) line-by-line (and/or field-by-field)?">
    <meta name="twitter:description" content="Looping through a file line by line, Looping through the output of a command field by field, Read lines of a file into an array, Read lines of a string into an array, Looping through a string line by line, Looping through the output of a command line by line, Read a file field by field, Read a string field by field, Read fields of a file into an array, Read fields of a string into an array, Reads file (/etc/passwd) line by line and field by field">
    <meta name="twitter:url" content="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/525.c2dcc640.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Bash</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bash/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/bash/getting-started-with-bash.html" class="sidebar-link">Getting started with Bash</a></li><li><a href="/bash/script-shebang.html" class="sidebar-link">Script shebang</a></li><li><a href="/bash/navigating-directories.html" class="sidebar-link">Navigating directories</a></li><li><a href="/bash/listing-files.html" class="sidebar-link">Listing Files</a></li><li><a href="/bash/using-cat.html" class="sidebar-link">Using cat</a></li><li><a href="/bash/grep.html" class="sidebar-link">Grep</a></li><li><a href="/bash/aliasing.html" class="sidebar-link">Aliasing</a></li><li><a href="/bash/jobs-and-processes.html" class="sidebar-link">Jobs and Processes</a></li><li><a href="/bash/redirection.html" class="sidebar-link">Redirection</a></li><li><a href="/bash/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/bash/true-false-and-commands.html" class="sidebar-link">true, false and : commands</a></li><li><a href="/bash/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/bash/associative-arrays.html" class="sidebar-link">Associative arrays</a></li><li><a href="/bash/functions.html" class="sidebar-link">Functions</a></li><li><a href="/bash/bash-parameter-expansion.html" class="sidebar-link">Bash Parameter Expansion</a></li><li><a href="/bash/copying-cp.html" class="sidebar-link">Copying (cp)</a></li><li><a href="/bash/find.html" class="sidebar-link">Find</a></li><li><a href="/bash/using-sort.html" class="sidebar-link">Using sort</a></li><li><a href="/bash/sourcing.html" class="sidebar-link">Sourcing</a></li><li><a href="/bash/here-documents-and-here-strings.html" class="sidebar-link">Here documents and here strings</a></li><li><a href="/bash/quoting.html" class="sidebar-link">Quoting</a></li><li><a href="/bash/conditional-expressions.html" class="sidebar-link">Conditional Expressions</a></li><li><a href="/bash/scripting-with-parameters.html" class="sidebar-link">Scripting with Parameters</a></li><li><a href="/bash/bash-history-substitutions.html" class="sidebar-link">Bash history substitutions</a></li><li><a href="/bash/math.html" class="sidebar-link">Math</a></li><li><a href="/bash/bash-arithmetic.html" class="sidebar-link">Bash Arithmetic</a></li><li><a href="/bash/scoping.html" class="sidebar-link">Scoping</a></li><li><a href="/bash/process-substitution.html" class="sidebar-link">Process substitution</a></li><li><a href="/bash/programmable-completion.html" class="sidebar-link">Programmable completion</a></li><li><a href="/bash/customizing-ps1.html" class="sidebar-link">Customizing PS1</a></li><li><a href="/bash/brace-expansion.html" class="sidebar-link">Brace Expansion</a></li><li><a href="/bash/getopts-smart-positional-parameter-parsing.html" class="sidebar-link">getopts : smart positional-parameter parsing</a></li><li><a href="/bash/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/bash/pattern-matching-and-regular-expressions.html" class="sidebar-link">Pattern matching and regular expressions</a></li><li><a href="/bash/change-shell.html" class="sidebar-link">Change shell</a></li><li><a href="/bash/internal-variables.html" class="sidebar-link">Internal variables</a></li><li><a href="/bash/job-control.html" class="sidebar-link">Job Control</a></li><li><a href="/bash/case-statement.html" class="sidebar-link">Case statement</a></li><li><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html" aria-current="page" class="active sidebar-link">Read a file (data stream, variable) line-by-line (and/or field-by-field)?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#looping-through-a-file-line-by-line" class="sidebar-link">Looping through a file line by line</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#looping-through-the-output-of-a-command-field-by-field" class="sidebar-link">Looping through the output of a command field by field</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#read-lines-of-a-file-into-an-array" class="sidebar-link">Read lines of a file into an array</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#read-lines-of-a-string-into-an-array" class="sidebar-link">Read lines of a string into an array</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#looping-through-a-string-line-by-line" class="sidebar-link">Looping through a string line by line</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#looping-through-the-output-of-a-command-line-by-line" class="sidebar-link">Looping through the output of a command line by line</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#read-a-file-field-by-field" class="sidebar-link">Read a file field by field</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#read-a-string-field-by-field" class="sidebar-link">Read a string field by field</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#read-fields-of-a-file-into-an-array" class="sidebar-link">Read fields of a file into an array</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#read-fields-of-a-string-into-an-array" class="sidebar-link">Read fields of a string into an array</a></li><li class="sidebar-sub-header"><a href="/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.html#reads-file-etc-passwd-line-by-line-and-field-by-field" class="sidebar-link">Reads file (/etc/passwd) line by line and field by field</a></li></ul></li><li><a href="/bash/file-execution-sequence.html" class="sidebar-link">File execution sequence</a></li><li><a href="/bash/splitting-files.html" class="sidebar-link">Splitting Files</a></li><li><a href="/bash/file-transfer-using-scp.html" class="sidebar-link">File Transfer using scp</a></li><li><a href="/bash/pipelines.html" class="sidebar-link">Pipelines</a></li><li><a href="/bash/managing-path-environment-variable.html" class="sidebar-link">Managing PATH environment variable</a></li><li><a href="/bash/word-splitting.html" class="sidebar-link">Word splitting</a></li><li><a href="/bash/avoiding-date-using-printf.html" class="sidebar-link">Avoiding date using printf</a></li><li><a href="/bash/using-trap-to-react-to-signals-and-system-events.html" class="sidebar-link">Using &quot;trap&quot; to react to signals and system events</a></li><li><a href="/bash/chain-of-commands-and-operations.html" class="sidebar-link">Chain of commands and operations</a></li><li><a href="/bash/type-of-shells.html" class="sidebar-link">Type of Shells</a></li><li><a href="/bash/color-script-output-cross-platform.html" class="sidebar-link">Color script output (cross-platform)</a></li><li><a href="/bash/co-processes.html" class="sidebar-link">co-processes</a></li><li><a href="/bash/typing-variables.html" class="sidebar-link">Typing variables</a></li><li><a href="/bash/jobs-at-specific-times.html" class="sidebar-link">Jobs at specific times</a></li><li><a href="/bash/handling-the-system-prompt.html" class="sidebar-link">Handling the system prompt</a></li><li><a href="/bash/the-cut-command.html" class="sidebar-link">The cut command</a></li><li><a href="/bash/bash-on-windows-10.html" class="sidebar-link">Bash on Windows 10</a></li><li><a href="/bash/cut-command.html" class="sidebar-link">Cut Command</a></li><li><a href="/bash/global-and-local-variables.html" class="sidebar-link">global and local variables</a></li><li><a href="/bash/cgi-scripts.html" class="sidebar-link">CGI Scripts</a></li><li><a href="/bash/select-keyword.html" class="sidebar-link">Select keyword</a></li><li><a href="/bash/when-to-use-eval.html" class="sidebar-link">When to use eval</a></li><li><a href="/bash/networking-with-bash.html" class="sidebar-link">Networking With Bash</a></li><li><a href="/bash/parallel.html" class="sidebar-link">Parallel</a></li><li><a href="/bash/decoding-url.html" class="sidebar-link">Decoding URL</a></li><li><a href="/bash/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/bash/namespace.html" class="sidebar-link">Namespace</a></li><li><a href="/bash/creating-directories.html" class="sidebar-link">Creating directories</a></li><li><a href="/bash/strace.html" class="sidebar-link">strace</a></li><li><a href="/bash/sleep-utility.html" class="sidebar-link">Sleep utility</a></li><li><a href="/bash/pitfalls.html" class="sidebar-link">Pitfalls</a></li><li><a href="/bash/keyboard-shortcuts.html" class="sidebar-link">Keyboard shortcuts</a></li><li><a href="/bash/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="read-a-file-data-stream-variable-line-by-line-and-or-field-by-field"><a href="#read-a-file-data-stream-variable-line-by-line-and-or-field-by-field" class="header-anchor">#</a> Read a file (data stream, variable) line-by-line (and/or field-by-field)?</h1> <h2 id="looping-through-a-file-line-by-line"><a href="#looping-through-a-file-line-by-line" class="header-anchor">#</a> Looping through a file line by line</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line<span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$line</span>&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span>file

</code></pre></div><p>If file may not include a newline at the end, then:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line <span class="token operator">||</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$line</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$line</span>&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span>file

</code></pre></div><h2 id="looping-through-the-output-of-a-command-field-by-field"><a href="#looping-through-the-output-of-a-command-field-by-field" class="header-anchor">#</a> Looping through the output of a command field by field</h2> <p>Let's assume that the field separator is <code>:</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -d <span class="token builtin class-name">:</span> -r field <span class="token operator">||</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$field</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;**<span class="token variable">$field</span>**&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">ping</span> google.com<span class="token punctuation">)</span>

</code></pre></div><p>Or with a pipe:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ping</span> google.com <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -d <span class="token builtin class-name">:</span> -r field <span class="token operator">||</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$field</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;**<span class="token variable">$field</span>**&quot;</span>
<span class="token keyword">done</span>

</code></pre></div><h2 id="read-lines-of-a-file-into-an-array"><a href="#read-lines-of-a-file-into-an-array" class="header-anchor">#</a> Read lines of a file into an array</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">readarray</span> -t arr <span class="token operator">&lt;</span>file

</code></pre></div><p>Or with a loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line<span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token assign-left variable">arr</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">$line</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span>file

</code></pre></div><h2 id="read-lines-of-a-string-into-an-array"><a href="#read-lines-of-a-string-into-an-array" class="header-anchor">#</a> Read lines of a string into an array</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">'line 1
line 2
line3'</span>
<span class="token builtin class-name">readarray</span> -t arr <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>

</code></pre></div><p>or with a loop:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line<span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token assign-left variable">arr</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">$line</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">done</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>

</code></pre></div><h2 id="looping-through-a-string-line-by-line"><a href="#looping-through-a-string-line-by-line" class="header-anchor">#</a> Looping through a string line by line</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">'line 1
line 2
line3'</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line<span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-<span class="token variable">$line</span>-&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>

</code></pre></div><p>or</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">readarray</span> -t arr <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span><span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;-<span class="token variable">$i</span>-&quot;</span>
<span class="token keyword">done</span>

</code></pre></div><h2 id="looping-through-the-output-of-a-command-line-by-line"><a href="#looping-through-the-output-of-a-command-line-by-line" class="header-anchor">#</a> Looping through the output of a command line by line</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line<span class="token punctuation">;</span><span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;**<span class="token variable">$line</span>**&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">ping</span> google.com<span class="token punctuation">)</span>

</code></pre></div><p>or with a pipe:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ping</span> google.com <span class="token operator">|</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line<span class="token punctuation">;</span><span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;**<span class="token variable">$line</span>**&quot;</span>
<span class="token keyword">done</span>

</code></pre></div><h2 id="read-a-file-field-by-field"><a href="#read-a-file-field-by-field" class="header-anchor">#</a> Read a file field by field</h2> <p>Let's assume that the field separator is <code>:</code> (colon) in the file <strong>file</strong>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -d <span class="token builtin class-name">:</span> -r field <span class="token operator">||</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$field</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$field</span>&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span>file

</code></pre></div><p>For a content:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>first <span class="token builtin class-name">:</span> se
con
d:
    Thi rd:
    Fourth

</code></pre></div><p>The output is:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>**first **
** se
con
d**
**
    Thi rd**
**
    Fourth
**

</code></pre></div><h2 id="read-a-string-field-by-field"><a href="#read-a-string-field-by-field" class="header-anchor">#</a> Read a string field by field</h2> <p>Let's assume that the field separator is <code>:</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">'line: 1
line: 2
line3'</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -d <span class="token builtin class-name">:</span> -r field <span class="token operator">||</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$field</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-<span class="token variable">$field</span>-&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>

</code></pre></div><p>Output:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>-line-
- <span class="token number">1</span>
line-
- <span class="token number">2</span>
line3
-

</code></pre></div><h2 id="read-fields-of-a-file-into-an-array"><a href="#read-fields-of-a-file-into-an-array" class="header-anchor">#</a> Read fields of a file into an array</h2> <p>Let's assume that the field separator is <code>:</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -d <span class="token builtin class-name">:</span> -r field <span class="token operator">||</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$field</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token assign-left variable">arr</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">$field</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span>file

</code></pre></div><h2 id="read-fields-of-a-string-into-an-array"><a href="#read-fields-of-a-string-into-an-array" class="header-anchor">#</a> Read fields of a string into an array</h2> <p>Let's assume that the field separator is <code>:</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">'1:2:3:4:
newline'</span>
<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -d <span class="token builtin class-name">:</span> -r field <span class="token operator">||</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$field</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
   <span class="token assign-left variable">arr</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">$field</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">done</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>4<span class="token punctuation">]</span>}</span>&quot;</span>

</code></pre></div><p>Output:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>newline

</code></pre></div><h2 id="reads-file-etc-passwd-line-by-line-and-field-by-field"><a href="#reads-file-etc-passwd-line-by-line-and-field-by-field" class="header-anchor">#</a> Reads file (/etc/passwd) line by line and field by field</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">FILENAME</span><span class="token operator">=</span><span class="token string">&quot;/etc/passwd&quot;</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span>: <span class="token builtin class-name">read</span> -r username password userid groupid comment homedir cmdshell
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$username</span>, <span class="token variable">$userid</span>, <span class="token variable">$comment</span> <span class="token variable">$homedir</span>&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span> <span class="token variable">$FILENAME</span>

</code></pre></div><p>In unix password file, user information is stored line by line, each line consisting of information for a user separated by colon (üòÉ character. In this example while reading the file line by line, the line is also split into fields using colon character as delimiter which is indicated by the value given for IFS.</p> <p><strong>Sample input</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/bash
pulse:x:497:495:PulseAudio System Daemon:/var/run/pulse:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
tomcat:x:91:91:Apache Tomcat:/usr/share/tomcat6:/sbin/nologin
webalizer:x:67:67:Webalizer:/var/www/usage:/sbin/nologin

</code></pre></div><p><strong>Sample Output</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql, <span class="token number">27</span>, MySQL Server /var/lib/mysql
pulse, <span class="token number">497</span>, PulseAudio System Daemon /var/run/pulse
sshd, <span class="token number">74</span>, Privilege-separated SSH /var/empty/sshd
tomcat, <span class="token number">91</span>, Apache Tomcat /usr/share/tomcat6
webalizer, <span class="token number">67</span>, Webalizer /var/www/usage

</code></pre></div><p>To read line by line and have the entire line assigned to variable, following is a modified version of the example. Note that we have only one variable by name line mentioned here.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">FILENAME</span><span class="token operator">=</span><span class="token string">&quot;/etc/passwd&quot;</span>
<span class="token keyword">while</span> <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span> <span class="token builtin class-name">read</span> -r line
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$line</span>&quot;</span>
<span class="token keyword">done</span> <span class="token operator">&lt;</span> <span class="token variable">$FILENAME</span>

</code></pre></div><p><strong>Sample Input</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/bash
pulse:x:497:495:PulseAudio System Daemon:/var/run/pulse:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
tomcat:x:91:91:Apache Tomcat:/usr/share/tomcat6:/sbin/nologin
webalizer:x:67:67:Webalizer:/var/www/usage:/sbin/nologin

</code></pre></div><p><strong>Sample Output</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/bash
pulse:x:497:495:PulseAudio System Daemon:/var/run/pulse:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
tomcat:x:91:91:Apache Tomcat:/usr/share/tomcat6:/sbin/nologin
webalizer:x:67:67:Webalizer:/var/www/usage:/sbin/nologin

</code></pre></div><h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td>IFS</td> <td>Internal field separator</td></tr> <tr><td>file</td> <td>A file name/path</td></tr> <tr><td><code>-r</code></td> <td>Prevents backslash interpretation when used with read</td></tr> <tr><td><code>-t</code></td> <td>Removes a trailing newline from each line read by <code>readarray</code></td></tr> <tr><td><code>-d DELIM</code></td> <td>Continue until the first character of DELIM is read (with <code>read</code>), rather than newline</td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/bash/read-a-file-data-stream-variable-line-by-line-and-or-field-by-field.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/bash/case-statement.html" class="prev">
        Case statement
      </a></span> <span class="next"><a href="/bash/file-execution-sequence.html">
        File execution sequence
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/525.c2dcc640.js" defer></script>
  </body>
</html>
