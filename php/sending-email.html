<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP - Sending Email</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Sending Email - The basics, more details, and a full example, Sending HTML Email Using mail(), Sending Email With An Attachment Using mail(), Sending Plain Text Email Using PHPMailer, Sending HTML Email Using PHPMailer, Sending Email With An Attachment Using PHPMailer, Sending Plain Text Email Using Sendgrid, Sending Email With An Attachment Using Sendgrid">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PHP - Sending Email">
    <meta property="og:description" content="Sending Email - The basics, more details, and a full example, Sending HTML Email Using mail(), Sending Email With An Attachment Using mail(), Sending Plain Text Email Using PHPMailer, Sending HTML Email Using PHPMailer, Sending Email With An Attachment Using PHPMailer, Sending Plain Text Email Using Sendgrid, Sending Email With An Attachment Using Sendgrid">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/php/sending-email.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PHP - Sending Email">
    <meta name="twitter:description" content="Sending Email - The basics, more details, and a full example, Sending HTML Email Using mail(), Sending Email With An Attachment Using mail(), Sending Plain Text Email Using PHPMailer, Sending HTML Email Using PHPMailer, Sending Email With An Attachment Using PHPMailer, Sending Plain Text Email Using Sendgrid, Sending Email With An Attachment Using Sendgrid">
    <meta name="twitter:url" content="/php/sending-email.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2504.a0d23757.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PHP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/php/installing-a-php-environment-on-windows.html" class="sidebar-link">Installing a PHP environment on Windows</a></li><li><a href="/php/installing-on-linux-unix-environments.html" class="sidebar-link">Installing on Linux/Unix Environments</a></li><li><a href="/php/getting-started-with-php.html" class="sidebar-link">Getting started with PHP</a></li><li><a href="/php/variables.html" class="sidebar-link">Variables</a></li><li><a href="/php/variable-scope.html" class="sidebar-link">Variable Scope</a></li><li><a href="/php/superglobal-variables-php.html" class="sidebar-link">Superglobal Variables PHP</a></li><li><a href="/php/outputting-the-value-of-a-variable.html" class="sidebar-link">Outputting the Value of a Variable</a></li><li><a href="/php/constants.html" class="sidebar-link">Constants</a></li><li><a href="/php/magic-constants.html" class="sidebar-link">Magic Constants</a></li><li><a href="/php/comments.html" class="sidebar-link">Comments</a></li><li><a href="/php/types.html" class="sidebar-link">Types</a></li><li><a href="/php/operators.html" class="sidebar-link">Operators</a></li><li><a href="/php/references.html" class="sidebar-link">References</a></li><li><a href="/php/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/php/array-iteration.html" class="sidebar-link">Array iteration</a></li><li><a href="/php/executing-upon-an-array.html" class="sidebar-link">Executing Upon an Array</a></li><li><a href="/php/manipulating-an-array.html" class="sidebar-link">Manipulating an Array</a></li><li><a href="/php/processing-multiple-arrays-together.html" class="sidebar-link">Processing Multiple Arrays Together</a></li><li><a href="/php/datetime-class.html" class="sidebar-link">Datetime Class</a></li><li><a href="/php/working-with-dates-and-time.html" class="sidebar-link">Working with Dates and Time</a></li><li><a href="/php/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/php/loops.html" class="sidebar-link">Loops</a></li><li><a href="/php/functions.html" class="sidebar-link">Functions</a></li><li><a href="/php/functional-programming.html" class="sidebar-link">Functional Programming</a></li><li><a href="/php/alternative-syntax-for-control-structures.html" class="sidebar-link">Alternative Syntax for Control Structures</a></li><li><a href="/php/string-formatting.html" class="sidebar-link">String formatting</a></li><li><a href="/php/string-parsing.html" class="sidebar-link">String Parsing</a></li><li><a href="/php/classes-and-objects.html" class="sidebar-link">Classes and Objects</a></li><li><a href="/php/namespaces.html" class="sidebar-link">Namespaces</a></li><li><a href="/php/sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/php/cookies.html" class="sidebar-link">Cookies</a></li><li><a href="/php/output-buffering.html" class="sidebar-link">Output Buffering</a></li><li><a href="/php/json.html" class="sidebar-link">JSON</a></li><li><a href="/php/soap-client.html" class="sidebar-link">SOAP Client</a></li><li><a href="/php/using-curl-in-php.html" class="sidebar-link">Using cURL in PHP</a></li><li><a href="/php/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/php/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/php/xml.html" class="sidebar-link">XML</a></li><li><a href="/php/simplexml.html" class="sidebar-link">SimpleXML</a></li><li><a href="/php/parsing-html.html" class="sidebar-link">Parsing HTML</a></li><li><a href="/php/regular-expressions-regexp-pcre.html" class="sidebar-link">Regular Expressions (regexp/PCRE)</a></li><li><a href="/php/traits.html" class="sidebar-link">Traits</a></li><li><a href="/php/composer-dependency-manager.html" class="sidebar-link">Composer Dependency Manager</a></li><li><a href="/php/magic-methods.html" class="sidebar-link">Magic Methods</a></li><li><a href="/php/file-handling.html" class="sidebar-link">File handling</a></li><li><a href="/php/streams.html" class="sidebar-link">Streams</a></li><li><a href="/php/type-hinting.html" class="sidebar-link">Type hinting</a></li><li><a href="/php/filters-filter-functions.html" class="sidebar-link">Filters &amp; Filter Functions</a></li><li><a href="/php/generators.html" class="sidebar-link">Generators</a></li><li><a href="/php/utf-8.html" class="sidebar-link">UTF-8</a></li><li><a href="/php/how-to-break-down-an-url.html" class="sidebar-link">How to break down an URL</a></li><li><a href="/php/object-serialization.html" class="sidebar-link">Object Serialization</a></li><li><a href="/php/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/php/closure.html" class="sidebar-link">Closure</a></li><li><a href="/php/reading-request-data.html" class="sidebar-link">Reading Request Data</a></li><li><a href="/php/type-juggling-and-non-strict-comparison-issues.html" class="sidebar-link">Type juggling and Non-Strict Comparison Issues</a></li><li><a href="/php/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/php/pdo.html" class="sidebar-link">PDO</a></li><li><a href="/php/php-mysqli.html" class="sidebar-link">PHP MySQLi</a></li><li><a href="/php/sqlite3.html" class="sidebar-link">SQLite3</a></li><li><a href="/php/using-mongodb.html" class="sidebar-link">Using MongoDB</a></li><li><a href="/php/mongo-php.html" class="sidebar-link">mongo-php</a></li><li><a href="/php/using-redis-with-php.html" class="sidebar-link">Using Redis with PHP</a></li><li><a href="/php/sending-email.html" aria-current="page" class="active sidebar-link">Sending Email</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-email-the-basics-more-details-and-a-full-example" class="sidebar-link">Sending Email - The basics, more details, and a full example</a></li><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-html-email-using-mail" class="sidebar-link">Sending HTML Email Using mail()</a></li><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-email-with-an-attachment-using-mail" class="sidebar-link">Sending Email With An Attachment Using mail()</a></li><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-plain-text-email-using-phpmailer" class="sidebar-link">Sending Plain Text Email Using PHPMailer</a></li><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-html-email-using-phpmailer" class="sidebar-link">Sending HTML Email Using PHPMailer</a></li><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-email-with-an-attachment-using-phpmailer" class="sidebar-link">Sending Email With An Attachment Using PHPMailer</a></li><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-plain-text-email-using-sendgrid" class="sidebar-link">Sending Plain Text Email Using Sendgrid</a></li><li class="sidebar-sub-header"><a href="/php/sending-email.html#sending-email-with-an-attachment-using-sendgrid" class="sidebar-link">Sending Email With An Attachment Using Sendgrid</a></li></ul></li><li><a href="/php/using-sqlsrv.html" class="sidebar-link">Using SQLSRV</a></li><li><a href="/php/command-line-interface-cli.html" class="sidebar-link">Command Line Interface (CLI)</a></li><li><a href="/php/localization.html" class="sidebar-link">Localization</a></li><li><a href="/php/headers-manipulation.html" class="sidebar-link">Headers Manipulation</a></li><li><a href="/php/coding-conventions.html" class="sidebar-link">Coding Conventions</a></li><li><a href="/php/asynchronous-programming.html" class="sidebar-link">Asynchronous programming</a></li><li><a href="/php/how-to-detect-client-ip-address.html" class="sidebar-link">How to Detect Client IP Address</a></li><li><a href="/php/create-pdf-files-in-php.html" class="sidebar-link">Create PDF files in PHP</a></li><li><a href="/php/yaml-in-php.html" class="sidebar-link">YAML in PHP</a></li><li><a href="/php/image-processing-with-gd.html" class="sidebar-link">Image Processing with GD</a></li><li><a href="/php/imagick.html" class="sidebar-link">Imagick</a></li><li><a href="/php/soap-server.html" class="sidebar-link">SOAP Server</a></li><li><a href="/php/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/php/cache.html" class="sidebar-link">Cache</a></li><li><a href="/php/autoloading-primer.html" class="sidebar-link">Autoloading Primer</a></li><li><a href="/php/spl-data-structures.html" class="sidebar-link">SPL data structures</a></li><li><a href="/php/imap.html" class="sidebar-link">IMAP</a></li><li><a href="/php/http-authentication.html" class="sidebar-link">HTTP Authentication</a></li><li><a href="/php/websockets.html" class="sidebar-link">WebSockets</a></li><li><a href="/php/bc-math-binary-calculator.html" class="sidebar-link">BC Math (Binary Calculator)</a></li><li><a href="/php/docker-deployment.html" class="sidebar-link">Docker deployment</a></li><li><a href="/php/apcu.html" class="sidebar-link">APCu</a></li><li><a href="/php/php-built-in-server.html" class="sidebar-link">PHP Built in server</a></li><li><a href="/php/psr.html" class="sidebar-link">PSR</a></li><li><a href="/php/phpdoc.html" class="sidebar-link">PHPDoc</a></li><li><a href="/php/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/php/compile-php-extensions.html" class="sidebar-link">Compile PHP Extensions</a></li><li><a href="/php/common-errors.html" class="sidebar-link">Common Errors</a></li><li><a href="/php/compilation-of-errors-and-warnings.html" class="sidebar-link">Compilation of Errors and Warnings</a></li><li><a href="/php/exception-handling-and-error-reporting.html" class="sidebar-link">Exception Handling and Error Reporting</a></li><li><a href="/php/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/php/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/php/performance.html" class="sidebar-link">Performance</a></li><li><a href="/php/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/php/multi-threading-extension.html" class="sidebar-link">Multi Threading Extension</a></li><li><a href="/php/secure-remeber-me.html" class="sidebar-link">Secure Remeber Me</a></li><li><a href="/php/security.html" class="sidebar-link">Security</a></li><li><a href="/php/cryptography.html" class="sidebar-link">Cryptography</a></li><li><a href="/php/password-hashing-functions.html" class="sidebar-link">Password Hashing Functions</a></li><li><a href="/php/urls.html" class="sidebar-link">URLs</a></li><li><a href="/php/unicode-support-in-php.html" class="sidebar-link">Unicode Support in PHP</a></li><li><a href="/php/getting-started-with-php-7.html" class="sidebar-link">Getting started with php-7</a></li><li><a href="/php/null-coalesce-operator.html" class="sidebar-link">Null Coalesce Operator</a></li><li><a href="/php/spaceship-operator.html" class="sidebar-link">Spaceship operator</a></li><li><a href="/php/anonymous-class.html" class="sidebar-link">Anonymous class</a></li><li><a href="/php/contributing-to-the-php-manual.html" class="sidebar-link">Contributing to the PHP Manual</a></li><li><a href="/php/contributing-to-the-php-core.html" class="sidebar-link">Contributing to the PHP Core</a></li><li><a href="/php/getting-started-with-composer-php.html" class="sidebar-link">Getting started with composer-php</a></li><li><a href="/php/auto-loading-with-composer.html" class="sidebar-link">Auto loading with composer</a></li><li><a href="/php/how-to-use-private-repositories-with-composer.html" class="sidebar-link">How to use private repositories with Composer</a></li><li><a href="/php/getting-started-with-phpunit.html" class="sidebar-link">Getting Started with PHPUnit</a></li><li><a href="/php/assertions.html" class="sidebar-link">Assertions</a></li><li><a href="/php/test-doubles-mocks-and-stubs.html" class="sidebar-link">Test Doubles (Mocks and Stubs)</a></li><li><a href="/php/recipes.html" class="sidebar-link">Recipes</a></li><li><a href="/php/php-mysqli-affected-rows-returns-0-when-it-should-return-a-positive-integer.html" class="sidebar-link">php mysqli affected rows returns 0 when it should return a positive integer</a></li><li><a href="/php/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sending-email"><a href="#sending-email" class="header-anchor">#</a> Sending Email</h1> <h2 id="sending-email-the-basics-more-details-and-a-full-example"><a href="#sending-email-the-basics-more-details-and-a-full-example" class="header-anchor">#</a> Sending Email - The basics, more details, and a full example</h2> <p>A typical email has three main components:</p> <ol><li>A recipient (represented as an email address)</li> <li>A subject</li> <li>A message body</li></ol> <p>Sending mail in PHP can be as simple as calling the built-in function <code>mail()</code>. <code>mail()</code> takes up to five parameters but the first three are all that is required to send an email (although the four parameters is commonly used as will be demonstrated below). The first three parameters are:</p> <ol><li>The recipient's email address (string)</li> <li>The email's subject (string)</li> <li>The body of the email (string) (e.g. the content of the email)</li></ol> <p>A minimal example would resemble the following code:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">mail</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'recipient@example.com'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Email Subject'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'This is the email message body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The simple example above works well in limited circumstances such as hardcoding an email alert for an internal system. However, it is common to place the data passed as the parameters for <code>mail()</code> in variables to make the code cleaner and easier to manage (for example, dynamically building an email from a form submission).</p> <p>Additionally, <code>mail()</code> accepts a fourth parameter which allows you to have additional mail headers sent with your email. These headers can allow you to set:</p> <ul><li>the <code>From</code> name and email address the user will see</li> <li>the <code>Reply-To</code> email address the user's response will be sent to</li> <li>additional non-standards headers like <code>X-Mailer</code> which can tell the recipient this email was sent via PHP</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$to</span>      <span class="token operator">=</span> <span class="token string single-quoted-string">'recipient@example.com'</span><span class="token punctuation">;</span>             <span class="token comment">// Could also be $to      = $_POST['recipient'];  </span>
<span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Email Subject'</span><span class="token punctuation">;</span>                     <span class="token comment">// Could also be $subject = $_POST['subject'];  </span>
<span class="token variable">$message</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'This is the email message body'</span><span class="token punctuation">;</span>    <span class="token comment">// Could also be $message = $_POST['message'];  </span>
<span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\r\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'From: John Conde &lt;webmaster@example.com&gt;'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'Reply-To: webmaster@example.com'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'X-Mailer: PHP/'</span> <span class="token operator">.</span> <span class="token constant">PHP_VERSION</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The optional fifth parameter can be used to pass additional flags as command line options to the program configured to be used when sending mail, as defined by the <code>sendmail_path</code> configuration setting. For example, this can be used to set the envelope sender address when using sendmail/postfix with the <code>-f</code> sendmail option.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fifth</span>  <span class="token operator">=</span> <span class="token string single-quoted-string">'-fno-reply@example.com'</span><span class="token punctuation">;</span>

</code></pre></div><p>Although using <code>mail()</code> can be pretty reliable, it is by no means guaranteed that an email will be sent when <code>mail()</code> is called. To see if there is a potential error when sending your email, you should capture the return value from <code>mail()</code>. <code>TRUE</code> will be returned if the mail was successfully accepted for delivery. Otherwise, you will receive <code>FALSE</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mail</span><span class="token punctuation">(</span><span class="token variable">$to</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">,</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$headers</span><span class="token punctuation">,</span> <span class="token variable">$fifth</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>NOTE</strong>: Although <code>mail()</code> may return <code>TRUE</code>, it does <strong>not</strong> mean the email was sent or that the email will be received by the recipient. It only indicates the mail was successfully handed over to your system's mail system successfully.</p> <p>If you wish to send an HTML email, there isn't a lot more work you need to do. You need to:</p> <ol><li>Add the <code>MIME-Version</code> header</li> <li>Add the <code>Content-Type</code> header</li> <li>Make sure your email content is HTML</li></ol> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$to</span>      <span class="token operator">=</span> <span class="token string single-quoted-string">'recipient@example.com'</span><span class="token punctuation">;</span>                            
<span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Email Subject'</span><span class="token punctuation">;</span>                                     
<span class="token variable">$message</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'&lt;html&gt;&lt;body&gt;This is the email message body&lt;/body&gt;&lt;/html&gt;'</span><span class="token punctuation">;</span>       
<span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\r\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'From: John Conde &lt;webmaster@example.com&gt;'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'Reply-To: webmaster@example.com'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'MIME-Version: 1.0'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'Content-Type: text/html; charset=ISO-8859-1'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'X-Mailer: PHP/'</span> <span class="token operator">.</span> <span class="token constant">PHP_VERSION</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Here's a full example of using PHP's <code>mail()</code> function</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token comment">// Debugging tools. Only turn these on in your development environment.</span>

<span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'display_errors'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'On'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">set_error_handler</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;var_dump&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Special mail settings that can make mail less likely to be considered spam</span>
<span class="token comment">// and offers logging in case of technical difficulties.</span>

<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;mail.log&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/tmp/mail.log&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;mail.add_x_header&quot;</span><span class="token punctuation">,</span> <span class="token constant boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// The components of our email</span>

<span class="token variable">$to</span>      <span class="token operator">=</span> <span class="token string single-quoted-string">'recipient@example.com'</span><span class="token punctuation">;</span>
<span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Email Subject'</span><span class="token punctuation">;</span>
<span class="token variable">$message</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'This is the email message body'</span><span class="token punctuation">;</span>
<span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\r\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'From: webmaster@example.com'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'Reply-To: webmaster@example.com'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'X-Mailer: PHP/'</span> <span class="token operator">.</span> <span class="token constant">PHP_VERSION</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Send the email</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mail</span><span class="token punctuation">(</span><span class="token variable">$to</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">,</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Check the results and react accordingly</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
    <span class="token comment">// Success! Redirect to a thank you page. Use the</span>
    <span class="token comment">// POST/REDIRECT/GET pattern to prevent form resubmissions</span>
    <span class="token comment">// when a user refreshes the page.</span>
  
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: http://example.com/path/to/thank-you.php'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">303</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">exit</span><span class="token punctuation">;</span>
  
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
  
    <span class="token comment">// Your mail was not sent. Check your logs to see if</span>
    <span class="token comment">// the reason was reported there for you.</span>
  
<span class="token punctuation">}</span>

</span></code></pre></div><p>See Also</p> <p>Official documentation</p> <ul><li><a href="http://php.net/manual/en/function.mail.php" target="_blank" rel="noopener noreferrer"><code>mail()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://php.net/manual/en/mail.configuration.php" target="_blank" rel="noopener noreferrer">PHP <code>mail()</code> configuration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Related Stack Overflow Questions</p> <ul><li><a href="http://stackoverflow.com/q/24644436/250259" target="_blank" rel="noopener noreferrer">PHP mail form doesn't complete sending e-mail<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://stackoverflow.com/q/371/250259" target="_blank" rel="noopener noreferrer">How do you make sure email you send programmatically is not automatically marked as spam?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://stackoverflow.com/questions/15965376/how-to-configure-xampp-to-send-mail-from-localhost/18185233#18185233" target="_blank" rel="noopener noreferrer">How to use SMTP to send email<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://stackoverflow.com/a/5666682/2417031" target="_blank" rel="noopener noreferrer">Setting envelope from address<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Alternative Mailers</p> <ul><li><a href="https://github.com/Synchro/PHPMailer" target="_blank" rel="noopener noreferrer">PHPMailer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://swiftmailer.org/" target="_blank" rel="noopener noreferrer">SwiftMailer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pear.php.net/package/Mail" target="_blank" rel="noopener noreferrer">PEAR::Mail<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Email Servers</p> <ul><li><a href="http://www.pmail.com/overviews/ovw_mercury.htm" target="_blank" rel="noopener noreferrer">Mercury Mail (Windows)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Related Topics</p> <ul><li><a href="https://en.wikipedia.org/wiki/Post/Redirect/Get" target="_blank" rel="noopener noreferrer">Post/Redirect/Get<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="sending-html-email-using-mail"><a href="#sending-html-email-using-mail" class="header-anchor">#</a> Sending HTML Email Using mail()</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$to</span>      <span class="token operator">=</span> <span class="token string single-quoted-string">'recipent@example.com'</span><span class="token punctuation">;</span>
<span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Sending an HTML email using mail() in PHP'</span><span class="token punctuation">;</span>
<span class="token variable">$message</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'&lt;html&gt;&lt;body&gt;&lt;p&gt;&lt;b&gt;This paragraph is bold.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;i&gt;This text is italic.&lt;/i&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</span><span class="token punctuation">;</span>

<span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\r\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string double-quoted-string">&quot;From: John Conde &lt;webmaster@example.com&gt;&quot;</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;Reply-To: webmaster@example.com&quot;</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;X-Mailer: PHP/&quot;</span> <span class="token operator">.</span> <span class="token constant">PHP_VERSION</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;MIME-Version: 1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;Content-Type: text/html; charset=UTF-8&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mail</span><span class="token punctuation">(</span><span class="token variable">$to</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">,</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></code></pre></div><p>This is not much different then <a href="http://stackoverflow.com/documentation/php/458/sending-email/2059/sending-email-the-basics-more-details-and-a-full-example" target="_blank" rel="noopener noreferrer">sending a plain text email<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Thet key differences being the content body is structured like an HTML document and there are two additional headers that must be included so the email client knows to trender the email as HTML. They are:</p> <ul><li>MIME-Version: 1.0</li> <li>Content-Type: text/html; charset=UTF-8</li></ul> <h2 id="sending-email-with-an-attachment-using-mail"><a href="#sending-email-with-an-attachment-using-mail" class="header-anchor">#</a> Sending Email With An Attachment Using mail()</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$to</span>         <span class="token operator">=</span> <span class="token string single-quoted-string">'recipient@example.com'</span><span class="token punctuation">;</span>
<span class="token variable">$subject</span>    <span class="token operator">=</span> <span class="token string single-quoted-string">'Email Subject'</span><span class="token punctuation">;</span>
<span class="token variable">$message</span>    <span class="token operator">=</span> <span class="token string single-quoted-string">'This is the email message body'</span><span class="token punctuation">;</span>

<span class="token variable">$attachment</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'/path/to/your/file.pdf'</span><span class="token punctuation">;</span>
<span class="token variable">$content</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$attachment</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Attachment content transferred in Base64 encoding
MUST be split into chunks 76 characters in length as
specified by RFC 2045 section 6.8. By default, the
function chunk_split() uses a chunk length of 76 with
a trailing CRLF (\r\n). The 76 character requirement
does not include the carriage return and line feed */</span>
<span class="token variable">$content</span> <span class="token operator">=</span> <span class="token function">chunk_split</span><span class="token punctuation">(</span><span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Boundaries delimit multipart entities. As stated
in RFC 2046 section 5.1, the boundary MUST NOT occur
in any encapsulated part. Therefore, it should be
unique. As stated in the following section 5.1.1, a
boundary is defined as a line consisting of two hyphens
(&quot;--&quot;), a parameter value, optional linear whitespace,
and a terminating CRLF. */</span>
<span class="token variable">$prefix</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;part_&quot;</span><span class="token punctuation">;</span> <span class="token comment">// This is an optional prefix</span>
<span class="token comment">/* Generate a unique boundary parameter value with our
prefix using the uniqid() function. The second parameter
makes the parameter value more unique. */</span>
<span class="token variable">$boundary</span>   <span class="token operator">=</span> <span class="token function">uniqid</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// headers</span>
<span class="token variable">$headers</span>    <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\r\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'From: webmaster@example.com'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'Reply-To: webmaster@example.com'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'X-Mailer: PHP/'</span> <span class="token operator">.</span> <span class="token constant">PHP_VERSION</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'MIME-Version: 1.0'</span><span class="token punctuation">,</span>
    <span class="token comment">// boundary parameter required, must be enclosed by quotes</span>
    <span class="token string single-quoted-string">'Content-Type: multipart/mixed; boundary=&quot;'</span> <span class="token operator">.</span> <span class="token variable">$boundary</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&quot;'</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;Content-Transfer-Encoding: 7bit&quot;</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;This is a MIME encoded message.&quot;</span> <span class="token comment">// message for restricted transports</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// message and attachment</span>
<span class="token variable">$message</span>    <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\r\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> 
    <span class="token string double-quoted-string">&quot;--&quot;</span> <span class="token operator">.</span> <span class="token variable">$boundary</span><span class="token punctuation">,</span> <span class="token comment">// header boundary delimiter line</span>
    <span class="token string single-quoted-string">'Content-Type: text/plain; charset=&quot;iso-8859-1&quot;'</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;Content-Transfer-Encoding: 8bit&quot;</span><span class="token punctuation">,</span>
    <span class="token variable">$message</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;--&quot;</span> <span class="token operator">.</span> <span class="token variable">$boundary</span><span class="token punctuation">,</span> <span class="token comment">// content boundary delimiter line</span>
    <span class="token string single-quoted-string">'Content-Type: application/octet-stream; name=&quot;RenamedFile.pdf&quot;'</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;Content-Transfer-Encoding: base64&quot;</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;Content-Disposition: attachment&quot;</span><span class="token punctuation">,</span>
    <span class="token variable">$content</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;--&quot;</span> <span class="token operator">.</span> <span class="token variable">$boundary</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;--&quot;</span> <span class="token comment">// closing boundary delimiter line</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mail</span><span class="token punctuation">(</span><span class="token variable">$to</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">,</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// send the email</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Success! Redirect to a thank you page. Use the</span>
    <span class="token comment">// POST/REDIRECT/GET pattern to prevent form resubmissions</span>
    <span class="token comment">// when a user refreshes the page.</span>
  
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: http://example.com/path/to/thank-you.php'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">303</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">exit</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Your mail was not sent. Check your logs to see if</span>
    <span class="token comment">// the reason was reported there for you.</span>
<span class="token punctuation">}</span>

</span></code></pre></div><h3 id="content-transfer-encodings"><a href="#content-transfer-encodings" class="header-anchor">#</a> Content-Transfer-Encodings</h3> <p>The available encodings are <strong>7bit</strong>, <strong>8bit</strong>, <strong>binary</strong>, <strong>quoted-printable</strong>, <strong>base64</strong>, <strong>ietf-token</strong>, and <strong>x-token</strong>. Of these encodings, when a header has a <strong>multipart</strong> Content-Type, the Content-Transfer-Encoding <strong>must not</strong> be any other value other than <strong>7bit</strong>, <strong>8bit</strong>, or <strong>binary</strong> as stated in RFC 2045, section 6.4.</p> <p>Our example chooses the 7bit encoding, which represents US-ASCII characters, for the multipart header because, as noted in RFC 2045 section 6, some protocols support only this encoding. Data within the boundaries can then be encoded on a part-by-part basis (RFC 2046, section 5.1). This example does exactly this. The first part, which contains the text/plain message, is defined to be 8bit since it may be necessary to support additional characters. In this case, the Latin1 (iso-8859-1) character set is being used. The second part is the attachment and so it is defined as a base64-encoded application/octet-stream. Since base64 transforms arbitrary data into the 7bit range, it can be sent over restricted transports (RFC 2045, section 6.2).</p> <h2 id="sending-plain-text-email-using-phpmailer"><a href="#sending-plain-text-email-using-phpmailer" class="header-anchor">#</a> Sending Plain Text Email Using PHPMailer</h2> <p><strong>Basic Text Email</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$mail</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PHPMailer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">From</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;from@example.com&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">FromName</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Full Name&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addReplyTo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;reply@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Reply Address&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Subject</span>  <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Subject Text&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Body</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;This is a sample basic text email using PHPMailer.&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Success! Redirect to a thank you page. Use the</span>
    <span class="token comment">// POST/REDIRECT/GET pattern to prevent form resubmissions</span>
    <span class="token comment">// when a user refreshes the page.</span>
  
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: http://example.com/path/to/thank-you.php'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">303</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">exit</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Mailer Error: &quot;</span> <span class="token operator">.</span> <span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">ErrorInfo</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</span></code></pre></div><p><strong>Adding addtional recipients, CC recipients, BCC recipients</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$mail</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PHPMailer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">From</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;from@example.com&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">FromName</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Full Name&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addReplyTo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;reply@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Reply Address&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addAddress</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;recepient1@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Recepient Name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addAddress</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;recepient2@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addCC</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;cc@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addBCC</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;bcc@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Subject</span>  <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Subject Text&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Body</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;This is a sample basic text email using PHPMailer.&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Success! Redirect to a thank you page. Use the</span>
    <span class="token comment">// POST/REDIRECT/GET pattern to prevent form resubmissions</span>
    <span class="token comment">// when a user refreshes the page.</span>
  
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: http://example.com/path/to/thank-you.php'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">303</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">exit</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Error: &quot;</span> <span class="token operator">.</span> <span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">ErrorInfo</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   

</span></code></pre></div><h2 id="sending-html-email-using-phpmailer"><a href="#sending-html-email-using-phpmailer" class="header-anchor">#</a> Sending HTML Email Using PHPMailer</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$mail</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PHPMailer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">From</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;from@example.com&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">FromName</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Full Name&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addReplyTo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;reply@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Reply Address&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addAddress</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;recepient1@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Recepient Name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addAddress</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;recepient2@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addCC</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;cc@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addBCC</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;bcc@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Subject</span>  <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Subject Text&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">isHTML</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Body</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;&lt;b&gt;This paragraph is bold.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;i&gt;This text is italic.&lt;/i&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">AltBody</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;This paragraph is not bold.\n\nThis text is not italic.&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Success! Redirect to a thank you page. Use the</span>
    <span class="token comment">// POST/REDIRECT/GET pattern to prevent form resubmissions</span>
    <span class="token comment">// when a user refreshes the page.</span>
  
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: http://example.com/path/to/thank-you.php'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">303</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">exit</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Error: &quot;</span> <span class="token operator">.</span> <span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">ErrorInfo</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   

</span></code></pre></div><h2 id="sending-email-with-an-attachment-using-phpmailer"><a href="#sending-email-with-an-attachment-using-phpmailer" class="header-anchor">#</a> Sending Email With An Attachment Using PHPMailer</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$mail</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PHPMailer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">From</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;from@example.com&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">FromName</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Full Name&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">addReplyTo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;reply@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Reply Address&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Subject</span>  <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Subject Text&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">Body</span>     <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;This is a sample basic text email with an attachment using PHPMailer.&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Add Static Attachment</span>
<span class="token variable">$attachment</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'/path/to/your/file.pdf'</span><span class="token punctuation">;</span>
<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">AddAttachment</span><span class="token punctuation">(</span><span class="token variable">$attachment</span> <span class="token punctuation">,</span> <span class="token string single-quoted-string">'RenamedFile.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add Second Attachment, run-time created. ie: CSV to be open with Excel</span>
<span class="token variable">$csvHeader</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;header1,header2,header3&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$csvData</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;row1col1,row1col2,row1col3\nrow2col1,row2col2,row2col3&quot;</span><span class="token punctuation">;</span>

<span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">AddStringAttachment</span><span class="token punctuation">(</span><span class="token variable">$csvHeader</span> <span class="token operator">.</span><span class="token string double-quoted-string">&quot;\n&quot;</span> <span class="token operator">.</span> <span class="token variable">$csvData</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'your-csv-file.csv'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'base64'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'application/vnd.ms-excel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Success! Redirect to a thank you page. Use the</span>
    <span class="token comment">// POST/REDIRECT/GET pattern to prevent form resubmissions</span>
    <span class="token comment">// when a user refreshes the page.</span>
  
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: http://example.com/path/to/thank-you.php'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">303</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">exit</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Error: &quot;</span> <span class="token operator">.</span> <span class="token variable">$mail</span><span class="token operator">-&gt;</span><span class="token property">ErrorInfo</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   

</span></code></pre></div><h2 id="sending-plain-text-email-using-sendgrid"><a href="#sending-plain-text-email-using-sendgrid" class="header-anchor">#</a> Sending Plain Text Email Using Sendgrid</h2> <p><strong>Basic Text Email</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$sendgrid</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SendGrid</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;YOUR_SENDGRID_API_KEY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span>    <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified">SendGrid<span class="token punctuation">\</span>Email</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$email</span><span class="token operator">-&gt;</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;recipient@example.com&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;sender@example.com&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Subject Text&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;This is a sample basic text email using &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sendgrid</span><span class="token operator">-&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></code></pre></div><p><strong>Adding addtional recipients, CC recipients, BCC recipients</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$sendgrid</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SendGrid</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;YOUR_SENDGRID_API_KEY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span>    <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified">SendGrid<span class="token punctuation">\</span>Email</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$email</span><span class="token operator">-&gt;</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;recipient@example.com&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;sender@example.com&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Subject Text&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setHtml</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;&lt;b&gt;This paragraph is bold.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;i&gt;This text is italic.&lt;/i&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
<span class="token variable">$personalization</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Personalization</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Email</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Recepient Name&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;recepient1@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$personalization</span><span class="token operator">-&gt;</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Email</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;RecepientCC Name&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;recepient2@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$personalization</span><span class="token operator">-&gt;</span><span class="token function">addCc</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Email</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;RecepientBCC Name&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;recepient3@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$personalization</span><span class="token operator">-&gt;</span><span class="token function">addBcc</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span><span class="token operator">-&gt;</span><span class="token function">addPersonalization</span><span class="token punctuation">(</span><span class="token variable">$personalization</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token variable">$sendgrid</span><span class="token operator">-&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></code></pre></div><h2 id="sending-email-with-an-attachment-using-sendgrid"><a href="#sending-email-with-an-attachment-using-sendgrid" class="header-anchor">#</a> Sending Email With An Attachment Using Sendgrid</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$sendgrid</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SendGrid</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;YOUR_SENDGRID_API_KEY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span>    <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified">SendGrid<span class="token punctuation">\</span>Email</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$email</span><span class="token operator">-&gt;</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;recipient@example.com&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;sender@example.com&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Subject Text&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;This is a sample basic text email using &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
<span class="token variable">$attachment</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'/path/to/your/file.pdf'</span><span class="token punctuation">;</span>
<span class="token variable">$content</span>    <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$attachment</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$content</span>    <span class="token operator">=</span> <span class="token function">chunk_split</span><span class="token punctuation">(</span><span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$attachment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Attachment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$attachment</span><span class="token operator">-&gt;</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$attachment</span><span class="token operator">-&gt;</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;application/pdf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$attachment</span><span class="token operator">-&gt;</span><span class="token function">setFilename</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;RenamedFile.pdf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$attachment</span><span class="token operator">-&gt;</span><span class="token function">setDisposition</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;attachment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span><span class="token operator">-&gt;</span><span class="token function">addAttachment</span><span class="token punctuation">(</span><span class="token variable">$attachment</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sendgrid</span><span class="token operator">-&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></code></pre></div><h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td><code>string $to</code></td> <td>The recipient email address</td></tr> <tr><td><code>string $subject</code></td> <td>The subject line</td></tr> <tr><td><code>string $message</code></td> <td>The body of the email</td></tr> <tr><td><code>string $additional_headers</code></td> <td>Optional: headers to add to the email</td></tr> <tr><td><code>string $additional_parameters</code></td> <td>Optional: arguments to pass to the configured mail send application in the command line</td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p><strong>E-Mail I'm sending through my script never arrives. What should I do?</strong></p> <li>
Make sure you have error reporting turned on to see any errors.
</li> <li>
If you have access to PHP's error log files, check those.
</li> <li>
Is the `mail()` command [configured properly on your server](http://uk3.php.net/manual/en/mail.configuration.php)? (If you are on shared hosting, you can not change anything here.)
</li> <li>
If E-Mails are just disappearing, start an E-Mail account with a freemail service that has a spam folder (or use a mail account that does no spam filtering at all). This way, you can see whether the E-Mail is not getting sent out, or perhaps sent out but filtered as spam.
</li> <li>
Did you check the &quot;from:&quot; address you used for possible &quot;returned to sender&quot; mails? You can also set up a separate [bounce address](http://stackoverflow.com/questions/5303541/set-email-headers-so-bounced-emails-go-to-a-specific-address) for error mails.
</li> <p><strong>The E-Mail I'm sending is getting filtered as spam. What should I do?</strong></p> <li>
Does the sender address (&quot;From&quot;) belong to a domain that runs on the server you send the E-Mail from? If not, change that.
Never use sender addresses like `xxx@gmail.com`. Use `reply-to` if you need replies to arrive at a different address.
</li> <li>
Is your server on a blacklist? This is a possibility when you're on shared hosting when neighbours behave badly. Most blacklist providers, like [Spamhaus](https://www.spamhaus.org/lookup/), have tools that allow you to look up your server's IP. There's also third party tools like [MX Toolbox.](http://mxtoolbox.com/blacklists.aspx)
</li> <li>
Some installations of PHP require setting a [fifth parameter](http://stackoverflow.com/questions/1376152/what-does-the-f-flag-mean-in-the-fifth-parameter-in-the-php-mail-function) to mail() to add a sender address. See whether this might be the case for you.
</li> <li>
If all else fails, consider using email-as-a-service such as [Mailgun](https://www.mailgun.com/), [SparkPost](https://www.sparkpost.com/), [Amazon SES](https://aws.amazon.com/ses/), [Mailjet](https://www.mailjet.com/), [SendinBlue](https://www.sendinblue.com/) or [SendGrid](https://sendgrid.com/)to name a fewinstead. They all have APIs that can be called using PHP.
</li></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/php/sending-email.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/php/using-redis-with-php.html" class="prev">
        Using Redis with PHP
      </a></span> <span class="next"><a href="/php/using-sqlsrv.html">
        Using SQLSRV
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2504.a0d23757.js" defer></script>
  </body>
</html>
