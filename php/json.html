<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP - JSON</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Decoding a JSON string, Encoding a JSON string, Debugging JSON errors, Using JsonSerializable in an Object, Header json and the returned response">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PHP - JSON">
    <meta property="og:description" content="Decoding a JSON string, Encoding a JSON string, Debugging JSON errors, Using JsonSerializable in an Object, Header json and the returned response">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/php/json.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PHP - JSON">
    <meta name="twitter:description" content="Decoding a JSON string, Encoding a JSON string, Debugging JSON errors, Using JsonSerializable in an Object, Header json and the returned response">
    <meta name="twitter:url" content="/php/json.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2471.c0705c53.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PHP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/php/installing-a-php-environment-on-windows.html" class="sidebar-link">Installing a PHP environment on Windows</a></li><li><a href="/php/installing-on-linux-unix-environments.html" class="sidebar-link">Installing on Linux/Unix Environments</a></li><li><a href="/php/getting-started-with-php.html" class="sidebar-link">Getting started with PHP</a></li><li><a href="/php/variables.html" class="sidebar-link">Variables</a></li><li><a href="/php/variable-scope.html" class="sidebar-link">Variable Scope</a></li><li><a href="/php/superglobal-variables-php.html" class="sidebar-link">Superglobal Variables PHP</a></li><li><a href="/php/outputting-the-value-of-a-variable.html" class="sidebar-link">Outputting the Value of a Variable</a></li><li><a href="/php/constants.html" class="sidebar-link">Constants</a></li><li><a href="/php/magic-constants.html" class="sidebar-link">Magic Constants</a></li><li><a href="/php/comments.html" class="sidebar-link">Comments</a></li><li><a href="/php/types.html" class="sidebar-link">Types</a></li><li><a href="/php/operators.html" class="sidebar-link">Operators</a></li><li><a href="/php/references.html" class="sidebar-link">References</a></li><li><a href="/php/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/php/array-iteration.html" class="sidebar-link">Array iteration</a></li><li><a href="/php/executing-upon-an-array.html" class="sidebar-link">Executing Upon an Array</a></li><li><a href="/php/manipulating-an-array.html" class="sidebar-link">Manipulating an Array</a></li><li><a href="/php/processing-multiple-arrays-together.html" class="sidebar-link">Processing Multiple Arrays Together</a></li><li><a href="/php/datetime-class.html" class="sidebar-link">Datetime Class</a></li><li><a href="/php/working-with-dates-and-time.html" class="sidebar-link">Working with Dates and Time</a></li><li><a href="/php/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/php/loops.html" class="sidebar-link">Loops</a></li><li><a href="/php/functions.html" class="sidebar-link">Functions</a></li><li><a href="/php/functional-programming.html" class="sidebar-link">Functional Programming</a></li><li><a href="/php/alternative-syntax-for-control-structures.html" class="sidebar-link">Alternative Syntax for Control Structures</a></li><li><a href="/php/string-formatting.html" class="sidebar-link">String formatting</a></li><li><a href="/php/string-parsing.html" class="sidebar-link">String Parsing</a></li><li><a href="/php/classes-and-objects.html" class="sidebar-link">Classes and Objects</a></li><li><a href="/php/namespaces.html" class="sidebar-link">Namespaces</a></li><li><a href="/php/sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/php/cookies.html" class="sidebar-link">Cookies</a></li><li><a href="/php/output-buffering.html" class="sidebar-link">Output Buffering</a></li><li><a href="/php/json.html" aria-current="page" class="active sidebar-link">JSON</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/json.html#decoding-a-json-string" class="sidebar-link">Decoding a JSON string</a></li><li class="sidebar-sub-header"><a href="/php/json.html#encoding-a-json-string" class="sidebar-link">Encoding a JSON string</a></li><li class="sidebar-sub-header"><a href="/php/json.html#debugging-json-errors" class="sidebar-link">Debugging JSON errors</a></li><li class="sidebar-sub-header"><a href="/php/json.html#using-jsonserializable-in-an-object" class="sidebar-link">Using JsonSerializable in an Object</a></li><li class="sidebar-sub-header"><a href="/php/json.html#header-json-and-the-returned-response" class="sidebar-link">Header json and the returned response</a></li></ul></li><li><a href="/php/soap-client.html" class="sidebar-link">SOAP Client</a></li><li><a href="/php/using-curl-in-php.html" class="sidebar-link">Using cURL in PHP</a></li><li><a href="/php/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/php/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/php/xml.html" class="sidebar-link">XML</a></li><li><a href="/php/simplexml.html" class="sidebar-link">SimpleXML</a></li><li><a href="/php/parsing-html.html" class="sidebar-link">Parsing HTML</a></li><li><a href="/php/regular-expressions-regexp-pcre.html" class="sidebar-link">Regular Expressions (regexp/PCRE)</a></li><li><a href="/php/traits.html" class="sidebar-link">Traits</a></li><li><a href="/php/composer-dependency-manager.html" class="sidebar-link">Composer Dependency Manager</a></li><li><a href="/php/magic-methods.html" class="sidebar-link">Magic Methods</a></li><li><a href="/php/file-handling.html" class="sidebar-link">File handling</a></li><li><a href="/php/streams.html" class="sidebar-link">Streams</a></li><li><a href="/php/type-hinting.html" class="sidebar-link">Type hinting</a></li><li><a href="/php/filters-filter-functions.html" class="sidebar-link">Filters &amp; Filter Functions</a></li><li><a href="/php/generators.html" class="sidebar-link">Generators</a></li><li><a href="/php/utf-8.html" class="sidebar-link">UTF-8</a></li><li><a href="/php/how-to-break-down-an-url.html" class="sidebar-link">How to break down an URL</a></li><li><a href="/php/object-serialization.html" class="sidebar-link">Object Serialization</a></li><li><a href="/php/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/php/closure.html" class="sidebar-link">Closure</a></li><li><a href="/php/reading-request-data.html" class="sidebar-link">Reading Request Data</a></li><li><a href="/php/type-juggling-and-non-strict-comparison-issues.html" class="sidebar-link">Type juggling and Non-Strict Comparison Issues</a></li><li><a href="/php/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/php/pdo.html" class="sidebar-link">PDO</a></li><li><a href="/php/php-mysqli.html" class="sidebar-link">PHP MySQLi</a></li><li><a href="/php/sqlite3.html" class="sidebar-link">SQLite3</a></li><li><a href="/php/using-mongodb.html" class="sidebar-link">Using MongoDB</a></li><li><a href="/php/mongo-php.html" class="sidebar-link">mongo-php</a></li><li><a href="/php/using-redis-with-php.html" class="sidebar-link">Using Redis with PHP</a></li><li><a href="/php/sending-email.html" class="sidebar-link">Sending Email</a></li><li><a href="/php/using-sqlsrv.html" class="sidebar-link">Using SQLSRV</a></li><li><a href="/php/command-line-interface-cli.html" class="sidebar-link">Command Line Interface (CLI)</a></li><li><a href="/php/localization.html" class="sidebar-link">Localization</a></li><li><a href="/php/headers-manipulation.html" class="sidebar-link">Headers Manipulation</a></li><li><a href="/php/coding-conventions.html" class="sidebar-link">Coding Conventions</a></li><li><a href="/php/asynchronous-programming.html" class="sidebar-link">Asynchronous programming</a></li><li><a href="/php/how-to-detect-client-ip-address.html" class="sidebar-link">How to Detect Client IP Address</a></li><li><a href="/php/create-pdf-files-in-php.html" class="sidebar-link">Create PDF files in PHP</a></li><li><a href="/php/yaml-in-php.html" class="sidebar-link">YAML in PHP</a></li><li><a href="/php/image-processing-with-gd.html" class="sidebar-link">Image Processing with GD</a></li><li><a href="/php/imagick.html" class="sidebar-link">Imagick</a></li><li><a href="/php/soap-server.html" class="sidebar-link">SOAP Server</a></li><li><a href="/php/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/php/cache.html" class="sidebar-link">Cache</a></li><li><a href="/php/autoloading-primer.html" class="sidebar-link">Autoloading Primer</a></li><li><a href="/php/spl-data-structures.html" class="sidebar-link">SPL data structures</a></li><li><a href="/php/imap.html" class="sidebar-link">IMAP</a></li><li><a href="/php/http-authentication.html" class="sidebar-link">HTTP Authentication</a></li><li><a href="/php/websockets.html" class="sidebar-link">WebSockets</a></li><li><a href="/php/bc-math-binary-calculator.html" class="sidebar-link">BC Math (Binary Calculator)</a></li><li><a href="/php/docker-deployment.html" class="sidebar-link">Docker deployment</a></li><li><a href="/php/apcu.html" class="sidebar-link">APCu</a></li><li><a href="/php/php-built-in-server.html" class="sidebar-link">PHP Built in server</a></li><li><a href="/php/psr.html" class="sidebar-link">PSR</a></li><li><a href="/php/phpdoc.html" class="sidebar-link">PHPDoc</a></li><li><a href="/php/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/php/compile-php-extensions.html" class="sidebar-link">Compile PHP Extensions</a></li><li><a href="/php/common-errors.html" class="sidebar-link">Common Errors</a></li><li><a href="/php/compilation-of-errors-and-warnings.html" class="sidebar-link">Compilation of Errors and Warnings</a></li><li><a href="/php/exception-handling-and-error-reporting.html" class="sidebar-link">Exception Handling and Error Reporting</a></li><li><a href="/php/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/php/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/php/performance.html" class="sidebar-link">Performance</a></li><li><a href="/php/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/php/multi-threading-extension.html" class="sidebar-link">Multi Threading Extension</a></li><li><a href="/php/secure-remeber-me.html" class="sidebar-link">Secure Remeber Me</a></li><li><a href="/php/security.html" class="sidebar-link">Security</a></li><li><a href="/php/cryptography.html" class="sidebar-link">Cryptography</a></li><li><a href="/php/password-hashing-functions.html" class="sidebar-link">Password Hashing Functions</a></li><li><a href="/php/urls.html" class="sidebar-link">URLs</a></li><li><a href="/php/unicode-support-in-php.html" class="sidebar-link">Unicode Support in PHP</a></li><li><a href="/php/getting-started-with-php-7.html" class="sidebar-link">Getting started with php-7</a></li><li><a href="/php/null-coalesce-operator.html" class="sidebar-link">Null Coalesce Operator</a></li><li><a href="/php/spaceship-operator.html" class="sidebar-link">Spaceship operator</a></li><li><a href="/php/anonymous-class.html" class="sidebar-link">Anonymous class</a></li><li><a href="/php/contributing-to-the-php-manual.html" class="sidebar-link">Contributing to the PHP Manual</a></li><li><a href="/php/contributing-to-the-php-core.html" class="sidebar-link">Contributing to the PHP Core</a></li><li><a href="/php/getting-started-with-composer-php.html" class="sidebar-link">Getting started with composer-php</a></li><li><a href="/php/auto-loading-with-composer.html" class="sidebar-link">Auto loading with composer</a></li><li><a href="/php/how-to-use-private-repositories-with-composer.html" class="sidebar-link">How to use private repositories with Composer</a></li><li><a href="/php/getting-started-with-phpunit.html" class="sidebar-link">Getting Started with PHPUnit</a></li><li><a href="/php/assertions.html" class="sidebar-link">Assertions</a></li><li><a href="/php/test-doubles-mocks-and-stubs.html" class="sidebar-link">Test Doubles (Mocks and Stubs)</a></li><li><a href="/php/recipes.html" class="sidebar-link">Recipes</a></li><li><a href="/php/php-mysqli-affected-rows-returns-0-when-it-should-return-a-positive-integer.html" class="sidebar-link">php mysqli affected rows returns 0 when it should return a positive integer</a></li><li><a href="/php/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="json"><a href="#json" class="header-anchor">#</a> JSON</h1> <p><a href="http://www.json.org" target="_blank" rel="noopener noreferrer">JSON<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<a href="https://en.wikipedia.org/wiki/JSON" target="_blank" rel="noopener noreferrer">JavaScript Object Notation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) is a platform and language independent way of serializing objects into plaintext. Because it is often used on web and so is PHP, there is a <a href="https://secure.php.net/manual/en/book.json.php" target="_blank" rel="noopener noreferrer">basic extension<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for working with JSON in PHP.</p> <h2 id="decoding-a-json-string"><a href="#decoding-a-json-string" class="header-anchor">#</a> Decoding a JSON string</h2> <p>The <a href="http://php.net/manual/en/function.json-decode.php" target="_blank" rel="noopener noreferrer"><code>json_decode()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function takes a JSON-encoded string as its first parameter and parses it into a PHP variable.</p> <p>Normally, <code>json_decode()</code> will return an <strong>object of <a href="http://php.net/manual/en/reserved.classes.php" target="_blank" rel="noopener noreferrer">\stdClass<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> if the top level item in the JSON object is a dictionary or an <strong>indexed array</strong> if the JSON object is an array. It will also return scalar values or <code>NULL</code> for certain scalar values, such as simple strings, <code>&quot;true&quot;</code>, <code>&quot;false&quot;</code>, and <code>&quot;null&quot;</code>. It also returns <code>NULL</code> on any error.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Returns an object (The top level item in the JSON string is a JSON dictionary)</span>
<span class="token variable">$json_string</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{&quot;name&quot;: &quot;Jeff&quot;, &quot;age&quot;: 20, &quot;active&quot;: true, &quot;colors&quot;: [&quot;red&quot;, &quot;blue&quot;]}'</span><span class="token punctuation">;</span>
<span class="token variable">$object</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$json_string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello %s, You are %s years old.'</span><span class="token punctuation">,</span> <span class="token variable">$object</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">,</span> <span class="token variable">$object</span><span class="token operator">-&gt;</span><span class="token property">age</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#&gt; Hello Jeff, You are 20 years old.</span>

<span class="token comment">// Returns an array (The top level item in the JSON string is a JSON array)</span>
<span class="token variable">$json_string</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'[&quot;Jeff&quot;, 20, true, [&quot;red&quot;, &quot;blue&quot;]]'</span><span class="token punctuation">;</span>
<span class="token variable">$array</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$json_string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello %s, You are %s years old.'</span><span class="token punctuation">,</span> <span class="token variable">$array</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$array</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Use <a href="http://php.net/manual/en/function.var-dump.php" target="_blank" rel="noopener noreferrer"><code>var_dump()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to view the types and values of each property on the object we decoded above.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Dump our above $object to view how it was decoded</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output (note the variable types):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">stdClass</span><span class="token comment">#2 (4) {</span>
 <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;Jeff&quot;</span>
 <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;age&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
 <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;active&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
 <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;colors&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span>
   <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;red&quot;</span>
     <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;blue&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Note:</strong> The variable <strong>types</strong> in JSON were converted to their PHP equivalent.</p> <p>To return an <a href="http://php.net/manual/en/language.types.array.php" target="_blank" rel="noopener noreferrer">associative array<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for JSON objects instead of returning an object, pass <code>true</code> as the <a href="http://php.net/manual/en/function.json-decode.php#refsect1-function.json-decode-parameters" target="_blank" rel="noopener noreferrer">second parameter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to <code>json_decode()</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$json_string</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{&quot;name&quot;: &quot;Jeff&quot;, &quot;age&quot;: 20, &quot;active&quot;: true, &quot;colors&quot;: [&quot;red&quot;, &quot;blue&quot;]}'</span><span class="token punctuation">;</span>
<span class="token variable">$array</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$json_string</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Note the second parameter</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output (note the array associative structure):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;Jeff&quot;</span>
  <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;age&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;active&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;colors&quot;</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;red&quot;</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;blue&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>The second parameter (<code>$assoc</code>) has no effect if the variable to be returned is not an object.</p> <p><strong>Note:</strong> If you use the <code>$assoc</code> parameter, you will lose the distinction between an empty array and an empty object. This means that running <code>json_encode()</code> on your decoded output again, will result in a different JSON structure.</p> <p>If the JSON string has a &quot;depth&quot; more than 512 elements (<strong>20 elements in versions older than 5.2.3, or 128 in version 5.2.3</strong>) in recursion, the function <code>json_decode()</code> returns <code>NULL</code>. In versions 5.3 or later, this limit can be controlled using the third parameter (<code>$depth</code>), as discussed below.</p> <p>According to the manual:</p> <blockquote></blockquote> <p>PHP implements a superset of JSON as specified in the original [» RFC 4627](http://www.faqs.org/rfcs/rfc4627) - it will also encode and decode scalar types and NULL. RFC 4627 only supports these values when they are nested inside an array or an object.
Although this superset is consistent with the expanded definition of &quot;JSON text&quot; in the newer [» RFC 7159](http://www.faqs.org/rfcs/rfc7159) (which aims to supersede RFC 4627) and [» ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf), this may cause interoperability issues with older JSON parsers that adhere strictly to RFC 4627 when encoding a single scalar value.</p> <p>This means, that, for example, a simple string will be considered to be a valid JSON object in PHP:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$json</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'&quot;some string&quot;'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$json</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;some string&quot;</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>

</code></pre></div><p>But simple strings, not in an array or object, are not part of the <a href="http://www.faqs.org/rfcs/rfc4627" target="_blank" rel="noopener noreferrer">RFC 4627<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> standard. As a result, such online checkers as <a href="http://www.jslint.com/" target="_blank" rel="noopener noreferrer">JSLint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://jsonformatter.curiousconcept.com/" target="_blank" rel="noopener noreferrer">JSON Formatter &amp; Validator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (in RFC 4627 mode) will give you an error.</p> <p>There is a third <code>$depth</code> parameter for the depth of recursion (the default value is <code>512</code>), which means the amount of nested objects inside the original object to be decoded.</p> <p>There is a fourth <code>$options</code> parameter. It currently accepts only one value, <code>JSON_BIGINT_AS_STRING</code>.  The default behavior (which leaves off this option) is to cast large integers to floats instead of strings.</p> <blockquote></blockquote> <p>Invalid non-lowercased variants of the true, false and null literals
are no longer accepted as valid input.</p> <p>So this example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'tRue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'tRUe'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'tRUE'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'TRUe'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'TRUE'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'true'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Before PHP 5.6:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>
<span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>
<span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>
<span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>
<span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>
<span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>

</code></pre></div><p>And after:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">NULL</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;Syntax error&quot;</span>
<span class="token constant">NULL</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;Syntax error&quot;</span>
<span class="token constant">NULL</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;Syntax error&quot;</span>
<span class="token constant">NULL</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;Syntax error&quot;</span>
<span class="token constant">NULL</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;Syntax error&quot;</span>
<span class="token keyword type-declaration">bool</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;No error&quot;</span>

</code></pre></div><p>Similar behavior occurs for <code>false</code> and <code>null</code>.</p> <p>Note that <code>json_decode()</code> will return <code>NULL</code> if the string cannot be converted.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$json</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;{'name': 'Jeff', 'age': 20 }&quot;</span> <span class="token punctuation">;</span>  <span class="token comment">// invalid json </span>

<span class="token variable">$person</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$json</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$person</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>    <span class="token comment">//  Notice: Trying to get property of non-object: returns null</span>
<span class="token keyword">echo</span> <span class="token function">json_last_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
<span class="token comment">#  4 (JSON_ERROR_SYNTAX)</span>
<span class="token keyword">echo</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">#  unexpected character </span>

</code></pre></div><p>It is not safe to rely only on the return value being <code>NULL</code> to detect errors. For example, if the JSON string contains nothing but <code>&quot;null&quot;</code>, <code>json_decode()</code> will return <code>null</code>, even though no error occurred.</p> <h2 id="encoding-a-json-string"><a href="#encoding-a-json-string" class="header-anchor">#</a> Encoding a JSON string</h2> <p>The <a href="http://php.net/manual/en/function.json-encode.php" target="_blank" rel="noopener noreferrer"><code>json_encode</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function will convert a PHP array (or, since PHP 5.4, an object which implements the <code>JsonSerializable</code> interface) to a JSON-encoded string.  It returns a JSON-encoded string on success or FALSE on failure.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Jeff'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'age'</span> <span class="token operator">=&gt;</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'active'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'colors'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'red'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'values'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><p>During encoding, the PHP data types string, integer, and boolean are converted to their JSON equivalent. Associative arrays are encoded as JSON objects, and – when called with default arguments – indexed arrays are encoded as JSON arrays. (Unless the array keys are not a continuous numeric sequence starting from 0, in which case the array will be encoded as a JSON object.)</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;Jeff&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;active&quot;</span><span class="token punctuation">:</span><span class="token constant boolean">true</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;colors&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;red&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;values&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;0&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;foo&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;3&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;bar&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="arguments"><a href="#arguments" class="header-anchor">#</a> Arguments</h3> <p>Since PHP 5.3, the second argument to <code>json_encode</code> is a bitmask which can be one or more of the following.</p> <p>As with any bitmask, they can be combined with the binary OR operator <code>|</code>.</p> <h3 id="json-force-object"><a href="#json-force-object" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-force-object" target="_blank" rel="noopener noreferrer"><code>JSON_FORCE_OBJECT</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Forces the creation of an object instead of an array</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'Joel'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'red'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token constant">JSON_FORCE_OBJECT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;Joel&quot;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token constant boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;red&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;0&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;Joel&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;1&quot;</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;2&quot;</span><span class="token punctuation">:</span><span class="token constant boolean">true</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;3&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;0&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;red&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;1&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;blue&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="json-hex-tag-json-hex-amp-json-hex-apos-json-hex-quot"><a href="#json-hex-tag-json-hex-amp-json-hex-apos-json-hex-quot" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-hex-tag" target="_blank" rel="noopener noreferrer"><code>JSON_HEX_TAG</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://php.net/manual/en/json.constants.php#constant.json-hex-amp" target="_blank" rel="noopener noreferrer"><code>JSON_HEX_AMP</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://php.net/manual/en/json.constants.php#constant.json-hex-apos" target="_blank" rel="noopener noreferrer"><code>JSON_HEX_APOS</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://php.net/manual/en/json.constants.php#constant.json-hex-quot" target="_blank" rel="noopener noreferrer"><code>JSON_HEX_QUOT</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Ensures the following conversions during encoding:</p> <table><thead><tr><th>Constant</th> <th>Input</th> <th>Output</th></tr></thead> <tbody><tr><td><code>JSON_HEX_TAG</code></td> <td><code>&lt;</code></td> <td><code>\u003C</code></td></tr> <tr><td><code>JSON_HEX_TAG</code></td> <td><code>&gt;</code></td> <td><code>\u003E</code></td></tr> <tr><td><code>JSON_HEX_AMP</code></td> <td><code>&amp;</code></td> <td><code>\u0026</code></td></tr> <tr><td><code>JSON_HEX_APOS</code></td> <td><code>'</code></td> <td><code>\u0027</code></td></tr> <tr><td><code>JSON_HEX_QUOT</code></td> <td><code>&quot;</code></td> <td><code>\u0022</code></td></tr></tbody></table> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;tag&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;&lt;&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;amp&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;&amp;&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;apos&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;'&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;quot&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;\&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token class-name">JSON_HEX_TAG</span> <span class="token operator">|</span> <span class="token class-name">JSON_HEX_AMP</span> <span class="token operator">|</span> <span class="token class-name">JSON_HEX_APOS</span> <span class="token operator">|</span> <span class="token class-name">JSON_HEX_QUOT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;tag&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;&lt;&gt;&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;amp&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;&amp;&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;apos&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;'&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;quot&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\&quot;&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;tag&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\u003C\u003E&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;amp&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\u0026&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;apos&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\u0027&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;quot&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\u0022&quot;</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="json-numeric-check"><a href="#json-numeric-check" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-numeric-check" target="_blank" rel="noopener noreferrer"><code>JSON_NUMERIC_CHECK</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Ensures numeric strings are converted to integers.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'23452'</span><span class="token punctuation">,</span> <span class="token number">23452</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token constant">JSON_NUMERIC_CHECK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;23452&quot;</span><span class="token punctuation">,</span><span class="token number">23452</span><span class="token punctuation">]</span>    
<span class="token punctuation">[</span><span class="token number">23452</span><span class="token punctuation">,</span><span class="token number">23452</span><span class="token punctuation">]</span>

</code></pre></div><h3 id="json-pretty-print"><a href="#json-pretty-print" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-pretty-print" target="_blank" rel="noopener noreferrer"><code>JSON_PRETTY_PRINT</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Makes the JSON easily readable</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'a'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'b'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'c'</span> <span class="token operator">=&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'d'</span> <span class="token operator">=&gt;</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token constant">JSON_PRETTY_PRINT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;a&quot;</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;b&quot;</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;c&quot;</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;d&quot;</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>
    <span class="token string double-quoted-string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;b&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;c&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string double-quoted-string">&quot;d&quot;</span><span class="token punctuation">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="json-unescaped-slashes"><a href="#json-unescaped-slashes" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-unescaped-slashes" target="_blank" rel="noopener noreferrer"><code>JSON_UNESCAPED_SLASHES</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Includes unescaped <code>/</code> forward slashes in the output</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'filename'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'example.txt'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'path'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'/full/path/to/file/'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token constant">JSON_UNESCAPED_SLASHES</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;filename&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;example.txt&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;path&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\/full\/path\/to\/file&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;filename&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;example.txt&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;path&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;/full/path/to/file&quot;</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="json-unescaped-unicode"><a href="#json-unescaped-unicode" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-unescaped-unicode" target="_blank" rel="noopener noreferrer"><code>JSON_UNESCAPED_UNICODE</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Includes UTF8-encoded characters in the output instead of <code>\u</code>-encoded strings</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$blues</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;english&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;blue&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;norwegian&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;blå&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;german&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;blau&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$blues</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$blues</span><span class="token punctuation">,</span> <span class="token constant">JSON_UNESCAPED_UNICODE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;english&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;blue&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;norwegian&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;bl\u00e5&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;german&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;blau&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;english&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;blue&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;norwegian&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;blå&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;german&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;blau&quot;</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="json-partial-output-on-error"><a href="#json-partial-output-on-error" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-partial-output-on-error" target="_blank" rel="noopener noreferrer"><code>JSON_PARTIAL_OUTPUT_ON_ERROR</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Allows encoding to continue if some unencodable values are encountered.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fp</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;foo.txt&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;file&quot;</span><span class="token operator">=&gt;</span><span class="token variable">$fp</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;name&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;foo.txt&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// no output</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token constant">JSON_PARTIAL_OUTPUT_ON_ERROR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;file&quot;</span><span class="token punctuation">:</span><span class="token constant">null</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;foo.txt&quot;</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="json-preserve-zero-fraction"><a href="#json-preserve-zero-fraction" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-preserve-zero-fraction" target="_blank" rel="noopener noreferrer"><code>JSON_PRESERVE_ZERO_FRACTION</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Ensures that floats are always encoded as floats.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token constant">JSON_PRESERVE_ZERO_FRACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5.5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">5.0</span><span class="token punctuation">,</span><span class="token number">5.5</span><span class="token punctuation">]</span>

</code></pre></div><h3 id="json-unescaped-line-terminators"><a href="#json-unescaped-line-terminators" class="header-anchor">#</a> <a href="http://php.net/manual/en/json.constants.php#constant.json-unescaped-line-terminators" target="_blank" rel="noopener noreferrer"><code>JSON_UNESCAPED_LINE_TERMINATORS</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>When used with <code>JSON_UNESCAPED_UNICODE</code>, reverts to the behaviour of older PHP versions, and <strong>does not</strong> escape the characters U+2028 LINE SEPARATOR and U+2029 PARAGRAPH SEPARATOR. Although valid in JSON, these characters are not valid in JavaScript, so the default behaviour of <code>JSON_UNESCAPED_UNICODE</code> was changed in version 7.1.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;line&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;\xe2\x80\xa8&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;paragraph&quot;</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">&quot;\xe2\x80\xa9&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token constant">JSON_UNESCAPED_UNICODE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token class-name">JSON_UNESCAPED_UNICODE</span> <span class="token operator">|</span> <span class="token class-name">JSON_UNESCAPED_LINE_TERMINATORS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;line&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\u2028&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;paragraph&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;\u2029&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;line&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;
&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;paragraph&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot; &quot;</span><span class="token punctuation">}</span>

</code></pre></div><h2 id="debugging-json-errors"><a href="#debugging-json-errors" class="header-anchor">#</a> Debugging JSON errors</h2> <p>When <code>json_encode</code> or <code>json_decode</code> fails to parse the string provided, it will return <code>false</code>. PHP itself will not raise any errors or warnings when this happens, the onus is on the user to use the <a href="http://php.net/manual/en/function.json-last-error.php" target="_blank" rel="noopener noreferrer">json_last_error()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://php.net/manual/en/function.json-last-error-msg.php" target="_blank" rel="noopener noreferrer">json_last_error_msg()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> functions to check if an error occurred and act accordingly in your application (debug it, show an error message, etc.).</p> <p>The following example shows a common error when working with JSON, a failure to decode/encode a JSON string <strong>(due to the passing of a bad UTF-8 encoded string, for example)</strong>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// An incorrectly formed JSON string</span>
<span class="token variable">$jsonString</span> <span class="token operator">=</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;{'Bad JSON':\xB1\x31}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">json_last_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">JSON_ERROR_NONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;JSON Error: %s&quot;</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">#&gt; JSON Error: Malformed UTF-8 characters, possibly incorrectly encoded</span>

</code></pre></div><h3 id="json-last-error-msg"><a href="#json-last-error-msg" class="header-anchor">#</a> <a href="http://php.net/manual/en/function.json-last-error-msg.php" target="_blank" rel="noopener noreferrer">json_last_error_msg<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><a href="http://php.net/manual/en/function.json-last-error-msg.php" target="_blank" rel="noopener noreferrer"><code>json_last_error_msg()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns a human readable message of the last error that occurred when trying to encode/decode a string.</p> <li>This function will **always return a string**, even if no error occurred.<br>
The default **non-error** string is `No Error`</li>
- It will return `false` if some other (unknown) error occurred
- Careful when using this in loops, as [json_last_error_msg](http://php.net/manual/en/function.json-last-error-msg.php) will be overridden on each iteration.
<p>You should only use this function to get the message for display, <strong>not</strong> to test against in control statements.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Don't do this:</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// always true (it's a string)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string double-quoted-string">&quot;No Error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// Bad practice</span>

<span class="token comment">// Do this: (test the integer against one of the pre-defined constants)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">json_last_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">JSON_ERROR_NONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Use json_last_error_msg to display the message only, (not test against it)</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;JSON Error: %s&quot;</span><span class="token punctuation">,</span> <span class="token function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>This function doesn't exist before PHP 5.5. Here is a polyfill implementation:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'json_last_error_msg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function-definition function">json_last_error_msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">static</span> <span class="token variable">$ERRORS</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
            <span class="token constant">JSON_ERROR_NONE</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'No error'</span><span class="token punctuation">,</span>
            <span class="token constant">JSON_ERROR_DEPTH</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Maximum stack depth exceeded'</span><span class="token punctuation">,</span>
            <span class="token constant">JSON_ERROR_STATE_MISMATCH</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'State mismatch (invalid or malformed JSON)'</span><span class="token punctuation">,</span>
            <span class="token constant">JSON_ERROR_CTRL_CHAR</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Control character error, possibly incorrectly encoded'</span><span class="token punctuation">,</span>
            <span class="token constant">JSON_ERROR_SYNTAX</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Syntax error'</span><span class="token punctuation">,</span>
            <span class="token constant">JSON_ERROR_UTF8</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Malformed UTF-8 characters, possibly incorrectly encoded'</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$error</span> <span class="token operator">=</span> <span class="token function">json_last_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$ERRORS</span><span class="token punctuation">[</span><span class="token variable">$error</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token variable">$ERRORS</span><span class="token punctuation">[</span><span class="token variable">$error</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'Unknown error'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="json-last-error"><a href="#json-last-error" class="header-anchor">#</a> <a href="http://php.net/manual/en/function.json-last-error.php" target="_blank" rel="noopener noreferrer">json_last_error<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><a href="http://php.net/manual/en/function.json-last-error.php" target="_blank" rel="noopener noreferrer"><code>json_last_error()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns an <strong>integer</strong> mapped to one of the pre-defined constants provided by PHP.</p> <table><thead><tr><th>Constant</th> <th>Meaning</th></tr></thead> <tbody><tr><td><code>JSON_ERROR_NONE</code></td> <td>No error has occurred</td></tr> <tr><td><code>JSON_ERROR_DEPTH</code></td> <td>The maximum stack depth has been exceeded</td></tr> <tr><td><code>JSON_ERROR_STATE_MISMATCH</code></td> <td>Invalid or malformed JSON</td></tr> <tr><td><code>JSON_ERROR_CTRL_CHAR</code></td> <td>Control character error, possibly incorrectly encoded</td></tr> <tr><td><code>JSON_ERROR_SYNTAX</code></td> <td>Syntax error <strong>(since PHP 5.3.3)</strong></td></tr> <tr><td><code>JSON_ERROR_UTF8</code></td> <td>Malformed UTF-8 characters, possibly incorrectly encoded <strong>(since PHP 5.5.0)</strong></td></tr> <tr><td><code>JSON_ERROR_RECURSION</code></td> <td>One or more recursive references in the value to be encoded</td></tr> <tr><td><code>JSON_ERROR_INF_OR_NAN</code></td> <td>One or more NAN or INF values in the value to be encoded</td></tr> <tr><td><code>JSON_ERROR_UNSUPPORTED_TYPE</code></td> <td>A value of a type that cannot be encoded was given</td></tr></tbody></table> <h2 id="using-jsonserializable-in-an-object"><a href="#using-jsonserializable-in-an-object" class="header-anchor">#</a> Using JsonSerializable in an Object</h2> <p>When you build REST API's, you may need to reduce the information of an object to be passed to the client application. For this purpose, this example illustrates how to use the <code>JsonSerialiazble</code> interface.</p> <p>In this example, the class <code>User</code> actually extends a DB model object of a hypotetical ORM.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token keyword">implements</span> <span class="token class-name">JsonSerializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$id</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$surname</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$username</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$password</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$email</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$date_created</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$date_edit</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$role</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$status</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">jsonSerialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'surname'</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">surname</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'username'</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Add <code>JsonSerializable</code> implementation to the class, by providing the <code>jsonSerialize()</code> method.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">jsonSerialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Now in your application controller or script, when passing the object User to <code>json_encode()</code> you will get the return json encoded array of the <code>jsonSerialize()</code> method instead of the entire object.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$User</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Will return:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;surname&quot;</span><span class="token punctuation">:</span><span class="token string double-quoted-string">&quot;Doe&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;TestJson&quot;</span><span class="token punctuation">}</span>

</code></pre></div><h3 id="properties-values-example"><a href="#properties-values-example" class="header-anchor">#</a> properties values example.</h3> <p>This will both reduce the amount of data returned from a RESTful endpoint, and allow to exclude object properties from a json representation.</p> <h3 id="using-private-and-protected-properties-with-json-encode"><a href="#using-private-and-protected-properties-with-json-encode" class="header-anchor">#</a> <strong>Using Private and Protected Properties with <code>json_encode()</code></strong></h3> <p>To avoid using JsonSerializable, it is also possible to use private or protected properties to hide class information from <code>json_encode()</code> output. The Class then does not need to implement \JsonSerializable.</p> <blockquote></blockquote> <p>The json_encode() function will only encode public properties of a
class into JSON.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token punctuation">{</span>
    <span class="token comment">// private properties only within this class</span>
    <span class="token keyword">private</span> <span class="token variable">$id</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$date_created</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$date_edit</span><span class="token punctuation">;</span>

    <span class="token comment">// properties used in extended classes</span>
    <span class="token keyword">protected</span> <span class="token variable">$password</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token variable">$email</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token variable">$role</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token variable">$status</span><span class="token punctuation">;</span>

    <span class="token comment">// share these properties with the end user        </span>
    <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$surname</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$username</span><span class="token punctuation">;</span>

    <span class="token comment">// jsonSerialize() not needed here</span>
<span class="token punctuation">}</span>        

<span class="token variable">$theUser</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$theUser</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></code></pre></div><h3 id="output"><a href="#output" class="header-anchor">#</a> <strong>Output:</strong></h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span> <span class="token string double-quoted-string">&quot;{&quot;</span>name<span class="token string double-quoted-string">&quot;:null,&quot;</span>surname<span class="token string double-quoted-string">&quot;:null,&quot;</span>username<span class="token string double-quoted-string">&quot;:null}&quot;</span>

</code></pre></div><h2 id="header-json-and-the-returned-response"><a href="#header-json-and-the-returned-response" class="header-anchor">#</a> Header json and the returned response</h2> <p>By adding a header with content type as JSON:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
 <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'menu1'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'home'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'menu2'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'code php'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'menu3'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'about'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//return the json response :</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Type: application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &lt;-- header declaration</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// &lt;--- encode</span>
<span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></code></pre></div><p>The header is there so your app can detect what data was returned and how it should handle it. <br> <strong>Note that :</strong> the content header is just information about type of returned data.</p> <p>If you are using UTF-8, you can use :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Content-Type: application/json;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Example jQuery :</p> <div class="language-php extra-class"><pre class="language-php"><code>$<span class="token operator">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token punctuation">:</span><span class="token string single-quoted-string">'url_your_page_php_that_return_json'</span>        
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token operator">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'json '</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token operator">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Menu1 : '</span><span class="token punctuation">,</span> data<span class="token operator">.</span>menu1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>string json_encode ( mixed $value [, int $options = 0 [, int $depth = 512 ]] )</li> <li>mixed json_decode ( string $json [, bool $assoc = false [, int $depth = 512 [, int $options = 0 ]]] )</li></ul> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td><strong>json_encode</strong></td> <td>-</td></tr> <tr><td>value</td> <td>The value being encoded. Can be any type except a resource. All string data must be UTF-8 encoded.</td></tr> <tr><td>options</td> <td>Bitmask consisting of JSON_HEX_QUOT, JSON_HEX_TAG, JSON_HEX_AMP, JSON_HEX_APOS, JSON_NUMERIC_CHECK, JSON_PRETTY_PRINT, JSON_UNESCAPED_SLASHES, JSON_FORCE_OBJECT, JSON_PRESERVE_ZERO_FRACTION, JSON_UNESCAPED_UNICODE, JSON_PARTIAL_OUTPUT_ON_ERROR. The behaviour of these constants is described on the <a href="http://php.net/manual/en/json.constants.php" target="_blank" rel="noopener noreferrer">JSON constants<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> page.</td></tr> <tr><td>depth</td> <td>Set the maximum depth. Must be greater than zero.</td></tr> <tr><td><strong>json_decode</strong></td> <td>-</td></tr> <tr><td>json</td> <td>The json string being decoded. This function only works with UTF-8 encoded strings.</td></tr> <tr><td>assoc</td> <td>Should function return associative array instead of objects.</td></tr> <tr><td>options</td> <td>Bitmask of JSON decode options. Currently only JSON_BIGINT_AS_STRING is supported (default is to cast large integers as floats)</td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <ul><li><strong>json_decode</strong>  handling of invalid JSON is very flaky, and it is very hard to reliably determine if the decoding succeeded, json_decode returns null for invalid input, even though null is also a perfectly valid object for JSON to decode to. <strong>To prevent such problems you should always call <strong>json_last_error</strong> every time you use it.</strong></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/php/json.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/php/output-buffering.html" class="prev">
        Output Buffering
      </a></span> <span class="next"><a href="/php/soap-client.html">
        SOAP Client
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2471.c0705c53.js" defer></script>
  </body>
</html>
