<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP - BC Math (Binary Calculator)</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Comparison between BCMath and float arithmetic operations, Using bcmath to read/write a binary long on 32-bit system">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PHP - BC Math (Binary Calculator)">
    <meta property="og:description" content="Comparison between BCMath and float arithmetic operations, Using bcmath to read/write a binary long on 32-bit system">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/php/bc-math-binary-calculator.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PHP - BC Math (Binary Calculator)">
    <meta name="twitter:description" content="Comparison between BCMath and float arithmetic operations, Using bcmath to read/write a binary long on 32-bit system">
    <meta name="twitter:url" content="/php/bc-math-binary-calculator.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2426.88e8d241.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PHP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/php/installing-a-php-environment-on-windows.html" class="sidebar-link">Installing a PHP environment on Windows</a></li><li><a href="/php/installing-on-linux-unix-environments.html" class="sidebar-link">Installing on Linux/Unix Environments</a></li><li><a href="/php/getting-started-with-php.html" class="sidebar-link">Getting started with PHP</a></li><li><a href="/php/variables.html" class="sidebar-link">Variables</a></li><li><a href="/php/variable-scope.html" class="sidebar-link">Variable Scope</a></li><li><a href="/php/superglobal-variables-php.html" class="sidebar-link">Superglobal Variables PHP</a></li><li><a href="/php/outputting-the-value-of-a-variable.html" class="sidebar-link">Outputting the Value of a Variable</a></li><li><a href="/php/constants.html" class="sidebar-link">Constants</a></li><li><a href="/php/magic-constants.html" class="sidebar-link">Magic Constants</a></li><li><a href="/php/comments.html" class="sidebar-link">Comments</a></li><li><a href="/php/types.html" class="sidebar-link">Types</a></li><li><a href="/php/operators.html" class="sidebar-link">Operators</a></li><li><a href="/php/references.html" class="sidebar-link">References</a></li><li><a href="/php/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/php/array-iteration.html" class="sidebar-link">Array iteration</a></li><li><a href="/php/executing-upon-an-array.html" class="sidebar-link">Executing Upon an Array</a></li><li><a href="/php/manipulating-an-array.html" class="sidebar-link">Manipulating an Array</a></li><li><a href="/php/processing-multiple-arrays-together.html" class="sidebar-link">Processing Multiple Arrays Together</a></li><li><a href="/php/datetime-class.html" class="sidebar-link">Datetime Class</a></li><li><a href="/php/working-with-dates-and-time.html" class="sidebar-link">Working with Dates and Time</a></li><li><a href="/php/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/php/loops.html" class="sidebar-link">Loops</a></li><li><a href="/php/functions.html" class="sidebar-link">Functions</a></li><li><a href="/php/functional-programming.html" class="sidebar-link">Functional Programming</a></li><li><a href="/php/alternative-syntax-for-control-structures.html" class="sidebar-link">Alternative Syntax for Control Structures</a></li><li><a href="/php/string-formatting.html" class="sidebar-link">String formatting</a></li><li><a href="/php/string-parsing.html" class="sidebar-link">String Parsing</a></li><li><a href="/php/classes-and-objects.html" class="sidebar-link">Classes and Objects</a></li><li><a href="/php/namespaces.html" class="sidebar-link">Namespaces</a></li><li><a href="/php/sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/php/cookies.html" class="sidebar-link">Cookies</a></li><li><a href="/php/output-buffering.html" class="sidebar-link">Output Buffering</a></li><li><a href="/php/json.html" class="sidebar-link">JSON</a></li><li><a href="/php/soap-client.html" class="sidebar-link">SOAP Client</a></li><li><a href="/php/using-curl-in-php.html" class="sidebar-link">Using cURL in PHP</a></li><li><a href="/php/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/php/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/php/xml.html" class="sidebar-link">XML</a></li><li><a href="/php/simplexml.html" class="sidebar-link">SimpleXML</a></li><li><a href="/php/parsing-html.html" class="sidebar-link">Parsing HTML</a></li><li><a href="/php/regular-expressions-regexp-pcre.html" class="sidebar-link">Regular Expressions (regexp/PCRE)</a></li><li><a href="/php/traits.html" class="sidebar-link">Traits</a></li><li><a href="/php/composer-dependency-manager.html" class="sidebar-link">Composer Dependency Manager</a></li><li><a href="/php/magic-methods.html" class="sidebar-link">Magic Methods</a></li><li><a href="/php/file-handling.html" class="sidebar-link">File handling</a></li><li><a href="/php/streams.html" class="sidebar-link">Streams</a></li><li><a href="/php/type-hinting.html" class="sidebar-link">Type hinting</a></li><li><a href="/php/filters-filter-functions.html" class="sidebar-link">Filters &amp; Filter Functions</a></li><li><a href="/php/generators.html" class="sidebar-link">Generators</a></li><li><a href="/php/utf-8.html" class="sidebar-link">UTF-8</a></li><li><a href="/php/how-to-break-down-an-url.html" class="sidebar-link">How to break down an URL</a></li><li><a href="/php/object-serialization.html" class="sidebar-link">Object Serialization</a></li><li><a href="/php/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/php/closure.html" class="sidebar-link">Closure</a></li><li><a href="/php/reading-request-data.html" class="sidebar-link">Reading Request Data</a></li><li><a href="/php/type-juggling-and-non-strict-comparison-issues.html" class="sidebar-link">Type juggling and Non-Strict Comparison Issues</a></li><li><a href="/php/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/php/pdo.html" class="sidebar-link">PDO</a></li><li><a href="/php/php-mysqli.html" class="sidebar-link">PHP MySQLi</a></li><li><a href="/php/sqlite3.html" class="sidebar-link">SQLite3</a></li><li><a href="/php/using-mongodb.html" class="sidebar-link">Using MongoDB</a></li><li><a href="/php/mongo-php.html" class="sidebar-link">mongo-php</a></li><li><a href="/php/using-redis-with-php.html" class="sidebar-link">Using Redis with PHP</a></li><li><a href="/php/sending-email.html" class="sidebar-link">Sending Email</a></li><li><a href="/php/using-sqlsrv.html" class="sidebar-link">Using SQLSRV</a></li><li><a href="/php/command-line-interface-cli.html" class="sidebar-link">Command Line Interface (CLI)</a></li><li><a href="/php/localization.html" class="sidebar-link">Localization</a></li><li><a href="/php/headers-manipulation.html" class="sidebar-link">Headers Manipulation</a></li><li><a href="/php/coding-conventions.html" class="sidebar-link">Coding Conventions</a></li><li><a href="/php/asynchronous-programming.html" class="sidebar-link">Asynchronous programming</a></li><li><a href="/php/how-to-detect-client-ip-address.html" class="sidebar-link">How to Detect Client IP Address</a></li><li><a href="/php/create-pdf-files-in-php.html" class="sidebar-link">Create PDF files in PHP</a></li><li><a href="/php/yaml-in-php.html" class="sidebar-link">YAML in PHP</a></li><li><a href="/php/image-processing-with-gd.html" class="sidebar-link">Image Processing with GD</a></li><li><a href="/php/imagick.html" class="sidebar-link">Imagick</a></li><li><a href="/php/soap-server.html" class="sidebar-link">SOAP Server</a></li><li><a href="/php/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/php/cache.html" class="sidebar-link">Cache</a></li><li><a href="/php/autoloading-primer.html" class="sidebar-link">Autoloading Primer</a></li><li><a href="/php/spl-data-structures.html" class="sidebar-link">SPL data structures</a></li><li><a href="/php/imap.html" class="sidebar-link">IMAP</a></li><li><a href="/php/http-authentication.html" class="sidebar-link">HTTP Authentication</a></li><li><a href="/php/websockets.html" class="sidebar-link">WebSockets</a></li><li><a href="/php/bc-math-binary-calculator.html" aria-current="page" class="active sidebar-link">BC Math (Binary Calculator)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/bc-math-binary-calculator.html#comparison-between-bcmath-and-float-arithmetic-operations" class="sidebar-link">Comparison between BCMath and float arithmetic operations</a></li><li class="sidebar-sub-header"><a href="/php/bc-math-binary-calculator.html#using-bcmath-to-read-write-a-binary-long-on-32-bit-system" class="sidebar-link">Using bcmath to read/write a binary long on 32-bit system</a></li></ul></li><li><a href="/php/docker-deployment.html" class="sidebar-link">Docker deployment</a></li><li><a href="/php/apcu.html" class="sidebar-link">APCu</a></li><li><a href="/php/php-built-in-server.html" class="sidebar-link">PHP Built in server</a></li><li><a href="/php/psr.html" class="sidebar-link">PSR</a></li><li><a href="/php/phpdoc.html" class="sidebar-link">PHPDoc</a></li><li><a href="/php/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/php/compile-php-extensions.html" class="sidebar-link">Compile PHP Extensions</a></li><li><a href="/php/common-errors.html" class="sidebar-link">Common Errors</a></li><li><a href="/php/compilation-of-errors-and-warnings.html" class="sidebar-link">Compilation of Errors and Warnings</a></li><li><a href="/php/exception-handling-and-error-reporting.html" class="sidebar-link">Exception Handling and Error Reporting</a></li><li><a href="/php/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/php/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/php/performance.html" class="sidebar-link">Performance</a></li><li><a href="/php/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/php/multi-threading-extension.html" class="sidebar-link">Multi Threading Extension</a></li><li><a href="/php/secure-remeber-me.html" class="sidebar-link">Secure Remeber Me</a></li><li><a href="/php/security.html" class="sidebar-link">Security</a></li><li><a href="/php/cryptography.html" class="sidebar-link">Cryptography</a></li><li><a href="/php/password-hashing-functions.html" class="sidebar-link">Password Hashing Functions</a></li><li><a href="/php/urls.html" class="sidebar-link">URLs</a></li><li><a href="/php/unicode-support-in-php.html" class="sidebar-link">Unicode Support in PHP</a></li><li><a href="/php/getting-started-with-php-7.html" class="sidebar-link">Getting started with php-7</a></li><li><a href="/php/null-coalesce-operator.html" class="sidebar-link">Null Coalesce Operator</a></li><li><a href="/php/spaceship-operator.html" class="sidebar-link">Spaceship operator</a></li><li><a href="/php/anonymous-class.html" class="sidebar-link">Anonymous class</a></li><li><a href="/php/contributing-to-the-php-manual.html" class="sidebar-link">Contributing to the PHP Manual</a></li><li><a href="/php/contributing-to-the-php-core.html" class="sidebar-link">Contributing to the PHP Core</a></li><li><a href="/php/getting-started-with-composer-php.html" class="sidebar-link">Getting started with composer-php</a></li><li><a href="/php/auto-loading-with-composer.html" class="sidebar-link">Auto loading with composer</a></li><li><a href="/php/how-to-use-private-repositories-with-composer.html" class="sidebar-link">How to use private repositories with Composer</a></li><li><a href="/php/getting-started-with-phpunit.html" class="sidebar-link">Getting Started with PHPUnit</a></li><li><a href="/php/assertions.html" class="sidebar-link">Assertions</a></li><li><a href="/php/test-doubles-mocks-and-stubs.html" class="sidebar-link">Test Doubles (Mocks and Stubs)</a></li><li><a href="/php/recipes.html" class="sidebar-link">Recipes</a></li><li><a href="/php/php-mysqli-affected-rows-returns-0-when-it-should-return-a-positive-integer.html" class="sidebar-link">php mysqli affected rows returns 0 when it should return a positive integer</a></li><li><a href="/php/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bc-math-binary-calculator"><a href="#bc-math-binary-calculator" class="header-anchor">#</a> BC Math (Binary Calculator)</h1> <p>The Binary Calculator can be used to calculate with numbers of any size and precision up to 2147483647-1 decimals, in string format. The Binary Calculator is more precise than the float calculation of PHP.</p> <h2 id="comparison-between-bcmath-and-float-arithmetic-operations"><a href="#comparison-between-bcmath-and-float-arithmetic-operations" class="header-anchor">#</a> Comparison between BCMath and float arithmetic operations</h2> <h3 id="bcadd-vs-float-float"><a href="#bcadd-vs-float-float" class="header-anchor">#</a> bcadd vs float+float</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'10'</span> <span class="token operator">+</span> <span class="token string single-quoted-string">'-9.99'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// float(0.0099999999999998)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// float(0.0099999999999998)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">10.00</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// float(0.0099999999999998)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">bcadd</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'10'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'-9.99'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string(22) &quot;0.01000000000000000000&quot;</span>

</code></pre></div><h3 id="bcsub-vs-float-float"><a href="#bcsub-vs-float-float" class="header-anchor">#</a> bcsub vs float-float</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'10'</span> <span class="token operator">-</span> <span class="token string single-quoted-string">'9.99'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// float(0.0099999999999998)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> <span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// float(0.0099999999999998)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">10.00</span> <span class="token operator">-</span> <span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// float(0.0099999999999998)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">bcsub</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'10'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'9.99'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string(22) &quot;0.01000000000000000000&quot;</span>

</code></pre></div><h3 id="bcmul-vs-int-int"><a href="#bcmul-vs-int-int" class="header-anchor">#</a> bcmul vs int*int</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'5.00'</span> <span class="token operator">*</span> <span class="token string single-quoted-string">'2.00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// float(10)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">5.00</span> <span class="token operator">*</span> <span class="token number">2.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// float(10)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">bcmul</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'5.0'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'2'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// string(4) &quot;10.0&quot;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">bcmul</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'5.000'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'2.00'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string(8) &quot;10.00000&quot;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">bcmul</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'5'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'2'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// string(2) &quot;10&quot;</span>

</code></pre></div><h3 id="bcmul-vs-float-float"><a href="#bcmul-vs-float-float" class="header-anchor">#</a> bcmul vs float*float</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1.6767676767'</span> <span class="token operator">*</span> <span class="token string single-quoted-string">'1.6767676767'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// float(2.8115498416259)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">1.6767676767</span> <span class="token operator">*</span> <span class="token number">1.6767676767</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// float(2.8115498416259)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">bcmul</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1.6767676767'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'1.6767676767'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string(22) &quot;2.81154984162591572289&quot;</span>

</code></pre></div><h3 id="bcdiv-vs-float-float"><a href="#bcdiv-vs-float-float" class="header-anchor">#</a> bcdiv vs float/float</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'10'</span> <span class="token operator">/</span> <span class="token string single-quoted-string">'3.01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// float(3.3222591362126)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> <span class="token number">3.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// float(3.3222591362126)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">10.00</span> <span class="token operator">/</span> <span class="token number">3.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// float(3.3222591362126)</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">bcdiv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'10'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'3.01'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string(22) &quot;3.32225913621262458471&quot;</span>

</code></pre></div><h2 id="using-bcmath-to-read-write-a-binary-long-on-32-bit-system"><a href="#using-bcmath-to-read-write-a-binary-long-on-32-bit-system" class="header-anchor">#</a> Using bcmath to read/write a binary long on 32-bit system</h2> <p>On 32-bit systems, integers greater than <code>0x7FFFFFFF</code> cannot be stored primitively, while integers between <code>0x0000000080000000</code> and <code>0x7FFFFFFFFFFFFFFF</code> can be stored primitively on 64-bit systems but not 32-bit systems (<code>signed long long</code>). However, since 64-bit systems and many other languages support storing <code>signed long long</code> integers, it is sometimes necessary to store this range of integers in exact value. There are several ways to do so, such as creating an array with two numbers, or converting the integer into its decimal human-readable form. This has several advantages, such as the convenience in presenting to the user, and the ability to manipulate it with bcmath directly.</p> <p>The <a href="https://php.net/pack" target="_blank" rel="noopener noreferrer"><code>pack</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>/<a href="https://php.net/unpack" target="_blank" rel="noopener noreferrer"><code>unpack</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> methods can be used to convert between binary bytes and decimal form of the numbers (both of type <code>string</code>, but one is binary and one is ASCII), but they will always try to cast the ASCII string into a 32-bit int on 32-bit systems. The following snippet provides an alternative:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/** Use pack(&quot;J&quot;) or pack(&quot;p&quot;) for 64-bit systems */</span>
<span class="token keyword">function</span> <span class="token function-definition function">writeLong</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$ascii</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword return-type">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">bccomp</span><span class="token punctuation">(</span><span class="token variable">$ascii</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// if $ascii &lt; 0</span>
        <span class="token comment">// 18446744073709551616 is equal to (1 &lt;&lt; 64)</span>
        <span class="token comment">// remember to add the quotes, or the number will be parsed as a float literal</span>
        <span class="token variable">$ascii</span> <span class="token operator">=</span> <span class="token function">bcadd</span><span class="token punctuation">(</span><span class="token variable">$ascii</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;18446744073709551616&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// &quot;n&quot; is big-endian 16-bit unsigned short. Use &quot;v&quot; for small-endian.</span>
    <span class="token keyword">return</span> <span class="token function">pack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">bcmod</span><span class="token punctuation">(</span><span class="token function">bcdiv</span><span class="token punctuation">(</span><span class="token variable">$ascii</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;281474976710656&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">.</span>
        <span class="token function">pack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">bcmod</span><span class="token punctuation">(</span><span class="token function">bcdiv</span><span class="token punctuation">(</span><span class="token variable">$ascii</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;4294967296&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">.</span>
        <span class="token function">pack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">bcdiv</span><span class="token punctuation">(</span><span class="token variable">$ascii</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">.</span>
        <span class="token function">pack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">bcmod</span><span class="token punctuation">(</span><span class="token variable">$ascii</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">readLong</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$binary</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword return-type">string</span> <span class="token punctuation">{</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;0&quot;</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcadd</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token function">unpack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$binary</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcmul</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcadd</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token function">unpack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$binary</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcmul</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcadd</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token function">unpack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$binary</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcmul</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;65536&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcadd</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token function">unpack</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$binary</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// if $binary is a signed long long</span>
    <span class="token comment">// 9223372036854775808 is equal to (1 &lt;&lt; 63) (note that this expression actually does not work even on 64-bit systems)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">bccomp</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;9223372036854775808&quot;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// if $result &gt;= 9223372036854775807</span>
        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">bcsub</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;18446744073709551616&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// $result -= (1 &lt;&lt; 64)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$result</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>string bcadd ( string $left_operand , string $right_operand [, int $scale = 0 ] )</li> <li>int bccomp ( string $left_operand , string $right_operand [, int $scale = 0 ] )</li> <li>string bcdiv ( string $left_operand , string $right_operand [, int $scale = 0 ] )</li> <li>string bcmod ( string $left_operand , string $modulus )</li> <li>string bcmul ( string $left_operand , string $right_operand [, int $scale = 0 ] )</li> <li>string bcpowmod ( string $left_operand , string $right_operand , string $modulus [, int $scale = 0 ] )</li> <li>bool bcscale ( int $scale )</li> <li>string bcsqrt ( string $operand [, int $scale = 0 ] )</li> <li>string bcsub ( string $left_operand , string $right_operand [, int $scale = 0 ] )</li></ul> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>bcadd</th> <th><strong>Add two arbitrary precision numbers.</strong></th></tr></thead> <tbody><tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>right_operand</code></td> <td>The right operand, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place in the result.</td></tr> <tr><td><strong>bccomp</strong></td> <td><strong><strong>Compare two arbitrary precision numbers.</strong></strong></td></tr> <tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>right_operand</code></td> <td>The right operand, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place which will be used in the comparison.</td></tr> <tr><td><strong>bcdiv</strong></td> <td><strong><strong>Divide two arbitrary precision numbers.</strong></strong></td></tr> <tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>right_operand</code></td> <td>The right operand, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place in the result.</td></tr> <tr><td><strong>bcmod</strong></td> <td><strong><strong>Get modulus of an arbitrary precision number.</strong></strong></td></tr> <tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>modulus</code></td> <td>The modulus, as a string.</td></tr> <tr><td><strong>bcmul</strong></td> <td><strong><strong>Multiply two arbitrary precision numbers.</strong></strong></td></tr> <tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>right_operand</code></td> <td>The right operand, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place in the result.</td></tr> <tr><td><strong>bcpow</strong></td> <td><strong><strong>Raise an arbitrary precision number to another.</strong></strong></td></tr> <tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>right_operand</code></td> <td>The right operand, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place in the result.</td></tr> <tr><td><strong>bcpowmod</strong></td> <td><strong><strong>Raise an arbitrary precision number to another, reduced by a specified modulus.</strong></strong></td></tr> <tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>right_operand</code></td> <td>The right operand, as a string.</td></tr> <tr><td><code>modulus</code></td> <td>The modulus, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place in the result.</td></tr> <tr><td><strong>bcscale</strong></td> <td><strong><strong>Set default scale parameter for all bc math functions.</strong></strong></td></tr> <tr><td><code>scale</code></td> <td>The scale factor.</td></tr> <tr><td><strong>bcsqrt</strong></td> <td><strong><strong>Get the square root of an arbitrary precision number.</strong></strong></td></tr> <tr><td><code>operand</code></td> <td>The operand, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place in the result.</td></tr> <tr><td><strong>bcsub</strong></td> <td><strong><strong>Subtract one arbitrary precision number from another.</strong></strong></td></tr> <tr><td><code>left_operand</code></td> <td>The left operand, as a string.</td></tr> <tr><td><code>right_operand</code></td> <td>The right operand, as a string.</td></tr> <tr><td><code>scale</code></td> <td>A optional parameter to set the number of digits after the decimal place in the result.</td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>For all BC functions, if the <code>scale</code> parameter is not set, it defaults to 0, which will make all operations integer operations.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/php/bc-math-binary-calculator.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/php/websockets.html" class="prev">
        WebSockets
      </a></span> <span class="next"><a href="/php/docker-deployment.html">
        Docker deployment
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2426.88e8d241.js" defer></script>
  </body>
</html>
