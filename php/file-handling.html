<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP - File handling</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Deleting files and directories, Convenience functions, Getting file information, Minimize memory usage when dealing with large files, Stream-based file IO, Moving and Copying files and directories">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PHP - File handling">
    <meta property="og:description" content="Deleting files and directories, Convenience functions, Getting file information, Minimize memory usage when dealing with large files, Stream-based file IO, Moving and Copying files and directories">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/php/file-handling.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PHP - File handling">
    <meta name="twitter:description" content="Deleting files and directories, Convenience functions, Getting file information, Minimize memory usage when dealing with large files, Stream-based file IO, Moving and Copying files and directories">
    <meta name="twitter:url" content="/php/file-handling.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2452.1afd84cc.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PHP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/php/installing-a-php-environment-on-windows.html" class="sidebar-link">Installing a PHP environment on Windows</a></li><li><a href="/php/installing-on-linux-unix-environments.html" class="sidebar-link">Installing on Linux/Unix Environments</a></li><li><a href="/php/getting-started-with-php.html" class="sidebar-link">Getting started with PHP</a></li><li><a href="/php/variables.html" class="sidebar-link">Variables</a></li><li><a href="/php/variable-scope.html" class="sidebar-link">Variable Scope</a></li><li><a href="/php/superglobal-variables-php.html" class="sidebar-link">Superglobal Variables PHP</a></li><li><a href="/php/outputting-the-value-of-a-variable.html" class="sidebar-link">Outputting the Value of a Variable</a></li><li><a href="/php/constants.html" class="sidebar-link">Constants</a></li><li><a href="/php/magic-constants.html" class="sidebar-link">Magic Constants</a></li><li><a href="/php/comments.html" class="sidebar-link">Comments</a></li><li><a href="/php/types.html" class="sidebar-link">Types</a></li><li><a href="/php/operators.html" class="sidebar-link">Operators</a></li><li><a href="/php/references.html" class="sidebar-link">References</a></li><li><a href="/php/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/php/array-iteration.html" class="sidebar-link">Array iteration</a></li><li><a href="/php/executing-upon-an-array.html" class="sidebar-link">Executing Upon an Array</a></li><li><a href="/php/manipulating-an-array.html" class="sidebar-link">Manipulating an Array</a></li><li><a href="/php/processing-multiple-arrays-together.html" class="sidebar-link">Processing Multiple Arrays Together</a></li><li><a href="/php/datetime-class.html" class="sidebar-link">Datetime Class</a></li><li><a href="/php/working-with-dates-and-time.html" class="sidebar-link">Working with Dates and Time</a></li><li><a href="/php/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/php/loops.html" class="sidebar-link">Loops</a></li><li><a href="/php/functions.html" class="sidebar-link">Functions</a></li><li><a href="/php/functional-programming.html" class="sidebar-link">Functional Programming</a></li><li><a href="/php/alternative-syntax-for-control-structures.html" class="sidebar-link">Alternative Syntax for Control Structures</a></li><li><a href="/php/string-formatting.html" class="sidebar-link">String formatting</a></li><li><a href="/php/string-parsing.html" class="sidebar-link">String Parsing</a></li><li><a href="/php/classes-and-objects.html" class="sidebar-link">Classes and Objects</a></li><li><a href="/php/namespaces.html" class="sidebar-link">Namespaces</a></li><li><a href="/php/sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/php/cookies.html" class="sidebar-link">Cookies</a></li><li><a href="/php/output-buffering.html" class="sidebar-link">Output Buffering</a></li><li><a href="/php/json.html" class="sidebar-link">JSON</a></li><li><a href="/php/soap-client.html" class="sidebar-link">SOAP Client</a></li><li><a href="/php/using-curl-in-php.html" class="sidebar-link">Using cURL in PHP</a></li><li><a href="/php/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/php/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/php/xml.html" class="sidebar-link">XML</a></li><li><a href="/php/simplexml.html" class="sidebar-link">SimpleXML</a></li><li><a href="/php/parsing-html.html" class="sidebar-link">Parsing HTML</a></li><li><a href="/php/regular-expressions-regexp-pcre.html" class="sidebar-link">Regular Expressions (regexp/PCRE)</a></li><li><a href="/php/traits.html" class="sidebar-link">Traits</a></li><li><a href="/php/composer-dependency-manager.html" class="sidebar-link">Composer Dependency Manager</a></li><li><a href="/php/magic-methods.html" class="sidebar-link">Magic Methods</a></li><li><a href="/php/file-handling.html" aria-current="page" class="active sidebar-link">File handling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/file-handling.html#deleting-files-and-directories" class="sidebar-link">Deleting files and directories</a></li><li class="sidebar-sub-header"><a href="/php/file-handling.html#convenience-functions" class="sidebar-link">Convenience functions</a></li><li class="sidebar-sub-header"><a href="/php/file-handling.html#getting-file-information" class="sidebar-link">Getting file information</a></li><li class="sidebar-sub-header"><a href="/php/file-handling.html#minimize-memory-usage-when-dealing-with-large-files" class="sidebar-link">Minimize memory usage when dealing with large files</a></li><li class="sidebar-sub-header"><a href="/php/file-handling.html#stream-based-file-io" class="sidebar-link">Stream-based file IO</a></li><li class="sidebar-sub-header"><a href="/php/file-handling.html#moving-and-copying-files-and-directories" class="sidebar-link">Moving and Copying files and directories</a></li></ul></li><li><a href="/php/streams.html" class="sidebar-link">Streams</a></li><li><a href="/php/type-hinting.html" class="sidebar-link">Type hinting</a></li><li><a href="/php/filters-filter-functions.html" class="sidebar-link">Filters &amp; Filter Functions</a></li><li><a href="/php/generators.html" class="sidebar-link">Generators</a></li><li><a href="/php/utf-8.html" class="sidebar-link">UTF-8</a></li><li><a href="/php/how-to-break-down-an-url.html" class="sidebar-link">How to break down an URL</a></li><li><a href="/php/object-serialization.html" class="sidebar-link">Object Serialization</a></li><li><a href="/php/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/php/closure.html" class="sidebar-link">Closure</a></li><li><a href="/php/reading-request-data.html" class="sidebar-link">Reading Request Data</a></li><li><a href="/php/type-juggling-and-non-strict-comparison-issues.html" class="sidebar-link">Type juggling and Non-Strict Comparison Issues</a></li><li><a href="/php/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/php/pdo.html" class="sidebar-link">PDO</a></li><li><a href="/php/php-mysqli.html" class="sidebar-link">PHP MySQLi</a></li><li><a href="/php/sqlite3.html" class="sidebar-link">SQLite3</a></li><li><a href="/php/using-mongodb.html" class="sidebar-link">Using MongoDB</a></li><li><a href="/php/mongo-php.html" class="sidebar-link">mongo-php</a></li><li><a href="/php/using-redis-with-php.html" class="sidebar-link">Using Redis with PHP</a></li><li><a href="/php/sending-email.html" class="sidebar-link">Sending Email</a></li><li><a href="/php/using-sqlsrv.html" class="sidebar-link">Using SQLSRV</a></li><li><a href="/php/command-line-interface-cli.html" class="sidebar-link">Command Line Interface (CLI)</a></li><li><a href="/php/localization.html" class="sidebar-link">Localization</a></li><li><a href="/php/headers-manipulation.html" class="sidebar-link">Headers Manipulation</a></li><li><a href="/php/coding-conventions.html" class="sidebar-link">Coding Conventions</a></li><li><a href="/php/asynchronous-programming.html" class="sidebar-link">Asynchronous programming</a></li><li><a href="/php/how-to-detect-client-ip-address.html" class="sidebar-link">How to Detect Client IP Address</a></li><li><a href="/php/create-pdf-files-in-php.html" class="sidebar-link">Create PDF files in PHP</a></li><li><a href="/php/yaml-in-php.html" class="sidebar-link">YAML in PHP</a></li><li><a href="/php/image-processing-with-gd.html" class="sidebar-link">Image Processing with GD</a></li><li><a href="/php/imagick.html" class="sidebar-link">Imagick</a></li><li><a href="/php/soap-server.html" class="sidebar-link">SOAP Server</a></li><li><a href="/php/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/php/cache.html" class="sidebar-link">Cache</a></li><li><a href="/php/autoloading-primer.html" class="sidebar-link">Autoloading Primer</a></li><li><a href="/php/spl-data-structures.html" class="sidebar-link">SPL data structures</a></li><li><a href="/php/imap.html" class="sidebar-link">IMAP</a></li><li><a href="/php/http-authentication.html" class="sidebar-link">HTTP Authentication</a></li><li><a href="/php/websockets.html" class="sidebar-link">WebSockets</a></li><li><a href="/php/bc-math-binary-calculator.html" class="sidebar-link">BC Math (Binary Calculator)</a></li><li><a href="/php/docker-deployment.html" class="sidebar-link">Docker deployment</a></li><li><a href="/php/apcu.html" class="sidebar-link">APCu</a></li><li><a href="/php/php-built-in-server.html" class="sidebar-link">PHP Built in server</a></li><li><a href="/php/psr.html" class="sidebar-link">PSR</a></li><li><a href="/php/phpdoc.html" class="sidebar-link">PHPDoc</a></li><li><a href="/php/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/php/compile-php-extensions.html" class="sidebar-link">Compile PHP Extensions</a></li><li><a href="/php/common-errors.html" class="sidebar-link">Common Errors</a></li><li><a href="/php/compilation-of-errors-and-warnings.html" class="sidebar-link">Compilation of Errors and Warnings</a></li><li><a href="/php/exception-handling-and-error-reporting.html" class="sidebar-link">Exception Handling and Error Reporting</a></li><li><a href="/php/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/php/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/php/performance.html" class="sidebar-link">Performance</a></li><li><a href="/php/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/php/multi-threading-extension.html" class="sidebar-link">Multi Threading Extension</a></li><li><a href="/php/secure-remeber-me.html" class="sidebar-link">Secure Remeber Me</a></li><li><a href="/php/security.html" class="sidebar-link">Security</a></li><li><a href="/php/cryptography.html" class="sidebar-link">Cryptography</a></li><li><a href="/php/password-hashing-functions.html" class="sidebar-link">Password Hashing Functions</a></li><li><a href="/php/urls.html" class="sidebar-link">URLs</a></li><li><a href="/php/unicode-support-in-php.html" class="sidebar-link">Unicode Support in PHP</a></li><li><a href="/php/getting-started-with-php-7.html" class="sidebar-link">Getting started with php-7</a></li><li><a href="/php/null-coalesce-operator.html" class="sidebar-link">Null Coalesce Operator</a></li><li><a href="/php/spaceship-operator.html" class="sidebar-link">Spaceship operator</a></li><li><a href="/php/anonymous-class.html" class="sidebar-link">Anonymous class</a></li><li><a href="/php/contributing-to-the-php-manual.html" class="sidebar-link">Contributing to the PHP Manual</a></li><li><a href="/php/contributing-to-the-php-core.html" class="sidebar-link">Contributing to the PHP Core</a></li><li><a href="/php/getting-started-with-composer-php.html" class="sidebar-link">Getting started with composer-php</a></li><li><a href="/php/auto-loading-with-composer.html" class="sidebar-link">Auto loading with composer</a></li><li><a href="/php/how-to-use-private-repositories-with-composer.html" class="sidebar-link">How to use private repositories with Composer</a></li><li><a href="/php/getting-started-with-phpunit.html" class="sidebar-link">Getting Started with PHPUnit</a></li><li><a href="/php/assertions.html" class="sidebar-link">Assertions</a></li><li><a href="/php/test-doubles-mocks-and-stubs.html" class="sidebar-link">Test Doubles (Mocks and Stubs)</a></li><li><a href="/php/recipes.html" class="sidebar-link">Recipes</a></li><li><a href="/php/php-mysqli-affected-rows-returns-0-when-it-should-return-a-positive-integer.html" class="sidebar-link">php mysqli affected rows returns 0 when it should return a positive integer</a></li><li><a href="/php/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="file-handling"><a href="#file-handling" class="header-anchor">#</a> File handling</h1> <h2 id="deleting-files-and-directories"><a href="#deleting-files-and-directories" class="header-anchor">#</a> Deleting files and directories</h2> <h3 id="deleting-files"><a href="#deleting-files" class="header-anchor">#</a> Deleting files</h3> <p>The <a href="http://php.net/unlink" target="_blank" rel="noopener noreferrer"><code>unlink</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function deletes a single file and returns whether the operation was successful.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'/path/to/file.txt'</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$success</span> <span class="token operator">=</span> <span class="token function">unlink</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Cannot delete <span class="token interpolation"><span class="token variable">$filename</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="deleting-directories-with-recursive-deletion"><a href="#deleting-directories-with-recursive-deletion" class="header-anchor">#</a> Deleting directories, with recursive deletion</h3> <p>On the other hand, directories should be deleted with <a href="http://php.net/rmdir" target="_blank" rel="noopener noreferrer"><code>rmdir</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. However, this function only deletes empty directories. To delete a directory with files, delete the files in the directories first. If the directory contains subdirectories, <strong>recursion</strong> may be needed.</p> <p>The following example scans files in a directory, deletes member files/directories recursively, and returns the number of files (not directories) deleted.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">recurse_delete_dir</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$dir</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword return-type">int</span> <span class="token punctuation">{</span>
    <span class="token variable">$count</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// ensure that $dir ends with a slash so that we can concatenate it with the filenames directly</span>
    <span class="token variable">$dir</span> <span class="token operator">=</span> <span class="token function">rtrim</span><span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/\\&quot;</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;/&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// use dir() to list files</span>
    <span class="token variable">$list</span> <span class="token operator">=</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// store the next file name to $file. if $file is false, that's all -- end the loop.</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token variable">$list</span><span class="token operator">-&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$file</span> <span class="token operator">===</span> <span class="token string double-quoted-string">&quot;.&quot;</span> <span class="token operator">||</span> <span class="token variable">$file</span> <span class="token operator">===</span> <span class="token string double-quoted-string">&quot;..&quot;</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_file</span><span class="token punctuation">(</span><span class="token variable">$dir</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">unlink</span><span class="token punctuation">(</span><span class="token variable">$dir</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$count</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">elseif</span><span class="token punctuation">(</span><span class="token function">is_dir</span><span class="token punctuation">(</span><span class="token variable">$dir</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$count</span> <span class="token operator">+=</span> <span class="token function">recurse_delete_dir</span><span class="token punctuation">(</span><span class="token variable">$dir</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// finally, safe to delete directory!</span>
    <span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token variable">$count</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="convenience-functions"><a href="#convenience-functions" class="header-anchor">#</a> Convenience functions</h2> <h3 id="raw-direct-io"><a href="#raw-direct-io" class="header-anchor">#</a> Raw direct IO</h3> <p><a href="http://php.net/manual/en/function.file-get-contents.php" target="_blank" rel="noopener noreferrer"><code>file_get_contents</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://php.net/manual/en/function.file-put-contents.php" target="_blank" rel="noopener noreferrer"><code>file_put_contents</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> provide the ability to read/write from/to a file to/from a PHP string in a single call.</p> <p><a href="http://php.net/manual/en/function.file-put-contents.php" target="_blank" rel="noopener noreferrer"><code>file_put_contents</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> can also be used with the <code>FILE_APPEND</code> bitmask flag to append to, instead of truncate and overwrite, the file. It can be used along with <code>LOCK_EX</code> bitmask to acquire an exclusive lock to the file while proceeding to writing. Bitmask flags can be joined with the <code>|</code> bitwise-OR operator.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$path</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;file.txt&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// reads contents in file.txt to $contents</span>
<span class="token variable">$contents</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// let's change something... for example, convert the CRLF to LF!</span>
<span class="token variable">$contents</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\r\n&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;\n&quot;</span><span class="token punctuation">,</span> <span class="token variable">$contents</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// now write it back to file.txt, replacing the original contents</span>
<span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">,</span> <span class="token variable">$contents</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><code>FILE_APPEND</code> is handy for appending to log files while <code>LOCK_EX</code> helps prevent race condition of file writing from multiple processes. For example, to write to a log file about the current session:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;logins.log&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;{$_SESSION[&quot;</span>username<span class="token string double-quoted-string">&quot;]} logged in&quot;</span><span class="token punctuation">,</span> <span class="token class-name">FILE_APPEND</span> <span class="token operator">|</span> <span class="token class-name">LOCK_EX</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="csv-io"><a href="#csv-io" class="header-anchor">#</a> CSV IO</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">fgetcsv</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$length</span><span class="token punctuation">,</span> <span class="token variable">$separator</span><span class="token punctuation">)</span>

</code></pre></div><p>The <a href="http://php.net/fgetcsv" target="_blank" rel="noopener noreferrer"><code>fgetcsv</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> parses line from open file checking for csv fields. It returns CSV fields in an array on success or <code>FALSE</code> on failure.</p> <p>By default, it will read only one line of the CSV file.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;contacts.csv&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token function">fgetcsv</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token function">fgetcsv</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

</code></pre></div><p><strong><code>contacts.csv</code></strong></p> <div class="language-php extra-class"><pre class="language-php"><code>Kai Jim<span class="token punctuation">,</span> Refsnes<span class="token punctuation">,</span> Stavanger<span class="token punctuation">,</span> Norway
Hege<span class="token punctuation">,</span> Refsnes<span class="token punctuation">,</span> Stavanger<span class="token punctuation">,</span> Norway

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">Array</span>
<span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> Kai Jim
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> Refsnes
    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> Stavanger
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> Norway
<span class="token punctuation">)</span>
<span class="token keyword">Array</span>
<span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> Hege<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

</code></pre></div><h3 id="reading-a-file-to-stdout-directly"><a href="#reading-a-file-to-stdout-directly" class="header-anchor">#</a> Reading a file to stdout directly</h3> <p><a href="http://php.net/readfile" target="_blank" rel="noopener noreferrer"><code>readfile</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> copies a file to the output buffer. readfile() will not present any memory issues, even when sending large files, on its own.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'monkey.gif'</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Description: File Transfer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Type: application/octet-stream'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Disposition: attachment; filename=&quot;'</span><span class="token operator">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&quot;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Expires: 0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Cache-Control: must-revalidate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Pragma: public'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Length: '</span> <span class="token operator">.</span> <span class="token function">filesize</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">readfile</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">exit</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="or-from-a-file-pointer"><a href="#or-from-a-file-pointer" class="header-anchor">#</a> Or from a file pointer</h3> <p>Alternatively, to seek a point in the file to start copying to stdout, use <a href="http://php.net/fpassthru" target="_blank" rel="noopener noreferrer"><code>fpassthru</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> instead. In the following example, the last 1024 bytes are copied to stdout:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fh</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;file.txt&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;rb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fseek</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1024</span><span class="token punctuation">,</span> <span class="token constant">SEEK_END</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">fpassthru</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="reading-a-file-into-an-array"><a href="#reading-a-file-into-an-array" class="header-anchor">#</a> Reading a file into an array</h3> <p><a href="http://php.net/manual/en/function.file.php" target="_blank" rel="noopener noreferrer"><code>file</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns the lines in the passed file in an array. Each element of the array corresponds to a line in the file, with the newline still attached.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">print_r</span><span class="token punctuation">(</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong><code>test.txt</code></strong></p> <div class="language-php extra-class"><pre class="language-php"><code>Welcome to File handling
This is to test file handling

</code></pre></div><p>Output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">Array</span> 
<span class="token punctuation">(</span> 
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> Welcome to File handling 
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> This is to test file handling 
<span class="token punctuation">)</span>

</code></pre></div><h2 id="getting-file-information"><a href="#getting-file-information" class="header-anchor">#</a> Getting file information</h2> <h3 id="check-if-a-path-is-a-directory-or-a-file"><a href="#check-if-a-path-is-a-directory-or-a-file" class="header-anchor">#</a> Check if a path is a directory or a file</h3> <p>The <a href="http://php.net/is-dir" target="_blank" rel="noopener noreferrer"><code>is_dir</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function returns whether the argument is a directory, while <a href="http://php.net/is-file" target="_blank" rel="noopener noreferrer"><code>is_file</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns whether the argument is a file. Use <a href="http://php.net/file-exists" target="_blank" rel="noopener noreferrer"><code>file_exists</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to check if it is either.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$dir</span>  <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;/this/is/a/directory&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$file</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;/this/is/a/file.txt&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token function">is_dir</span><span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$dir</span></span> is a directory&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$dir</span></span> is not a directory&quot;</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">,</span>
    <span class="token function">is_file</span><span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$dir</span></span> is a file&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$dir</span></span> is not a file&quot;</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">,</span>
    <span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$dir</span></span> exists&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$dir</span></span> doesn't exist&quot;</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">,</span>
    <span class="token function">is_dir</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$file</span></span> is a directory&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$file</span></span> is not a directory&quot;</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">,</span>
    <span class="token function">is_file</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$file</span></span> is a file&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$file</span></span> is not a file&quot;</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">,</span>
    <span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$file</span></span> exists&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$file</span></span> doesn't exist&quot;</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>

</code></pre></div><p>This gives:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">/</span>this<span class="token operator">/</span>is<span class="token operator">/</span>a<span class="token operator">/</span>directory is a directory
<span class="token operator">/</span>this<span class="token operator">/</span>is<span class="token operator">/</span>a<span class="token operator">/</span>directory is not a file
<span class="token operator">/</span>this<span class="token operator">/</span>is<span class="token operator">/</span>a<span class="token operator">/</span>directory exists
<span class="token operator">/</span>this<span class="token operator">/</span>is<span class="token operator">/</span>a<span class="token operator">/</span>file<span class="token operator">.</span>txt is not a directory
<span class="token operator">/</span>this<span class="token operator">/</span>is<span class="token operator">/</span>a<span class="token operator">/</span>file<span class="token operator">.</span>txt is a file
<span class="token operator">/</span>this<span class="token operator">/</span>is<span class="token operator">/</span>a<span class="token operator">/</span>file<span class="token operator">.</span>txt exists

</code></pre></div><h3 id="checking-file-type"><a href="#checking-file-type" class="header-anchor">#</a> Checking file type</h3> <p>Use <a href="http://php.net/filetype" target="_blank" rel="noopener noreferrer"><code>filetype</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to check the type of a file, which may be:</p> <ul><li><code>fifo</code></li> <li><code>char</code></li> <li><code>dir</code></li> <li><code>block</code></li> <li><code>link</code></li> <li><code>file</code></li> <li><code>socket</code></li> <li><code>unknown</code></li></ul> <p>Passing the filename to the <a href="http://php.net/filetype" target="_blank" rel="noopener noreferrer"><code>filetype</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> directly:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token function">filetype</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dir</span>

</code></pre></div><p>Note that <code>filetype</code> returns false and triggers an <code>E_WARNING</code> if the file doesn't exist.</p> <h3 id="checking-readability-and-writability"><a href="#checking-readability-and-writability" class="header-anchor">#</a> Checking readability and writability</h3> <p>Passing the filename to the <a href="http://php.net/is-writable" target="_blank" rel="noopener noreferrer"><code>is_writable</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://php.net/is-readable" target="_blank" rel="noopener noreferrer"><code>is_readable</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> functions check whether the file is writable or readable respectively.</p> <p>The functions return <code>false</code> gracefully if the file does not exist.</p> <h3 id="checking-file-access-modify-time"><a href="#checking-file-access-modify-time" class="header-anchor">#</a> Checking file access/modify time</h3> <p>Using <a href="http://php.net/filemtime" target="_blank" rel="noopener noreferrer"><code>filemtime</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://php.net/fileatime" target="_blank" rel="noopener noreferrer"><code>fileatime</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns the timestamp of the last modification or access of the file. The return value is a Unix timestamp -- see <a href="http://stackoverflow.com/documentation/php/425/working-with-dates-and-time" target="_blank" rel="noopener noreferrer">Working with Dates and Time<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;File was last modified on &quot;</span> <span class="token operator">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Y-m-d&quot;</span><span class="token punctuation">,</span> <span class="token function">filemtime</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;file.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;File was last accessed on &quot;</span> <span class="token operator">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Y-m-d&quot;</span><span class="token punctuation">,</span> <span class="token function">fileatime</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;file.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="get-path-parts-with-fileinfo"><a href="#get-path-parts-with-fileinfo" class="header-anchor">#</a> Get path parts with fileinfo</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fileToAnalyze</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string single-quoted-string">'/var/www/image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filePathParts</span> <span class="token operator">=</span> <span class="token function">pathinfo</span><span class="token punctuation">(</span><span class="token variable">$fileToAnalyze</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;pre&gt;'</span><span class="token punctuation">;</span>
   <span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$filePathParts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;/pre&gt;'</span><span class="token punctuation">;</span>

</code></pre></div><p>This example will output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">Array</span>
<span class="token punctuation">(</span>
    <span class="token punctuation">[</span>dirname<span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>www
    <span class="token punctuation">[</span>basename<span class="token punctuation">]</span> <span class="token operator">=&gt;</span> image<span class="token operator">.</span>png
    <span class="token punctuation">[</span>extension<span class="token punctuation">]</span> <span class="token operator">=&gt;</span> png
    <span class="token punctuation">[</span>filename<span class="token punctuation">]</span> <span class="token operator">=&gt;</span> image
<span class="token punctuation">)</span>

</code></pre></div><p>Which can be used as:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$filePathParts</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'dirname'</span><span class="token punctuation">]</span>
<span class="token variable">$filePathParts</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'basename'</span><span class="token punctuation">]</span>
<span class="token variable">$filePathParts</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'extension'</span><span class="token punctuation">]</span>
<span class="token variable">$filePathParts</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'filename'</span><span class="token punctuation">]</span>

</code></pre></div><table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td>$path</td> <td>The full path of the file to be parsed</td></tr> <tr><td>$option</td> <td>One of four available options [PATHINFO_DIRNAME, PATHINFO_BASENAME, PATHINFO_EXTENSION or PATHINFO_FILENAME]</td></tr></tbody></table> <ul><li>If an option (the second parameter) is not passed, an associative array is returned otherwise a string is returned.</li> <li>Does not validate that the file exists.</li> <li>Simply parses the string into parts.  No validation is done on the file (no mime-type checking, etc.)</li> <li>The extension is simply the last extension of <code>$path</code>  The path for the file <code>image.jpg.png</code> would be <code>.png</code> even if it technically a <code>.jpg</code> file.  A file without an extension will not return an extension element in the array.</li></ul> <h2 id="minimize-memory-usage-when-dealing-with-large-files"><a href="#minimize-memory-usage-when-dealing-with-large-files" class="header-anchor">#</a> Minimize memory usage when dealing with large files</h2> <p>If we need to parse a large file, e.g. a CSV more than 10 Mbytes containing millions of rows, some use <code>file</code> or <code>file_get_contents</code> functions and end up with hitting <code>memory_limit</code> setting with</p> <blockquote></blockquote> <p>Allowed memory size of XXXXX bytes exhausted</p> <p>error. Consider the following source (top-1m.csv has exactly 1 million rows and is about 22 Mbytes of size)</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">memory_get_usage</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'top-1m.csv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">memory_get_usage</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This outputs:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">262144</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">210501632</span><span class="token punctuation">)</span> 

</code></pre></div><p>because the interpreter needed to hold all the rows in <code>$arr</code> array, so it consumed ~200 Mbytes of RAM. Note that we haven't even done anything with the contents of the array.</p> <p>Now consider the following code:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">memory_get_usage</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$index</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$handle</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;top-1m.csv&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">FALSE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">fgetcsv</span><span class="token punctuation">(</span><span class="token variable">$handle</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">FALSE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'top-1m-reversed.csv'</span><span class="token punctuation">,</span><span class="token variable">$index</span> <span class="token operator">.</span> <span class="token string single-quoted-string">','</span> <span class="token operator">.</span> <span class="token function">strrev</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">,</span> <span class="token constant">FILE_APPEND</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$index</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$handle</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">memory_get_usage</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>which outputs</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">262144</span><span class="token punctuation">)</span>
<span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">262144</span><span class="token punctuation">)</span>

</code></pre></div><p>so we don't use a single extra byte of memory, but parse the whole CSV and save it to another file reversing the value of the 2nd column. That's because <code>fgetcsv</code> reads only one row and <code>$row</code> is overwritten in every loop.</p> <h2 id="stream-based-file-io"><a href="#stream-based-file-io" class="header-anchor">#</a> Stream-based file IO</h2> <h3 id="opening-a-stream"><a href="#opening-a-stream" class="header-anchor">#</a> Opening a stream</h3> <p><a href="http://php.net/fopen" target="_blank" rel="noopener noreferrer"><code>fopen</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> opens a file stream handle, which can be used with various functions for reading, writing, seeking and other functions on top of it. This value is of <code>resource</code> type, and cannot be passed to other threads persisting its functionality.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$f</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;errors.log&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Will try to open errors.log for writing</span>

</code></pre></div><p>The second parameter is the mode of the file stream:</p> <th align="right">Mode</th><th align="left">Description</th>
|---|---|---|---|---|---|---|---|---|---
<td align="right">`r`</td><td align="left">Open in read only mode, starting at the beginning of the file</td> <td align="right">`r+`</td><td align="left">Open for reading and writing, starting at the beginning of the file</td> <td align="right">`w`</td><td align="left">open for writing only, starting at the beginning of the file.  If the file exists it will empty the file.  If it doesn't exist it will attempt to create it.</td> <td align="right">`w+`</td><td align="left">open for reading and writing, starting at the beginning of the file.  If the file exists it will empty the file.  If it doesn't exist it will attempt to create it.</td> <td align="right">`a`</td><td align="left">open a file for writing only, starting at the end of the file.  If the file does not exist, it will try to create it</td> <td align="right">`a+`</td><td align="left">open a file for reading and writing, starting at the end of the file.  If the file does not exist, it will try to create it</td> <td align="right">`x`</td><td align="left">create and open a file for writing only.  If the file exists the `fopen` call will fail</td> <td align="right">`x+`</td><td align="left">create and open a file for reading and writing.  If the file exists the `fopen` call will fail</td> <td align="right">`c`</td><td align="left">open the file for writing only.  If the file does not exist it will try to create it.  It will start writing at the beginning of the file, but will not empty the file ahead of writing</td> <td align="right">`c+`</td><td align="left">open the file for reading and writing.  If the file does not exist it will try to create it.  It will start writing at the beginning of the file, but will not empty the file ahead of writing</td> <p>Adding a <code>t</code> behind the mode (e.g. <code>a+b</code>, <code>wt</code>, etc.) in Windows will translate <code>&quot;\n&quot;</code> line endings to <code>&quot;\r\n&quot;</code> when working with the file. Add <code>b</code> behind the mode if this is not intended, especially if it is a binary file.</p> <p>The PHP application should close streams using <a href="http://php.net/fclose" target="_blank" rel="noopener noreferrer"><code>fclose</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> when they are no longer used to prevent the <code>Too many open files</code> error. This is particularly important in CLI programs, since the streams are only closed when the runtime shuts down -- this means that in web servers, it <strong>may not be <em>necessary</em></strong> (but still <strong>should</strong>, as a practice to prevent resource leak) to close the streams if you do not expect the process to run for a long time, and will not open many streams.</p> <h3 id="reading"><a href="#reading" class="header-anchor">#</a> Reading</h3> <p>Using <a href="http://php.net/fread" target="_blank" rel="noopener noreferrer"><code>fread</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will read the given number of bytes from the file pointer, or until an EOF is met.</p> <h3 id="reading-lines"><a href="#reading-lines" class="header-anchor">#</a> Reading lines</h3> <p>Using <a href="http://php.net/fgets" target="_blank" rel="noopener noreferrer"><code>fgets</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will read the file until an EOL is reached, or the given length is read.</p> <p>Both <a href="http://php.net/fread" target="_blank" rel="noopener noreferrer"><code>fread</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://php.net/fgets" target="_blank" rel="noopener noreferrer"><code>fgets</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will move the file pointer while reading.</p> <h3 id="reading-everything-remaining"><a href="#reading-everything-remaining" class="header-anchor">#</a> Reading everything remaining</h3> <p>Using <a href="http://php.net/stream-get-contents" target="_blank" rel="noopener noreferrer"><code>stream_get_contents</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will all remaining bytes in the stream into a string and return it.</p> <h3 id="adjusting-file-pointer-position"><a href="#adjusting-file-pointer-position" class="header-anchor">#</a> Adjusting file pointer position</h3> <p>Initially after opening the stream, the file pointer is at the beginning of the file (or the end, if the mode <code>a</code> is used). Using the <a href="http://php.net/fseek" target="_blank" rel="noopener noreferrer"><code>fseek</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function will move the file pointer to a new position, relative to one of three values:</p> <ul><li><code>SEEK_SET</code>: This is the default value; the file position offset will be relative to the beginning of the file.</li> <li><code>SEEK_CUR</code>: The file position offset will be relative to the current position.</li> <li><code>SEEK_END</code>: The file position offset will be relative to the end of the file. Passing a negative offset is the most common use for this value; it will move the file position to the specified number of bytes before the end of file.</li></ul> <p><a href="http://php.net/rewind" target="_blank" rel="noopener noreferrer"><code>rewind</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a convenience shortcut of <code>fseek($fh, 0, SEEK_SET)</code>.</p> <p>Using <a href="http://php.net/ftell" target="_blank" rel="noopener noreferrer"><code>ftell</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will show the absolute position of the file pointer.</p> <p>For example, the following script reads skips the first 10 bytes, reads the next 10 bytes, skips 10 bytes, reads the next 10 bytes, and then the last 10 bytes in file.txt:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fh</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;file.txt&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;rb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fseek</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// start at offset 10</span>
<span class="token keyword">echo</span> <span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// reads 10 bytes</span>
<span class="token function">fseek</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token constant">SEEK_CUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// skip 10 bytes</span>
<span class="token keyword">echo</span> <span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// read 10 bytes</span>
<span class="token function">fseek</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token constant">SEEK_END</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// skip to 10 bytes before EOF</span>
<span class="token keyword">echo</span> <span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// read 10 bytes</span>
<span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="writing"><a href="#writing" class="header-anchor">#</a> Writing</h3> <p>Using <a href="http://php.net/fwrite" target="_blank" rel="noopener noreferrer"><code>fwrite</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> writes the provided string to the file starting at the current file pointer.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Some text here\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="moving-and-copying-files-and-directories"><a href="#moving-and-copying-files-and-directories" class="header-anchor">#</a> Moving and Copying files and directories</h2> <h3 id="copying-files"><a href="#copying-files" class="header-anchor">#</a> Copying files</h3> <p><a href="http://php.net/copy" target="_blank" rel="noopener noreferrer"><code>copy</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> copies the source file in the first argument to the destination in the second argument. The resolved destination needs to be in a directory that is already created.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'test.txt'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'dest.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'File has been copied successfully'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Failed to copy file to destination given.'</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="copying-directories-with-recursion"><a href="#copying-directories-with-recursion" class="header-anchor">#</a> Copying directories, with recursion</h3> <p>Copying directories is pretty much similar to deleting directories, except that for files <a href="http://php.net/copy" target="_blank" rel="noopener noreferrer"><code>copy</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> instead of <a href="http://php.net/unlink" target="_blank" rel="noopener noreferrer"><code>unlink</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is used, while for directories, <a href="http://php.net/mkdir" target="_blank" rel="noopener noreferrer"><code>mkdir</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> instead of <a href="http://php.net/rmdir" target="_blank" rel="noopener noreferrer"><code>rmdir</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is used, at the beginning instead of being at the end of the function.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">recurse_delete_dir</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$src</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$dest</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword return-type">int</span> <span class="token punctuation">{</span>
    <span class="token variable">$count</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// ensure that $src and $dest end with a slash so that we can concatenate it with the filenames directly</span>
    <span class="token variable">$src</span> <span class="token operator">=</span> <span class="token function">rtrim</span><span class="token punctuation">(</span><span class="token variable">$dest</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/\\&quot;</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;/&quot;</span><span class="token punctuation">;</span>
    <span class="token variable">$dest</span> <span class="token operator">=</span> <span class="token function">rtrim</span><span class="token punctuation">(</span><span class="token variable">$dest</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/\\&quot;</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;/&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// use dir() to list files</span>
    <span class="token variable">$list</span> <span class="token operator">=</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token variable">$src</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// create $dest if it does not already exist</span>
    @<span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token variable">$dest</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// store the next file name to $file. if $file is false, that's all -- end the loop.</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token variable">$list</span><span class="token operator">-&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$file</span> <span class="token operator">===</span> <span class="token string double-quoted-string">&quot;.&quot;</span> <span class="token operator">||</span> <span class="token variable">$file</span> <span class="token operator">===</span> <span class="token string double-quoted-string">&quot;..&quot;</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_file</span><span class="token punctuation">(</span><span class="token variable">$src</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">copy</span><span class="token punctuation">(</span><span class="token variable">$src</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$dest</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$count</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">elseif</span><span class="token punctuation">(</span><span class="token function">is_dir</span><span class="token punctuation">(</span><span class="token variable">$src</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$count</span> <span class="token operator">+=</span> <span class="token function">recurse_copy_dir</span><span class="token punctuation">(</span><span class="token variable">$src</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$dest</span> <span class="token operator">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token variable">$count</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="renaming-moving"><a href="#renaming-moving" class="header-anchor">#</a> Renaming/Moving</h3> <p>Renaming/Moving files and directories is much simpler. Whole directories can be moved or renamed in a single call, using the <a href="http://php.net/rename" target="_blank" rel="noopener noreferrer"><code>rename</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function.</p> <li>
`rename(&quot;~/file.txt&quot;, &quot;~/file.html&quot;);`
</li> <li>
`rename(&quot;~/dir&quot;, &quot;~/old_dir&quot;);`
</li> <li>
`rename(&quot;~/dir/file.txt&quot;, &quot;~/dir2/file.txt&quot;);`
</li> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>int readfile ( string $filename [, bool $use_include_path = false [, resource $context ]] )</li></ul> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Description</th></tr></thead> <tbody><tr><td>filename</td> <td>The filename being read.</td></tr> <tr><td>use_include_path</td> <td>You can use the optional second parameter and set it to TRUE, if you want to search for the file in the include_path, too.</td></tr> <tr><td>context</td> <td>A context stream resource.</td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <h3 id="filename-syntax"><a href="#filename-syntax" class="header-anchor">#</a> Filename syntax</h3> <p>Most filenames passed to functions in this topic are:</p> <li>Strings in nature.
<ul>
1. File names can be passed directly. If values of other types are passed, they are cast to string. This is especially useful with `SplFileInfo`, which is the value in the iteration of `DirectoryIterator`.
</ul></li> <li>Relative or absolute.
<ul>
1. They may be absolute. On Unix-like systems, absolute paths start with `/`, e.g. `/home/user/file.txt`, while on Windows, absolute paths start with the drive, e.g. `C:/Users/user/file.txt`
1. They may also be relative, which is dependent on the value of [`getcwd`](http://php.net/getcwd) and subject to change by [`chdir`](http://php.net/chdir).
</ul></li> <li>Accept protocols.
<ul>
1. They may begin with `scheme://` to specify the protocol wrapper to manage with. For example, `file_get_contents(&quot;http://example.com&quot;)` retrieves content from [http://example.com](http://example.com).
</ul></li> <li>Slash-compatible.
<ul>
1. While the `DIRECTORY_SEPARATOR` on Windows is a backslash, and the system returns backslashes for paths by default, the developer can still use `/` as the directory separator. Therefore, for compatibility, developers can use `/` as directory separators on all systems, but be aware that the values returned by the functions (e.g. `realpath`) may contain backslashes.
</ul></li> <ul><li><p>They may be absolute. On Unix-like systems, absolute paths start with <code>/</code>, e.g. <code>/home/user/file.txt</code>, while on Windows, absolute paths start with the drive, e.g. <code>C:/Users/user/file.txt</code></p></li> <li><p>They may also be relative, which is dependent on the value of <a href="http://php.net/getcwd" target="_blank" rel="noopener noreferrer"><code>getcwd</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and subject to change by <a href="http://php.net/chdir" target="_blank" rel="noopener noreferrer"><code>chdir</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></li> <li><p>While the <code>DIRECTORY_SEPARATOR</code> on Windows is a backslash, and the system returns backslashes for paths by default, the developer can still use <code>/</code> as the directory separator. Therefore, for compatibility, developers can use <code>/</code> as directory separators on all systems, but be aware that the values returned by the functions (e.g. <code>realpath</code>) may contain backslashes.</p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/php/file-handling.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/php/magic-methods.html" class="prev">
        Magic Methods
      </a></span> <span class="next"><a href="/php/streams.html">
        Streams
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2452.1afd84cc.js" defer></script>
  </body>
</html>
