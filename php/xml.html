<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP - XML</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Create a XML using DomDocument, Read a XML document with DOMDocument, Create an XML file using XMLWriter, Read a XML document with SimpleXML, Leveraging XML with PHP's SimpleXML Library">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PHP - XML">
    <meta property="og:description" content="Create a XML using DomDocument, Read a XML document with DOMDocument, Create an XML file using XMLWriter, Read a XML document with SimpleXML, Leveraging XML with PHP's SimpleXML Library">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/php/xml.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PHP - XML">
    <meta name="twitter:description" content="Create a XML using DomDocument, Read a XML document with DOMDocument, Create an XML file using XMLWriter, Read a XML document with SimpleXML, Leveraging XML with PHP's SimpleXML Library">
    <meta name="twitter:url" content="/php/xml.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2535.f5ee3ec2.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PHP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/php/installing-a-php-environment-on-windows.html" class="sidebar-link">Installing a PHP environment on Windows</a></li><li><a href="/php/installing-on-linux-unix-environments.html" class="sidebar-link">Installing on Linux/Unix Environments</a></li><li><a href="/php/getting-started-with-php.html" class="sidebar-link">Getting started with PHP</a></li><li><a href="/php/variables.html" class="sidebar-link">Variables</a></li><li><a href="/php/variable-scope.html" class="sidebar-link">Variable Scope</a></li><li><a href="/php/superglobal-variables-php.html" class="sidebar-link">Superglobal Variables PHP</a></li><li><a href="/php/outputting-the-value-of-a-variable.html" class="sidebar-link">Outputting the Value of a Variable</a></li><li><a href="/php/constants.html" class="sidebar-link">Constants</a></li><li><a href="/php/magic-constants.html" class="sidebar-link">Magic Constants</a></li><li><a href="/php/comments.html" class="sidebar-link">Comments</a></li><li><a href="/php/types.html" class="sidebar-link">Types</a></li><li><a href="/php/operators.html" class="sidebar-link">Operators</a></li><li><a href="/php/references.html" class="sidebar-link">References</a></li><li><a href="/php/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/php/array-iteration.html" class="sidebar-link">Array iteration</a></li><li><a href="/php/executing-upon-an-array.html" class="sidebar-link">Executing Upon an Array</a></li><li><a href="/php/manipulating-an-array.html" class="sidebar-link">Manipulating an Array</a></li><li><a href="/php/processing-multiple-arrays-together.html" class="sidebar-link">Processing Multiple Arrays Together</a></li><li><a href="/php/datetime-class.html" class="sidebar-link">Datetime Class</a></li><li><a href="/php/working-with-dates-and-time.html" class="sidebar-link">Working with Dates and Time</a></li><li><a href="/php/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/php/loops.html" class="sidebar-link">Loops</a></li><li><a href="/php/functions.html" class="sidebar-link">Functions</a></li><li><a href="/php/functional-programming.html" class="sidebar-link">Functional Programming</a></li><li><a href="/php/alternative-syntax-for-control-structures.html" class="sidebar-link">Alternative Syntax for Control Structures</a></li><li><a href="/php/string-formatting.html" class="sidebar-link">String formatting</a></li><li><a href="/php/string-parsing.html" class="sidebar-link">String Parsing</a></li><li><a href="/php/classes-and-objects.html" class="sidebar-link">Classes and Objects</a></li><li><a href="/php/namespaces.html" class="sidebar-link">Namespaces</a></li><li><a href="/php/sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/php/cookies.html" class="sidebar-link">Cookies</a></li><li><a href="/php/output-buffering.html" class="sidebar-link">Output Buffering</a></li><li><a href="/php/json.html" class="sidebar-link">JSON</a></li><li><a href="/php/soap-client.html" class="sidebar-link">SOAP Client</a></li><li><a href="/php/using-curl-in-php.html" class="sidebar-link">Using cURL in PHP</a></li><li><a href="/php/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/php/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/php/xml.html" aria-current="page" class="active sidebar-link">XML</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/xml.html#create-a-xml-using-domdocument" class="sidebar-link">Create a XML using DomDocument</a></li><li class="sidebar-sub-header"><a href="/php/xml.html#read-a-xml-document-with-domdocument" class="sidebar-link">Read a XML document with DOMDocument</a></li><li class="sidebar-sub-header"><a href="/php/xml.html#create-an-xml-file-using-xmlwriter" class="sidebar-link">Create an XML file using XMLWriter</a></li><li class="sidebar-sub-header"><a href="/php/xml.html#read-a-xml-document-with-simplexml" class="sidebar-link">Read a XML document with SimpleXML</a></li><li class="sidebar-sub-header"><a href="/php/xml.html#leveraging-xml-with-php-s-simplexml-library" class="sidebar-link">Leveraging XML with PHP's SimpleXML Library</a></li></ul></li><li><a href="/php/simplexml.html" class="sidebar-link">SimpleXML</a></li><li><a href="/php/parsing-html.html" class="sidebar-link">Parsing HTML</a></li><li><a href="/php/regular-expressions-regexp-pcre.html" class="sidebar-link">Regular Expressions (regexp/PCRE)</a></li><li><a href="/php/traits.html" class="sidebar-link">Traits</a></li><li><a href="/php/composer-dependency-manager.html" class="sidebar-link">Composer Dependency Manager</a></li><li><a href="/php/magic-methods.html" class="sidebar-link">Magic Methods</a></li><li><a href="/php/file-handling.html" class="sidebar-link">File handling</a></li><li><a href="/php/streams.html" class="sidebar-link">Streams</a></li><li><a href="/php/type-hinting.html" class="sidebar-link">Type hinting</a></li><li><a href="/php/filters-filter-functions.html" class="sidebar-link">Filters &amp; Filter Functions</a></li><li><a href="/php/generators.html" class="sidebar-link">Generators</a></li><li><a href="/php/utf-8.html" class="sidebar-link">UTF-8</a></li><li><a href="/php/how-to-break-down-an-url.html" class="sidebar-link">How to break down an URL</a></li><li><a href="/php/object-serialization.html" class="sidebar-link">Object Serialization</a></li><li><a href="/php/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/php/closure.html" class="sidebar-link">Closure</a></li><li><a href="/php/reading-request-data.html" class="sidebar-link">Reading Request Data</a></li><li><a href="/php/type-juggling-and-non-strict-comparison-issues.html" class="sidebar-link">Type juggling and Non-Strict Comparison Issues</a></li><li><a href="/php/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/php/pdo.html" class="sidebar-link">PDO</a></li><li><a href="/php/php-mysqli.html" class="sidebar-link">PHP MySQLi</a></li><li><a href="/php/sqlite3.html" class="sidebar-link">SQLite3</a></li><li><a href="/php/using-mongodb.html" class="sidebar-link">Using MongoDB</a></li><li><a href="/php/mongo-php.html" class="sidebar-link">mongo-php</a></li><li><a href="/php/using-redis-with-php.html" class="sidebar-link">Using Redis with PHP</a></li><li><a href="/php/sending-email.html" class="sidebar-link">Sending Email</a></li><li><a href="/php/using-sqlsrv.html" class="sidebar-link">Using SQLSRV</a></li><li><a href="/php/command-line-interface-cli.html" class="sidebar-link">Command Line Interface (CLI)</a></li><li><a href="/php/localization.html" class="sidebar-link">Localization</a></li><li><a href="/php/headers-manipulation.html" class="sidebar-link">Headers Manipulation</a></li><li><a href="/php/coding-conventions.html" class="sidebar-link">Coding Conventions</a></li><li><a href="/php/asynchronous-programming.html" class="sidebar-link">Asynchronous programming</a></li><li><a href="/php/how-to-detect-client-ip-address.html" class="sidebar-link">How to Detect Client IP Address</a></li><li><a href="/php/create-pdf-files-in-php.html" class="sidebar-link">Create PDF files in PHP</a></li><li><a href="/php/yaml-in-php.html" class="sidebar-link">YAML in PHP</a></li><li><a href="/php/image-processing-with-gd.html" class="sidebar-link">Image Processing with GD</a></li><li><a href="/php/imagick.html" class="sidebar-link">Imagick</a></li><li><a href="/php/soap-server.html" class="sidebar-link">SOAP Server</a></li><li><a href="/php/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/php/cache.html" class="sidebar-link">Cache</a></li><li><a href="/php/autoloading-primer.html" class="sidebar-link">Autoloading Primer</a></li><li><a href="/php/spl-data-structures.html" class="sidebar-link">SPL data structures</a></li><li><a href="/php/imap.html" class="sidebar-link">IMAP</a></li><li><a href="/php/http-authentication.html" class="sidebar-link">HTTP Authentication</a></li><li><a href="/php/websockets.html" class="sidebar-link">WebSockets</a></li><li><a href="/php/bc-math-binary-calculator.html" class="sidebar-link">BC Math (Binary Calculator)</a></li><li><a href="/php/docker-deployment.html" class="sidebar-link">Docker deployment</a></li><li><a href="/php/apcu.html" class="sidebar-link">APCu</a></li><li><a href="/php/php-built-in-server.html" class="sidebar-link">PHP Built in server</a></li><li><a href="/php/psr.html" class="sidebar-link">PSR</a></li><li><a href="/php/phpdoc.html" class="sidebar-link">PHPDoc</a></li><li><a href="/php/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/php/compile-php-extensions.html" class="sidebar-link">Compile PHP Extensions</a></li><li><a href="/php/common-errors.html" class="sidebar-link">Common Errors</a></li><li><a href="/php/compilation-of-errors-and-warnings.html" class="sidebar-link">Compilation of Errors and Warnings</a></li><li><a href="/php/exception-handling-and-error-reporting.html" class="sidebar-link">Exception Handling and Error Reporting</a></li><li><a href="/php/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/php/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/php/performance.html" class="sidebar-link">Performance</a></li><li><a href="/php/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/php/multi-threading-extension.html" class="sidebar-link">Multi Threading Extension</a></li><li><a href="/php/secure-remeber-me.html" class="sidebar-link">Secure Remeber Me</a></li><li><a href="/php/security.html" class="sidebar-link">Security</a></li><li><a href="/php/cryptography.html" class="sidebar-link">Cryptography</a></li><li><a href="/php/password-hashing-functions.html" class="sidebar-link">Password Hashing Functions</a></li><li><a href="/php/urls.html" class="sidebar-link">URLs</a></li><li><a href="/php/unicode-support-in-php.html" class="sidebar-link">Unicode Support in PHP</a></li><li><a href="/php/getting-started-with-php-7.html" class="sidebar-link">Getting started with php-7</a></li><li><a href="/php/null-coalesce-operator.html" class="sidebar-link">Null Coalesce Operator</a></li><li><a href="/php/spaceship-operator.html" class="sidebar-link">Spaceship operator</a></li><li><a href="/php/anonymous-class.html" class="sidebar-link">Anonymous class</a></li><li><a href="/php/contributing-to-the-php-manual.html" class="sidebar-link">Contributing to the PHP Manual</a></li><li><a href="/php/contributing-to-the-php-core.html" class="sidebar-link">Contributing to the PHP Core</a></li><li><a href="/php/getting-started-with-composer-php.html" class="sidebar-link">Getting started with composer-php</a></li><li><a href="/php/auto-loading-with-composer.html" class="sidebar-link">Auto loading with composer</a></li><li><a href="/php/how-to-use-private-repositories-with-composer.html" class="sidebar-link">How to use private repositories with Composer</a></li><li><a href="/php/getting-started-with-phpunit.html" class="sidebar-link">Getting Started with PHPUnit</a></li><li><a href="/php/assertions.html" class="sidebar-link">Assertions</a></li><li><a href="/php/test-doubles-mocks-and-stubs.html" class="sidebar-link">Test Doubles (Mocks and Stubs)</a></li><li><a href="/php/recipes.html" class="sidebar-link">Recipes</a></li><li><a href="/php/php-mysqli-affected-rows-returns-0-when-it-should-return-a-positive-integer.html" class="sidebar-link">php mysqli affected rows returns 0 when it should return a positive integer</a></li><li><a href="/php/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="xml"><a href="#xml" class="header-anchor">#</a> XML</h1> <h2 id="create-a-xml-using-domdocument"><a href="#create-a-xml-using-domdocument" class="header-anchor">#</a> Create a XML using DomDocument</h2> <p>To create a XML using DOMDocument,basically, we need to create all the tags and attributes using the <code>createElement()</code> and <code>createAttribute()</code> methods and them create the XML structure with the <code>appendChild()</code>.</p> <p>The example below includes tags, attributes, a CDATA section and a different namespace for the second tag:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$dom</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMDocument</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1.0'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token property">preserveWhiteSpace</span> <span class="token operator">=</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>
<span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token property">formatOutput</span> <span class="token operator">=</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">//create the main tags, without values</span>
<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'books'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_1</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'book'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// create some tags with values</span>
<span class="token variable">$name_1</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'PHP - An Introduction'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$price_1</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'price'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'$5.95'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$id_1</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//create  and append an attribute</span>
<span class="token variable">$attr_1</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createAttribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'version'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$attr_1</span><span class="token operator">-&gt;</span><span class="token property">value</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'1.0'</span><span class="token punctuation">;</span>
<span class="token comment">//append the attribute</span>
<span class="token variable">$id_1</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$attr_1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//create the second tag book with different namespace</span>
<span class="token variable">$namespace</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'www.example.com/libraryns/1.0'</span><span class="token punctuation">;</span>

<span class="token comment">//include the namespace prefix in the books tag</span>
<span class="token variable">$books</span><span class="token operator">-&gt;</span><span class="token function">setAttributeNS</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'http://www.w3.org/2000/xmlns/'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'xmlns:ns'</span><span class="token punctuation">,</span> <span class="token variable">$namespace</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_2</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ns:book'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$name_2</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ns:name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//create a CDATA section (that is another DOMNode instance) and put it inside the name tag</span>
<span class="token variable">$name_cdata</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createCDATASection</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'PHP - Advanced'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$name_2</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$name_cdata</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$price_2</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ns:price'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'$25.00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$id_2</span> <span class="token operator">=</span> <span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ns:id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//create the XML structure</span>
<span class="token variable">$books</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$book_1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_1</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$name_1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_1</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$price_1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_1</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$id_1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$book_2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_2</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$name_2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_2</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$price_2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$book_2</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$id_2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token variable">$books</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//saveXML() method returns the XML in a String</span>
<span class="token function">print_r</span> <span class="token punctuation">(</span><span class="token variable">$dom</span><span class="token operator">-&gt;</span><span class="token function">saveXML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This will output the following XML:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?</span>xml version<span class="token operator">=</span><span class="token string double-quoted-string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string double-quoted-string">&quot;utf-8&quot;</span><span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>books</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>ns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.example.com/libraryns/1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>PHP - An Introduction<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>$5.95<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">ns:</span>book</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">ns:</span>name</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[PHP - Advanced]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">ns:</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">ns:</span>price</span><span class="token punctuation">&gt;</span></span>$25.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">ns:</span>price</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">ns:</span>id</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">ns:</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">ns:</span>book</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>books</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="read-a-xml-document-with-domdocument"><a href="#read-a-xml-document-with-domdocument" class="header-anchor">#</a> Read a XML document with DOMDocument</h2> <p>Similarly to the SimpleXML, you can use DOMDocument to parse XML from a string or from a XML file</p> <p><strong>1. From a string</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$doc</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$doc</span><span class="token operator">-&gt;</span><span class="token function">loadXML</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>2. From a file</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$doc</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$doc</span><span class="token operator">-&gt;</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'books.xml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// use the actual file path. Absolute or relative</span>

</code></pre></div><p><strong>Example of parsing</strong></p> <p>Considering the following XML:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?</span>xml version<span class="token operator">=</span><span class="token string double-quoted-string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string double-quoted-string">&quot;UTF-8&quot;</span><span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>books</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>PHP - An Introduction<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>$5.95<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>PHP - Advanced<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>$25.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>books</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>This is a example code to parse it</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$books</span> <span class="token operator">=</span> <span class="token variable">$doc</span><span class="token operator">-&gt;</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'book'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$books</span> <span class="token keyword">as</span> <span class="token variable">$book</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$title</span> <span class="token operator">=</span> <span class="token variable">$book</span><span class="token operator">-&gt;</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">nodeValue</span><span class="token punctuation">;</span>
    <span class="token variable">$price</span> <span class="token operator">=</span> <span class="token variable">$book</span><span class="token operator">-&gt;</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'price'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">nodeValue</span><span class="token punctuation">;</span>
    <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$book</span><span class="token operator">-&gt;</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">nodeValue</span><span class="token punctuation">;</span>
    <span class="token function">print_r</span> <span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;The title of the book <span class="token interpolation"><span class="token variable">$id</span></span> is <span class="token interpolation"><span class="token variable">$title</span></span> and it costs <span class="token interpolation"><span class="token variable">$price</span></span>.&quot;</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>This will output:</p> <blockquote></blockquote> <p>The title of the book 1 is PHP - An Introduction and it costs $5.95.
The title of the book 2 is PHP - Advanced and it costs $25.00.</p> <h2 id="create-an-xml-file-using-xmlwriter"><a href="#create-an-xml-file-using-xmlwriter" class="header-anchor">#</a> Create an XML file using XMLWriter</h2> <p>Instantiate a XMLWriter object:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Next open the file to which you want to write. For example, to write to <code>/var/www/example.com/xml/output.xml</code>, use:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token function">openUri</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'file:///var/www/example.com/xml/output.xml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>To start the document (create the XML open tag):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token function">startDocument</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1.0'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This will output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?</span>xml version<span class="token operator">=</span><span class="token string double-quoted-string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string double-quoted-string">&quot;UTF-8&quot;</span><span class="token delimiter important">?&gt;</span></span>

</code></pre></div><p>Now you can start writing elements:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token function">writeElement</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This will generate the XML:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span>foo<span class="token operator">&gt;</span>bar<span class="token operator">&lt;</span><span class="token operator">/</span>foo<span class="token operator">&gt;</span>

</code></pre></div><p>If you need something a little more complex than simply nodes with plain values, you can also &quot;start&quot; an element and add attributes to it before closing it:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token function">startElement</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token function">writeAttribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'bar'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token function">writeCdata</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Lorem ipsum'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token function">endElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This will output:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span>foo bar<span class="token operator">=</span><span class="token string double-quoted-string">&quot;baz&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>Lorem ipsum<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>foo<span class="token operator">&gt;</span>

</code></pre></div><h2 id="read-a-xml-document-with-simplexml"><a href="#read-a-xml-document-with-simplexml" class="header-anchor">#</a> Read a XML document with SimpleXML</h2> <p>You can parse XML from a string or from a XML file</p> <p><strong>1. From a string</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml_obj</span> <span class="token operator">=</span> <span class="token function">simplexml_load_string</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>2. From a file</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml_obj</span> <span class="token operator">=</span> <span class="token function">simplexml_load_file</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'books.xml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>Example of parsing</strong></p> <p>Considering the following XML:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?</span>xml version<span class="token operator">=</span><span class="token string double-quoted-string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string double-quoted-string">&quot;UTF-8&quot;</span><span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>books</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>PHP - An Introduction<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>$5.95<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>PHP - Advanced<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>price</span><span class="token punctuation">&gt;</span></span>$25.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>price</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>books</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>This is a example code to parse it</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xml</span> <span class="token operator">=</span> <span class="token function">simplexml_load_string</span><span class="token punctuation">(</span><span class="token variable">$xml_string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token variable">$xml</span><span class="token operator">-&gt;</span><span class="token property">book</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$books</span> <span class="token keyword">as</span> <span class="token variable">$book</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$book</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">;</span>
    <span class="token variable">$title</span> <span class="token operator">=</span> <span class="token variable">$book</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
    <span class="token variable">$price</span> <span class="token operator">=</span> <span class="token variable">$book</span><span class="token operator">-&gt;</span><span class="token property">price</span><span class="token punctuation">;</span>
    <span class="token function">print_r</span> <span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;The title of the book <span class="token interpolation"><span class="token variable">$id</span></span> is <span class="token interpolation"><span class="token variable">$title</span></span> and it costs <span class="token interpolation"><span class="token variable">$price</span></span>.&quot;</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>This will output:</p> <blockquote></blockquote> <p>The title of the book 1 is PHP - An Introduction and it costs $5.95.<br>
The title of the book 2 is PHP - Advanced and it costs $25.00.</p> <h2 id="leveraging-xml-with-php-s-simplexml-library"><a href="#leveraging-xml-with-php-s-simplexml-library" class="header-anchor">#</a> Leveraging XML with PHP's SimpleXML Library</h2> <p>SimpleXML is a powerful library which converts XML strings to an easy to use PHP object.</p> <p>The following assumes an XML structure as below.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?</span>xml version<span class="token operator">=</span><span class="token string double-quoted-string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string double-quoted-string">&quot;UTF-8&quot;</span><span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>document</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookName</span><span class="token punctuation">&gt;</span></span>StackOverflow SimpleXML Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookName</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>PHP Programmer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookName</span><span class="token punctuation">&gt;</span></span>Another SimpleXML Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookName</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>Stack Overflow Community<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>PHP Programmer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>FooBar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>document</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><strong>Read our data in to SimpleXML</strong></p> <p>To get started, we need to read our data into SimpleXML. We can do this in 3 different ways. Firstly, we can <a href="http://php.net/manual/en/function.simplexml-import-dom.php" target="_blank" rel="noopener noreferrer">load our data from a DOM node.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xmlElement</span> <span class="token operator">=</span> <span class="token function">simplexml_import_dom</span><span class="token punctuation">(</span><span class="token variable">$domNode</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Our next option is to <a href="http://php.net/manual/en/function.simplexml-load-file.php" target="_blank" rel="noopener noreferrer">load our data from an XML file.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xmlElement</span> <span class="token operator">=</span> <span class="token function">simplexml_load_file</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Lastly, we can <a href="http://php.net/manual/en/function.simplexml-load-string.php" target="_blank" rel="noopener noreferrer">load our data from a variable.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-php extra-class"><pre class="language-php"><code>$xmlString = '<span class="token php language-php"><span class="token delimiter important">&lt;?</span>xml version<span class="token operator">=</span><span class="token string double-quoted-string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string double-quoted-string">&quot;UTF-8&quot;</span><span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>document</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookName</span><span class="token punctuation">&gt;</span></span>StackOverflow SimpleXML Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookName</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>PHP Programmer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookName</span><span class="token punctuation">&gt;</span></span>Another SimpleXML Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookName</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>Stack Overflow Community<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>PHP Programmer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>FooBar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>document</span><span class="token punctuation">&gt;</span></span>';
$xmlElement = simplexml_load_string($xmlString);

</code></pre></div><p>Whether you've picked to load from <a href="http://php.net/manual/en/function.simplexml-import-dom.php" target="_blank" rel="noopener noreferrer">a DOM Element<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, from <a href="http://php.net/manual/en/function.simplexml-load-file.php" target="_blank" rel="noopener noreferrer">a file<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or from <a href="http://php.net/manual/en/function.simplexml-load-string.php" target="_blank" rel="noopener noreferrer">a string<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, you are now left with a SimpleXMLElement variable called <code>$xmlElement</code>. Now, we can start to make use of our XML in PHP.</p> <p><strong>Accessing our SimpleXML Data</strong></p> <p>The simplest way to access data in our SimpleXMLElement object is to <a href="http://php.net/manual/en/simplexml.examples-basic.php#example-6325" target="_blank" rel="noopener noreferrer">call the properties directly<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. If we want to access our first bookName, <code>StackOverflow SimpleXML Example</code>, then we can access it as per below.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token variable">$xmlElement</span><span class="token operator">-&gt;</span><span class="token property">book</span><span class="token operator">-&gt;</span><span class="token property">bookName</span><span class="token punctuation">;</span>

</code></pre></div><p>At this point, SimpleXML will assume that because we have not told it explicitly which book we want, that we want the first one. However, if we decide that we do not want the first one, rather that we want <code>Another SimpleXML Example</code>, then we can access it as per below.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token variable">$xmlElement</span><span class="token operator">-&gt;</span><span class="token property">book</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token property">bookName</span><span class="token punctuation">;</span>

</code></pre></div><p>It is worth noting that using <code>[0]</code> works the same as not using it, so</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xmlElement</span><span class="token operator">-&gt;</span><span class="token property">book</span>

</code></pre></div><p>works the same as</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$xmlElement</span><span class="token operator">-&gt;</span><span class="token property">book</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

</code></pre></div><p><strong>Looping through our XML</strong></p> <p>There are many reasons you may wish to <a href="http://php.net/manual/en/simplexml.examples-basic.php#example-6327" target="_blank" rel="noopener noreferrer">loop through XML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, such as that you have a number of items, books in our case, that we would like to display on a webpage. For this, we can use a <a href="http://php.net/manual/en/control-structures.foreach.php" target="_blank" rel="noopener noreferrer">foreach loop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or a standard <a href="http://php.net/manual/en/control-structures.for.php" target="_blank" rel="noopener noreferrer">for loop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, taking advantage of <a href="http://php.net/manual/en/simplexmlelement.count.php" target="_blank" rel="noopener noreferrer">SimpleXMLElement's count function.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">foreach</span> <span class="token punctuation">(</span> <span class="token variable">$xmlElement</span><span class="token operator">-&gt;</span><span class="token property">book</span> <span class="token keyword">as</span> <span class="token variable">$thisBook</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token variable">$thisBook</span><span class="token operator">-&gt;</span><span class="token property">bookName</span>
<span class="token punctuation">}</span>

</code></pre></div><p>or</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$count</span> <span class="token operator">=</span> <span class="token variable">$xmlElement</span><span class="token operator">-&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">&lt;</span><span class="token variable">$count</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token variable">$xmlElement</span><span class="token operator">-&gt;</span><span class="token property">book</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token property">bookName</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Handling Errors</strong></p> <p>Now we have come so far, it is important to realise that we are only humans, and will likely encounter an error eventually - especially if we are playing with different XML files all the time. And so, we will want to handle those errors.</p> <p>Consider we created an XML file. You will notice that while this XML is much alike what we had earlier, the problem with this XML file is that the final closing tag is /doc instead of /document.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?</span>xml version<span class="token operator">=</span><span class="token string double-quoted-string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string double-quoted-string">&quot;UTF-8&quot;</span><span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>document</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookName</span><span class="token punctuation">&gt;</span></span>StackOverflow SimpleXML Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookName</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>PHP Programmer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>book</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookName</span><span class="token punctuation">&gt;</span></span>Another SimpleXML Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookName</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>Stack Overflow Community<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>PHP Programmer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>FooBar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bookAuthor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>book</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>doc</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>Now, say, we load this into our PHP as $file.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">libxml_use_internal_errors</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$xmlElement</span> <span class="token operator">=</span> <span class="token function">simplexml_load_file</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$xmlElement</span> <span class="token operator">===</span> <span class="token constant boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$errors</span> <span class="token operator">=</span> <span class="token function">libxml_get_errors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span> <span class="token variable">$errors</span> <span class="token keyword">as</span> <span class="token variable">$thisError</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span> <span class="token variable">$thisError</span><span class="token operator">-&gt;</span><span class="token property">level</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token constant">LIBXML_ERR_FATAL</span><span class="token punctuation">:</span>
                <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;FATAL ERROR: &quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">LIBXML_ERR_ERROR</span><span class="token punctuation">:</span>
                <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Non Fatal Error: &quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">LIBXML_ERR_WARNING</span><span class="token punctuation">:</span>
                <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Warning: &quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">echo</span> <span class="token variable">$thisError</span><span class="token operator">-&gt;</span><span class="token property">code</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span> <span class="token operator">.</span>
            <span class="token string single-quoted-string">'Message: '</span> <span class="token operator">.</span> <span class="token variable">$thisError</span><span class="token operator">-&gt;</span><span class="token property">message</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span> <span class="token operator">.</span>
            <span class="token string single-quoted-string">'Line: '</span> <span class="token operator">.</span> <span class="token variable">$thisError</span><span class="token operator">-&gt;</span><span class="token property">line</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span> <span class="token operator">.</span>
            <span class="token string single-quoted-string">'Column: '</span> <span class="token operator">.</span> <span class="token variable">$thisError</span><span class="token operator">-&gt;</span><span class="token property">column</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span> <span class="token operator">.</span>
            <span class="token string single-quoted-string">'File: '</span> <span class="token operator">.</span> <span class="token variable">$thisError</span><span class="token operator">-&gt;</span><span class="token property">file</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">libxml_clear_errors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Happy Days'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>We will be greeted with the following</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">FATAL</span> <span class="token constant">ERROR</span><span class="token punctuation">:</span> <span class="token number">76</span>
Message<span class="token punctuation">:</span> Opening <span class="token keyword">and</span> ending tag mismatch<span class="token punctuation">:</span> document line <span class="token number">2</span> <span class="token keyword">and</span> doc

Line<span class="token punctuation">:</span> <span class="token number">13</span>
Column<span class="token punctuation">:</span> <span class="token number">10</span>
File<span class="token punctuation">:</span> filepath<span class="token operator">/</span>filename<span class="token operator">.</span>xml

</code></pre></div><p>However as soon as we fix this problem, we are presented with &quot;Happy Days&quot;.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/php/xml.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/php/dependency-injection.html" class="prev">
        Dependency Injection
      </a></span> <span class="next"><a href="/php/simplexml.html">
        SimpleXML
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2535.f5ee3ec2.js" defer></script>
  </body>
</html>
