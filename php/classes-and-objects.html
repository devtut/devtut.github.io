<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP - Classes and Objects</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Class Constants, Abstract Classes, Late static binding, Namespacing and Autoloading, Interfaces, Method and Property Visibility, Final Keyword, Autoloading, Dynamic Binding, Calling a parent constructor when instantiating a child, $this, self and static plus the singleton, Defining a Basic Class, Anonymous Classes">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PHP - Classes and Objects">
    <meta property="og:description" content="Class Constants, Abstract Classes, Late static binding, Namespacing and Autoloading, Interfaces, Method and Property Visibility, Final Keyword, Autoloading, Dynamic Binding, Calling a parent constructor when instantiating a child, $this, self and static plus the singleton, Defining a Basic Class, Anonymous Classes">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/php/classes-and-objects.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PHP - Classes and Objects">
    <meta name="twitter:description" content="Class Constants, Abstract Classes, Late static binding, Namespacing and Autoloading, Interfaces, Method and Property Visibility, Final Keyword, Autoloading, Dynamic Binding, Calling a parent constructor when instantiating a child, $this, self and static plus the singleton, Defining a Basic Class, Anonymous Classes">
    <meta name="twitter:url" content="/php/classes-and-objects.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2428.8932e4d2.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PHP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/php/installing-a-php-environment-on-windows.html" class="sidebar-link">Installing a PHP environment on Windows</a></li><li><a href="/php/installing-on-linux-unix-environments.html" class="sidebar-link">Installing on Linux/Unix Environments</a></li><li><a href="/php/getting-started-with-php.html" class="sidebar-link">Getting started with PHP</a></li><li><a href="/php/variables.html" class="sidebar-link">Variables</a></li><li><a href="/php/variable-scope.html" class="sidebar-link">Variable Scope</a></li><li><a href="/php/superglobal-variables-php.html" class="sidebar-link">Superglobal Variables PHP</a></li><li><a href="/php/outputting-the-value-of-a-variable.html" class="sidebar-link">Outputting the Value of a Variable</a></li><li><a href="/php/constants.html" class="sidebar-link">Constants</a></li><li><a href="/php/magic-constants.html" class="sidebar-link">Magic Constants</a></li><li><a href="/php/comments.html" class="sidebar-link">Comments</a></li><li><a href="/php/types.html" class="sidebar-link">Types</a></li><li><a href="/php/operators.html" class="sidebar-link">Operators</a></li><li><a href="/php/references.html" class="sidebar-link">References</a></li><li><a href="/php/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/php/array-iteration.html" class="sidebar-link">Array iteration</a></li><li><a href="/php/executing-upon-an-array.html" class="sidebar-link">Executing Upon an Array</a></li><li><a href="/php/manipulating-an-array.html" class="sidebar-link">Manipulating an Array</a></li><li><a href="/php/processing-multiple-arrays-together.html" class="sidebar-link">Processing Multiple Arrays Together</a></li><li><a href="/php/datetime-class.html" class="sidebar-link">Datetime Class</a></li><li><a href="/php/working-with-dates-and-time.html" class="sidebar-link">Working with Dates and Time</a></li><li><a href="/php/control-structures.html" class="sidebar-link">Control Structures</a></li><li><a href="/php/loops.html" class="sidebar-link">Loops</a></li><li><a href="/php/functions.html" class="sidebar-link">Functions</a></li><li><a href="/php/functional-programming.html" class="sidebar-link">Functional Programming</a></li><li><a href="/php/alternative-syntax-for-control-structures.html" class="sidebar-link">Alternative Syntax for Control Structures</a></li><li><a href="/php/string-formatting.html" class="sidebar-link">String formatting</a></li><li><a href="/php/string-parsing.html" class="sidebar-link">String Parsing</a></li><li><a href="/php/classes-and-objects.html" aria-current="page" class="active sidebar-link">Classes and Objects</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#class-constants" class="sidebar-link">Class Constants</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#abstract-classes" class="sidebar-link">Abstract Classes</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#late-static-binding" class="sidebar-link">Late static binding</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#namespacing-and-autoloading" class="sidebar-link">Namespacing and Autoloading</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#interfaces" class="sidebar-link">Interfaces</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#method-and-property-visibility" class="sidebar-link">Method and Property Visibility</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#final-keyword" class="sidebar-link">Final Keyword</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#autoloading" class="sidebar-link">Autoloading</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#dynamic-binding" class="sidebar-link">Dynamic Binding</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#calling-a-parent-constructor-when-instantiating-a-child" class="sidebar-link">Calling a parent constructor when instantiating a child</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#this-self-and-static-plus-the-singleton" class="sidebar-link">$this, self and static plus the singleton</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#defining-a-basic-class" class="sidebar-link">Defining a Basic Class</a></li><li class="sidebar-sub-header"><a href="/php/classes-and-objects.html#anonymous-classes" class="sidebar-link">Anonymous Classes</a></li></ul></li><li><a href="/php/namespaces.html" class="sidebar-link">Namespaces</a></li><li><a href="/php/sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/php/cookies.html" class="sidebar-link">Cookies</a></li><li><a href="/php/output-buffering.html" class="sidebar-link">Output Buffering</a></li><li><a href="/php/json.html" class="sidebar-link">JSON</a></li><li><a href="/php/soap-client.html" class="sidebar-link">SOAP Client</a></li><li><a href="/php/using-curl-in-php.html" class="sidebar-link">Using cURL in PHP</a></li><li><a href="/php/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/php/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/php/xml.html" class="sidebar-link">XML</a></li><li><a href="/php/simplexml.html" class="sidebar-link">SimpleXML</a></li><li><a href="/php/parsing-html.html" class="sidebar-link">Parsing HTML</a></li><li><a href="/php/regular-expressions-regexp-pcre.html" class="sidebar-link">Regular Expressions (regexp/PCRE)</a></li><li><a href="/php/traits.html" class="sidebar-link">Traits</a></li><li><a href="/php/composer-dependency-manager.html" class="sidebar-link">Composer Dependency Manager</a></li><li><a href="/php/magic-methods.html" class="sidebar-link">Magic Methods</a></li><li><a href="/php/file-handling.html" class="sidebar-link">File handling</a></li><li><a href="/php/streams.html" class="sidebar-link">Streams</a></li><li><a href="/php/type-hinting.html" class="sidebar-link">Type hinting</a></li><li><a href="/php/filters-filter-functions.html" class="sidebar-link">Filters &amp; Filter Functions</a></li><li><a href="/php/generators.html" class="sidebar-link">Generators</a></li><li><a href="/php/utf-8.html" class="sidebar-link">UTF-8</a></li><li><a href="/php/how-to-break-down-an-url.html" class="sidebar-link">How to break down an URL</a></li><li><a href="/php/object-serialization.html" class="sidebar-link">Object Serialization</a></li><li><a href="/php/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/php/closure.html" class="sidebar-link">Closure</a></li><li><a href="/php/reading-request-data.html" class="sidebar-link">Reading Request Data</a></li><li><a href="/php/type-juggling-and-non-strict-comparison-issues.html" class="sidebar-link">Type juggling and Non-Strict Comparison Issues</a></li><li><a href="/php/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/php/pdo.html" class="sidebar-link">PDO</a></li><li><a href="/php/php-mysqli.html" class="sidebar-link">PHP MySQLi</a></li><li><a href="/php/sqlite3.html" class="sidebar-link">SQLite3</a></li><li><a href="/php/using-mongodb.html" class="sidebar-link">Using MongoDB</a></li><li><a href="/php/mongo-php.html" class="sidebar-link">mongo-php</a></li><li><a href="/php/using-redis-with-php.html" class="sidebar-link">Using Redis with PHP</a></li><li><a href="/php/sending-email.html" class="sidebar-link">Sending Email</a></li><li><a href="/php/using-sqlsrv.html" class="sidebar-link">Using SQLSRV</a></li><li><a href="/php/command-line-interface-cli.html" class="sidebar-link">Command Line Interface (CLI)</a></li><li><a href="/php/localization.html" class="sidebar-link">Localization</a></li><li><a href="/php/headers-manipulation.html" class="sidebar-link">Headers Manipulation</a></li><li><a href="/php/coding-conventions.html" class="sidebar-link">Coding Conventions</a></li><li><a href="/php/asynchronous-programming.html" class="sidebar-link">Asynchronous programming</a></li><li><a href="/php/how-to-detect-client-ip-address.html" class="sidebar-link">How to Detect Client IP Address</a></li><li><a href="/php/create-pdf-files-in-php.html" class="sidebar-link">Create PDF files in PHP</a></li><li><a href="/php/yaml-in-php.html" class="sidebar-link">YAML in PHP</a></li><li><a href="/php/image-processing-with-gd.html" class="sidebar-link">Image Processing with GD</a></li><li><a href="/php/imagick.html" class="sidebar-link">Imagick</a></li><li><a href="/php/soap-server.html" class="sidebar-link">SOAP Server</a></li><li><a href="/php/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/php/cache.html" class="sidebar-link">Cache</a></li><li><a href="/php/autoloading-primer.html" class="sidebar-link">Autoloading Primer</a></li><li><a href="/php/spl-data-structures.html" class="sidebar-link">SPL data structures</a></li><li><a href="/php/imap.html" class="sidebar-link">IMAP</a></li><li><a href="/php/http-authentication.html" class="sidebar-link">HTTP Authentication</a></li><li><a href="/php/websockets.html" class="sidebar-link">WebSockets</a></li><li><a href="/php/bc-math-binary-calculator.html" class="sidebar-link">BC Math (Binary Calculator)</a></li><li><a href="/php/docker-deployment.html" class="sidebar-link">Docker deployment</a></li><li><a href="/php/apcu.html" class="sidebar-link">APCu</a></li><li><a href="/php/php-built-in-server.html" class="sidebar-link">PHP Built in server</a></li><li><a href="/php/psr.html" class="sidebar-link">PSR</a></li><li><a href="/php/phpdoc.html" class="sidebar-link">PHPDoc</a></li><li><a href="/php/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/php/compile-php-extensions.html" class="sidebar-link">Compile PHP Extensions</a></li><li><a href="/php/common-errors.html" class="sidebar-link">Common Errors</a></li><li><a href="/php/compilation-of-errors-and-warnings.html" class="sidebar-link">Compilation of Errors and Warnings</a></li><li><a href="/php/exception-handling-and-error-reporting.html" class="sidebar-link">Exception Handling and Error Reporting</a></li><li><a href="/php/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/php/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/php/performance.html" class="sidebar-link">Performance</a></li><li><a href="/php/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/php/multi-threading-extension.html" class="sidebar-link">Multi Threading Extension</a></li><li><a href="/php/secure-remeber-me.html" class="sidebar-link">Secure Remeber Me</a></li><li><a href="/php/security.html" class="sidebar-link">Security</a></li><li><a href="/php/cryptography.html" class="sidebar-link">Cryptography</a></li><li><a href="/php/password-hashing-functions.html" class="sidebar-link">Password Hashing Functions</a></li><li><a href="/php/urls.html" class="sidebar-link">URLs</a></li><li><a href="/php/unicode-support-in-php.html" class="sidebar-link">Unicode Support in PHP</a></li><li><a href="/php/getting-started-with-php-7.html" class="sidebar-link">Getting started with php-7</a></li><li><a href="/php/null-coalesce-operator.html" class="sidebar-link">Null Coalesce Operator</a></li><li><a href="/php/spaceship-operator.html" class="sidebar-link">Spaceship operator</a></li><li><a href="/php/anonymous-class.html" class="sidebar-link">Anonymous class</a></li><li><a href="/php/contributing-to-the-php-manual.html" class="sidebar-link">Contributing to the PHP Manual</a></li><li><a href="/php/contributing-to-the-php-core.html" class="sidebar-link">Contributing to the PHP Core</a></li><li><a href="/php/getting-started-with-composer-php.html" class="sidebar-link">Getting started with composer-php</a></li><li><a href="/php/auto-loading-with-composer.html" class="sidebar-link">Auto loading with composer</a></li><li><a href="/php/how-to-use-private-repositories-with-composer.html" class="sidebar-link">How to use private repositories with Composer</a></li><li><a href="/php/getting-started-with-phpunit.html" class="sidebar-link">Getting Started with PHPUnit</a></li><li><a href="/php/assertions.html" class="sidebar-link">Assertions</a></li><li><a href="/php/test-doubles-mocks-and-stubs.html" class="sidebar-link">Test Doubles (Mocks and Stubs)</a></li><li><a href="/php/recipes.html" class="sidebar-link">Recipes</a></li><li><a href="/php/php-mysqli-affected-rows-returns-0-when-it-should-return-a-positive-integer.html" class="sidebar-link">php mysqli affected rows returns 0 when it should return a positive integer</a></li><li><a href="/php/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="classes-and-objects"><a href="#classes-and-objects" class="header-anchor">#</a> Classes and Objects</h1> <p>Classes and Objects are used to to make your code more efficient and less repetitive by grouping similar tasks.</p> <p>A class is used to define the actions and data structure used to build objects. The objects are then built using this predefined structure.</p> <h2 id="class-constants"><a href="#class-constants" class="header-anchor">#</a> Class Constants</h2> <p>Class constants provide a mechanism for holding fixed values in a program. That is, they provide a way of giving a name (and associated compile-time checking) to a value like <code>3.14</code> or <code>&quot;Apple&quot;</code>. Class constants can only be defined with the <code>const</code> keyword - the <a href="http://php.net/define" target="_blank" rel="noopener noreferrer">define<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function cannot be used in this context.</p> <p>As an example, it may be convenient to have a shorthand representation for the value of π throughout a program. A class with <code>const</code> values provides a simple way to hold such values.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">MathValues</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token constant">M_PI</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token constant">PHI</span> <span class="token operator">=</span> <span class="token number">1.61803</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$area</span> <span class="token operator">=</span> <span class="token class-name static-context">MathValues</span><span class="token operator">::</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token variable">$radius</span> <span class="token operator">*</span> <span class="token variable">$radius</span><span class="token punctuation">;</span>

</code></pre></div><p>Class constants may be accessed by using the double colon operator (so-called the scope resolution operator) on a class, much like static variables. Unlike static variables, however, class constants have their values fixed at compile time and cannot be reassigned to (e.g. <code>MathValues::PI = 7</code> would produce a fatal error).</p> <p>Class constants are also useful for defining things internal to a class that might need changing later (but do not change frequently enough to warrant storing in, say, a database). We can reference this internally using the <code>self</code> scope resolutor (which works in both instanced and static implementations)</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Labor</span> <span class="token punctuation">{</span>
    <span class="token comment">/** How long, in hours, does it take to build the item? */</span>
    <span class="token keyword">const</span> <span class="token constant">LABOR_UNITS</span> <span class="token operator">=</span> <span class="token number">0.26</span><span class="token punctuation">;</span>
    <span class="token comment">/** How much are we paying employees per hour? */</span>
    <span class="token keyword">const</span> <span class="token constant">LABOR_COST</span> <span class="token operator">=</span> <span class="token number">12.75</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getLaborCost</span><span class="token punctuation">(</span><span class="token variable">$number_units</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">LABOR_UNITS</span> <span class="token operator">*</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">LABOR_COST</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token variable">$number_units</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Class constants can only contain scalar values in versions &lt; 5.6</p> <p>As of PHP 5.6 we can use expressions with constants, meaning math statements and strings with concatenation are acceptable constants</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Labor</span> <span class="token punctuation">{</span>
    <span class="token comment">/** How much are we paying employees per hour? Hourly wages * hours taken to make */</span>
    <span class="token keyword">const</span> <span class="token constant">LABOR_COSTS</span> <span class="token operator">=</span> <span class="token number">12.75</span> <span class="token operator">*</span> <span class="token number">0.26</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getLaborCost</span><span class="token punctuation">(</span><span class="token variable">$number_units</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">LABOR_COSTS</span> <span class="token operator">*</span> <span class="token variable">$number_units</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>As of PHP 7.0, constants declared with <code>define</code> may now contain arrays.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;BAZ&quot;</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Class constants are useful for more than just storing mathematical concepts. For example, if preparing a pie, it might be convenient to have a single <code>Pie</code> class capable of taking different kinds of fruit.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Pie</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token variable">$fruit</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$fruit</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">fruit</span> <span class="token operator">=</span> <span class="token variable">$fruit</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>We can then use the <code>Pie</code> class like so</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$pie</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pie</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;strawberry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The problem that arises here is, when instantiating the <code>Pie</code> class, no guidance is provided as to the acceptable values. For example, when making a &quot;boysenberry&quot; pie, it might be misspelled &quot;boisenberry&quot;. Furthermore, we might not support a plum pie. Instead, it would be useful to have a list of acceptable fruit types already defined somewhere it would make sense to look for them. Say a class named <code>Fruit</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Fruit</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">APPLE</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;apple&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token constant">STRAWBERRY</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;strawberry&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token constant">BOYSENBERRY</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;boysenberry&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$pie</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pie</span><span class="token punctuation">(</span><span class="token class-name static-context">Fruit</span><span class="token operator">::</span><span class="token constant">STRAWBERRY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Listing the acceptable values as class constants provides a valuable hint as to the acceptable values which a method accepts. It also ensures that misspellings cannot make it past the compiler. While <code>new Pie('aple')</code> and <code>new Pie('apple')</code> are both acceptable to the compiler, <code>new Pie(Fruit::APLE)</code> will produce a compiler error.</p> <p>Finally, using class constants means that the actual value of the constant may be modified in a single place, and any code using the constant automatically has the effects of the modification.</p> <p>Whilst the most common method to access a class constant is <code>MyClass::CONSTANT_NAME</code>, it may also be accessed by:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token class-name static-context">MyClass</span><span class="token operator">::</span><span class="token constant">CONSTANT</span><span class="token punctuation">;</span>

<span class="token variable">$classname</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;MyClass&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$classname</span><span class="token operator">::</span><span class="token constant">CONSTANT</span><span class="token punctuation">;</span> <span class="token comment">// As of PHP 5.3.0</span>

</code></pre></div><p>Class constants in PHP are conventionally named all in uppercase with underscores as word separators, although any valid label name may be used as a class constant name.</p> <p>As of PHP 7.1, class constants may now be defined with different visibilities from the default public scope. This means that both protected and private constants can now be defined to prevent class constants from unnecessarily leaking into the public scope (see <a href="http://stackoverflow.com/documentation/php/504/classes-and-objects/6471/method-and-property-visibility" target="_blank" rel="noopener noreferrer">Method and Property Visibility<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ). For example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Something</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">PUBLIC_CONST_A</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">PUBLIC_CONST_B</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">const</span> <span class="token constant">PROTECTED_CONST</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token constant">PRIVATE_CONST</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="define-vs-class-constants"><a href="#define-vs-class-constants" class="header-anchor">#</a> define vs class constants</h3> <p>Although this is a valid construction:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">define</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'BAR'</span><span class="token punctuation">,</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>If you try to do the same with class constants, you'll get an error:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">BAR</span> <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: Constant expression contains invalid operations</span>
<span class="token punctuation">}</span>

</code></pre></div><p>But you can do:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">define</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'BAR'</span><span class="token punctuation">,</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">BAR</span> <span class="token operator">=</span> <span class="token constant">BAR</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token punctuation">}</span>

</code></pre></div><p>For more information, see <a href="http://php.net/manual/en/language.constants.php" target="_blank" rel="noopener noreferrer">constants in the manual<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="using-class-to-retrieve-class-s-name"><a href="#using-class-to-retrieve-class-s-name" class="header-anchor">#</a> Using ::class to retrieve class's name</h3> <p>PHP 5.5 introduced the <code>::class</code> syntax to retrieve the full class name, taking namespace scope and <code>use</code> statements into account.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">namespace</span> <span class="token package">foo</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">bar<span class="token punctuation">\</span>Bar</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token class-name static-context">Bar</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;bar\\Bar&quot;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token class-name static-context">Foo</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;foo\\Foo&quot;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Foo</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Foo&quot;</span>

</code></pre></div><p>The above works even if the classes are not even defined (i.e. this code snippet works alone).</p> <p>This syntax is useful for functions that require a class name. For example, it can be used with <code>class_exists</code> to check a class exists. No errors will be generated regardless of return value in this snippet:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">class_exists</span><span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified static-context">ThisClass<span class="token punctuation">\</span>Will<span class="token punctuation">\</span>NeverBe<span class="token punctuation">\</span>Loaded</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="abstract-classes"><a href="#abstract-classes" class="header-anchor">#</a> Abstract Classes</h2> <p>An abstract class is a class that cannot be instantiated. Abstract classes can define abstract methods, which are methods without any body, only a definition:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">MyAbstractClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span> <span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Abstract classes should be extended by a child class which can then provide the implementation of these abstract methods.</p> <p>The main purpose of a class like this is to provide a kind of template that allows children classes to inherit from, &quot;forcing&quot; a structure to adhere to. Lets elaborate on this with an example:</p> <p>In this example we will be implementing a <code>Worker</code> interface. First we define the interface:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">Worker</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>To ease the development of further Worker implementations, we will create an abstract worker class
that already provides the <code>run()</code> method from the interface, but specifies some abstract methods that need to be filled in by any child class:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">AbstractWorker</span> <span class="token keyword">implements</span> <span class="token class-name">Worker</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token variable">$pdo</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token variable">$logger</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">PDO</span> <span class="token variable">$pdo</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Logger</span> <span class="token variable">$logger</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pdo</span> <span class="token operator">=</span> <span class="token variable">$pdo</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">logger</span> <span class="token operator">=</span> <span class="token variable">$logger</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">setMemoryLimit</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getMemoryLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">logger</span><span class="token operator">-&gt;</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Preparing main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">prepareMain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">logger</span><span class="token operator">-&gt;</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Executing main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Catch and rethrow all errors so they can be logged by the worker</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">logger</span><span class="token operator">-&gt;</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Worker failed with exception: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$e</span><span class="token operator">-&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token variable">$e</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">setMemoryLimit</span><span class="token punctuation">(</span><span class="token variable">$memoryLimit</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'memory_limit'</span><span class="token punctuation">,</span> <span class="token variable">$memoryLimit</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">logger</span><span class="token operator">-&gt;</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Set memory limit to <span class="token interpolation"><span class="token variable">$memoryLimit</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">getMemoryLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">prepareMain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>First of all, we have provided an abstract method <code>getMemoryLimit()</code>. Any class extending from <code>AbstractWorker</code> needs to provide this method and return its memory limit. The <code>AbstractWorker</code> then sets the memory limit and logs it.</p> <p>Secondly the <code>AbstractWorker</code> calls the <code>prepareMain()</code> and <code>main()</code> methods, after logging that they have been called.</p> <p>Finally, all of these method calls have been grouped in a <code>try</code>-<code>catch</code> block. So if any of the abstract methods defined by the child class throws an exception, we will catch that exception, log it and rethrow it. This prevents all child classes from having to implement this themselves.</p> <p>Now lets define a child class that extends from the <code>AbstractWorker</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">TranscactionProcessorWorker</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractWorker</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$transactions</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">getMemoryLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">&quot;512M&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">prepareMain</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$stmt</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pdo</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;SELECT * FROM transactions WHERE processed = 0 LIMIT 500&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$stmt</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">transactions</span> <span class="token operator">=</span> <span class="token variable">$stmt</span><span class="token operator">-&gt;</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">transactions</span> <span class="token keyword">as</span> <span class="token variable">$transaction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Could throw some PDO or MYSQL exception, but that is handled by the AbstractWorker</span>
            <span class="token variable">$stmt</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pdo</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;UPDATE transactions SET processed = 1 WHERE id = <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$transaction</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> LIMIT 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$stmt</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>As you can see, the <code>TransactionProcessorWorker</code> was rather easy to implement, as we only had to specify the memory limit and worry about the actual actions that it needed to perform. No error handling is needed in the <code>TransactionProcessorWorker</code> because that is handled in the <code>AbsractWorker</code>.</p> <h3 id="important-note"><a href="#important-note" class="header-anchor">#</a> Important Note</h3> <blockquote></blockquote> <p>When inheriting from an abstract class, all methods marked abstract in
the parent's class declaration must be defined by the child (or the child itself
must also be marked abstract);
additionally, these methods must be defined with the same (or a less
restricted) visibility. For example, if the abstract method is defined
as protected, the function implementation must be defined as either
protected or public, but not private.</p> <p><sup><strong>Taken from the <a href="http://php.net/manual/en/language.oop5.abstract.php" target="_blank" rel="noopener noreferrer">PHP Documentation for Class Abstraction<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</strong></sup></p> <p>If you <strong>do not</strong> define the parent abstract classes methods within the child class, you will be thrown a <strong>Fatal PHP Error</strong> like the following.</p> <blockquote></blockquote> <p>**Fatal error:** Class X contains 1 abstract method and must therefore
be declared abstract or implement the remaining methods (X::x)
in</p> <h2 id="late-static-binding"><a href="#late-static-binding" class="header-anchor">#</a> Late static binding</h2> <p>In PHP 5.3+ and above you can utilize <a href="http://php.net/manual/en/language.oop5.late-static-bindings.php" target="_blank" rel="noopener noreferrer">late static binding<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to control which class a static property or method is called from. It was added to overcome the problem inherent with the <code>self::</code> scope resolutor. Take the following code</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Horse</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">whatToSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Neigh!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token function">whatToSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">MrEd</span> <span class="token keyword">extends</span> <span class="token class-name">Horse</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">whatToSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello Wilbur!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>You would expect that the <code>MrEd</code> class will override the parent <code>whatToSay()</code> function. But when we run this we get something unexpected</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Horse</span><span class="token operator">::</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Neigh!</span>
<span class="token class-name static-context">MrEd</span><span class="token operator">::</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Neigh!</span>

</code></pre></div><p>The problem is that <code>self::whatToSay();</code> can only refer to the <code>Horse</code> class, meaning it doesn't obey <code>MrEd</code>. If we switch to the <code>static::</code> scope resolutor, we don't have this problem. This newer method tells the class to obey the instance calling it. Thus we get the inheritance we're expecting</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Horse</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">whatToSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Neigh!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword static-context">static</span><span class="token operator">::</span><span class="token function">whatToSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Late Static Binding</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name static-context">Horse</span><span class="token operator">::</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Neigh!</span>
<span class="token class-name static-context">MrEd</span><span class="token operator">::</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello Wilbur!</span>

</code></pre></div><h2 id="namespacing-and-autoloading"><a href="#namespacing-and-autoloading" class="header-anchor">#</a> Namespacing and Autoloading</h2> <p>Technically, autoloading works by executing a callback when a PHP class is required but not found. Such callbacks usually attempt to load these classes.</p> <p>Generally, autoloading can be understood as the attempt to load PHP files (especially PHP class files, where a PHP source file is dedicated for a specific class) from appropriate paths according to the class's fully-qualified name (FQN) when a class is needed.</p> <p>Suppose we have these classes:</p> <p>Class file for <code>application\controllers\Base</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">application<span class="token punctuation">\</span>controllers</span> <span class="token punctuation">{</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">Base</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>

</span></code></pre></div><p>Class file for <code>application\controllers\Control</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">application<span class="token punctuation">\</span>controllers</span> <span class="token punctuation">{</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">Control</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>

</span></code></pre></div><p>Class file for <code>application\models\Page</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">application<span class="token punctuation">\</span>models</span> <span class="token punctuation">{</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">Page</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>

</span></code></pre></div><p>Under the source folder, these classes should be placed at the paths as their FQNs respectively:</p> <li>Source folder
<ul><li>`applications`
<ul><li>`controllers`
<ul>
- `Base.php`
- `Control.php`
<ul><li><code>Page.php</code></li></ul> <p>This approach makes it possible to programmatically resolve the class file path according to the FQN, using this function:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">getClassPath</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$sourceFolder</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$className</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$extension</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;.php&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$sourceFolder</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;/&quot;</span> <span class="token operator">.</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\\&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token variable">$className</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token variable">$extension</span><span class="token punctuation">;</span> <span class="token comment">// note that &quot;/&quot; works as a directory separator even on Windows</span>
<span class="token punctuation">}</span>

</code></pre></div><p>The <code>spl_autoload_register</code> function allows us to load a class when needed using a user-defined function:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">const</span> <span class="token constant">SOURCE_FOLDER</span> <span class="token operator">=</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;/src&quot;</span><span class="token punctuation">;</span>
<span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">getClassPath</span><span class="token punctuation">(</span><span class="token constant">SOURCE_FOLDER</span><span class="token punctuation">,</span> <span class="token variable">$className</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_readable</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">require_once</span> <span class="token variable">$file</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This function can be further extended to use fallback methods of loading:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">const</span> <span class="token constant">SOURCE_FOLDERS</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;/src&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/root/src&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token constant">SOURCE_FOLDERS</span> <span class="token keyword">as</span> <span class="token variable">$folder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$extensions</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token comment">// do we have src/Foo/Bar.php5_int64?</span>
            <span class="token string double-quoted-string">&quot;.php&quot;</span> <span class="token operator">.</span> <span class="token constant">PHP_MAJOR_VERSION</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;_int&quot;</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token constant">PHP_INT_SIZE</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// do we have src/Foo/Bar.php7?</span>
            <span class="token string double-quoted-string">&quot;.php&quot;</span> <span class="token operator">.</span> <span class="token constant">PHP_MAJOR_VERSION</span><span class="token punctuation">,</span>
            <span class="token comment">// do we have src/Foo/Bar.php_int64?</span>
            <span class="token string double-quoted-string">&quot;.php&quot;</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;_int&quot;</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token constant">PHP_INT_SIZE</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// do we have src/Foo/Bar.phps?</span>
            <span class="token string double-quoted-string">&quot;.phps&quot;</span>
            <span class="token comment">// do we have src/Foo/Bar.php?</span>
            <span class="token string double-quoted-string">&quot;.php&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$extensions</span> <span class="token keyword">as</span> <span class="token variable">$ext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token function">getClassPath</span><span class="token punctuation">(</span><span class="token variable">$folder</span><span class="token punctuation">,</span> <span class="token variable">$className</span><span class="token punctuation">,</span> <span class="token variable">$extension</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_readable</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token variable">$path</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Note that PHP doesn't attempt to load the classes whenever a file that uses this class is loaded. It may be loaded in the middle of a script, or even in shutdown functions . This is one of the reasons why developers, especially those who use autoloading, should avoid replacing executing source files in the runtime, especially in phar files.</p> <h2 id="interfaces"><a href="#interfaces" class="header-anchor">#</a> Interfaces</h2> <h3 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h3> <p>Interfaces are definitions of the public APIs classes must implement to satisfy the interface. They work as &quot;contracts&quot;, specifying <strong>what</strong> a set of subclasses does, but <strong>not how</strong> they do it.</p> <p>Interface definition is much alike class definition, changing the keyword <code>class</code> to <code>interface</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

</code></pre></div><p>Interfaces can contain methods and/or constants, but no attributes. Interface constants have the same restrictions as class constants. Interface methods are implicitly abstract:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">BAR</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'BAR'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token variable">$param1</span><span class="token punctuation">,</span> <span class="token variable">$param2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Note:</strong> interfaces <strong>must not</strong> declare constructors or destructors, since these are implementation details on the class level.</p> <h3 id="realization"><a href="#realization" class="header-anchor">#</a> Realization</h3> <p>Any class that needs to implement an interface must do so using the <code>implements</code> keyword. To do so, the class needs to provide a implementation for every method declared in the interface, respecting the same signature.</p> <p>A single class <strong>can</strong> implement more than one interface at a time.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token variable">$param1</span><span class="token punctuation">,</span> <span class="token variable">$param2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name-definition class-name">Bar</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doAnotherThing</span><span class="token punctuation">(</span><span class="token variable">$param1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">class</span> <span class="token class-name-definition class-name">Baz</span> <span class="token keyword">implements</span> <span class="token class-name">Foo</span><span class="token punctuation">,</span> Bar <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token variable">$param1</span><span class="token punctuation">,</span> <span class="token variable">$param2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doAnotherThing</span><span class="token punctuation">(</span><span class="token variable">$param1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>When abstract classes implement interfaces, they do not need to implement all methods. Any method not implemented in the base class must then be implemented by the concrete class that extends it:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">AbstractBaz</span> <span class="token keyword">implements</span> <span class="token class-name">Foo</span><span class="token punctuation">,</span> Bar <span class="token punctuation">{</span>
    <span class="token comment">// Partial implementation of the required interface...</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token variable">$param1</span><span class="token punctuation">,</span> <span class="token variable">$param2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Baz</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBaz</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doAnotherThing</span><span class="token punctuation">(</span><span class="token variable">$param1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Notice that interface realization is an inherited characteristic. When extending a class that implements an interface, you do not need to redeclare it in the concrete class, because it is implicit.</p> <blockquote></blockquote> <p>**Note:**
Prior to PHP 5.3.9, a class could not implement two interfaces that specified a method
with the same name, since it would cause ambiguity. More recent versions of PHP allow
this as long as the duplicate methods have the same signature[[1]](http://php.net/manual/en/language.oop5.interfaces.php).</p> <h3 id="inheritance"><a href="#inheritance" class="header-anchor">#</a> Inheritance</h3> <p>Like classes, it is possible to establish an inheritance relationship between interfaces, using the same keyword <code>extends</code>. The main difference is that multiple inheritance is allowed for interfaces:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name-definition class-name">Bar</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name-definition class-name">Baz</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span><span class="token punctuation">,</span> Bar <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

</code></pre></div><h3 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h3> <p>In the example bellow we have a simple example interface for a vehicle. Vehicles can go forwards and backwards.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">VehicleInterface</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Bike</span> <span class="token keyword">implements</span> <span class="token class-name">VehicleInterface</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">pedal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">backwardSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">pedal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">backwardSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>

    <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Car</span> <span class="token keyword">implements</span> <span class="token class-name">VehicleInterface</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token variable">$gear</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'N'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">setGear</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">pushPedal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">setGear</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'R'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">pushPedal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">setGear</span><span class="token punctuation">(</span><span class="token variable">$gear</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">gear</span> <span class="token operator">=</span> <span class="token variable">$gear</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">pushPedal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>

    <span class="token operator">...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Then we create two classes that implement the interface: Bike and Car. Bike and Car internally are very different, but both are vehicles, and must implement the same public methods that VehicleInterface provides.</p> <p>Typehinting allows methods and functions to request Interfaces. Let's assume that we have a parking garage class, which contains vehicles of all kinds.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">ParkingGarage</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token variable">$vehicles</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">addVehicle</span><span class="token punctuation">(</span><span class="token class-name type-declaration">VehicleInterface</span> <span class="token variable">$vehicle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">vehicles</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$vehicle</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Because <code>addVehicle</code> requires a <code>$vehicle</code> of type <code>VehicleInterface</code>—not a concrete implementation—we can input both Bikes and Cars, which the ParkingGarage can manipulate and use.</p> <h2 id="method-and-property-visibility"><a href="#method-and-property-visibility" class="header-anchor">#</a> Method and Property Visibility</h2> <p>There are three visibility types that you can apply to methods (<strong>class/object functions</strong>) and properties (<strong>class/object variables</strong>) within a class, which provide access control for the method or property to which they are applied.</p> <p>You can read extensively about these in the <a href="http://php.net/manual/en/language.oop5.visibility.php" target="_blank" rel="noopener noreferrer">PHP Documentation for OOP Visibility<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="public"><a href="#public" class="header-anchor">#</a> Public</h3> <p>Declaring a method or a property as <code>public</code> allows the method or property to be accessed by:</p> <ul><li>The class that declared it.</li> <li>The classes that extend the declared class.</li> <li>Any external objects, classes, or code outside the class hierarchy.</li></ul> <p>An example of this <code>public</code> access would be:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token comment">// Property</span>
    <span class="token keyword">public</span> <span class="token variable">$myProperty</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'test'</span><span class="token punctuation">;</span>

    <span class="token comment">// Method</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">myProperty</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Out: test</span>

<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token property">myProperty</span><span class="token punctuation">;</span>
<span class="token comment">// Out: test</span>

</code></pre></div><h3 id="protected"><a href="#protected" class="header-anchor">#</a> Protected</h3> <p>Declaring a method or a property as <code>protected</code> allows the method or property to be accessed by:</p> <ul><li>The class that declared it.</li> <li>The classes that extend the declared class.</li></ul> <p>This <strong>does not allow</strong> external objects, classes, or code outside the class hierarchy to access these methods or properties. If something using this method/property does not have access to it, it will not be available, and an error will be thrown. <strong>Only</strong> instances of the declared self (or subclasses thereof) have access to it.</p> <p>An example of this <code>protected</code> access would be:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token variable">$myProperty</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'test'</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">myProperty</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">MySubClass</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MySubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This will call MyClass::myMethod();</span>
<span class="token comment">// Out: test</span>

<span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This will fail.</span>
<span class="token comment">// Out: Fatal error: Call to protected method MyClass::myMethod() from context ''</span>

</code></pre></div><p><sup><strong>The example above notes that you can only access the <code>protected</code> elements within it's own scope. Essentially: &quot;What's in the house can only be access from inside the house.&quot;</strong></sup></p> <h3 id="private"><a href="#private" class="header-anchor">#</a> Private</h3> <p>Declaring a method or a property as <code>private</code> allows the method or property to be accessed by:</p> <ul><li>The class that declared it <strong>Only</strong> (not subclasses).</li></ul> <p>A <code>private</code> method or property is only visible and accessible within the class that created it.</p> <p>Note that objects of the same type will have access to each others private and protected members even though they are not the same instances.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$myProperty</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'test'</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">myPrivateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">myProperty</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">myPublicMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">myPrivateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">modifyPrivatePropertyOf</span><span class="token punctuation">(</span><span class="token class-name type-declaration">MyClass</span> <span class="token variable">$anotherInstance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$anotherInstance</span><span class="token operator">-&gt;</span><span class="token property">myProperty</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;new value&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">MySubClass</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">myPublicMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">runWithPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">myPrivateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MySubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$newObj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MySubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This will call MyClass::myPublicMethod(), which will then call</span>
<span class="token comment">// MyClass::myPrivateMethod();</span>
<span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// Out: test</span>

    
<span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">modifyPrivatePropertyOf</span><span class="token punctuation">(</span><span class="token variable">$newObj</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$newObj</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Out: new value</span>

<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">myPrivateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This will fail.</span>
<span class="token comment">// Out: Fatal error: Call to private method MyClass::myPrivateMethod() from context ''</span>

<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">runWithPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This will also fail.</span>
<span class="token comment">// Out: Fatal error: Call to private method MyClass::myPrivateMethod() from context 'MySubClass'</span>

</code></pre></div><p><sup><strong>As noted, you can only access the <code>private</code> method/property from within it's defined class.</strong></sup></p> <h2 id="final-keyword"><a href="#final-keyword" class="header-anchor">#</a> Final Keyword</h2> <p>Def:
<strong>Final</strong> Keyword prevents child classes from overriding a method by prefixing the definition with final. If the class itself is being defined final then it cannot be extended</p> <p><strong>Final Method</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">BaseClass</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;BaseClass::test() called\n&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   
   <span class="token keyword">final</span> <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">moreTesting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;BaseClass::moreTesting() called\n&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ChildClass</span> <span class="token keyword">extends</span> <span class="token class-name">BaseClass</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">moreTesting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;ChildClass::moreTesting() called\n&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Results in Fatal error: Cannot override final method BaseClass::moreTesting()</span>

</code></pre></div><p><strong>Final Class:</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">BaseClass</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;BaseClass::test() called\n&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// Here it doesn't matter if you specify the function as final or not</span>
   <span class="token keyword">final</span> <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">moreTesting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;BaseClass::moreTesting() called\n&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ChildClass</span> <span class="token keyword">extends</span> <span class="token class-name">BaseClass</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token comment">// Results in Fatal error: Class ChildClass may not inherit from final class (BaseClass)</span>

</code></pre></div><p><strong>Final constants:</strong> Unlike Java, the <code>final</code> keyword is not used for class constants in PHP. Use the keyword <code>const</code> instead.</p> <p><strong>Why do I have to use <code>final</code>?</strong></p> <ol><li>Preventing massive inheritance chain of doom</li> <li>Encouraging composition</li> <li>Force the developer to think about user public API</li> <li>Force the developer to shrink an object's public API</li> <li>A <code>final</code> class can always be made extensible</li> <li><code>extends</code> breaks encapsulation</li> <li>You don't need that flexibility</li> <li>You are free to change the code</li></ol> <p><strong>When to avoid <code>final</code>:</strong>
Final classes only work effectively under following assumptions:</p> <ol><li>There is an abstraction (interface) that the final class implements</li> <li>All of the public API of the final class is part of that interface</li></ol> <h2 id="autoloading"><a href="#autoloading" class="header-anchor">#</a> Autoloading</h2> <p>Nobody wants to <code>require</code> or <code>include</code> every time a class or inheritance is used. Because it can be painful and is easy to forget, PHP is offering so called autoloading. If you are already using Composer, read about <a href="https://stackoverflow.com/documentation/php/1053/composer/3397/autoloading-with-composer#t=201607252107257288764" target="_blank" rel="noopener noreferrer">autoloading using Composer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><strong>What exactly is autoloading?</strong></p> <p>The name basically says it all. You do not have to get the file where the requested class is stored in, but PHP <strong>auto</strong>matically <strong>load</strong>s it.</p> <p><strong>How can I do this in basic PHP without third party code?</strong></p> <p>There is the function <a href="https://secure.php.net/manual/function.autoload.php" target="_blank" rel="noopener noreferrer"><code>__autoload</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, but it is considered better practice to use <a href="https://secure.php.net/manual/function.spl-autoload-register.php" target="_blank" rel="noopener noreferrer"><code>spl_autoload_register</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. These functions will be considered by PHP every time a class is not defined within the given space. So adding autoload to an existing project is no problem, as defined classes (via <code>require</code> i.e.) will work like before. For the sake of preciseness, the following examples will use anonymous functions, if you use PHP &lt; 5.3, you can define the function and pass it's name as argument to <code>spl_autoload_register</code>.</p> <p><strong>Examples</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'%s.php'</span><span class="token punctuation">,</span> <span class="token variable">$className</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">include</span> <span class="token variable">$path</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// file not found</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The code above simply tries to include a filename with the class name and the appended extension &quot;.php&quot; using <a href="https://secure.php.net/sprintf" target="_blank" rel="noopener noreferrer"><code>sprintf</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. If <code>FooBar</code> needs to be loaded, it looks if <code>FooBar.php</code> exists and if so includes it.</p> <p>Of course this can be extended to fit the project's individual need. If <code>_</code> inside a class name is used to group, e.g. <code>User_Post</code> and <code>User_Image</code> both refer to <code>User</code>, both classes can be kept in a folder called &quot;User&quot; like so:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//                        replace _ by / or \ (depending on OS)</span>
    <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'%s.php'</span><span class="token punctuation">,</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_'</span><span class="token punctuation">,</span> <span class="token constant">DIRECTORY_SEPARATOR</span><span class="token punctuation">,</span> <span class="token variable">$className</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">include</span> <span class="token variable">$path</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// file not found</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The class <code>User_Post</code> will now be loaded from &quot;User/Post.php&quot;, etc.</p> <p><code>spl_autoload_register</code> can be tailored to various needs. All your files with classes are named &quot;class.CLASSNAME.php&quot;? No problem. Various nesting (<code>User_Post_Content</code> =&gt; &quot;User/Post/Content.php&quot;)? No problem either.</p> <p>If you want a more elaborate autoloading mechanism - and still don't want to include Composer - you can work without adding third party libraries.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'%1$s%2$s%3$s.php'</span><span class="token punctuation">,</span>
        <span class="token comment">// %1$s: get absolute path</span>
        <span class="token function">realpath</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// %2$s: / or \ (depending on OS)</span>
        <span class="token constant">DIRECTORY_SEPARATOR</span><span class="token punctuation">,</span>
        <span class="token comment">// %3$s: don't wory about caps or not when creating the files</span>
        <span class="token function">strtolower</span><span class="token punctuation">(</span>
            <span class="token comment">// replace _ by / or \ (depending on OS)</span>
            <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_'</span><span class="token punctuation">,</span> <span class="token constant">DIRECTORY_SEPARATOR</span><span class="token punctuation">,</span> <span class="token variable">$className</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">include</span> <span class="token variable">$path</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span>
            <span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Class with name %1$s not found. Looked in %2$s.'</span><span class="token punctuation">,</span>
                <span class="token variable">$className</span><span class="token punctuation">,</span>
                <span class="token variable">$path</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Using autoloaders like this, you can happily write code like this:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">require_once</span> <span class="token string single-quoted-string">'./autoload.php'</span><span class="token punctuation">;</span> <span class="token comment">// where spl_autoload_register is defined</span>

<span class="token variable">$foo</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo_Bar</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Hello_World</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Using classes:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Foo_Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Hello_World</span> <span class="token keyword">implements</span> <span class="token class-name">Demo_Classes</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

</code></pre></div><p>These examples will be include classes from <code>foo/bar.php</code>, <code>foo.php</code>, <code>hello/world.php</code> and <code>demo/classes.php</code>.</p> <h2 id="dynamic-binding"><a href="#dynamic-binding" class="header-anchor">#</a> Dynamic Binding</h2> <p>Dynamic binding, also referred as <strong>method overriding</strong> is an example of <strong>run time polymorphism</strong> that occurs when multiple classes contain different implementations of the same method, but the object that the method will be called on is <strong>unknown</strong> until  <strong>run time</strong>.</p> <p>This is useful if a certain condition dictates which class will be used to perform an action, where the action is named the same in both classes.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">makeNoise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Cat</span> <span class="token keyword">implements</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> makeNoise
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Dog</span> <span class="token keyword">implements</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> makeNoise <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">CAT</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'cat'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token constant">DOG</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'dog'</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token variable">$petPreference</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$pet</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">isCatLover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">petPreference</span> <span class="token operator">==</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">CAT</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">isDogLover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">petPreference</span> <span class="token operator">==</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">DOG</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">setPet</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Animal</span> <span class="token variable">$pet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pet</span> <span class="token operator">=</span> <span class="token variable">$pet</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getPet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name return-type">Animal</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pet</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$person</span><span class="token operator">-&gt;</span><span class="token function">isCatLover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$person</span><span class="token operator">-&gt;</span><span class="token function">setPet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$person</span><span class="token operator">-&gt;</span><span class="token function">isDogLover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$person</span><span class="token operator">-&gt;</span><span class="token function">setPet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$person</span><span class="token operator">-&gt;</span><span class="token function">getPet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">makeNoise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>In the above example, the <code>Animal</code> class (<code>Dog|Cat</code>) which will <code>makeNoise</code> is unknown until run time depending on the property within the <code>User</code> class.</p> <h2 id="calling-a-parent-constructor-when-instantiating-a-child"><a href="#calling-a-parent-constructor-when-instantiating-a-child" class="header-anchor">#</a> Calling a parent constructor when instantiating a child</h2> <p>A common pitfall of child classes is that, if your parent and child both contain a constructor(<code>__construct()</code>) method, <strong>only the child class constructor will run</strong>. There may be occasions where you need to run the parent <code>__construct()</code> method from it's child. If you need to do that, then you will need to use the <a href="http://php.net/manual/en/keyword.parent.php" target="_blank" rel="noopener noreferrer"><code>parent::</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> scope resolutor:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Now harnessing that within a real-world situation would look something like:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>

    <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'parent'</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>

    <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>The above will run the parent <code>__construct()</code> resulting in the <code>echo</code> being run.</p> <h2 id="this-self-and-static-plus-the-singleton"><a href="#this-self-and-static-plus-the-singleton" class="header-anchor">#</a> $this, self and static plus the singleton</h2> <blockquote></blockquote> <p>Use `$this` to refer to the current object. Use `self` to refer to the
current class. In other words, use  `$this-&gt;member` for non-static
members, use `self::$member` for static members.</p> <p>In the example below, <code>sayHello()</code> and <code>sayGoodbye()</code> are using <code>self</code> and <code>$this</code> difference can be observed here.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot; the person&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Hello, I'm &quot;</span><span class="token operator">.</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;&lt;br/&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">sayGoodbye</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Goodbye from &quot;</span><span class="token operator">.</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;&lt;br/&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Geek</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot; the geek&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$geekObj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Geek</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Ludwig&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$geekObj</span><span class="token operator">-&gt;</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$geekObj</span><span class="token operator">-&gt;</span><span class="token function">sayGoodbye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><code>static</code> refers to whatever class in the hierarchy you called the method on. It allows for better reuse of static class properties when classes are inherited.</p> <p>Consider the following code:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$brand</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'unknown'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$brand</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Mercedes</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$brand</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Mercedes'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">BMW</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$brand</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'BMW'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMW</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Mercedes</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This doesn't produce the result you want:</p> <blockquote></blockquote> <p>unknown<br>
unknown<br>
unknown</p> <p>That's because <code>self</code> refers to the <code>Car</code> class whenever method <code>brand()</code> is called.</p> <p>To refer to the correct class, you need to use <code>static</code> instead:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$brand</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'unknown'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword static-context">static</span><span class="token operator">::</span><span class="token variable">$brand</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Mercedes</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$brand</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Mercedes'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">BMW</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$brand</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'BMW'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMW</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Mercedes</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This does produce the desired output:</p> <blockquote></blockquote> <p>unknown<br>
BMW<br>
Mercedes</p> <p>See also <a href="http://stackoverflow.com/documentation/php/504/classes-and-objects/5420/late-static-binding#t=201608122306182437362" target="_blank" rel="noopener noreferrer">Late static binding<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="the-singleton"><a href="#the-singleton" class="header-anchor">#</a> The singleton</h3> <p>If you have an object that's expensive to create or represents a connection to some external resource you want to reuse, i.e. a database connection where there is no connection pooling or a socket to some other system, you can use the <code>static</code> and <code>self</code> keywords in a class to make it a singleton. There are strong opinions about whether the singleton pattern should or should not be used, but it does have its uses.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Singleton</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token variable">$instance</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$instance</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$instance</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$instance</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Do constructor stuff</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>As you can see in the example code we are defining a private static property <code>$instance</code> to hold the object reference. Since this is static this reference is shared across ALL objects of this type.</p> <p>The <code>getInstance()</code>method uses a method know as lazy instantiation to delay creating the object to the last possible moment as you do not want to have unused objects lying around in memory never intended to be used. It also saves time and CPU on page load not having to load more objects than necessary. The method is checking if the object is set, creating it if not, and returning it. This ensures that only one object of this kind is ever created.</p> <p>We are also setting the constructor to be private to ensure that no one creates it with the <code>new</code> keyword from the outside. If you need to inherit from this class just change the <code>private</code> keywords to <code>protected</code>.</p> <p>To use this object you just write the following:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$singleton</span> <span class="token operator">=</span> <span class="token class-name static-context">Singleton</span><span class="token operator">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Now I DO implore you to use dependency injection where you can and aim for loosely coupled objects, but sometimes that is just not reasonable and the singleton pattern can be of use.</p> <h2 id="defining-a-basic-class"><a href="#defining-a-basic-class" class="header-anchor">#</a> Defining a Basic Class</h2> <p>An object in PHP contains variables and functions. Objects typically belong to a class, which defines the variables and functions that all objects of this class will contain.</p> <p>The syntax to define a class is:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$sides</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">&quot;A shape with <span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sides</span></span> sides.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Once a class is defined, you can create an instance using:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$myShape</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Variables and functions on the object are accessed like this:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$myShape</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$myShape</span><span class="token operator">-&gt;</span><span class="token property">sides</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

<span class="token keyword">print</span> <span class="token variable">$myShape</span><span class="token operator">-&gt;</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;A shape with 6 sides&quot;</span>

</code></pre></div><h3 id="constructor"><a href="#constructor" class="header-anchor">#</a> Constructor</h3> <p>Classes can define a special <code>__construct()</code> method, which is executed as part of object creation. This is often used to
specify the initial values of an object:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$sides</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$sides</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sides</span> <span class="token operator">=</span> <span class="token variable">$sides</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">&quot;A shape with <span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sides</span></span> sides.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myShape</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">print</span> <span class="token variable">$myShape</span><span class="token operator">-&gt;</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A shape with 6 sides</span>

</code></pre></div><h3 id="extending-another-class"><a href="#extending-another-class" class="header-anchor">#</a> Extending Another Class</h3> <p>Class definitions can extend existing class definitions, adding new variables and functions as well as modifying those defined in the parent class.</p> <p>Here is a class that extends the previous example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$sideLength</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$sideLength</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       
       <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sideLength</span> <span class="token operator">=</span> <span class="token variable">$sideLength</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sides</span> <span class="token operator">*</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sideLength</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sideLength</span> <span class="token operator">*</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">sideLength</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>The <code>Square</code> class contains variables and behavior for both the <code>Shape</code> class and the <code>Square</code> class:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mySquare</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Square</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">print</span> <span class="token variable">$mySquare</span><span class="token operator">-&gt;</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span> <span class="token comment">// A shape with 4 sides</span>

<span class="token keyword">print</span> <span class="token variable">$mySquare</span><span class="token operator">-&gt;</span><span class="token function">perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 40</span>

<span class="token keyword">print</span> <span class="token variable">$mySquare</span><span class="token operator">-&gt;</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 100</span>

</code></pre></div><h2 id="anonymous-classes"><a href="#anonymous-classes" class="header-anchor">#</a> Anonymous Classes</h2> <p>Anonymous classes were introduced into PHP 7 to enable for quick one-off objects to be easily created. They can take constructor arguments, extend other classes, implement interfaces, and use traits just like normal classes can.</p> <p>In its most basic form, an anonymous class looks like the following:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">new</span> <span class="token keyword">class</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;constructor argument&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$param</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$param</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// string(20) &quot;constructor argument&quot;</span>

</code></pre></div><p>Nesting an anonymous class inside of another class does not give it access to private or protected methods or properties of that outer class. Access to protected methods and properties of the outer class can be gained by extending the outer class from the anonymous class. Access to private properties of the outer class can be gained by passing them through to the anonymous class's constructor.</p> <p>For example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Outer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$prop</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token variable">$prop2</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// passing through the private $this-&gt;prop property</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">class</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">prop</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
            <span class="token keyword">private</span> <span class="token variable">$prop3</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">prop3</span> <span class="token operator">=</span> <span class="token variable">$prop</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">func3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// accessing the protected property Outer::$prop2</span>
                <span class="token comment">// accessing the protected method Outer::func1()</span>
                <span class="token comment">// accessing the local property self::$prop3 that was private from Outer::$prop</span>
                <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">prop2</span> <span class="token operator">+</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">prop3</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">func3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li><code>class &lt;ClassName&gt; [ extends &lt;ParentClassName&gt; ] [ implements &lt;Interface1&gt; [, &lt;Interface2&gt;, ... ] { }</code> // Class declaration</li> <li><code>interface &lt;InterfaceName&gt; [ extends &lt;ParentInterface1&gt; [, &lt;ParentInterface2&gt;, ...] ] { }</code> // Interface declaration</li> <li><code>use &lt;Trait1&gt; [, &lt;Trait2&gt;, ...]</code>; // Use traits</li> <li><code>[ public | protected | private ] [ static ] $&lt;varName&gt;;</code> // Attribute declaration</li> <li><code>const &lt;CONST_NAME&gt;;</code>  // Constant declaration</li> <li><code>[ public | protected | private ] [ static ] function &lt;methodName&gt;([args...]) { }</code> // Method declaration</li></ul> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <h3 id="classes-and-interface-components"><a href="#classes-and-interface-components" class="header-anchor">#</a> Classes and Interface components</h3> <p>Classes may have properties, constants and methods.</p> <ul><li><strong>Properties</strong> hold variables in the scope of the object. They may be initialized on declaration, but only if they contain a primitive value.</li> <li><strong>Constants</strong> must be initialized on declaration and can only contain a primitive value. Constant values are fixed at compile time and may not be assigned at run time.</li> <li><strong>Methods</strong> must have a body, even an empty one, unless the method is declared abstract.</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$foo</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
    <span class="token keyword">private</span> <span class="token variable">$baz</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
    <span class="token keyword">private</span> <span class="token variable">$bar</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error!</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Interfaces cannot have properties, but may have constants and methods.</p> <ul><li>Interface <strong>constants</strong> must be initialized on declaration and can only contain a primitive value. Constant values are fixed at compile time and may not be assigned at run time.</li> <li>Interface <strong>methods</strong> have no body.</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">interface</span> <span class="token class-name-definition class-name">FooBar</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">FOO_VALUE</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'bla'</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doAnything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div></ul></li></ul></li></ul></li></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/php/classes-and-objects.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/php/string-parsing.html" class="prev">
        String Parsing
      </a></span> <span class="next"><a href="/php/namespaces.html">
        Namespaces
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2428.8932e4d2.js" defer></script>
  </body>
</html>
