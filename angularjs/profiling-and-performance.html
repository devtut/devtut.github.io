<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AngularJS - Profiling and Performance</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="7 Simple Performance Improvements, Bind Once, ng-if vs ng-show, Watchers, Always deregister listeners registered on other scopes other than the current scope, Scope functions and filters, Debounce Your Model">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="AngularJS - Profiling and Performance">
    <meta property="og:description" content="7 Simple Performance Improvements, Bind Once, ng-if vs ng-show, Watchers, Always deregister listeners registered on other scopes other than the current scope, Scope functions and filters, Debounce Your Model">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/angularjs/profiling-and-performance.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="AngularJS - Profiling and Performance">
    <meta name="twitter:description" content="7 Simple Performance Improvements, Bind Once, ng-if vs ng-show, Watchers, Always deregister listeners registered on other scopes other than the current scope, Scope functions and filters, Debounce Your Model">
    <meta name="twitter:url" content="/angularjs/profiling-and-performance.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/459.a1ba873b.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>AngularJS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/angularjs/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/angularjs/getting-started-with-angularjs.html" class="sidebar-link">Getting started with AngularJS</a></li><li><a href="/angularjs/modules.html" class="sidebar-link">Modules</a></li><li><a href="/angularjs/components.html" class="sidebar-link">Components</a></li><li><a href="/angularjs/built-in-directives.html" class="sidebar-link">Built-in directives</a></li><li><a href="/angularjs/use-of-in-built-directives.html" class="sidebar-link">Use of in-built directives</a></li><li><a href="/angularjs/custom-directives.html" class="sidebar-link">Custom Directives</a></li><li><a href="/angularjs/how-data-binding-works.html" class="sidebar-link">How data binding works</a></li><li><a href="/angularjs/angular-project-directory-structure.html" class="sidebar-link">Angular Project - Directory Structure</a></li><li><a href="/angularjs/filters.html" class="sidebar-link">Filters</a></li><li><a href="/angularjs/custom-filters.html" class="sidebar-link">Custom filters</a></li><li><a href="/angularjs/constants.html" class="sidebar-link">Constants</a></li><li><a href="/angularjs/custom-filters-with-es6.html" class="sidebar-link">Custom filters with ES6</a></li><li><a href="/angularjs/directives-using-ngmodelcontroller.html" class="sidebar-link">Directives using ngModelController</a></li><li><a href="/angularjs/controllers.html" class="sidebar-link">Controllers</a></li><li><a href="/angularjs/controllers-with-es6.html" class="sidebar-link">Controllers with ES6</a></li><li><a href="/angularjs/the-self-or-this-variable-in-a-controller.html" class="sidebar-link">The Self Or This Variable In A Controller</a></li><li><a href="/angularjs/services.html" class="sidebar-link">Services</a></li><li><a href="/angularjs/distinguishing-service-vs-factory.html" class="sidebar-link">Distinguishing Service vs Factory</a></li><li><a href="/angularjs/angular-promises-with-q-service.html" class="sidebar-link">Angular promises with $q service</a></li><li><a href="/angularjs/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/angularjs/events.html" class="sidebar-link">Events</a></li><li><a href="/angularjs/sharing-data.html" class="sidebar-link">Sharing Data</a></li><li><a href="/angularjs/form-validation.html" class="sidebar-link">Form Validation</a></li><li><a href="/angularjs/routing-using-ngroute.html" class="sidebar-link">Routing using ngRoute</a></li><li><a href="/angularjs/ng-class-directive.html" class="sidebar-link">ng-class directive</a></li><li><a href="/angularjs/ng-repeat.html" class="sidebar-link">ng-repeat</a></li><li><a href="/angularjs/ng-style.html" class="sidebar-link">ng-style</a></li><li><a href="/angularjs/ng-view.html" class="sidebar-link">ng-view</a></li><li><a href="/angularjs/angularjs-bindings-options-etc.html" class="sidebar-link">AngularJS bindings options (=, @, &amp; etc.)</a></li><li><a href="/angularjs/providers.html" class="sidebar-link">Providers</a></li><li><a href="/angularjs/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/angularjs/print.html" class="sidebar-link">Print</a></li><li><a href="/angularjs/ui-router.html" class="sidebar-link">ui-router</a></li><li><a href="/angularjs/built-in-helper-functions.html" class="sidebar-link">Built-in helper Functions</a></li><li><a href="/angularjs/digest-loop-walkthrough.html" class="sidebar-link">digest loop walkthrough</a></li><li><a href="/angularjs/angular-scopes.html" class="sidebar-link">Angular $scopes</a></li><li><a href="/angularjs/using-angularjs-with-typescript.html" class="sidebar-link">Using AngularJS with TypeScript</a></li><li><a href="/angularjs/http-request.html" class="sidebar-link">$http request</a></li><li><a href="/angularjs/prepare-for-production-grunt.html" class="sidebar-link">Prepare for Production - Grunt</a></li><li><a href="/angularjs/grunt-tasks.html" class="sidebar-link">Grunt tasks</a></li><li><a href="/angularjs/lazy-loading.html" class="sidebar-link">Lazy loading</a></li><li><a href="/angularjs/http-interceptor.html" class="sidebar-link">HTTP Interceptor</a></li><li><a href="/angularjs/session-storage.html" class="sidebar-link">Session storage</a></li><li><a href="/angularjs/angular-mvc.html" class="sidebar-link">Angular MVC</a></li><li><a href="/angularjs/signalr-with-angularjs.html" class="sidebar-link">SignalR with AngularJs</a></li><li><a href="/angularjs/migration-to-angular-2.html" class="sidebar-link">Migration to Angular 2+</a></li><li><a href="/angularjs/angularjs-with-data-filter-pagination-etc.html" class="sidebar-link">angularjs with data filter, pagination etc</a></li><li><a href="/angularjs/profiling-and-performance.html" aria-current="page" class="active sidebar-link">Profiling and Performance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/angularjs/profiling-and-performance.html#_7-simple-performance-improvements" class="sidebar-link">7 Simple Performance Improvements</a></li><li class="sidebar-sub-header"><a href="/angularjs/profiling-and-performance.html#bind-once" class="sidebar-link">Bind Once</a></li><li class="sidebar-sub-header"><a href="/angularjs/profiling-and-performance.html#ng-if-vs-ng-show" class="sidebar-link">ng-if vs ng-show</a></li><li class="sidebar-sub-header"><a href="/angularjs/profiling-and-performance.html#watchers" class="sidebar-link">Watchers</a></li><li class="sidebar-sub-header"><a href="/angularjs/profiling-and-performance.html#always-deregister-listeners-registered-on-other-scopes-other-than-the-current-scope" class="sidebar-link">Always deregister listeners registered on other scopes other than the current scope</a></li><li class="sidebar-sub-header"><a href="/angularjs/profiling-and-performance.html#scope-functions-and-filters" class="sidebar-link">Scope functions and filters</a></li><li class="sidebar-sub-header"><a href="/angularjs/profiling-and-performance.html#debounce-your-model" class="sidebar-link">Debounce Your Model</a></li></ul></li><li><a href="/angularjs/performance-profiling.html" class="sidebar-link">Performance Profiling</a></li><li><a href="/angularjs/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/angularjs/unit-tests.html" class="sidebar-link">Unit tests</a></li><li><a href="/angularjs/angularjs-gotchas-and-traps.html" class="sidebar-link">AngularJS gotchas and traps</a></li><li><a href="/angularjs/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="profiling-and-performance"><a href="#profiling-and-performance" class="header-anchor">#</a> Profiling and Performance</h1> <h2 id="_7-simple-performance-improvements"><a href="#_7-simple-performance-improvements" class="header-anchor">#</a> 7 Simple Performance Improvements</h2> <h3 id="_1-use-ng-repeat-sparingly"><a href="#_1-use-ng-repeat-sparingly" class="header-anchor">#</a> <strong><strong>1) Use ng-repeat sparingly</strong></strong></h3> <p>Using <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat" target="_blank" rel="noopener noreferrer"><strong><code>ng-repeat</code></strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in views generally results in poor performance, particularly when there are nested <code>ng-repeat</code>'s.</p> <p><strong>This is super slow!</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>repeat<span class="token operator">=</span><span class="token string">&quot;user in userCollection&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ng<span class="token operator">-</span>repeat<span class="token operator">=</span><span class="token string">&quot;details in user&quot;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span> <span class="token punctuation">{</span>details<span class="token punctuation">}</span> <span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p>Try to avoid nested repeats as much as possible. One way to improve the performance of <code>ng-repeat</code> is to use <code>track by $index</code> (or some other id field). By default, <code>ng-repeat</code> tracks the whole object. With <code>track by</code>, Angular watches the object only by the <code>$index</code> or object id.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>repeat<span class="token operator">=</span><span class="token string">&quot;user in userCollection track by $index&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span> <span class="token punctuation">{</span>user<span class="token punctuation">.</span>data<span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Use other approaches</strong> like <a href="http://stackoverflow.com/questions/11581209/pagination-on-a-list-using-ng-repeat" target="_blank" rel="noopener noreferrer">pagination<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://stackoverflow.com/questions/33259241/how-can-i-make-an-virtual-scroll-with-angularjs" target="_blank" rel="noopener noreferrer">virtual scrolls<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://stackoverflow.com/questions/21674266/angularjs-infinite-scroll-in-a-container" target="_blank" rel="noopener noreferrer">infinite scrolls<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="http://stackoverflow.com/a/38686531/3612903" target="_blank" rel="noopener noreferrer">limitTo: begin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> whenever possible to avoid iterating over large collections.</p> <h3 id="_2-bind-once"><a href="#_2-bind-once" class="header-anchor">#</a> <strong>2) Bind once</strong></h3> <p>Angular has bidirectional data binding. It comes with a cost of being slow if used too much.</p> <p><strong>Slower Performance</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Default data binding has a performance cost <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span> my<span class="token punctuation">.</span>data <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Faster Performance</strong> (AngularJS &gt;= 1.3)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Bind once is much faster <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span> <span class="token operator">:</span><span class="token operator">:</span>my<span class="token punctuation">.</span>data <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>div ng<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;::my.data&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Use single binding notation <span class="token keyword">in</span> ng<span class="token operator">-</span>repeat where only list display is needed  <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div ng<span class="token operator">-</span>repeat<span class="token operator">=</span><span class="token string">&quot;user in ::userCollection&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token operator">:</span><span class="token operator">:</span>user<span class="token punctuation">.</span>data<span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p>Using the &quot;bind once&quot; notation tells Angular to wait for the value to stabilize after the first series of digest cycles.  Angular will use that value in the DOM, then remove all watchers so that it becomes a static value and is no longer bound to the model.</p> <p>The <code>{ {} }</code> is much slower.</p> <p>This <code>ng-bind</code> is a directive and will place a watcher on the passed variable. So the <code>ng-bind</code> will only apply, when the passed value does actually change.</p> <p>The brackets on the other hand will be dirty checked and refreshed in every <code>$digest</code>, even if it's not necessary.</p> <h3 id="_3-scope-functions-and-filters-take-time"><a href="#_3-scope-functions-and-filters-take-time" class="header-anchor">#</a> <strong>3) Scope functions and filters take time</strong></h3> <p>AngularJS has a digest loop. All your functions are in a view and filters are executed every time the digest cycle runs. The digest loop will be executed whenever the model is updated and it can slow down your app (filter can be hit multiple times before the page is loaded).</p> <p><strong>Avoid this:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>controller<span class="token operator">=</span><span class="token string">&quot;bigCalulations as calc&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span><span class="token function">calculateMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span>data <span class="token operator">|</span> heavyFilter<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Better approach</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>controller<span class="token operator">=</span><span class="token string">&quot;bigCalulations as calc&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span>preCalculatedValue<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span>data <span class="token operator">|</span> lightFilter<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p>Where the controller can be:</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'bigCalulations'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">valueService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// bad, because this is called in every digest loop</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">calculateMe</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            t <span class="token operator">+=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// good, because this is executed just once and logic is separated in service to    keep the controller light</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>preCalulatedValue <span class="token operator">=</span> valueService<span class="token punctuation">.</span><span class="token function">valueCalculation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 499500</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="_4-watchers"><a href="#_4-watchers" class="header-anchor">#</a> <strong>4) Watchers</strong></h3> <p>Watchers tremendously drop performance. With more watchers, the digest loop will take longer and the UI will slow down. If the watcher detects change, it will kick off the digest loop and re-render the view.</p> <p>There are three ways to do manual watching for variable changes in Angular.</p> <p><code>$watch()</code> - watches for value changes</p> <p><code>$watchCollection()</code> - watches for changes in collection (watches more than regular <code>$watch</code>)</p> <p><code>$watch(..., true)</code> - <strong>Avoid this</strong> as much as possible, it will perform &quot;deep watch&quot; and will decline the performance (watches more than <code>watchCollection</code>)</p> <p>Note that if you are binding variables in the view you are creating new watches - use <code>{ {::variable} }</code> to prevent creating a watch, especially in loops.</p> <p>As a result you need to track how many watchers you are using. You can count the watchers with this script (credit to <a href="http://stackoverflow.com/users/569302" target="_blank" rel="noopener noreferrer">@Words Like Jared<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://stackoverflow.com/questions/18499909/how-to-count-total-number-of-watches-on-a-page" target="_blank" rel="noopener noreferrer">Number of watchers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> root <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        watchers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'$scope'</span><span class="token punctuation">,</span> <span class="token string">'$isolateScope'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">scopeProperty</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>scopeProperty<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>scopeProperty<span class="token punctuation">]</span><span class="token punctuation">.</span>$$watchers<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">watcher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                watchers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>watcher<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">childElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">f</span><span class="token punctuation">(</span>angular<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span>childElement<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
    <span class="token function">f</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token comment">// Remove duplicate watchers</span>
    <span class="token keyword">var</span> watchersWithoutDuplicates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>watchers<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>watchersWithoutDuplicates<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            watchersWithoutDuplicates<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>watchersWithoutDuplicates<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="_5-ng-if-ng-show"><a href="#_5-ng-if-ng-show" class="header-anchor">#</a> <strong>5) ng-if / ng-show</strong></h3> <p>These functions are very similar in behavior. <a href="https://docs.angularjs.org/api/ng/directive/ngIf" target="_blank" rel="noopener noreferrer"><strong><code>ng-if</code></strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> removes elements from the DOM while <a href="https://docs.angularjs.org/api/ng/directive/ngShow" target="_blank" rel="noopener noreferrer"><strong><code>ng-show</code></strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> only hides the elements but keeps all handlers. If you have parts of the code you do not want to show, use <code>ng-if</code>.</p> <p>It depends on the type of usage, but often one is more suitable than the other.</p> <li>
If the element is not needed, use `ng-if`
</li> <li>
To quickly toggle on/off, use `ng-show/ng-hide`
<div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>repeat<span class="token operator">=</span><span class="token string">&quot;user in userCollection&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p ng<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;user.hasTreeLegs&quot;</span><span class="token operator">&gt;</span><span class="token constant">I</span> am special<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> some complicated <span class="token constant">DOM</span> <span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p ng<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;user.hasSubscribed&quot;</span><span class="token operator">&gt;</span><span class="token constant">I</span> am awesome<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token keyword">switch</span> <span class="token keyword">this</span> setting on and off <span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div></li> <p>If in doubt - use <code>ng-if</code> and test!</p> <h3 id="_6-disable-debugging"><a href="#_6-disable-debugging" class="header-anchor">#</a> <strong>6) Disable debugging</strong></h3> <p>By default, bind directives and scopes leave extra classes and markup in the code to assist with various debugging tools. Disabling this option means that you no longer render these various elements during the digest cycle.</p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'exampleApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'$compileProvider'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$compileProvider</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $compileProvider<span class="token punctuation">.</span><span class="token function">debugInfoEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="_7-use-dependency-injection-to-expose-your-resources"><a href="#_7-use-dependency-injection-to-expose-your-resources" class="header-anchor">#</a> <strong>7) Use dependency injection to expose your resources</strong></h3> <p>Dependency Injection is a software design pattern in which an object is given its dependencies, rather than the object creating them itself. It is about removing the hard-coded dependencies and making it possible to change them whenever needed.</p> <p>You might wonder about the performance cost associated with such string parsing of all injectable functions. Angular takes care of this by caching the $inject property after the first time. So this doesnâ€™t happen everytime a function needs to be invoked.</p> <p>PRO TIP: If you are looking for the approach with the best performance, go with the $inject property annotation approach. This approach entirely avoids the function definition parsing because this logic is wrapped within the following check in the annotate function: if (!($inject = fn.$inject)). If $inject is already available, no parsing required!</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> app <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'DemoApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">DemoController</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">,</span> h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    h<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.github.com/users/angular/repos'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">repos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        s<span class="token punctuation">.</span>repos <span class="token operator">=</span> repos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// $inject property annotation</span>
DemoController<span class="token punctuation">[</span><span class="token string">'$inject'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'$scope'</span><span class="token punctuation">,</span> <span class="token string">'$http'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'DemoController'</span><span class="token punctuation">,</span> DemoController<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>PRO TIP 2: You can add an <code>ng-strict-di</code> directive on the same element as <code>ng-app</code> to opt into strict DI mode which will throw an error whenever a service tries to use implicit annotations. Example:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>html ng<span class="token operator">-</span>app<span class="token operator">=</span><span class="token string">&quot;DemoApp&quot;</span> ng<span class="token operator">-</span>strict<span class="token operator">-</span>di<span class="token operator">&gt;</span>

</code></pre></div><p>Or if you use manual bootstrapping:</p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">bootstrap</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'DemoApp'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    strictDi<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="bind-once"><a href="#bind-once" class="header-anchor">#</a> Bind Once</h2> <p>Angular has reputation for having awesome bidirectional data binding. By default, Angular continuously synchronizes values bound between model and view components any time data changes in either the model or view component.</p> <p>This comes with a cost of being a bit slow if used too much.  This will have a larger performance hit:</p> <p><strong>Bad performance:</strong> <code>{ {my.data} }</code></p> <p>Add two colons <code>::</code> before the variable name to use one-time binding. In this case, the value only gets updated once my.data is defined. You are explicitly pointing not to watch for data changes. Angular won't perform any value checks, resulting with fewer expressions being evaluated on each digest cycle.</p> <p><strong>Good performance examples using one-time binding</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token operator">:</span><span class="token operator">:</span>my<span class="token punctuation">.</span>data<span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span>span ng<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;::my.data&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span ng<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;::my.data&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span ng<span class="token operator">-</span>repeat<span class="token operator">=</span><span class="token string">&quot;item in ::my.data&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>item<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span ng<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;::{ 'my-class': my.data }&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Note:</strong> This however removes the bi-directional data binding for <code>my.data</code>, so whenever this field changes in your application, the same won't be reflected in the view automatically. So <strong>use it only for values that won't change throughout the lifespan of your application</strong>.</p> <h2 id="ng-if-vs-ng-show"><a href="#ng-if-vs-ng-show" class="header-anchor">#</a> ng-if vs ng-show</h2> <p>These functions are very similar in behaviour. The difference is that <code>ng-if</code> removes elements from the DOM. If there are large parts of the code that will not be shown, then <code>ng-if</code> is the way to go. <code>ng-show</code> will only hide the elements but will keep all the handlers.</p> <h3 id="ng-if"><a href="#ng-if" class="header-anchor">#</a> ng-if</h3> <p>The ngIf directive removes or recreates a portion of the DOM tree based on an expression. If the expression assigned to ngIf evaluates to a false value then the element is removed from the DOM, otherwise a clone of the element is reinserted into the DOM.</p> <h3 id="ng-show"><a href="#ng-show" class="header-anchor">#</a> ng-show</h3> <p>The ngShow directive shows or hides the given HTML element based on the expression provided to the ngShow attribute. The element is shown or hidden by removing or adding the ng-hide CSS class onto the element.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>repeat<span class="token operator">=</span><span class="token string">&quot;user in userCollection&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p ng<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;user.hasTreeLegs&quot;</span><span class="token operator">&gt;</span><span class="token constant">I</span> am special
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> some complicated <span class="token constant">DOM</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p ng<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;user.hasSubscribed&quot;</span><span class="token operator">&gt;</span><span class="token constant">I</span> am aweosme
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token keyword">switch</span> <span class="token keyword">this</span> setting on and off <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><h3 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h3> <p>It depends from the type of usage, but often one is more suitable than the other (e.g., if 95% of the time the element is not needed, use <code>ng-if</code>; if you need to toggle the DOM element's visibility, use <code>ng-show</code>).</p> <p>When in doubt, use <code>ng-if</code> and test!</p> <p><strong>Note</strong>: <code>ng-if</code> creates a new isolated scope, whereas <code>ng-show</code> and <code>ng-hide</code> don't. Use <code>$parent.property</code> if parent scope property is not directly accessible in it.</p> <h2 id="watchers"><a href="#watchers" class="header-anchor">#</a> Watchers</h2> <p>Watchers needed for watch some value and detect that this value is changed.</p> <p>After call <code>$watch()</code> or <code>$watchCollection</code> new watcher add to internal watcher collection in current scope.</p> <h3 id="so-what-is-watcher"><a href="#so-what-is-watcher" class="header-anchor">#</a> So, what is watcher?</h3> <p>Watcher is a simple function, which is called on every digest cycle, and returns some value. Angular checks the returned value, if it is not the same as it was on the previous call - a callback that was passed in second parameter to function <code>$watch()</code> or <code>$watchCollection</code> will be executed.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">&quot;ctrl&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$scope</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $scope<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    $scope<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>
      <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> $scope<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;value changed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Watchers are performance killers. The more watchers you have, the longer they take to make a digest loop, the slower UI. If a watcher detects changes, it will kick off the digest loop (recalculation on all screen)</p> <p>There are three ways to do manual watch for variable changes in Angular.</p> <p><code>$watch()</code> - just watches for value changes</p> <p><code>$watchCollection()</code> - watches for changes in collection (watches more than regular $watch)</p> <p><code>$watch(..., true)</code> - <strong>Avoid this</strong> as much as possible, it will perform &quot;deep watch&quot; and will kill the performance (watches more than watchCollection)</p> <p>Note that if you are binding variables in the view, you are creating new watchers - use <code>{ {::variable} }</code> not to create watcher, especially in loops</p> <p>As a result you need to track how many watchers are you using. You can count the watchers with this script (credit to <a href="http://stackoverflow.com/users/569302" target="_blank" rel="noopener noreferrer">@Words Like Jared<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - <a href="http://stackoverflow.com/questions/18499909/" target="_blank" rel="noopener noreferrer">How to count total number of watches on a page?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> root <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      watchers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;$scope&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;$isolateScope&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">scopeProperty</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>scopeProperty<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>scopeProperty<span class="token punctuation">]</span><span class="token punctuation">.</span>$$watchers<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">watcher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          watchers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>watcher<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">childElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">f</span><span class="token punctuation">(</span>angular<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span>childElement<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">f</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Remove duplicate watchers</span>
  <span class="token keyword">var</span> watchersWithoutDuplicates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  angular<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>watchers<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>watchersWithoutDuplicates<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      watchersWithoutDuplicates<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>watchersWithoutDuplicates<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>If you don't want to create your own script, there is an open source utility called <a href="https://github.com/kentcdodds/ng-stats" target="_blank" rel="noopener noreferrer">ng-stats<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that uses a real-time chart embedded into the page to give you insight into the number of watches Angular is managing, as well as the frequency and duration of digest cycles over time. The utility exposes a global function named <code>showAngularStats</code> that you can call to configure how you want the chart to work.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">showAngularStats</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">&quot;position&quot;</span><span class="token operator">:</span> <span class="token string">&quot;topleft&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;digestTimeThreshold&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token string">&quot;autoload&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">&quot;logDigest&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">&quot;logWatches&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The example code above displays the following chart on the page automatically (<a href="http://kentcdodds.com/ng-stats/" target="_blank" rel="noopener noreferrer">interactive demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <p><a href="http://i.stack.imgur.com/x5e1A.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/x5e1A.png" alt="screenshot of ng-stats chart"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="always-deregister-listeners-registered-on-other-scopes-other-than-the-current-scope"><a href="#always-deregister-listeners-registered-on-other-scopes-other-than-the-current-scope" class="header-anchor">#</a> Always deregister listeners registered on other scopes other than the current scope</h2> <p>You must always unregister scopes other then your current scope as shown below:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//always deregister these</span>
$rootScope<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$scope<span class="token punctuation">.</span>$parent<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>You don't have to deregister listners on current scope as angular would take care of it:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//no need to deregister this</span>
$scope<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><code>$rootScope.$on</code> listeners will remain in memory if you navigate to another controller. This will create a memory leak if the controller falls out of scope.</p> <p><strong>Don't</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'badExampleController'</span><span class="token punctuation">,</span> badExample<span class="token punctuation">)</span><span class="token punctuation">;</span>
badExample<span class="token punctuation">.</span>$inject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'$scope'</span><span class="token punctuation">,</span> <span class="token string">'$rootScope'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">badExample</span><span class="token punctuation">(</span><span class="token parameter">$scope<span class="token punctuation">,</span> $rootScope</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $rootScope<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'post:created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">postCreated</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Do</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'goodExampleController'</span><span class="token punctuation">,</span> goodExample<span class="token punctuation">)</span><span class="token punctuation">;</span>
goodExample<span class="token punctuation">.</span>$inject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'$scope'</span><span class="token punctuation">,</span> <span class="token string">'$rootScope'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">goodExample</span><span class="token punctuation">(</span><span class="token parameter">$scope<span class="token punctuation">,</span> $rootScope</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> deregister <span class="token operator">=</span> $rootScope<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'post:created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">postCreated</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    $scope<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'$destroy'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">destroyScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">deregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="scope-functions-and-filters"><a href="#scope-functions-and-filters" class="header-anchor">#</a> Scope functions and filters</h2> <p>AngularJS has digest loop and all your functions in a view and filters are executed every time the digest cycle is run. The digest loop will be executed whenever the model is updated and it can slow down your app (filter can be hit multiple times, before the page is loaded).</p> <p><strong>You should avoid this:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>controller<span class="token operator">=</span><span class="token string">&quot;bigCalulations as calc&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span><span class="token function">calculateMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span>data <span class="token operator">|</span> heavyFilter<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Better approach</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>controller<span class="token operator">=</span><span class="token string">&quot;bigCalulations as calc&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span>preCalculatedValue<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>calc<span class="token punctuation">.</span>data <span class="token operator">|</span> lightFilter<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p>Where controller sample is:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">&quot;bigCalulations&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">valueService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// bad, because this is called in every digest loop</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">calculateMe</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      t <span class="token operator">=</span> t <span class="token operator">+</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> t<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//good, because it is executed just once and logic is separated in service to    keep the controller light</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>preCalulatedValue <span class="token operator">=</span> valueService<span class="token punctuation">.</span><span class="token function">caluclateSumm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 499500</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="debounce-your-model"><a href="#debounce-your-model" class="header-anchor">#</a> Debounce Your Model</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>controller<span class="token operator">=</span><span class="token string">&quot;ExampleController&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>form name<span class="token operator">=</span><span class="token string">&quot;userForm&quot;</span><span class="token operator">&gt;</span>
        Name<span class="token operator">:</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;userName&quot;</span>
           ng<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;user.name&quot;</span>
           ng<span class="token operator">-</span>model<span class="token operator">-</span>options<span class="token operator">=</span><span class="token string">&quot;{ debounce: 1000 }&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button ng<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;userForm.userName.$rollbackViewValue();   user.name=''&quot;</span><span class="token operator">&gt;</span>Clear<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>pre<span class="token operator">&gt;</span>user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">/</span>pre<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p>The above example we are setting a debounce value of 1000 milliseconds which is 1 second. This is a considerable delay, but will prevent the input from repeatedly thrashing <code>ng-model</code> with many <code>$digest</code> cycles.</p> <p>By using debounce on your input fields and anywhere else where an instant update is not required, you can increase the performance of your Angular apps quite substantially. Not only can you delay by time, but you can also delay when the action gets triggered. If you donâ€™t want to update your ng-model on every keystroke, you can also update on blur as well.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/angularjs/profiling-and-performance.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/angularjs/angularjs-with-data-filter-pagination-etc.html" class="prev">
        angularjs with data filter, pagination etc
      </a></span> <span class="next"><a href="/angularjs/performance-profiling.html">
        Performance Profiling
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/459.a1ba873b.js" defer></script>
  </body>
</html>
