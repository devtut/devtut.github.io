<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AngularJS - Custom Directives</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Creating and consuming custom directives, Directive Definition Object Template, How to create resuable component using directive, Basic Directive example, Basic directive with template and an isolated scope, Building a reusable component, Directive decorator, Directive inheritance and interoperability">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="AngularJS - Custom Directives">
    <meta property="og:description" content="Creating and consuming custom directives, Directive Definition Object Template, How to create resuable component using directive, Basic Directive example, Basic directive with template and an isolated scope, Building a reusable component, Directive decorator, Directive inheritance and interoperability">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/angularjs/custom-directives.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="AngularJS - Custom Directives">
    <meta name="twitter:description" content="Creating and consuming custom directives, Directive Definition Object Template, How to create resuable component using directive, Basic Directive example, Basic directive with template and an isolated scope, Building a reusable component, Directive decorator, Directive inheritance and interoperability">
    <meta name="twitter:url" content="/angularjs/custom-directives.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/430.567025ed.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>AngularJS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/angularjs/" class="sidebar-link">Disclaimer</a></li><li><a href="/angularjs/getting-started-with-angularjs.html" class="sidebar-link">Getting started with AngularJS</a></li><li><a href="/angularjs/modules.html" class="sidebar-link">Modules</a></li><li><a href="/angularjs/components.html" class="sidebar-link">Components</a></li><li><a href="/angularjs/built-in-directives.html" class="sidebar-link">Built-in directives</a></li><li><a href="/angularjs/use-of-in-built-directives.html" class="sidebar-link">Use of in-built directives</a></li><li><a href="/angularjs/custom-directives.html" class="active sidebar-link">Custom Directives</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#creating-and-consuming-custom-directives" class="sidebar-link">Creating and consuming custom directives</a></li><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#directive-definition-object-template" class="sidebar-link">Directive Definition Object Template</a></li><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#how-to-create-resuable-component-using-directive" class="sidebar-link">How to create resuable component using directive</a></li><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#basic-directive-example" class="sidebar-link">Basic Directive example</a></li><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#basic-directive-with-template-and-an-isolated-scope" class="sidebar-link">Basic directive with template and an isolated scope</a></li><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#building-a-reusable-component" class="sidebar-link">Building a reusable component</a></li><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#directive-decorator" class="sidebar-link">Directive decorator</a></li><li class="sidebar-sub-header"><a href="/angularjs/custom-directives.html#directive-inheritance-and-interoperability" class="sidebar-link">Directive inheritance and interoperability</a></li></ul></li><li><a href="/angularjs/how-data-binding-works.html" class="sidebar-link">How data binding works</a></li><li><a href="/angularjs/angular-project-directory-structure.html" class="sidebar-link">Angular Project - Directory Structure</a></li><li><a href="/angularjs/filters.html" class="sidebar-link">Filters</a></li><li><a href="/angularjs/custom-filters.html" class="sidebar-link">Custom filters</a></li><li><a href="/angularjs/constants.html" class="sidebar-link">Constants</a></li><li><a href="/angularjs/custom-filters-with-es6.html" class="sidebar-link">Custom filters with ES6</a></li><li><a href="/angularjs/directives-using-ngmodelcontroller.html" class="sidebar-link">Directives using ngModelController</a></li><li><a href="/angularjs/controllers.html" class="sidebar-link">Controllers</a></li><li><a href="/angularjs/controllers-with-es6.html" class="sidebar-link">Controllers with ES6</a></li><li><a href="/angularjs/the-self-or-this-variable-in-a-controller.html" class="sidebar-link">The Self Or This Variable In A Controller</a></li><li><a href="/angularjs/services.html" class="sidebar-link">Services</a></li><li><a href="/angularjs/distinguishing-service-vs-factory.html" class="sidebar-link">Distinguishing Service vs Factory</a></li><li><a href="/angularjs/angular-promises-with-q-service.html" class="sidebar-link">Angular promises with $q service</a></li><li><a href="/angularjs/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/angularjs/events.html" class="sidebar-link">Events</a></li><li><a href="/angularjs/sharing-data.html" class="sidebar-link">Sharing Data</a></li><li><a href="/angularjs/form-validation.html" class="sidebar-link">Form Validation</a></li><li><a href="/angularjs/routing-using-ngroute.html" class="sidebar-link">Routing using ngRoute</a></li><li><a href="/angularjs/ng-class-directive.html" class="sidebar-link">ng-class directive</a></li><li><a href="/angularjs/ng-repeat.html" class="sidebar-link">ng-repeat</a></li><li><a href="/angularjs/ng-style.html" class="sidebar-link">ng-style</a></li><li><a href="/angularjs/ng-view.html" class="sidebar-link">ng-view</a></li><li><a href="/angularjs/angularjs-bindings-options-etc.html" class="sidebar-link">AngularJS bindings options (=, @, &amp; etc.)</a></li><li><a href="/angularjs/providers.html" class="sidebar-link">Providers</a></li><li><a href="/angularjs/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/angularjs/print.html" class="sidebar-link">Print</a></li><li><a href="/angularjs/ui-router.html" class="sidebar-link">ui-router</a></li><li><a href="/angularjs/built-in-helper-functions.html" class="sidebar-link">Built-in helper Functions</a></li><li><a href="/angularjs/digest-loop-walkthrough.html" class="sidebar-link">digest loop walkthrough</a></li><li><a href="/angularjs/angular-scopes.html" class="sidebar-link">Angular $scopes</a></li><li><a href="/angularjs/using-angularjs-with-typescript.html" class="sidebar-link">Using AngularJS with TypeScript</a></li><li><a href="/angularjs/http-request.html" class="sidebar-link">$http request</a></li><li><a href="/angularjs/prepare-for-production-grunt.html" class="sidebar-link">Prepare for Production - Grunt</a></li><li><a href="/angularjs/grunt-tasks.html" class="sidebar-link">Grunt tasks</a></li><li><a href="/angularjs/lazy-loading.html" class="sidebar-link">Lazy loading</a></li><li><a href="/angularjs/http-interceptor.html" class="sidebar-link">HTTP Interceptor</a></li><li><a href="/angularjs/session-storage.html" class="sidebar-link">Session storage</a></li><li><a href="/angularjs/angular-mvc.html" class="sidebar-link">Angular MVC</a></li><li><a href="/angularjs/signalr-with-angularjs.html" class="sidebar-link">SignalR with AngularJs</a></li><li><a href="/angularjs/migration-to-angular-2.html" class="sidebar-link">Migration to Angular 2+</a></li><li><a href="/angularjs/angularjs-with-data-filter-pagination-etc.html" class="sidebar-link">angularjs with data filter, pagination etc</a></li><li><a href="/angularjs/profiling-and-performance.html" class="sidebar-link">Profiling and Performance</a></li><li><a href="/angularjs/performance-profiling.html" class="sidebar-link">Performance Profiling</a></li><li><a href="/angularjs/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/angularjs/unit-tests.html" class="sidebar-link">Unit tests</a></li><li><a href="/angularjs/angularjs-gotchas-and-traps.html" class="sidebar-link">AngularJS gotchas and traps</a></li><li><a href="/angularjs/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="custom-directives"><a href="#custom-directives" class="header-anchor">#</a> Custom Directives</h1> <p>Here you will learn about the Directives feature of AngularJS. Below you will find information on what Directives are, as well as Basic and Advanced examples of how to use them.</p> <h2 id="creating-and-consuming-custom-directives"><a href="#creating-and-consuming-custom-directives" class="header-anchor">#</a> Creating and consuming custom directives</h2> <p>Directives are one of the most powerful features of angularjs. Custom angularjs directives are used to extend functionality of html by creating new html elements or custom attributes to provide certain behavior to an html tag.</p> <p><strong>directive.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create the App module if you haven't created it yet</span>
<span class="token keyword">var</span> demoApp<span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;demoApp&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// If you already have the app module created, comment the above line and create a reference of the app module</span>
<span class="token keyword">var</span> demoApp <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">&quot;demoApp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 


<span class="token comment">// Create a directive using the below syntax</span>
<span class="token comment">// Directives are used to extend the capabilities of html element </span>
<span class="token comment">// You can either create it as an Element/Attribute/class      </span>
<span class="token comment">// We are creating a directive named demoDirective. Notice it is in CamelCase when we are defining the directive just like ngModel</span>
<span class="token comment">// This directive will be activated as soon as any this element is encountered in html</span>

demoApp<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'demoDirective'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token comment">// This returns a directive definition object</span>
  <span class="token comment">// A directive definition object is a simple JavaScript object used for configuring the directive’s behaviour,template..etc</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// restrict: 'AE', signifies that directive is Element/Attribute directive, </span>
    <span class="token comment">// &quot;E&quot; is for element, &quot;A&quot; is for attribute, &quot;C&quot; is for class, and &quot;M&quot; is for comment. </span>
    <span class="token comment">// Attributes are going to be the main ones as far as adding behaviors that get used the most.</span>
    <span class="token comment">// If you don't specify the restrict property it will default to &quot;A&quot;</span>
    restrict <span class="token operator">:</span><span class="token string">'AE'</span><span class="token punctuation">,</span>  

    <span class="token comment">// The values of scope property decides how the actual scope is created and used inside a directive. These values can be either “false”, “true” or “{}”. This creates an isolate scope for the directive.</span>
    <span class="token comment">// '@' binding is for passing strings. These strings support { {} } expressions for interpolated values.</span>
    <span class="token comment">// '=' binding is for two-way model binding. The model in parent scope is linked to the model in the directive's isolated scope.</span>
    <span class="token comment">// '&amp;' binding is for passing a method into your directive's scope so that it can be called within your directive. </span>
    <span class="token comment">// The method is pre-bound to the directive's parent scope, and supports arguments.</span>
    scope<span class="token operator">:</span> <span class="token punctuation">{</span> 
      name<span class="token operator">:</span> <span class="token string">&quot;@&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// Always use small casing here even if it's a mix of 2-3 words</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>                  

    <span class="token comment">// template replaces the complete element with its text. </span>
    template<span class="token operator">:</span> <span class="token string">&quot;&lt;div&gt;Hello { {name} }!&lt;/div&gt;&quot;</span><span class="token punctuation">,</span>
                
    <span class="token comment">// compile is called during application initialization. AngularJS calls it once when html page is loaded.</span>
    <span class="token function-variable function">compile</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> attributes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;border&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1px solid #cccccc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    
      <span class="token comment">// linkFunction is linked with each element with scope to get the element specific data.</span>
      <span class="token keyword">var</span> <span class="token function-variable function">linkFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$scope<span class="token punctuation">,</span> element<span class="token punctuation">,</span> attributes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;Name: &lt;b&gt;&quot;</span><span class="token operator">+</span>$scope<span class="token punctuation">.</span>name <span class="token operator">+</span><span class="token string">&quot;&lt;/b&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        element<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;background-color&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#ff00ff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> linkFunction<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This directive can then be used in App as :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
   
   <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Angular <span class="token constant">JS</span> Directives<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>script src <span class="token operator">=</span> <span class="token string">&quot;http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;directive.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>   
    <span class="token operator">&lt;</span>div ng<span class="token operator">-</span>app <span class="token operator">=</span> <span class="token string">&quot;demoApp&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Notice we are using Spinal Casing here <span class="token operator">--</span><span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>demo<span class="token operator">-</span>directive name<span class="token operator">=</span><span class="token string">&quot;World&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>demo<span class="token operator">-</span>directive<span class="token operator">&gt;</span>
     
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre></div><h2 id="directive-definition-object-template"><a href="#directive-definition-object-template" class="header-anchor">#</a> Directive Definition Object Template</h2> <div class="language-js extra-class"><pre class="language-js"><code>demoApp<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'demoDirective'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> directiveDefinitionObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    multiElement<span class="token operator">:</span>  
    priority<span class="token operator">:</span>
    terminal<span class="token operator">:</span>
    scope<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  
    bindToController<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    controller<span class="token operator">:</span>
    controllerAs<span class="token operator">:</span>
    require<span class="token operator">:</span>
    restrict<span class="token operator">:</span>
    templateNamespace<span class="token operator">:</span>
    template<span class="token operator">:</span>
    templateUrl<span class="token operator">:</span>
    transclude<span class="token operator">:</span>
    compile<span class="token operator">:</span> 
    <span class="token function-variable function">link</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>                                  
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> directiveDefinitionObject<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><ol><li><strong><code>multiElement</code></strong> - set to true and any DOM nodes between the start and end of the directive name will be collected and grouped together as directive elements</li> <li><strong><code>priority</code></strong> - allows specification of the order to apply directives when multiple directives are defined on a single DOM element. Directives with higher numbers are compiled first.</li> <li><strong><code>terminal</code></strong> - set to true and the current priority will be the last set of directives to execute</li> <li><strong><code>scope</code></strong> - sets scope of the directive</li> <li><strong><code>bind to controller</code></strong> - binds scope properties directly to directive controller</li> <li><strong><code>controller</code></strong> - controller constructor function</li> <li><strong><code>require</code></strong> - require another directive and inject its controller as the fourth argument to the linking function</li> <li><strong><code>controllerAs</code></strong> - name reference to the controller in the directive scope to allow the controller to be referenced from the directive template.</li> <li><strong><code>restrict</code></strong> - restrict directive to Element, Attribute, Class, or Comment</li> <li><strong><code>templateNameSpace</code></strong> - sets document type used by directive template: html, svg, or math. html is the default</li> <li><strong><code>template</code></strong> - html markup that defaults to replacing the content of the directive's element, or wraps the contents of the directive element if transclude is true</li> <li><strong><code>templateUrl</code></strong> - url provided asynchronously for the template</li> <li><strong><code>transclude</code></strong> - Extract the contents of the element where the directive appears and make it available to the directive. The contents are compiled and provided to the directive as a transclusion function.</li> <li><strong><code>compile</code></strong> - function to transform the template DOM</li> <li><strong><code>link</code></strong> - only used if the compile property is not defined. The link function is responsible for registering DOM listeners as well as updating the DOM. It is executed after the template has been cloned.</li></ol> <h2 id="how-to-create-resuable-component-using-directive"><a href="#how-to-create-resuable-component-using-directive" class="header-anchor">#</a> How to create resuable component using directive</h2> <p>AngularJS directives are what controls the rendering of the HTML inside an AngularJS application. They can be an Html element, attribute, class or a comment. Directives are used to manipulate the DOM, attaching new behavior to HTML elements, data binding and many more. Some of examples of directives which angular provides are ng-model, ng-hide, ng-if.</p> <p>Similarly one can create his own custom directive and make them resuable. For creating Custom directives <a href="http://stackoverflow.com/documentation/angularjs/965/custom-directives/3151/creating-and-consuming-custom-directives#t=201607221330234981046" target="_blank" rel="noopener noreferrer">Reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The sense behind creating reusable directives is to make a set of directives/components written by you just like angularjs provides us using angular.js . These reusable directives can be particularly very helpful when you have suite of applications/application which requires a consistent behavior, look and feel. An example of such reusable component can be a simple toolbar which you may want to use across your application or different applications but you want them to behave the same or look the same.</p> <p>Firstly , Make a folder named resuableComponents in your app Folder and make reusableModuleApp.js</p> <p><strong>reusableModuleApp.js:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

 <span class="token keyword">var</span> reusableModuleApp <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'resuableModuleApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'ngSanitize'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">//Remember whatever dependencies you have in here should be injected in the app module where it is intended to be used or it's scripts should be included in your main app  </span>
                               <span class="token comment">//We will be injecting ng-sanitize</span>

 resubaleModuleApp<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'toolbar'</span><span class="token punctuation">,</span> toolbar<span class="token punctuation">)</span>

 toolbar<span class="token punctuation">.</span>$inject<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'$sce'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

 <span class="token keyword">function</span> <span class="token function">toolbar</span><span class="token punctuation">(</span><span class="token parameter">$sce</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

     <span class="token keyword">return</span><span class="token punctuation">{</span> 
     restrict <span class="token operator">:</span><span class="token string">'AE'</span><span class="token punctuation">,</span>
        <span class="token comment">//Defining below isolate scope actually provides window for the directive to take data from app that will be using this.</span>
        scope <span class="token operator">:</span> <span class="token punctuation">{</span>
                value1<span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
                value2<span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>

         <span class="token punctuation">}</span>
     template <span class="token operator">:</span> <span class="token string">'&lt;ul&gt;  &lt;li&gt;&lt;a ng-click=&quot;Add()&quot; href=&quot;&quot;&gt;{ {value1} }&lt;/a&gt;&lt;/li&gt;  &lt;li&gt;&lt;a ng-click=&quot;Edit()&quot; href=&quot;#&quot;&gt;{ {value2} }&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; '</span><span class="token punctuation">,</span>
         <span class="token function-variable function">link</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> element<span class="token punctuation">,</span> attrs</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           
              <span class="token comment">//Handle's Add function</span>
              scope<span class="token punctuation">.</span><span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>


              <span class="token punctuation">}</span><span class="token punctuation">;</span>

              <span class="token comment">//Handle's Edit function</span>
              scope<span class="token punctuation">.</span><span class="token function-variable function">Edit</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

              <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>mainApp.js:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">var</span> mainApp <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'mainApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'reusableModuleApp'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Inject resuableModuleApp in your application where you want to use toolbar component</span>
   
   mainApp<span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'mainAppController'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$scope</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      $scope<span class="token punctuation">.</span>value1 <span class="token operator">=</span> <span class="token string">&quot;Add&quot;</span><span class="token punctuation">;</span>
      $scope<span class="token punctuation">.</span>value2 <span class="token operator">=</span> <span class="token string">&quot;Edit&quot;</span><span class="token punctuation">;</span> 
   
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>index.html:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>
&lt;!doctype html&gt;
 &lt;html ng-app=&quot;mainApp&quot;&gt;
 &lt;head&gt;
  &lt;title&gt; Demo Making a reusable component
 &lt;head&gt;
  &lt;body ng-controller=&quot;mainAppController&quot;&gt;
   
     &lt;!-- We are providing data to toolbar directive using mainApp'controller --&gt;
     &lt;toolbar value1=&quot;value1&quot; value2=&quot;value2&quot;&gt;&lt;/toolbar&gt;
  
    &lt;!-- We need to add the dependent js files on both apps here --&gt;
     &lt;script src=&quot;js/angular.js&quot;&gt;&lt;/script&gt;
     &lt;script src=&quot;js/angular-sanitize.js&quot;&gt;&lt;/script&gt;
    
     &lt;!-- your mainApp.js should be added afterwards ---&gt;
      &lt;script src=&quot;mainApp.js&quot;&gt;&lt;/script&gt;

     &lt;!-- Add your reusable component js files here --&gt;
      &lt;script src=&quot;resuableComponents/reusableModuleApp.js&quot;&gt;&lt;/script&gt;

  &lt;/body&gt;
 &lt;/html&gt;

</code></pre></div><p>Directive are reusable components by default. When you make directives in separate angular module, It actually makes it exportable and reusable across different angularJs applications.
New directives can simply be added inside reusableModuleApp.js and  reusableModuleApp can have it's own controller, services, DDO object inside directive to define the behavior.</p> <h2 id="basic-directive-example"><a href="#basic-directive-example" class="header-anchor">#</a> Basic Directive example</h2> <p><strong>superman-directive.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'myApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'superman'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// restricts how the directive can be used</span>
      restrict<span class="token operator">:</span> <span class="token string">'E'</span><span class="token punctuation">,</span>
      templateUrl<span class="token operator">:</span> <span class="token string">'superman-template.html'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">controller</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">&quot;I'm superman!&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      controllerAs<span class="token operator">:</span> <span class="token string">'supermanCtrl'</span><span class="token punctuation">,</span>
      <span class="token comment">// Executed after Angular's initialization. Use commonly </span>
      <span class="token comment">// for adding event handlers and DOM manipulation</span>
      <span class="token function-variable function">link</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> element<span class="token punctuation">,</span> attributes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'I am superman!'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>superman-template.html</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>supermanCtrl<span class="token punctuation">.</span>message<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>

</code></pre></div><p><strong>index.html</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;superman-directive.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div ng<span class="token operator">-</span>app<span class="token operator">=</span><span class="token string">&quot;myApp&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>superman<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>superman<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre></div><p>You can check out more about directive's <code>restrict</code> and <code>link</code> functions on <a href="https://docs.angularjs.org/guide/directive" target="_blank" rel="noopener noreferrer">AngularJS's official documentation on Directives<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="basic-directive-with-template-and-an-isolated-scope"><a href="#basic-directive-with-template-and-an-isolated-scope" class="header-anchor">#</a> Basic directive with template and an isolated scope</h2> <p>Creating a custom directive with <strong>isolated scope</strong> will separate the scope <strong>inside</strong> the directive from the <strong>outside</strong> scope, in order to prevent our directive from accidentally change the data in the parent scope and restricting it from reading private data from the parent scope.</p> <p>To create an isolated scope and still allow our custom directive to communicate with the outside scope, we can use the <code>scope</code> option that describe how to <strong>map</strong> the bindings of the directive's inner scope with the outside scope.</p> <p>The actual bindings are made with extra <strong>attributes</strong> attached to the directive. The binding settings are defined with the <code>scope</code> option and an object with key-value pairs:</p> <ul><li><p>A <strong>key</strong>, which is corresponded to our directive's isolated scope property</p></li> <li><p>A <strong>value</strong>, which tells Angular how do bind the directive inner scope to a matching <strong>attribute</strong></p></li></ul> <p>Simple example of a directive with an isolated scope:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">ProgressBar</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    scope<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// This is how we define an isolated scope</span>
      current<span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span> <span class="token comment">// Create a REQUIRED bidirectional binding by using the 'current' attribute</span>
      full<span class="token operator">:</span> <span class="token string">'=?maxValue'</span> <span class="token comment">// Create an OPTIONAL (Note the '?'): bidirectional binding using 'max-value' attribute to the `full` property in our directive isolated scope </span>
    <span class="token punctuation">}</span>
    template<span class="token operator">:</span> <span class="token string">'&lt;div class=&quot;progress-back&quot;&gt;'</span> <span class="token operator">+</span>
              <span class="token string">'  &lt;div class=&quot;progress-bar&quot;'</span> <span class="token operator">+</span>
              <span class="token string">'       ng-style=&quot;{width: getProgress()}&quot;&gt;'</span> <span class="token operator">+</span>
              <span class="token string">'  &lt;/div&gt;'</span> <span class="token operator">+</span> 
              <span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">link</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> el<span class="token punctuation">,</span> attrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>scope<span class="token punctuation">.</span>full <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        scope<span class="token punctuation">.</span>full <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      scope<span class="token punctuation">.</span><span class="token function-variable function">getProgress</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>scope<span class="token punctuation">.</span>current <span class="token operator">/</span> scope<span class="token punctuation">.</span>size <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ProgressBar<span class="token punctuation">.</span>$inject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'progressBar'</span><span class="token punctuation">,</span> ProgressBar<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Example how to use this directive and bind data from the controller's scope to the directive's inner scope:</p> <p><strong>Controller:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'myCtrl'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$scope</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $scope<span class="token punctuation">.</span>currentProgressValue <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span>
    $scope<span class="token punctuation">.</span>maxProgressBarValue <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>View:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div ng<span class="token operator">-</span>controller<span class="token operator">=</span><span class="token string">&quot;myCtrl&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>progress<span class="token operator">-</span>bar current<span class="token operator">=</span><span class="token string">&quot;currentProgressValue&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>progress<span class="token operator">-</span>bar<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>progress<span class="token operator">-</span>bar current<span class="token operator">=</span><span class="token string">&quot;currentProgressValue&quot;</span> max<span class="token operator">-</span>value<span class="token operator">=</span><span class="token string">&quot;maxProgressBarValue&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>progress<span class="token operator">-</span>bar<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><h2 id="building-a-reusable-component"><a href="#building-a-reusable-component" class="header-anchor">#</a> Building a reusable component</h2> <p>Directives can be used to build reusable components. Here is an example of a &quot;user box&quot; component:</p> <p><strong>userBox.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'simpleDirective'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'userBox'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    scope<span class="token operator">:</span> <span class="token punctuation">{</span>
        username<span class="token operator">:</span> <span class="token string">'=username'</span><span class="token punctuation">,</span>
        reputation<span class="token operator">:</span> <span class="token string">'=reputation'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    templateUrl<span class="token operator">:</span> <span class="token string">'/path/to/app/directives/user-box.html'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>Controller.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> myApp <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'myApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'simpleDirective'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

myApp<span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'Controller'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$scope</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    $scope<span class="token punctuation">.</span>user <span class="token operator">=</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">;</span>
    $scope<span class="token punctuation">.</span>rep <span class="token operator">=</span> <span class="token number">1250</span><span class="token punctuation">;</span>

    $scope<span class="token punctuation">.</span>user2 <span class="token operator">=</span> <span class="token string">&quot;Andrew&quot;</span><span class="token punctuation">;</span>
    $scope<span class="token punctuation">.</span>rep2 <span class="token operator">=</span> <span class="token number">2850</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>myPage.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span> ng<span class="token operator">-</span>app<span class="token operator">=</span><span class="token string">&quot;myApp&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;/path/to/app/angular.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;/path/to/app/js/controllers/Controller.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;/path/to/app/js/directives/userBox.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  
    <span class="token operator">&lt;</span>div ng<span class="token operator">-</span>controller<span class="token operator">=</span><span class="token string">&quot;Controller&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>user<span class="token operator">-</span>box username<span class="token operator">=</span><span class="token string">&quot;user&quot;</span> reputation<span class="token operator">=</span><span class="token string">&quot;rep&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>user<span class="token operator">-</span>box<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>user<span class="token operator">-</span>box username<span class="token operator">=</span><span class="token string">&quot;user2&quot;</span> reputation<span class="token operator">=</span><span class="token string">&quot;rep2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>user<span class="token operator">-</span>box<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    
  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre></div><p><strong>user-box.html</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>username<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>reputation<span class="token punctuation">}</span> <span class="token punctuation">}</span> reputation<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div><p><strong>The result will be:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>John Doe
<span class="token number">1250</span> reputation
Andrew
<span class="token number">2850</span> reputation

</code></pre></div><h2 id="directive-decorator"><a href="#directive-decorator" class="header-anchor">#</a> Directive decorator</h2> <p>Sometimes you may need additional features from a directive. Instead of rewriting (copy) the directive, you can modify how the directive behaves.</p> <p>The decorator will be executed during $inject phase.</p> <p>To do so, provde a .config to your module.
The directive is called myDirective, so you have to config myDirectiveDirective. (this in an angular convention [read about providers] ).</p> <p>This example will change the templateUrl of the directive:</p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'myApp'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$provide</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        $provide<span class="token punctuation">.</span><span class="token function">decorator</span><span class="token punctuation">(</span><span class="token string">'myDirectiveDirective'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$delegate</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
             <span class="token keyword">var</span> directive <span class="token operator">=</span> $delegate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// this is the actual delegated, your directive</span>
             directive<span class="token punctuation">.</span>templateUrl <span class="token operator">=</span> <span class="token string">'newTemplate.html'</span><span class="token punctuation">;</span> <span class="token comment">// you change the directive template</span>
        <span class="token keyword">return</span> $delegate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This example add an onClick event to the directive element when clicked, this happens during compile phase.</p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'myApp'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$provide</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        $provide<span class="token punctuation">.</span><span class="token function">decorator</span><span class="token punctuation">(</span><span class="token string">'myDirectiveTwoDirective'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$delegate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> directive <span class="token operator">=</span> $delegate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> link <span class="token operator">=</span> directive<span class="token punctuation">.</span>link<span class="token punctuation">;</span> <span class="token comment">// this is directive link phase</span>
            directive<span class="token punctuation">.</span><span class="token function-variable function">compile</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// change the compile of that directive</span>
                <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> element<span class="token punctuation">,</span> attrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">link</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// apply this at the link phase</span>
                    element<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// when add an onclick that log hello when the directive is clicked.</span>
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> $delegate<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Similar approach can be used for both Providers and Services.</p> <h2 id="directive-inheritance-and-interoperability"><a href="#directive-inheritance-and-interoperability" class="header-anchor">#</a> Directive inheritance and interoperability</h2> <p>Angular js directives can be nested or be made interoperable.</p> <p>In this example, directive Adir exposes to directive Bdir it's controller $scope, since Bdir requires Adir.</p> <div class="language-js extra-class"><pre class="language-js"><code>angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'myApp'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'Adir'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            restrict<span class="token operator">:</span> <span class="token string">'AE'</span><span class="token punctuation">,</span>
            controller<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'$scope'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$scope</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    $scope<span class="token punctuation">.</span><span class="token function-variable function">logFn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>Make sure to set require: '^Adir' (look at the angular documentation, some versions doesn't require ^ character).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'Bdir'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            restrict<span class="token operator">:</span> <span class="token string">'AE'</span><span class="token punctuation">,</span>
            require<span class="token operator">:</span> <span class="token string">'^Adir'</span><span class="token punctuation">,</span> <span class="token comment">// Bdir require Adir</span>
            <span class="token function-variable function">link</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> attr<span class="token punctuation">,</span> Parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token comment">// Parent is Adir but can be an array of required directives.</span>
                elem<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    Parent<span class="token punctuation">.</span><span class="token function">logFn</span><span class="token punctuation">(</span><span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will log &quot;Hello! at parent dir scope</span>
                    scope<span class="token punctuation">.</span><span class="token function">$apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// apply to parent scope.</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>You can nest your directive in this way:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div a<span class="token operator">-</span>dir<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span b<span class="token operator">-</span>dir<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a<span class="token operator">-</span>dir<span class="token operator">&gt;</span><span class="token operator">&lt;</span>b<span class="token operator">-</span>dir<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">-</span>dir<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>dir<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Is not required that directives are nested in your HTML.</strong></p> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td>scope</td> <td>Property to set the scope of the directive. It can be set as false, true or as an isolate scope: { @, =, &lt;, &amp; }.</td></tr> <tr><td>scope: falsy</td> <td>Directive uses parent scope. No scope created for directive.</td></tr> <tr><td>scope: true</td> <td>Directive inherits parent scope prototypically as a new child scope. If there are multiple directives on the same element requesting a new scope, then they will share one new scope.</td></tr> <tr><td>scope: { @ }</td> <td>One way binding of a directive scope property to a DOM attribute value. As the attribute value bound in the parent, it will change in the directive scope.</td></tr> <tr><td>scope: { = }</td> <td>Bi-directional attribute binding that changes the attribute in the parent if the directive attribute changes and vice-versa.</td></tr> <tr><td>scope: { &lt; }</td> <td>One way binding of a directive scope property and a DOM attribute expression. The expression  is evaluated in the parent. This watches the identity of the parent value so changes to an object property in the parent won't be reflected in the directive. Changes to an object property in a directive will be reflected in the parent, since both reference the same object</td></tr> <tr><td>scope: { &amp; }</td> <td>Allows the directive to pass data to an expression to be evaluated in the parent.</td></tr> <tr><td>compile: function</td> <td>This function is used to perform DOM transformation on the directive template before the link function runs. It accepts <code>tElement</code> ( the directive template ) and <code>tAttr</code> ( list of attributes declared on the directive ). It does not have access to the scope. It may return a function that will be registered as a <code>post-link</code> function or it may return an object with <code>pre</code> and <code>post</code> properties with will be registered as the <code>pre-link</code> and <code>post-link</code> functions.</td></tr> <tr><td>link: function/object</td> <td>The link property can be configured as a function or object. It can receive the following arguments: scope(directive scope), iElement( DOM element where directive is applied ), iAttrs( collection of DOM element attributes ), controller( array of controllers required by directive ), transcludeFn. It is mainly used to for setting up DOM listeners, watching model properties for changes, and updating the DOM. It executes after the template is cloned. It is configured independently if there is no compile function.</td></tr> <tr><td>pre-link function</td> <td>Link function that executes before any child link functions. By default, child directive link functions execute before parent directive link functions and the pre-link function enables the parent to link first. One use case is if the child requires data from the parent.</td></tr> <tr><td>post-link function</td> <td>Link function that executives after child elements are linked to parent. It is commonly used for attaching event handlers and accessing child directives, but data required by the child directive should not be set here because the child directive will have already been linked.</td></tr> <tr><td>restrict: string</td> <td>Defines how to call the directive from within the DOM. Possible values (Assuming our directive name is <code>demoDirective</code>): <code>E</code> -  Element name (<code>&lt;demo-directive&gt;&lt;/demo-directive&gt;</code>), <code>A</code> - Attribute (<code>&lt;div demo-directive&gt;&lt;/div&gt;</code>), <code>C</code> - Matching class (<code>&lt;div class=&quot;demo-directive&quot;&gt;&lt;/div&gt;</code>), <code>M</code> - By comment (<code>&lt;!-- directive: demo-directive --&gt;</code>). The <code>restrict</code> property can also support multiple options, for example - <code>restrict: &quot;AC&quot;</code> will restrict the directive to <strong>Attribute</strong> OR <strong>Class</strong>. If omitted, the <strong>default</strong> value is <code>&quot;EA&quot;</code> (Element or Attribute).</td></tr> <tr><td>require: 'demoDirective'</td> <td>Locate demoDirective's controller on the current element and inject its controller as the fourth argument to the linking function. Throw an error if not found.</td></tr> <tr><td>require: '?demoDirective'</td> <td>Attempt to locate the demoDirective's controller or pass null to the link fn if not found.</td></tr> <tr><td>require: '^demoDirective'</td> <td>Locate the demoDirective's controller by searching the element and its parents. Throw an error if not found.</td></tr> <tr><td>require: '^^demoDirective'</td> <td>Locate the demoDirective's controller by searching the element's parents. Throw an error if not found.</td></tr> <tr><td>require: '?^demoDirective'</td> <td>Attempt to locate the demoDirective's controller by searching the element and its parents or pass null to the link fn if not found.</td></tr> <tr><td>require: '?^^demoDirective'</td> <td>Attempt to locate the demoDirective's controller by searching the element's parents, or pass null to the link fn if not found.</td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/angularjs/custom-directives.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/angularjs/use-of-in-built-directives.html" class="prev">
        Use of in-built directives
      </a></span> <span class="next"><a href="/angularjs/how-data-binding-works.html">
        How data binding works
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/430.567025ed.js" defer></script>
  </body>
</html>
