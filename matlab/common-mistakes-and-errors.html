<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MATLAB - Common mistakes and errors</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="The transpose operators, Do not name a variable with an existing function name, Be aware of floating point inaccuracy, What you see is NOT what you get: char vs cellstring in the command window, Undefined Function or Method X for Input Arguments of Type Y, The use of i or j as imaginary unit, loop indices or common variable., Not enough input arguments, Using `length` for multidimensional arrays, Watch out for array size changes">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="MATLAB - Common mistakes and errors">
    <meta property="og:description" content="The transpose operators, Do not name a variable with an existing function name, Be aware of floating point inaccuracy, What you see is NOT what you get: char vs cellstring in the command window, Undefined Function or Method X for Input Arguments of Type Y, The use of i or j as imaginary unit, loop indices or common variable., Not enough input arguments, Using `length` for multidimensional arrays, Watch out for array size changes">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/matlab/common-mistakes-and-errors.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="MATLAB - Common mistakes and errors">
    <meta name="twitter:description" content="The transpose operators, Do not name a variable with an existing function name, Be aware of floating point inaccuracy, What you see is NOT what you get: char vs cellstring in the command window, Undefined Function or Method X for Input Arguments of Type Y, The use of i or j as imaginary unit, loop indices or common variable., Not enough input arguments, Using `length` for multidimensional arrays, Watch out for array size changes">
    <meta name="twitter:url" content="/matlab/common-mistakes-and-errors.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1909.3da8db28.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MATLAB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/matlab/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/matlab/getting-started-with-matlab-language.html" class="sidebar-link">Getting started with MATLAB Language</a></li><li><a href="/matlab/initializing-matrices-or-arrays.html" class="sidebar-link">Initializing Matrices or arrays</a></li><li><a href="/matlab/conditions.html" class="sidebar-link">Conditions</a></li><li><a href="/matlab/functions.html" class="sidebar-link">Functions</a></li><li><a href="/matlab/set-operations.html" class="sidebar-link">Set operations</a></li><li><a href="/matlab/documenting-functions.html" class="sidebar-link">Documenting functions</a></li><li><a href="/matlab/using-functions-with-logical-output.html" class="sidebar-link">Using functions with logical output</a></li><li><a href="/matlab/for-loops.html" class="sidebar-link">For loops</a></li><li><a href="/matlab/object-oriented-programming.html" class="sidebar-link">Object-Oriented Programming</a></li><li><a href="/matlab/vectorization.html" class="sidebar-link">Vectorization</a></li><li><a href="/matlab/matrix-decompositions.html" class="sidebar-link">Matrix decompositions</a></li><li><a href="/matlab/graphics-2d-line-plots.html" class="sidebar-link">Graphics: 2D Line Plots</a></li><li><a href="/matlab/graphics-2d-and-3d-transformations.html" class="sidebar-link">Graphics: 2D and 3D Transformations</a></li><li><a href="/matlab/controlling-subplot-coloring-in-matlab.html" class="sidebar-link">Controlling Subplot coloring in Matlab</a></li><li><a href="/matlab/image-processing.html" class="sidebar-link">Image processing</a></li><li><a href="/matlab/drawing.html" class="sidebar-link">Drawing</a></li><li><a href="/matlab/financial-applications.html" class="sidebar-link">Financial Applications</a></li><li><a href="/matlab/fourier-transforms-and-inverse-fourier-transforms.html" class="sidebar-link">Fourier Transforms and Inverse Fourier Transforms</a></li><li><a href="/matlab/ordinary-differential-equations-ode-solvers.html" class="sidebar-link">Ordinary Differential Equations (ODE) Solvers</a></li><li><a href="/matlab/interpolation-with-matlab.html" class="sidebar-link">Interpolation with MATLAB</a></li><li><a href="/matlab/integration.html" class="sidebar-link">Integration</a></li><li><a href="/matlab/reading-large-files.html" class="sidebar-link">Reading large files</a></li><li><a href="/matlab/usage-of-accumarray-function.html" class="sidebar-link">Usage of accumarray() Function</a></li><li><a href="/matlab/introduction-to-mex-api.html" class="sidebar-link">Introduction to MEX API</a></li><li><a href="/matlab/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/matlab/performance-and-benchmarking.html" class="sidebar-link">Performance and Benchmarking</a></li><li><a href="/matlab/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/matlab/using-serial-ports.html" class="sidebar-link">Using serial ports</a></li><li><a href="/matlab/undocumented-features.html" class="sidebar-link">Undocumented Features</a></li><li><a href="/matlab/matlab-best-practices.html" class="sidebar-link">MATLAB Best Practices</a></li><li><a href="/matlab/matlab-user-interfaces.html" class="sidebar-link">MATLAB User Interfaces</a></li><li><a href="/matlab/useful-tricks.html" class="sidebar-link">Useful tricks</a></li><li><a href="/matlab/common-mistakes-and-errors.html" aria-current="page" class="active sidebar-link">Common mistakes and errors</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#the-transpose-operators" class="sidebar-link">The transpose operators</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#do-not-name-a-variable-with-an-existing-function-name" class="sidebar-link">Do not name a variable with an existing function name</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#be-aware-of-floating-point-inaccuracy" class="sidebar-link">Be aware of floating point inaccuracy</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#what-you-see-is-not-what-you-get-char-vs-cellstring-in-the-command-window" class="sidebar-link">What you see is NOT what you get: char vs cellstring in the command window</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#undefined-function-or-method-x-for-input-arguments-of-type-y" class="sidebar-link">Undefined Function or Method X for Input Arguments of Type Y</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#the-use-of-i-or-j-as-imaginary-unit-loop-indices-or-common-variable" class="sidebar-link">The use of &quot;i&quot; or &quot;j&quot; as imaginary unit, loop indices or common variable.</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#not-enough-input-arguments" class="sidebar-link">Not enough input arguments</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#using-length-for-multidimensional-arrays" class="sidebar-link">Using length for multidimensional arrays</a></li><li class="sidebar-sub-header"><a href="/matlab/common-mistakes-and-errors.html#watch-out-for-array-size-changes" class="sidebar-link">Watch out for array size changes</a></li></ul></li><li><a href="/matlab/programming-utilities.html" class="sidebar-link">Programming Utilities</a></li><li><a href="/matlab/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="common-mistakes-and-errors"><a href="#common-mistakes-and-errors" class="header-anchor">#</a> Common mistakes and errors</h1> <h2 id="the-transpose-operators"><a href="#the-transpose-operators" class="header-anchor">#</a> The transpose operators</h2> <ul><li><code>.'</code> is the correct way to <strong>transpose</strong> a vector or matrix in MATLAB.</li> <li><code>'</code> is the correct way to take the <strong>complex conjugate transpose</strong> (a.k.a. Hermitian conjugate) of a vector or matrix in MATLAB.</li></ul> <p>Note that for the transpose <code>.'</code>, there is a <strong>period</strong> in front of the apostrophe. This is in keeping with the syntax for the other element-wise operations in MATLAB: <code>*</code> multiplies <strong>matrices</strong>, <code>.*</code> multiplies <strong>elements of matrices</strong> together. The two commands are very similar, but conceptually very distinct. Like other MATLAB commands, these operators are &quot;syntactical sugar&quot; that gets turned into a &quot;proper&quot; function call at runtime. Just as <code>==</code> becomes an evaluation of the <a href="http://uk.mathworks.com/help/matlab/ref/eq.html" target="_blank" rel="noopener noreferrer">eq<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function, think of <code>.'</code> as the shorthand for <a href="http://www.mathworks.com/help/matlab/ref/transpose.html" target="_blank" rel="noopener noreferrer"><code>transpose</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. If you would only write <code>'</code> (without the point), you are in fact using the <a href="http://www.mathworks.com/help/matlab/ref/ctranspose.html" target="_blank" rel="noopener noreferrer"><code>ctranspose</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> command instead, which calculates the <a href="http://www.mathworks.com/help/matlab/ref/ctranspose.html#buaudse-6" target="_blank" rel="noopener noreferrer">complex conjugate transpose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which is also known as the <a href="http://en.wikipedia.org/wiki/Hermitian_conjugate" target="_blank" rel="noopener noreferrer">Hermitian conjugate<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, often used in physics. As long as the transposed vector or matrix is real-valued, the two operators produce the same result. But as soon as we deal with <a href="http://www.mathworks.com/help/matlab/complex-numbers.html" target="_blank" rel="noopener noreferrer">complex numbers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, we will inevitably run into problems if we do not use the &quot;correct&quot; shorthand. What &quot;correct&quot; is depends on your application.</p> <p>Consider the following example of a matrix <code>C</code> containing complex numbers:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> C <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1i</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token operator">*</span><span class="token number">1i</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
C <span class="token operator">=</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>   <span class="token number">2.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">3.0000i</span>   <span class="token number">4.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>

</code></pre></div><p>Let's take the <strong>transpose</strong> using the shorthand <code>.'</code> (with the period). The output is as expected, the transposed form of <code>C</code>.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> C<span class="token operator">.'</span>
ans <span class="token operator">=</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">3.0000i</span>
   <span class="token number">2.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>   <span class="token number">4.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>

</code></pre></div><p>Now, let's use <code>'</code> (without the period). We see, that in addition to the transposition, the complex values have been transformed to their <strong>complex conjugates</strong> as well.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> C<span class="token operator">'</span>
ans <span class="token operator">=</span>
   <span class="token number">0.0000</span> <span class="token operator">-</span> <span class="token number">1.0000i</span>   <span class="token number">0.0000</span> <span class="token operator">-</span> <span class="token number">3.0000i</span>
   <span class="token number">2.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>   <span class="token number">4.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>

</code></pre></div><p>To sum up, if you intend to calculate the Hermitian conjugate, the complex conjugate transpose, then use <code>'</code> (without the period). If you just want to calculate the transpose without complex-conjugating the values, use <code>.'</code> (with the period).</p> <h2 id="do-not-name-a-variable-with-an-existing-function-name"><a href="#do-not-name-a-variable-with-an-existing-function-name" class="header-anchor">#</a> Do not name a variable with an existing function name</h2> <p>There is already a function <a href="http://uk.mathworks.com/help/matlab/ref/sum.html" target="_blank" rel="noopener noreferrer"><code>sum()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. As a result, if we name a variable with the same name</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>sum <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">;</span>

</code></pre></div><p>and if we try to use the function while the variable still exists in the workspace</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>A <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

</code></pre></div><p>we will get the cryptic <strong>error</strong>:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>Subscript indices must either be real positive integers or logicals<span class="token punctuation">.</span>

</code></pre></div><p><a href="http://uk.mathworks.com/help/matlab/ref/clear.html" target="_blank" rel="noopener noreferrer"><code>clear()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> the variable first and then use the function</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>clear sum

<span class="token function">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
ans <span class="token operator">=</span>
       <span class="token number">1.0826</span>       <span class="token number">1.0279</span>

</code></pre></div><p>How can we check if a function already exists to avoid this conflict?</p> <p>Use <a href="http://uk.mathworks.com/help/matlab/ref/which.html" target="_blank" rel="noopener noreferrer"><code>which()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with the <code>-all</code> flag:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>which sum <span class="token operator">-</span>all
sum is a variable<span class="token punctuation">.</span>
built<span class="token operator">-</span><span class="token function">in</span> <span class="token punctuation">(</span>C<span class="token operator">:</span><span class="token operator">\</span>Program Files<span class="token operator">\</span>MATLAB<span class="token operator">\</span>R2016a<span class="token operator">\</span>toolbox<span class="token operator">\</span>matlab<span class="token operator">\</span>datafun<span class="token operator">\</span><span class="token operator">@</span>double<span class="token operator">\</span>sum<span class="token punctuation">)</span>   <span class="token comment">% Shadowed double method</span>
<span class="token punctuation">...</span>

</code></pre></div><p>This output is telling us that <code>sum</code> is first a variable and that the following methods (functions) are shadowed by it, i.e. MATLAB will first try to apply our syntax to the variable, rather than using the method.</p> <h2 id="be-aware-of-floating-point-inaccuracy"><a href="#be-aware-of-floating-point-inaccuracy" class="header-anchor">#</a> Be aware of floating point inaccuracy</h2> <p>Floating-point numbers cannot represent all real numbers. This is known as floating point inaccuracy.</p> <p>There are infinitely many floating points numbers and they can be infinitely long (e.g. <code>π</code>), thus being able to represent them perfectly would require infinitely amount of memory. Seeing this was a problem, a special representation for &quot;real number&quot; storage in computer was designed, the <a href="https://en.wikipedia.org/wiki/IEEE_floating_point" target="_blank" rel="noopener noreferrer">IEEE 754 standard<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. In short, it describes how computers store this type of numbers, with an exponent and mantissa, as,</p> <p><code>floatnum = sign * 2^exponent * mantissa</code></p> <p>With limited amount of bits for each of these, only a finite precision can be achieved. The smaller the number, smaller the gap between possible numbers (and vice versa!). You can try your real numbers <a href="http://www.h-schmidt.net/FloatConverter/IEEE754.html" target="_blank" rel="noopener noreferrer">in this online demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Be aware of this behavior and try to avoid all floating points comparison and their use as stopping conditions in loops. See below two examples:</p> <h3 id="examples-floating-point-comparison-done-wrong"><a href="#examples-floating-point-comparison-done-wrong" class="header-anchor">#</a> <strong>Examples: Floating point comparison done WRONG:</strong></h3> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.1</span>  <span class="token operator">==</span> <span class="token number">0.3</span>

ans <span class="token operator">=</span>

  logical

   <span class="token number">0</span>

</code></pre></div><p>It is poor practice to use floating point comparison as shown by the precedent example. You can overcome it by taking the absolute value of their difference and comparing it to a (small) tolerance level.</p> <p>Below is another example, where a floating point number is used as a stopping condition in a while loop:**</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>k <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> k <span class="token operator">&lt;=</span> <span class="token number">0.3</span> 
  <span class="token function">disp</span><span class="token punctuation">(</span><span class="token function">num2str</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  k <span class="token operator">=</span> k <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">% --- Output: ---</span>
<span class="token number">0.1</span>
<span class="token number">0.2</span>

</code></pre></div><p>It misses the last expected loop (<code>0.3 &lt;= 0.3</code>).</p> <h3 id="example-floating-point-comparison-done-right"><a href="#example-floating-point-comparison-done-right" class="header-anchor">#</a> <strong>Example: Floating point comparison done RIGHT:</strong></h3> <div class="language-matlab extra-class"><pre class="language-matlab"><code>x <span class="token operator">=</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
y <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span>
tolerance <span class="token operator">=</span> <span class="token number">1e-10</span><span class="token punctuation">;</span> <span class="token comment">% A &quot;good enough&quot; tolerance for this case.</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">abs</span><span class="token punctuation">(</span> x <span class="token operator">-</span> y <span class="token punctuation">)</span> <span class="token operator">&lt;=</span> tolerance <span class="token punctuation">)</span>
  <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">'x == y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
  <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">'x ~= y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">% --- Output: ---</span>
x <span class="token operator">==</span> y

</code></pre></div><p>Several things to note:</p> <ul><li>As expected, now <code>x</code> and <code>y</code> are treated as equivalent.</li> <li>In the example above, the choice of tolerance was done arbitrarily. Thus, the chosen value might not be suitable for all cases (especially when working with much smaller numbers). Choosing the bound <strong>intelligently</strong> can be done using the <a href="https://www.mathworks.com/help/matlab/ref/eps.html" target="_blank" rel="noopener noreferrer"><code>eps</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function, i.e. <code>N*eps(max(x,y))</code>, where <code>N</code> is some problem-specific number. A reasonable choice for <code>N</code>, which is also permissive enough, is <code>1E2</code> (even though, in the above problem <code>N=1</code> would also suffice).</li></ul> <h3 id="further-reading"><a href="#further-reading" class="header-anchor">#</a> <strong>Further reading:</strong></h3> <p>See these questions for more information about floating point inaccuracy:</p> <ul><li><a href="http://stackoverflow.com/questions/686439/why-is-24-0000-not-equal-to-24-0000-in-matlab" target="_blank" rel="noopener noreferrer">Why is 24.0000 not equal to 24.0000 in MATLAB?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://stackoverflow.com/questions/588004/is-floating-point-math-broken" target="_blank" rel="noopener noreferrer">Is floating point math broken?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="what-you-see-is-not-what-you-get-char-vs-cellstring-in-the-command-window"><a href="#what-you-see-is-not-what-you-get-char-vs-cellstring-in-the-command-window" class="header-anchor">#</a> What you see is NOT what you get: char vs cellstring in the command window</h2> <p>This a basic example aimed at new users. It does not focus on explaining the difference between <code>char</code> and <code>cellstring</code>.</p> <p>It might happen that you want to get rid of the <code>'</code> in your strings, although you never added them. In fact, those are <strong>artifacts</strong> that the <strong>command window</strong> uses  to distinguish between some types.</p> <p>A <a href="http://uk.mathworks.com/help/matlab/ref/strings.html" target="_blank" rel="noopener noreferrer">string<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will print</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>s <span class="token operator">=</span> <span class="token string">'dsadasd'</span>
s <span class="token operator">=</span>
dsadasd

</code></pre></div><p>A <a href="http://uk.mathworks.com/help/matlab/ref/cellstr.html" target="_blank" rel="noopener noreferrer">cellstring<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will print</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'dsadasd'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
c <span class="token operator">=</span> 
    <span class="token string">'dsadasd'</span>

</code></pre></div><p>Note how the <strong>single quotes</strong> and the <strong>indentation</strong> are artifacts to notify us that <code>c</code> is a <code>cellstring</code> rather than a <code>char</code>. The string is in fact contained in the cell, i.e.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>c<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>
ans <span class="token operator">=</span>
dsadasd

</code></pre></div><h2 id="undefined-function-or-method-x-for-input-arguments-of-type-y"><a href="#undefined-function-or-method-x-for-input-arguments-of-type-y" class="header-anchor">#</a> Undefined Function or Method X for Input Arguments of Type Y</h2> <p>This is MATLAB's long-winded way of saying that it cannot find the function that you're trying to call. There are a number of reasons you could get this error:</p> <h3 id="that-function-was-introduced-after-your-current-version-of-matlab"><a href="#that-function-was-introduced-after-your-current-version-of-matlab" class="header-anchor">#</a> That function was introduced <strong>after</strong> your current version of MATLAB</h3> <p>The MATLAB online documentation provides a very nice feature which allows you to determine in what version a given function was introduced. It is located in the bottom left of every page of the documentation:</p> <p><a href="http://i.stack.imgur.com/W1ZaW.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/W1ZaW.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Compare this version with your own current version (<a href="http://www.mathworks.com/help/matlab/ref/ver.html" target="_blank" rel="noopener noreferrer"><code>ver</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) to determine if this function is available in your particular version. If it's not, try searching the <a href="http://www.mathworks.com/help/doc-archives.html" target="_blank" rel="noopener noreferrer">archived versions of the documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to find a suitable alternative in your version.</p> <h3 id="you-don-t-have-that-toolbox"><a href="#you-don-t-have-that-toolbox" class="header-anchor">#</a> You don't have that toolbox!</h3> <p>The base MATLAB installation has a large number of functions; however, more specialized functionality is packaged within toolboxes and sold separately by the Mathworks. The documentation for <strong>all</strong> toolboxes is visible whether you have the toolbox or not so be sure to check and see if you have the appropriate toolbox.</p> <p>To check which toolbox a given function belongs to, look to the top left of the online documentation to see if a specific toolbox is mentioned.</p> <p><a href="http://i.stack.imgur.com/JyvMG.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/JyvMG.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>You can then determine which toolboxes your version of MATLAB has installed by issuing the <a href="http://www.mathworks.com/help/matlab/ref/ver.html" target="_blank" rel="noopener noreferrer"><code>ver</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> command which will print a list of all installed toolboxes.</p> <p>If you do not have that toolbox installed and want to use the function, you will need to purchase a license for that particular toolbox from The Mathworks.</p> <h3 id="matlab-cannot-locate-the-function"><a href="#matlab-cannot-locate-the-function" class="header-anchor">#</a> MATLAB cannot locate the function</h3> <p>If MATLAB still can't find your function, then it must be a user-defined function. It is possible that it lives in another directory and that directory should be <a href="http://www.mathworks.com/help/matlab/matlab_env/add-remove-or-reorder-folders-on-the-search-path.html" target="_blank" rel="noopener noreferrer">added to the search path<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for your code to run. You can check whether MATLAB can locate your function by using <a href="http://www.mathworks.com/help/matlab/ref/which.html" target="_blank" rel="noopener noreferrer"><code>which</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> which should return the path to the source file.</p> <h2 id="the-use-of-i-or-j-as-imaginary-unit-loop-indices-or-common-variable"><a href="#the-use-of-i-or-j-as-imaginary-unit-loop-indices-or-common-variable" class="header-anchor">#</a> The use of &quot;i&quot; or &quot;j&quot; as imaginary unit, loop indices or common variable.</h2> <h3 id="recommendation"><a href="#recommendation" class="header-anchor">#</a> Recommendation</h3> <p>Because the symbols <code>i</code> and <code>j</code> can represent significantly different things in MATLAB, their use as loop indices has split the MATLAB user community since ages. While some historic performance reasons could help the balance lean to one side, this is no longer the case and now the choice rest entirely on you and the coding practices you choose to follow.</p> <p>The current official recommendations from Mathworks are:</p> <blockquote></blockquote> <ul>
- Since `i` is a function, it can be overridden and used as a variable.    However, it is best to avoid using `i` and `j` for variable names if you intend to use them in complex arithmetic.
- For speed and improved robustness in complex arithmetic, use `1i` and    `1j` instead of `i` and `j`.
</ul> <h3 id="default"><a href="#default" class="header-anchor">#</a> Default</h3> <p>In MATLAB, by default, the letters <a href="http://mathworks.com/help/matlab/ref/i.html" target="_blank" rel="noopener noreferrer"><code>i</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://uk.mathworks.com/help/matlab/ref/j.html" target="_blank" rel="noopener noreferrer"><code>j</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> are built-in <code>function</code> names, which both refer to the imaginary unit in the complex domain.</p> <p>So by default <code>i = j = sqrt(-1)</code>.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token number">i</span>
ans <span class="token operator">=</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token number">j</span>
ans <span class="token operator">=</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>

</code></pre></div><p>and as you should expect:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token number">i</span><span class="token operator">^</span><span class="token number">2</span>
ans <span class="token operator">=</span>
    <span class="token operator">-</span><span class="token number">1</span>

</code></pre></div><h3 id="using-them-as-a-variable-for-loop-indices-or-other-variable"><a href="#using-them-as-a-variable-for-loop-indices-or-other-variable" class="header-anchor">#</a> Using them as a variable (for loop indices or other variable)</h3> <p>MATLAB allows using built-in function name as a standard variable. In this case the symbol used will not point to the built-in function any more but to your own user defined variable. This practice, however, is not generally recommended as it can lead to confusion, difficult debugging and maintenance (<strong>see other example <a href="http://stackoverflow.com/documentation/matlab/973/common-mistakes-and-errors/3168/do-not-name-a-variable-with-an-existing-function-name" target="_blank" rel="noopener noreferrer">do-not-name-a-variable-with-an-existing-function-name<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong>).</p> <p>If you are ultra pedantic about respecting conventions and best practices, you will avoid using them as loop indices in this language. However, it is allowed by the compiler and perfectly functional so you may also choose to keep old habits and use them as loop iterators.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> A <span class="token operator">=</span> <span class="token function">nan</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span>        <span class="token comment">% perfectly legal loop construction</span>
       <span class="token keyword">for</span> <span class="token number">j</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span>
        <span class="token function">A</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">,</span> <span class="token number">j</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">i</span> <span class="token operator">+</span> <span class="token number">j</span><span class="token punctuation">;</span>
       <span class="token keyword">end</span>
   <span class="token keyword">end</span>

</code></pre></div><p>Note that loop indices do not go out of scope at the end of the loop, so they keep their new value.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> <span class="token number">i</span> <span class="token punctuation">;</span> <span class="token number">j</span> <span class="token punctuation">]</span>
ans <span class="token operator">=</span>
     <span class="token number">2</span>
     <span class="token number">3</span>

</code></pre></div><p>In the case you use them as variable, make sure <strong>they are initialised</strong> before they are used. In the loop above MATLAB initialise them automatically when it prepare the loop, but if not initialised properly you can quickly see that you may inadvertently introduce <code>complex</code> numbers in your result.</p> <p>If later on, you need to undo the shadowing of the built-in function (=e.g. you want <code>i</code> and <code>j</code> to represent the imaginary unit again), you can <code>clear</code> the variables:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> clear <span class="token number">i</span> <span class="token number">j</span>

</code></pre></div><p>You understand now the Mathworks reservation about using them as loop indices <strong>if you intend to use them in complex arithmetic</strong>. Your code would be riddled with variable initialisations and <code>clear</code> commands, best way to confuse the most serious programmer (<strong>yes you there!...</strong>) and program accidents waiting to happen.</p> <p>If no complex arithmetic is expected, the use of <code>i</code> and <code>j</code> is perfectly functional and there is no performance penalty.</p> <h3 id="using-them-as-imaginary-unit"><a href="#using-them-as-imaginary-unit" class="header-anchor">#</a> Using them as imaginary unit:</h3> <p>If your code has to deal with <code>complex</code> numbers, then <code>i</code> and <code>j</code> will certainly come in handy. However, for the sake of disambiguation and even for performances, it is recommended to use the full form instead of the shorthand syntax. The full form is <code>1i</code> (or <code>1j</code>).</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> <span class="token number">i</span> <span class="token punctuation">;</span> <span class="token number">j</span> <span class="token punctuation">;</span> <span class="token number">1i</span> <span class="token punctuation">;</span> <span class="token number">1j</span><span class="token punctuation">]</span>
ans <span class="token operator">=</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">1.0000i</span>

</code></pre></div><p>They do represent the same value <code>sqrt(-1)</code>, but the later form:</p> <ul><li>is more explicit, in a semantic way.
</li><li>is more maintainable (someone looking at your code later will not
have to read up the code to find whether <code>i</code> or <code>j</code> was a variable or
the imaginary unit).</li> <li>is faster (source: Mathworks).</li></ul> <p>Note that the full syntax <code>1i</code> is valid with any number preceding the symbol:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7.8j</span>
a <span class="token operator">=</span>
   <span class="token number">3.0000</span> <span class="token operator">+</span> <span class="token number">7.8000i</span>

</code></pre></div><p>This is the only function which you can stick with a number without an operator between them.</p> <h3 id="pitfalls"><a href="#pitfalls" class="header-anchor">#</a> Pitfalls</h3> <p>While their use as <strong>imaginary unit</strong> <strong>OR</strong> <strong>variable</strong> is perfectly legal, here is just a small example of how confusing it could get if both usages get mixed:</p> <p>Let's override <code>i</code> and make it a variable:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">3</span>
<span class="token number">i</span> <span class="token operator">=</span>
     <span class="token number">3</span>

</code></pre></div><p>Now <code>i</code> is a <strong>variable</strong> (holding the value <code>3</code>), but we only overrid the <strong>shorthand</strong> notation of the imaginary unit, the full form is still interpreted correctly:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token number">3i</span>
ans <span class="token operator">=</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">3.0000i</span>

</code></pre></div><p>Which now lets us build the most obscure formulations. I let you assess the readability of all the following constructs:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> <span class="token number">i</span> <span class="token punctuation">;</span> <span class="token number">3i</span> <span class="token punctuation">;</span> <span class="token number">3</span><span class="token operator">*</span><span class="token number">i</span> <span class="token punctuation">;</span> <span class="token number">i</span><span class="token operator">+</span><span class="token number">3i</span> <span class="token punctuation">;</span> <span class="token number">i</span><span class="token operator">+</span><span class="token number">3</span><span class="token operator">*</span><span class="token number">i</span> <span class="token punctuation">]</span>
ans <span class="token operator">=</span>
   <span class="token number">3.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>
   <span class="token number">0.0000</span> <span class="token operator">+</span> <span class="token number">3.0000i</span>
   <span class="token number">9.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>
   <span class="token number">3.0000</span> <span class="token operator">+</span> <span class="token number">3.0000i</span>
  <span class="token number">12.0000</span> <span class="token operator">+</span> <span class="token number">0.0000i</span>

</code></pre></div><p>As you can see, each value in the array above return a different result. While each result is valid (provided that was the initial intent), most of you will admit that it would be a proper nightmare to read a code riddled with such constructs.</p> <h2 id="not-enough-input-arguments"><a href="#not-enough-input-arguments" class="header-anchor">#</a> Not enough input arguments</h2> <p>Often beginning MATLAB developers will use MATLAB's editor to write and edit code, in particular custom functions with inputs and outputs.  There is a <strong>Run</strong> button at the top that is available in recent versions of MATLAB:</p> <p><a href="http://i.stack.imgur.com/Spgbr.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/Spgbr.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Once the developer finishes with the code, they are often tempted to push the <strong>Run</strong> button.  For some functions this will work fine, but for others they will receive a <code>Not enough input arguments</code> error and be puzzled about why the error occurs.</p> <p>The reason why this error may not happen is because you wrote a MATLAB script or a function that takes in no input arguments. Using the <strong>Run</strong> button will run a test script or run a function assuming no input arguments.  If your function requires input arguments, the <code>Not enough input arguments</code> error will occur as you have written a functions that expects inputs to go inside the function.  Therefore, you cannot expect the function to run by simply pushing the <strong>Run</strong> button.</p> <p>To demonstrate this issue, suppose we have a function <code>mult</code> that simply multiplies two matrices together:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token keyword">function</span> C <span class="token operator">=</span> <span class="token function">mult</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span>
    C <span class="token operator">=</span> A <span class="token operator">*</span> B<span class="token punctuation">;</span>
<span class="token keyword">end</span>

</code></pre></div><p>In recent versions of MATLAB, if you wrote this function and pushed the <strong>Run</strong> button, it will give you the error we expect:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> mult
Not enough input arguments<span class="token punctuation">.</span>

Error in <span class="token function">mult</span> <span class="token punctuation">(</span>line <span class="token number">2</span><span class="token punctuation">)</span>
    C <span class="token operator">=</span> A <span class="token operator">*</span> B<span class="token punctuation">;</span>

</code></pre></div><p>There are two ways to resolve this issue:</p> <h3 id="method-1-through-the-command-prompt"><a href="#method-1-through-the-command-prompt" class="header-anchor">#</a> Method #1 - Through the Command Prompt</h3> <p>Simply create the inputs you need in the Command Prompt, then run the function using those inputs you have created:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>A <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
B <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
C <span class="token operator">=</span> <span class="token function">mult</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="method-2-interactively-through-the-editor"><a href="#method-2-interactively-through-the-editor" class="header-anchor">#</a> Method #2 - Interactively through the Editor</h3> <p>Underneath the <strong>Run</strong> button, there is a dark black arrow. If you click on that arrow, you can specify the variables you would like to get from the MATLAB workspace by typing the way you want to call the function exactly as how you have seen in method #1. Be sure that the variables you are specifying inside the function exist in the MATLAB workspace:</p> <img src="http://i.stack.imgur.com/iWOWg.jpg" alt=""> <h2 id="using-length-for-multidimensional-arrays"><a href="#using-length-for-multidimensional-arrays" class="header-anchor">#</a> Using <code>length</code> for multidimensional arrays</h2> <p>A common mistake MATLAB coders have, is using the <code>length</code> function for matrices (as opposed to <strong>vectors</strong>, for which it is intended). The <code>length</code> function, as mentioned in <a href="https://www.mathworks.com/help/matlab/ref/length.html" target="_blank" rel="noopener noreferrer">its documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, &quot;<strong>returns the length of the largest array dimension</strong>&quot; of the input.</p> <p>For vectors, the return value of <code>length</code> has two different meanings:</p> <ol><li>The total number of elements in the vector.</li> <li>The largest dimension of the vector.</li></ol> <p>Unlike in vectors, the above values would not be equal for arrays of more than one non-singleton (i.e. whose size is larger than <code>1</code>) dimension. This is why using <code>length</code> for matrices is ambiguous. Instead, using one of the following functions is encouraged, even when working with vectors, to make the intention of the code perfectly clear:</p> <ol><li><a href="https://www.mathworks.com/help/matlab/ref/size.html" target="_blank" rel="noopener noreferrer"><code>size(A)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - returns a row vector whose elements contain the amount of elements along the corresponding dimension of <code>A</code>.</li> <li><a href="https://www.mathworks.com/help/matlab/ref/numel.html" target="_blank" rel="noopener noreferrer"><code>numel(A)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - returns the number of elements in <code>A</code>. Equivalent to <code>prod(size(A))</code>.</li> <li><a href="https://www.mathworks.com/help/matlab/ref/ndims.html" target="_blank" rel="noopener noreferrer"><code>ndims(A)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - returns the number of dimensions in the array <code>A</code>. Equivalent to <code>numel(size(A))</code>.</li></ol> <p>This is especially important when writing &quot;future-proof&quot;, <a href="http://stackoverflow.com/documentation/matlab/750/vectorization#t=201701240948060515351" target="_blank" rel="noopener noreferrer">vectorized<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library  functions, whose inputs are not known in advance, and can have various sizes and shapes.</p> <h2 id="watch-out-for-array-size-changes"><a href="#watch-out-for-array-size-changes" class="header-anchor">#</a> Watch out for array size changes</h2> <p>Some common operations in MATLAB, like <strong>differentiation</strong> or <strong>integration</strong>, output results that have a different amount of elements than the input data has. This fact can easily be overlooked, which would usually cause errors like <code>Matrix dimensions must agree</code>. Consider the following example:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>t <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">;</span>        <span class="token comment">% Declaring a time vector</span>
y <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">% Declaring a function</span>

dy_dt <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">% calculates dy/dt for y = sin(t)</span>

</code></pre></div><p>Let's say we want to plot these results. We take a look at the array sizes and see:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">size</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> is <span class="token number">1</span>x101
<span class="token function">size</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> is <span class="token number">1</span>x101

</code></pre></div><p>But:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">size</span><span class="token punctuation">(</span>dy_dt<span class="token punctuation">)</span> is <span class="token number">1</span>x100

</code></pre></div><p>The array is one element shorter!</p> <p>Now imagine you have measurement data of positions over time and want to calculate <strong>jerk(t)</strong>, you will get an array 3 elements less than the time array (because the jerk is the position differentiated 3 times).</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>vel <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">% calculates velocity vel=dy/dt for y = sin(t)  size(vel)=1x100</span>
acc <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>vel<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">% calculates acceleration acc=d(vel)/dt         size(acc)=1x99</span>
jerk <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>acc<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">% calculates jerk jerk=d(acc)/dt                size(jerk)=1x98   </span>

</code></pre></div><p>And then operations like:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>x <span class="token operator">=</span> jerk <span class="token operator">.*</span> t<span class="token punctuation">;</span>          <span class="token comment">% multiplies jerk and t element wise</span>

</code></pre></div><p>return errors, because the matrix dimensions do not agree.</p> <p>To calculate operations like above you have to adjust the bigger array size to fit the smaller one. You could also run a regression (<code>polyfit</code>) with your data to get a polynomial for your data.</p> <h3 id="dimension-mismatch-errors"><a href="#dimension-mismatch-errors" class="header-anchor">#</a> Dimension Mismatch Errors</h3> <p><strong>Dimension mismatch</strong> errors typically appear when:</p> <ul><li>Not paying attention to the shape of returned variables from function/method calls. In many inbuilt MATLAB functions, matrices are converted into vectors to speed up the calculations, and the returned variable might still be a vector rather than the matrix we expected. This is also a common scenario when <a href="http://stackoverflow.com/documentation/matlab/750/vectorization/9514/logical-masking#t=20170124102350965011" target="_blank" rel="noopener noreferrer">logical masking<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is involved.</li> <li>Using incompatible array sizes while invoking <a href="http://stackoverflow.com/documentation/matlab/750/vectorization/23082/implicit-array-expansion-broadcasting-r2016b#t=201701240947543973603" target="_blank" rel="noopener noreferrer">implicit array expansion<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/matlab/common-mistakes-and-errors.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/matlab/useful-tricks.html" class="prev">
        Useful tricks
      </a></span> <span class="next"><a href="/matlab/programming-utilities.html">
        Programming Utilities
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1909.3da8db28.js" defer></script>
  </body>
</html>
