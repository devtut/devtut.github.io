<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MATLAB - Useful tricks</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Code Folding Preferences, Extract figure data, Functional Programming using Anonymous Functions, Save multiple figures to the same .fig file, Useful functions that operate on cells and arrays, Comment blocks">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="MATLAB - Useful tricks">
    <meta property="og:description" content="Code Folding Preferences, Extract figure data, Functional Programming using Anonymous Functions, Save multiple figures to the same .fig file, Useful functions that operate on cells and arrays, Comment blocks">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/matlab/useful-tricks.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="MATLAB - Useful tricks">
    <meta name="twitter:description" content="Code Folding Preferences, Extract figure data, Functional Programming using Anonymous Functions, Save multiple figures to the same .fig file, Useful functions that operate on cells and arrays, Comment blocks">
    <meta name="twitter:url" content="/matlab/useful-tricks.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1940.62ada812.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MATLAB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/matlab/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/matlab/getting-started-with-matlab-language.html" class="sidebar-link">Getting started with MATLAB Language</a></li><li><a href="/matlab/initializing-matrices-or-arrays.html" class="sidebar-link">Initializing Matrices or arrays</a></li><li><a href="/matlab/conditions.html" class="sidebar-link">Conditions</a></li><li><a href="/matlab/functions.html" class="sidebar-link">Functions</a></li><li><a href="/matlab/set-operations.html" class="sidebar-link">Set operations</a></li><li><a href="/matlab/documenting-functions.html" class="sidebar-link">Documenting functions</a></li><li><a href="/matlab/using-functions-with-logical-output.html" class="sidebar-link">Using functions with logical output</a></li><li><a href="/matlab/for-loops.html" class="sidebar-link">For loops</a></li><li><a href="/matlab/object-oriented-programming.html" class="sidebar-link">Object-Oriented Programming</a></li><li><a href="/matlab/vectorization.html" class="sidebar-link">Vectorization</a></li><li><a href="/matlab/matrix-decompositions.html" class="sidebar-link">Matrix decompositions</a></li><li><a href="/matlab/graphics-2d-line-plots.html" class="sidebar-link">Graphics: 2D Line Plots</a></li><li><a href="/matlab/graphics-2d-and-3d-transformations.html" class="sidebar-link">Graphics: 2D and 3D Transformations</a></li><li><a href="/matlab/controlling-subplot-coloring-in-matlab.html" class="sidebar-link">Controlling Subplot coloring in Matlab</a></li><li><a href="/matlab/image-processing.html" class="sidebar-link">Image processing</a></li><li><a href="/matlab/drawing.html" class="sidebar-link">Drawing</a></li><li><a href="/matlab/financial-applications.html" class="sidebar-link">Financial Applications</a></li><li><a href="/matlab/fourier-transforms-and-inverse-fourier-transforms.html" class="sidebar-link">Fourier Transforms and Inverse Fourier Transforms</a></li><li><a href="/matlab/ordinary-differential-equations-ode-solvers.html" class="sidebar-link">Ordinary Differential Equations (ODE) Solvers</a></li><li><a href="/matlab/interpolation-with-matlab.html" class="sidebar-link">Interpolation with MATLAB</a></li><li><a href="/matlab/integration.html" class="sidebar-link">Integration</a></li><li><a href="/matlab/reading-large-files.html" class="sidebar-link">Reading large files</a></li><li><a href="/matlab/usage-of-accumarray-function.html" class="sidebar-link">Usage of accumarray() Function</a></li><li><a href="/matlab/introduction-to-mex-api.html" class="sidebar-link">Introduction to MEX API</a></li><li><a href="/matlab/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/matlab/performance-and-benchmarking.html" class="sidebar-link">Performance and Benchmarking</a></li><li><a href="/matlab/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/matlab/using-serial-ports.html" class="sidebar-link">Using serial ports</a></li><li><a href="/matlab/undocumented-features.html" class="sidebar-link">Undocumented Features</a></li><li><a href="/matlab/matlab-best-practices.html" class="sidebar-link">MATLAB Best Practices</a></li><li><a href="/matlab/matlab-user-interfaces.html" class="sidebar-link">MATLAB User Interfaces</a></li><li><a href="/matlab/useful-tricks.html" aria-current="page" class="active sidebar-link">Useful tricks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/matlab/useful-tricks.html#code-folding-preferences" class="sidebar-link">Code Folding Preferences</a></li><li class="sidebar-sub-header"><a href="/matlab/useful-tricks.html#extract-figure-data" class="sidebar-link">Extract figure data</a></li><li class="sidebar-sub-header"><a href="/matlab/useful-tricks.html#functional-programming-using-anonymous-functions" class="sidebar-link">Functional Programming using Anonymous Functions</a></li><li class="sidebar-sub-header"><a href="/matlab/useful-tricks.html#save-multiple-figures-to-the-same-fig-file" class="sidebar-link">Save multiple figures to the same .fig file</a></li><li class="sidebar-sub-header"><a href="/matlab/useful-tricks.html#useful-functions-that-operate-on-cells-and-arrays" class="sidebar-link">Useful functions that operate on cells and arrays</a></li><li class="sidebar-sub-header"><a href="/matlab/useful-tricks.html#comment-blocks" class="sidebar-link">Comment blocks</a></li></ul></li><li><a href="/matlab/common-mistakes-and-errors.html" class="sidebar-link">Common mistakes and errors</a></li><li><a href="/matlab/programming-utilities.html" class="sidebar-link">Programming Utilities</a></li><li><a href="/matlab/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="useful-tricks"><a href="#useful-tricks" class="header-anchor">#</a> Useful tricks</h1> <h2 id="code-folding-preferences"><a href="#code-folding-preferences" class="header-anchor">#</a> Code Folding Preferences</h2> <p>It is possible to change Code Folding preference to suit your need. Thus code folding can be set  enable/unable for specific constructs (ex: <code>if block</code>, <code>for loop</code>, <code>Sections</code> ...).</p> <p>To change folding preferences, go to Preferences -&gt; Code Folding:</p> <p><a href="https://i.stack.imgur.com/lt9Bl.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/lt9Bl.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Then you can choose which part of the code can be folded.</p> <p>Some information:</p> <li>Note that you can also expand or collapse all of the code in a file
by placing your cursor anywhere within the file, right-click, and then select Code Folding &gt; Expand All or Code Folding &gt; Fold All from the context menu.</li>
- Note that folding is persistent, in the sense that part of the code that has been expanded/collapsed will keep their status after Matlab or the m-file has been closed and is re-open.
<blockquote></blockquote> <p><strong>Example: To enable folding for sections:</strong></p><p>An interesting option is to enable to fold Sections. Sections are delimited
by two percent signs (<code>%%</code>).</p>
Example: To enable it check the &quot;Sections&quot; box:
<a href="https://i.stack.imgur.com/BIDRU.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/BIDRU.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
Then instead of seeing a long source code similar to :
<a href="https://i.stack.imgur.com/6M3Co.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/6M3Co.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <p>You will be able to fold sections to have a general overview of your
code : <a href="https://i.stack.imgur.com/1UiIR.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/1UiIR.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p><p></p> <h2 id="extract-figure-data"><a href="#extract-figure-data" class="header-anchor">#</a> Extract figure data</h2> <p>On a few occasions, I have had an interesting figure I saved but I lost an access to its data. This example shows a trick how to achieve extract information from a figure.</p> <p>The key functions are <a href="http://uk.mathworks.com/help/matlab/ref/findobj.html?requestedDomain=www.mathworks.com" target="_blank" rel="noopener noreferrer">findobj<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://uk.mathworks.com/help/matlab/ref/com.get.html" target="_blank" rel="noopener noreferrer">get<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. <a href="http://uk.mathworks.com/help/matlab/ref/findobj.html?requestedDomain=www.mathworks.com" target="_blank" rel="noopener noreferrer">findobj<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns a handler to an object given attributes or properties of the object, such as <code>Type</code> or <code>Color</code>, etc. Once a line object has been found, <a href="http://uk.mathworks.com/help/matlab/ref/com.get.html" target="_blank" rel="noopener noreferrer">get<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> can return any value held by properties. It turns out that the <code>Line</code> objects hold all data in following properties: <code>XData</code>, <code>YData</code>, and <code>ZData</code>; the last one is usually 0 unless a figure contains a 3D plot.</p> <p>The following code creates an example figure that shows two lines a sin function and a threshold and a legend</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">10</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">'</span><span class="token punctuation">;</span>
y <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="token keyword">pi</span><span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">plot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
hold on<span class="token punctuation">;</span>
<span class="token function">plot</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0.9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'k-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hold off<span class="token punctuation">;</span>
<span class="token function">legend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'sin'</span> <span class="token string">'threshold'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The first use of <a href="http://uk.mathworks.com/help/matlab/ref/findobj.html?requestedDomain=www.mathworks.com" target="_blank" rel="noopener noreferrer">findobj<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns two handlers to both lines:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">findobj</span><span class="token punctuation">(</span>gcf<span class="token punctuation">,</span> <span class="token string">'Type'</span><span class="token punctuation">,</span> <span class="token string">'Line'</span><span class="token punctuation">)</span>
ans <span class="token operator">=</span> 
  <span class="token number">2</span>x1 Line array<span class="token operator">:</span>

  <span class="token function">Line</span>    <span class="token punctuation">(</span>threshold<span class="token punctuation">)</span>
  <span class="token function">Line</span>    <span class="token punctuation">(</span>sin<span class="token punctuation">)</span>

</code></pre></div><p>To narrow the result, <a href="http://uk.mathworks.com/help/matlab/ref/findobj.html?requestedDomain=www.mathworks.com" target="_blank" rel="noopener noreferrer">findobj<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> can also use combination of logical operators <code>-and</code>, <code>-or</code> and property names. For instance, I can find a line object whose <code>DiplayName</code> is <code>sin</code> and read its <code>XData</code> and <code>YData</code>.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>lineh <span class="token operator">=</span> <span class="token function">findobj</span><span class="token punctuation">(</span>gcf<span class="token punctuation">,</span> <span class="token string">'Type'</span><span class="token punctuation">,</span> <span class="token string">'Line'</span><span class="token punctuation">,</span> <span class="token string">'-and'</span><span class="token punctuation">,</span> <span class="token string">'DisplayName'</span><span class="token punctuation">,</span> <span class="token string">'sin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xdata <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>lineh<span class="token punctuation">,</span> <span class="token string">'XData'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ydata <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>lineh<span class="token punctuation">,</span> <span class="token string">'YData'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>and check if the data are equal.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">isequal</span><span class="token punctuation">(</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">xdata</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ans <span class="token operator">=</span>
     <span class="token number">1</span>
<span class="token function">isequal</span><span class="token punctuation">(</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ydata</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ans <span class="token operator">=</span>
     <span class="token number">1</span>

</code></pre></div><p>Similarly, I can narrow my results by excluding the black line (threshold):</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>lineh <span class="token operator">=</span> <span class="token function">findobj</span><span class="token punctuation">(</span>gcf<span class="token punctuation">,</span> <span class="token string">'Type'</span><span class="token punctuation">,</span> <span class="token string">'Line'</span><span class="token punctuation">,</span> <span class="token string">'-not'</span><span class="token punctuation">,</span> <span class="token string">'Color'</span><span class="token punctuation">,</span> <span class="token string">'k'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xdata <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>lineh<span class="token punctuation">,</span> <span class="token string">'XData'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ydata <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>lineh<span class="token punctuation">,</span> <span class="token string">'YData'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>and last check confirms that data extracted from this figure are the same:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">isequal</span><span class="token punctuation">(</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">xdata</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ans <span class="token operator">=</span>
     <span class="token number">1</span>
<span class="token function">isequal</span><span class="token punctuation">(</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ydata</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ans <span class="token operator">=</span>
     <span class="token number">1</span>

</code></pre></div><h2 id="functional-programming-using-anonymous-functions"><a href="#functional-programming-using-anonymous-functions" class="header-anchor">#</a> Functional Programming using Anonymous Functions</h2> <p>Anonymous functions can be used for functional programming. The main problem to solve is that there is no native way for anchoring a recursion, but this can still be implemented in a single line:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>if_ <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>bool<span class="token punctuation">,</span> tf<span class="token punctuation">)</span> tf<span class="token punctuation">{</span><span class="token number">2</span><span class="token operator">-</span>bool<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This function accepts a boolean value and a cell array of two functions. The first of those functions is evaluated if the boolean value evaluates as true, and the second one if the boolean value evaluates as false. We can easily write the factorial function now:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>fac <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>f<span class="token punctuation">)</span> <span class="token function">if_</span><span class="token punctuation">(</span>n<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">@</span><span class="token punctuation">(</span><span class="token punctuation">)</span>n<span class="token operator">*</span><span class="token function">f</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">@</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The problem here is that we cannot directly invoke a recursive call, as the function is not yet assigned to a variable when the right hand side is evaluated. We can however complete this step by writing</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>factorial_ <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token function">fac</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>fac<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Now <code>@(n)fac(n,fac)</code> evaulates the factorial function recursively. Another way to do this in functional programming using a y-combinator, which also can easily be implemented:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>y_ <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token operator">@</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>With this tool, the factorial function is even shorter:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>factorial_ <span class="token operator">=</span> <span class="token function">y_</span><span class="token punctuation">(</span>fac<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Or directly:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>factorial_ <span class="token operator">=</span> <span class="token function">y_</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>f<span class="token punctuation">)</span> <span class="token function">if_</span><span class="token punctuation">(</span>n<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">@</span><span class="token punctuation">(</span><span class="token punctuation">)</span>n<span class="token operator">*</span><span class="token function">f</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">@</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="save-multiple-figures-to-the-same-fig-file"><a href="#save-multiple-figures-to-the-same-fig-file" class="header-anchor">#</a> Save multiple figures to the same .fig file</h2> <p>By putting multiple figure handles into a graphics array, multiple figures can be saved to the same .fig file</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">h</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> figure<span class="token punctuation">;</span>
<span class="token function">scatter</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">h</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> figure<span class="token punctuation">;</span>
<span class="token function">scatter</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">h</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> figure<span class="token punctuation">;</span>
<span class="token function">scatter</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">savefig</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span><span class="token string">'ThreeRandomScatterplots.fig'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">close</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This creates 3 scatterplots of random data, each part of graphic array h.  Then the graphics array can be saved using savefig like with a normal figure, but with the handle to the graphics array as an additional argument.</p> <p>An interesting side note is that the figures will tend to stay arranged in the same way that they were saved when you open them.</p> <h2 id="useful-functions-that-operate-on-cells-and-arrays"><a href="#useful-functions-that-operate-on-cells-and-arrays" class="header-anchor">#</a> Useful functions that operate on cells and arrays</h2> <p>This simple example provides an explanation on some functions I found extremely useful since I have started using MATLAB: <code>cellfun</code>, <code>arrayfun</code>. The idea is to take an array or cell class variable, loop through all its elements and apply a dedicated function on each element. An applied function can either be anonymous, which is usually a case, or any regular function define in a *.m file.</p> <p>Let's start with a simple problem and say we need to find a list of *.mat files given the folder. For this example, first let's create some *.mat files in a current folder:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token keyword">for</span> n<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token string">'mymatfile%d.mat'</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">end</span>

</code></pre></div><p>After executing the code, there should be 10 new files with extension *.mat. If we run a command to list all *.mat files, such as:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>mydir <span class="token operator">=</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">'*.mat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>we should get an array of elements of a dir structure; MATLAB should give a similar output to this one:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token number">10</span>x1 struct array with fields<span class="token operator">:</span>
    name
    date
    bytes
    isdir
    datenum

</code></pre></div><p>As you can see each element of this array is a structure with couple of fields. All information are indeed important regarding each file but in 99% I am rather interested in file names and nothing else. To extract information from a structure array, I used to create a local function that would involve creating temporal variables of a correct size, for loops, extracting a name from each element, and save it to created variable. Much easier way to achieve exactly the same result is to use one of the aforementioned functions:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>mydirlist <span class="token operator">=</span> <span class="token function">arrayfun</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">'*.mat'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'UniformOutput'</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span>
mydirlist <span class="token operator">=</span> 
    <span class="token string">'mymatfile1.mat'</span>
    <span class="token string">'mymatfile10.mat'</span>
    <span class="token string">'mymatfile2.mat'</span>
    <span class="token string">'mymatfile3.mat'</span>
    <span class="token string">'mymatfile4.mat'</span>
    <span class="token string">'mymatfile5.mat'</span>
    <span class="token string">'mymatfile6.mat'</span>
    <span class="token string">'mymatfile7.mat'</span>
    <span class="token string">'mymatfile8.mat'</span>
    <span class="token string">'mymatfile9.mat'</span>

</code></pre></div><p>How this function works? It usually takes two parameters: a function handle as the first parameter and an array. A function will then operate on each element of a given array. The third and fourth parameters are optional but important. If we know that an output will not be regular, it must be saved in cell. This must be point out setting <code>false</code> to <code>UniformOutput</code>. By default this function attempts to return a regular output such as a vector of numbers. For instance, let's extract information about how much of disc space is taken by each file in bytes:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>mydirbytes <span class="token operator">=</span> <span class="token function">arrayfun</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">'*.mat'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
mydirbytes <span class="token operator">=</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>
       <span class="token number">34560</span>

</code></pre></div><p>or kilobytes:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>mydirbytes <span class="token operator">=</span> <span class="token function">arrayfun</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token punctuation">.</span>bytes<span class="token operator">/</span><span class="token number">1024</span><span class="token punctuation">,</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">'*.mat'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
mydirbytes <span class="token operator">=</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>
   <span class="token number">33.7500</span>

</code></pre></div><p>This time the output is a regular vector of double. <code>UniformOutput</code> was set to <code>true</code> by default.</p> <p><code>cellfun</code> is a similar function. The difference between this function and <code>arrayfun</code> is that <code>cellfun</code> operates on cell class variables. If we wish to extract only names given a list of file names in a cell 'mydirlist', we would just need to run this function as follows:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>mydirnames <span class="token operator">=</span> <span class="token function">cellfun</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token keyword">end</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mydirlist<span class="token punctuation">,</span> <span class="token string">'UniformOutput'</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span>
mydirnames <span class="token operator">=</span> 
    <span class="token string">'mymatfile1'</span>
    <span class="token string">'mymatfile10'</span>
    <span class="token string">'mymatfile2'</span>
    <span class="token string">'mymatfile3'</span>
    <span class="token string">'mymatfile4'</span>
    <span class="token string">'mymatfile5'</span>
    <span class="token string">'mymatfile6'</span>
    <span class="token string">'mymatfile7'</span>
    <span class="token string">'mymatfile8'</span>
    <span class="token string">'mymatfile9'</span>

</code></pre></div><p>Again, as an output is not a regular vector of numbers, an output must be saved in a cell variable.</p> <p>In the example below, I combine two functions in one and return only a list of file names without an extension:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">cellfun</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token keyword">end</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">arrayfun</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">'*.mat'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'UniformOutput'</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'UniformOutput'</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span>
ans <span class="token operator">=</span> 
    <span class="token string">'mymatfile1'</span>
    <span class="token string">'mymatfile10'</span>
    <span class="token string">'mymatfile2'</span>
    <span class="token string">'mymatfile3'</span>
    <span class="token string">'mymatfile4'</span>
    <span class="token string">'mymatfile5'</span>
    <span class="token string">'mymatfile6'</span>
    <span class="token string">'mymatfile7'</span>
    <span class="token string">'mymatfile8'</span>
    <span class="token string">'mymatfile9'</span>

</code></pre></div><p>It is crazy but very possible because <code>arrayfun</code> returns a cell which is expected input of <code>cellfun</code>; a side note to this is that we can force any of those functions to return results in a cell variable by setting <code>UniformOutput</code> to false, explicitly. We can always get results in a cell. We may not be able to get results in a regular vector.</p> <p>There is one more similar function that operates on fields a structure: <code>structfun</code>. I have not particularly found it as useful as the other two but it would shine in some situations. If for instance one would like to know which fields are numeric or non-numeric, the following code can give the answer:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token function">structfun</span><span class="token punctuation">(</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token function">ischar</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mydir</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>The first and the second field of a dir structure is of a char type. Therefore, the output is:</p> <div class="language- extra-class"><pre class="language-text"><code>
1
 1
 0
 0
 0

</code></pre></div><p>Also, the output is a logical vector of <code>true</code> / <code>false</code>. Consequently, it is regular and can be saved in a vector; no need to use a cell class.</p> <h2 id="comment-blocks"><a href="#comment-blocks" class="header-anchor">#</a> Comment blocks</h2> <p>If you want to comment part of your code, then comment blocks may be useful. Comment block starts with a <code>%{</code> in a new line and ends with <code>%}</code> in another new line:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">%{</span>
c <span class="token operator">=</span> a<span class="token operator">*</span>b<span class="token punctuation">;</span>
d <span class="token operator">=</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>
<span class="token comment">%}</span>

</code></pre></div><p>This allows you fo fold the sections that you commented to make the code more clean and compact.</p> <p>These blocks are also useful for toggling on/off parts of your code. All you have to do to uncomment the block is add another <code>%</code> before it strats:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">%%{ &lt;-- another % over here</span>
c <span class="token operator">=</span> a<span class="token operator">*</span>b<span class="token punctuation">;</span>
d <span class="token operator">=</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>
<span class="token comment">%}</span>

</code></pre></div><p>Sometimes you want to comment out a section of the code, but without affecting its indentation:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token keyword">for</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span>a
    b <span class="token operator">=</span> b<span class="token operator">*</span>k<span class="token punctuation">;</span>
    c <span class="token operator">=</span> c<span class="token operator">-</span>b<span class="token punctuation">;</span>
    d <span class="token operator">=</span> d<span class="token operator">*</span>c<span class="token punctuation">;</span>
    <span class="token function">disp</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre></div><p>Usually, when you mark a block of code and press Ctrl+r for commenting it out (by that adding the <code>%</code> automatically to all lines, then when you press later Ctrl+i for auto indentation, the block of code moves from its correct hierarchical place, and moved too much to the right:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token keyword">for</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span>a
    b <span class="token operator">=</span> b<span class="token operator">*</span>k<span class="token punctuation">;</span>
    <span class="token comment">%     c = c-b;</span>
    <span class="token comment">%     d = d*c;</span>
    <span class="token function">disp</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre></div><p>A way to solve this is to use comment blocks, so the inner part of the block stays correctly indented:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token keyword">for</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span>a
    b <span class="token operator">=</span> b<span class="token operator">*</span>k<span class="token punctuation">;</span>
    <span class="token comment">%{</span>
    c <span class="token operator">=</span> c<span class="token operator">-</span>b<span class="token punctuation">;</span>
    d <span class="token operator">=</span> d<span class="token operator">*</span>c<span class="token punctuation">;</span>
    <span class="token comment">%}</span>
    <span class="token function">disp</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/matlab/useful-tricks.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/matlab/matlab-user-interfaces.html" class="prev">
        MATLAB User Interfaces
      </a></span> <span class="next"><a href="/matlab/common-mistakes-and-errors.html">
        Common mistakes and errors
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1940.62ada812.js" defer></script>
  </body>
</html>
