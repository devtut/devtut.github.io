<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MATLAB - Image processing</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Basic image I/O, Retrieve Images from the Internet, Filtering Using a 2D FFT, Image Filtering, Measuring Properties of Connected Regions">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="MATLAB - Image processing">
    <meta property="og:description" content="Basic image I/O, Retrieve Images from the Internet, Filtering Using a 2D FFT, Image Filtering, Measuring Properties of Connected Regions">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/matlab/image-processing.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="MATLAB - Image processing">
    <meta name="twitter:description" content="Basic image I/O, Retrieve Images from the Internet, Filtering Using a 2D FFT, Image Filtering, Measuring Properties of Connected Regions">
    <meta name="twitter:url" content="/matlab/image-processing.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1923.4a80c51f.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MATLAB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/matlab/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/matlab/getting-started-with-matlab-language.html" class="sidebar-link">Getting started with MATLAB Language</a></li><li><a href="/matlab/initializing-matrices-or-arrays.html" class="sidebar-link">Initializing Matrices or arrays</a></li><li><a href="/matlab/conditions.html" class="sidebar-link">Conditions</a></li><li><a href="/matlab/functions.html" class="sidebar-link">Functions</a></li><li><a href="/matlab/set-operations.html" class="sidebar-link">Set operations</a></li><li><a href="/matlab/documenting-functions.html" class="sidebar-link">Documenting functions</a></li><li><a href="/matlab/using-functions-with-logical-output.html" class="sidebar-link">Using functions with logical output</a></li><li><a href="/matlab/for-loops.html" class="sidebar-link">For loops</a></li><li><a href="/matlab/object-oriented-programming.html" class="sidebar-link">Object-Oriented Programming</a></li><li><a href="/matlab/vectorization.html" class="sidebar-link">Vectorization</a></li><li><a href="/matlab/matrix-decompositions.html" class="sidebar-link">Matrix decompositions</a></li><li><a href="/matlab/graphics-2d-line-plots.html" class="sidebar-link">Graphics: 2D Line Plots</a></li><li><a href="/matlab/graphics-2d-and-3d-transformations.html" class="sidebar-link">Graphics: 2D and 3D Transformations</a></li><li><a href="/matlab/controlling-subplot-coloring-in-matlab.html" class="sidebar-link">Controlling Subplot coloring in Matlab</a></li><li><a href="/matlab/image-processing.html" aria-current="page" class="active sidebar-link">Image processing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/matlab/image-processing.html#basic-image-i-o" class="sidebar-link">Basic image I/O</a></li><li class="sidebar-sub-header"><a href="/matlab/image-processing.html#retrieve-images-from-the-internet" class="sidebar-link">Retrieve Images from the Internet</a></li><li class="sidebar-sub-header"><a href="/matlab/image-processing.html#filtering-using-a-2d-fft" class="sidebar-link">Filtering Using a 2D FFT</a></li><li class="sidebar-sub-header"><a href="/matlab/image-processing.html#image-filtering" class="sidebar-link">Image Filtering</a></li><li class="sidebar-sub-header"><a href="/matlab/image-processing.html#measuring-properties-of-connected-regions" class="sidebar-link">Measuring Properties of Connected Regions</a></li></ul></li><li><a href="/matlab/drawing.html" class="sidebar-link">Drawing</a></li><li><a href="/matlab/financial-applications.html" class="sidebar-link">Financial Applications</a></li><li><a href="/matlab/fourier-transforms-and-inverse-fourier-transforms.html" class="sidebar-link">Fourier Transforms and Inverse Fourier Transforms</a></li><li><a href="/matlab/ordinary-differential-equations-ode-solvers.html" class="sidebar-link">Ordinary Differential Equations (ODE) Solvers</a></li><li><a href="/matlab/interpolation-with-matlab.html" class="sidebar-link">Interpolation with MATLAB</a></li><li><a href="/matlab/integration.html" class="sidebar-link">Integration</a></li><li><a href="/matlab/reading-large-files.html" class="sidebar-link">Reading large files</a></li><li><a href="/matlab/usage-of-accumarray-function.html" class="sidebar-link">Usage of accumarray() Function</a></li><li><a href="/matlab/introduction-to-mex-api.html" class="sidebar-link">Introduction to MEX API</a></li><li><a href="/matlab/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/matlab/performance-and-benchmarking.html" class="sidebar-link">Performance and Benchmarking</a></li><li><a href="/matlab/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/matlab/using-serial-ports.html" class="sidebar-link">Using serial ports</a></li><li><a href="/matlab/undocumented-features.html" class="sidebar-link">Undocumented Features</a></li><li><a href="/matlab/matlab-best-practices.html" class="sidebar-link">MATLAB Best Practices</a></li><li><a href="/matlab/matlab-user-interfaces.html" class="sidebar-link">MATLAB User Interfaces</a></li><li><a href="/matlab/useful-tricks.html" class="sidebar-link">Useful tricks</a></li><li><a href="/matlab/common-mistakes-and-errors.html" class="sidebar-link">Common mistakes and errors</a></li><li><a href="/matlab/programming-utilities.html" class="sidebar-link">Programming Utilities</a></li><li><a href="/matlab/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="image-processing"><a href="#image-processing" class="header-anchor">#</a> Image processing</h1> <h2 id="basic-image-i-o"><a href="#basic-image-i-o" class="header-anchor">#</a> Basic image I/O</h2> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> img <span class="token operator">=</span> <span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'football.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Use <a href="http://www.mathworks.com/help/matlab/ref/imread.html" target="_blank" rel="noopener noreferrer"><code>imread</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to read image files into a matrix in MATLAB.<br>
Once you <code>imread</code> an image, it is stored as an ND-array in memory:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">size</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
ans <span class="token operator">=</span>
 <span class="token number">256</span>   <span class="token number">320</span>     <span class="token number">3</span>

</code></pre></div><p>The image <code>'football.jpg'</code> has 256 rows and 320 columns and it has 3 color channels: Red, Green and Blue.</p> <p>You can now mirror it:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> mirrored <span class="token operator">=</span> <span class="token function">img</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span> <span class="token keyword">end</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">%// like mirroring any ND-array in Matlab</span>

</code></pre></div><p>And finally, write it back as an image using <a href="http://www.mathworks.com/help/matlab/ref/imwrite.html" target="_blank" rel="noopener noreferrer"><code>imwrite</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">imwrite</span><span class="token punctuation">(</span>mirrored<span class="token punctuation">,</span> <span class="token string">'mirrored_football.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="retrieve-images-from-the-internet"><a href="#retrieve-images-from-the-internet" class="header-anchor">#</a> Retrieve Images from the Internet</h2> <p>As long as you have an internet connection, you can read images from an hyperlink</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>I<span class="token operator">=</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'https://cdn.sstatic.net/Sites/stackoverflow/company/img/logos/so/so-logo.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="filtering-using-a-2d-fft"><a href="#filtering-using-a-2d-fft" class="header-anchor">#</a> Filtering Using a 2D FFT</h2> <p>Like for 1D signals, it's possible to filter images by applying a Fourier transformation, multiplying with a filter in the frequency domain, and transforming back into the space domain. Here is how you can apply high- or low-pass filters to an image with Matlab:</p> <p>Let <code>image</code> be the original, unfiltered image, here's how to compute its 2D FFT:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>ft <span class="token operator">=</span> <span class="token function">fftshift</span><span class="token punctuation">(</span><span class="token function">fft2</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Now to exclude a part of the spectrum, one need to set its pixel values to 0. The spatial frequency contained in the original image is mapped from the center to the edges (after using <code>fftshift</code>). To exclude the low frequencies, we will set the central circular area to 0.</p> <p>Here's how to generate a disc-shaped binary mask with radius <code>D</code> using built-in function:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token punctuation">[</span>x y <span class="token operator">~</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span><span class="token punctuation">;</span>
D <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
mask <span class="token operator">=</span> <span class="token function">fspecial</span><span class="token punctuation">(</span><span class="token string">'disk'</span><span class="token punctuation">,</span> D<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
mask <span class="token operator">=</span> <span class="token function">imresize</span><span class="token punctuation">(</span><span class="token function">padarray</span><span class="token punctuation">(</span>mask<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span>D<span class="token punctuation">)</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>y<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span>D<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'both'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>x y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Masking the frequency domain image can be done by multiplying the FFT point-wise with the binary mask obtained above:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>masked_ft <span class="token operator">=</span> ft <span class="token operator">.*</span> mask<span class="token punctuation">;</span>

</code></pre></div><p>Now, let's compute the inverse FFT:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code>filtered_image <span class="token operator">=</span> <span class="token function">ifft2</span><span class="token punctuation">(</span><span class="token function">ifftshift</span><span class="token punctuation">(</span>masked_ft<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'symmetric'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The high frequencies in an image are the sharp edges, so this high-pass filter can be used to sharpen images.</p> <h2 id="image-filtering"><a href="#image-filtering" class="header-anchor">#</a> Image Filtering</h2> <p>Let's say you have an image <code>rgbImg</code>, e.g., read in using <code>imread</code>.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> rgbImg <span class="token operator">=</span> <span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'pears.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> figure<span class="token punctuation">,</span> <span class="token function">imshow</span><span class="token punctuation">(</span>rgbImg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'Original Image'</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/Qf9Zo.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/Qf9Zo.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Use <a href="http://mathworks.com/help/images/ref/fspecial.html" target="_blank" rel="noopener noreferrer"><code>fspecial</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to create a 2D filter:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> h <span class="token operator">=</span> <span class="token function">fspecial</span><span class="token punctuation">(</span><span class="token string">'disk'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> figure<span class="token punctuation">,</span> <span class="token function">imshow</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'Filter'</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/5xoxY.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/5xoxY.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Use <a href="http://mathworks.com/help/images/ref/imfilter.html" target="_blank" rel="noopener noreferrer"><code>imfilter</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to apply the filter on the image:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> filteredRgbImg <span class="token operator">=</span> <span class="token function">imfilter</span><span class="token punctuation">(</span>rgbImg<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> figure<span class="token punctuation">,</span> <span class="token function">imshow</span><span class="token punctuation">(</span>filteredRgbImg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'Filtered Image'</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/BYBMM.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/BYBMM.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="measuring-properties-of-connected-regions"><a href="#measuring-properties-of-connected-regions" class="header-anchor">#</a> Measuring Properties of Connected Regions</h2> <p>Starting with a binary image, <code>bwImg</code>, which contains a number of connected objects.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> bwImg <span class="token operator">=</span> <span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">'blobs.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> figure<span class="token punctuation">,</span> <span class="token function">imshow</span><span class="token punctuation">(</span>bwImg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'Binary Image'</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/HGUk8.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/HGUk8.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>To measure properties (e.g., area, centroid, etc) of every object in the image, use <a href="http://uk.mathworks.com/help/images/ref/regionprops.html" target="_blank" rel="noopener noreferrer"><code>regionprops</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> stats <span class="token operator">=</span> <span class="token function">regionprops</span><span class="token punctuation">(</span>bwImg<span class="token punctuation">,</span> <span class="token string">'Area'</span><span class="token punctuation">,</span> <span class="token string">'Centroid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><code>stats</code> is a struct array which contains a struct for every object in the image. Accessing a measured property of an object is simple. For example, to display the area of the first object, simply,</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">stats</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Area

ans <span class="token operator">=</span>

    <span class="token number">35</span>

</code></pre></div><p>Visualize the object centroids by overlaying them on the original image.</p> <div class="language-matlab extra-class"><pre class="language-matlab"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span> figure<span class="token punctuation">,</span> <span class="token function">imshow</span><span class="token punctuation">(</span>bwImg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'Binary Image With Centroids Overlaid'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> hold on
<span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token function">size</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span>
<span class="token function">scatter</span><span class="token punctuation">(</span><span class="token function">stats</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Centroid</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">stats</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Centroid</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'filled'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/ajWes.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/ajWes.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/matlab/image-processing.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/matlab/controlling-subplot-coloring-in-matlab.html" class="prev">
        Controlling Subplot coloring in Matlab
      </a></span> <span class="next"><a href="/matlab/drawing.html">
        Drawing
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1923.4a80c51f.js" defer></script>
  </body>
</html>
