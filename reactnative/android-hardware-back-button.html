<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Native - Android - Hardware Back Button</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Detect Hardware back button presses in Android, Example of BackAndroid along with Navigator, Example of Hardware back button detection using BackHandler, Hardware back button handling using BackHandler and Navigation Properties (without using deprecated BackAndroid & deprecated Navigator)">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="React Native - Android - Hardware Back Button">
    <meta property="og:description" content="Detect Hardware back button presses in Android, Example of BackAndroid along with Navigator, Example of Hardware back button detection using BackHandler, Hardware back button handling using BackHandler and Navigation Properties (without using deprecated BackAndroid & deprecated Navigator)">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/reactnative/android-hardware-back-button.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="React Native - Android - Hardware Back Button">
    <meta name="twitter:description" content="Detect Hardware back button presses in Android, Example of BackAndroid along with Navigator, Example of Hardware back button detection using BackHandler, Hardware back button handling using BackHandler and Navigation Properties (without using deprecated BackAndroid & deprecated Navigator)">
    <meta name="twitter:url" content="/reactnative/android-hardware-back-button.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/3017.103ca500.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React Native</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reactnative/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/reactnative/getting-started-with-react-native.html" class="sidebar-link">Getting started with react-native</a></li><li><a href="/reactnative/hello-world.html" class="sidebar-link">Hello World</a></li><li><a href="/reactnative/props.html" class="sidebar-link">Props</a></li><li><a href="/reactnative/multiple-props-rendering.html" class="sidebar-link">Multiple props rendering</a></li><li><a href="/reactnative/modal.html" class="sidebar-link">Modal</a></li><li><a href="/reactnative/state.html" class="sidebar-link">State</a></li><li><a href="/reactnative/routing.html" class="sidebar-link">Routing</a></li><li><a href="/reactnative/styling.html" class="sidebar-link">Styling</a></li><li><a href="/reactnative/layout.html" class="sidebar-link">Layout</a></li><li><a href="/reactnative/components.html" class="sidebar-link">Components</a></li><li><a href="/reactnative/listview.html" class="sidebar-link">ListView</a></li><li><a href="/reactnative/refreshcontrol-with-listview.html" class="sidebar-link">RefreshControl with ListView</a></li><li><a href="/reactnative/webview.html" class="sidebar-link">WebView</a></li><li><a href="/reactnative/command-line-instructions.html" class="sidebar-link">Command Line Instructions</a></li><li><a href="/reactnative/http-requests.html" class="sidebar-link">HTTP Requests</a></li><li><a href="/reactnative/platform-module.html" class="sidebar-link">Platform Module</a></li><li><a href="/reactnative/images.html" class="sidebar-link">Images</a></li><li><a href="/reactnative/custom-fonts.html" class="sidebar-link">Custom Fonts</a></li><li><a href="/reactnative/animation-api.html" class="sidebar-link">Animation API</a></li><li><a href="/reactnative/android-hardware-back-button.html" aria-current="page" class="active sidebar-link">Android - Hardware Back Button</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reactnative/android-hardware-back-button.html#detect-hardware-back-button-presses-in-android" class="sidebar-link">Detect Hardware back button presses in Android</a></li><li class="sidebar-sub-header"><a href="/reactnative/android-hardware-back-button.html#example-of-backandroid-along-with-navigator" class="sidebar-link">Example of BackAndroid along with Navigator</a></li><li class="sidebar-sub-header"><a href="/reactnative/android-hardware-back-button.html#example-of-hardware-back-button-detection-using-backhandler" class="sidebar-link">Example of Hardware back button detection using BackHandler</a></li><li class="sidebar-sub-header"><a href="/reactnative/android-hardware-back-button.html#hardware-back-button-handling-using-backhandler-and-navigation-properties-without-using-deprecated-backandroid-deprecated-navigator" class="sidebar-link">Hardware back button handling using BackHandler and Navigation Properties (without using deprecated BackAndroid &amp; deprecated Navigator)</a></li></ul></li><li><a href="/reactnative/run-an-app-on-device-android-version.html" class="sidebar-link">Run an app on device (Android Version)</a></li><li><a href="/reactnative/native-modules.html" class="sidebar-link">Native Modules</a></li><li><a href="/reactnative/linking-native-api.html" class="sidebar-link">Linking Native API</a></li><li><a href="/reactnative/eslint-in-react-native.html" class="sidebar-link">ESLint in react-native</a></li><li><a href="/reactnative/integration-with-firebase-for-authentication.html" class="sidebar-link">Integration with Firebase for Authentication</a></li><li><a href="/reactnative/navigator-best-practices.html" class="sidebar-link">Navigator Best Practices</a></li><li><a href="/reactnative/navigator-with-buttons-injected-from-pages.html" class="sidebar-link">Navigator with buttons injected from pages</a></li><li><a href="/reactnative/create-a-shareable-apk-for-android.html" class="sidebar-link">Create a shareable APK for android</a></li><li><a href="/reactnative/pushnotification.html" class="sidebar-link">PushNotification</a></li><li><a href="/reactnative/render-best-practises.html" class="sidebar-link">Render Best Practises</a></li><li><a href="/reactnative/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/reactnative/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/reactnative/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="android-hardware-back-button"><a href="#android-hardware-back-button" class="header-anchor">#</a> Android - Hardware Back Button</h1> <h2 id="detect-hardware-back-button-presses-in-android"><a href="#detect-hardware-back-button-presses-in-android" class="header-anchor">#</a> Detect Hardware back button presses in Android</h2> <div class="language-js extra-class"><pre class="language-js"><code>BackAndroid<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hardwareBackPress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onMainScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Note: <code>this.onMainScreen()</code> and <code>this.goBack()</code> are not built in functions, you also need to implement those.
(<a href="https://github.com/immidi/react-native/commit/ed7e0fb31d842c63e8b8dc77ce795fac86e0f712" target="_blank" rel="noopener noreferrer">https://github.com/immidi/react-native/commit/ed7e0fb31d842c63e8b8dc77ce795fac86e0f712)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <h2 id="example-of-backandroid-along-with-navigator"><a href="#example-of-backandroid-along-with-navigator" class="header-anchor">#</a> Example of BackAndroid along with Navigator</h2> <p>This is an example on how to use React Native's <code>BackAndroid</code> along with the <code>Navigator</code>.</p> <p><code>componentWillMount</code> registers an event listener to handle the taps on the back button. It checks if there is another view in the history stack, and if there is one, it goes back -otherwise it keeps the default behaviour.</p> <p>More information on the <a href="https://facebook.github.io/react-native/docs/backandroid.html" target="_blank" rel="noopener noreferrer"><code>BackAndroid</code> docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and the <a href="https://facebook.github.io/react-native/docs/navigator.html" target="_blank" rel="noopener noreferrer"><code>Navigator</code> docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span> <span class="token comment">// eslint-disable-line no-unused-vars</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>
  BackAndroid<span class="token punctuation">,</span>
  Navigator<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> SceneContainer <span class="token keyword">from</span> <span class="token string">'./Navigation/SceneContainer'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> RouteMapper <span class="token keyword">from</span> <span class="token string">'./Navigation/RouteMapper'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">AppContainer</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>navigator<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BackAndroid<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hardwareBackPress'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>navigator <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">getCurrentRoutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">renderScene</span><span class="token punctuation">(</span><span class="token parameter">route<span class="token punctuation">,</span> navigator</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>navigator <span class="token operator">=</span> navigator<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>SceneContainer
        title<span class="token operator">=</span><span class="token punctuation">{</span>route<span class="token punctuation">.</span>title<span class="token punctuation">}</span>
        route<span class="token operator">=</span><span class="token punctuation">{</span>route<span class="token punctuation">}</span>
        navigator<span class="token operator">=</span><span class="token punctuation">{</span>navigator<span class="token punctuation">}</span>
        onBack<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>route<span class="token punctuation">.</span>index <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            navigator<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Navigator
        initialRoute<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>View <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
        renderScene<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderScene</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        navigationBar<span class="token operator">=</span><span class="token punctuation">{</span>
          <span class="token operator">&lt;</span>Navigator<span class="token punctuation">.</span>NavigationBar
            style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>backgroundColor<span class="token operator">:</span> <span class="token string">'gray'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
            routeMapper<span class="token operator">=</span><span class="token punctuation">{</span>RouteMapper<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="example-of-hardware-back-button-detection-using-backhandler"><a href="#example-of-hardware-back-button-detection-using-backhandler" class="header-anchor">#</a> Example of Hardware back button detection using BackHandler</h2> <p>Since BackAndroid is deprecated. Use BackHandler instead of BackAndroid.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> BackHandler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>

<span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
  <span class="token function">ComponentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    BackHandler<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hardwareBackPress'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>   
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onMainScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>    

</code></pre></div><h2 id="hardware-back-button-handling-using-backhandler-and-navigation-properties-without-using-deprecated-backandroid-deprecated-navigator"><a href="#hardware-back-button-handling-using-backhandler-and-navigation-properties-without-using-deprecated-backandroid-deprecated-navigator" class="header-anchor">#</a> Hardware back button handling using BackHandler and Navigation Properties (without using deprecated BackAndroid &amp; deprecated Navigator)</h2> <p>This example will show you back navigation which is expected generally in most of the flows. You will have to add following code to every screen depending on expected behavior. There are 2 cases:</p> <ol><li>If there are more than 1 screen on stack, device back button will show previous screen.</li> <li>If there is only 1 screen on stack, device back button will exit app.</li></ol> <p>Case 1: Show previous screen</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> BackHandler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>

<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleBackButtonClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleBackButtonClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BackHandler<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hardwareBackPress'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleBackButtonClick<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BackHandler<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'hardwareBackPress'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleBackButtonClick<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">handleBackButtonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Important:</strong> Don't forget to bind method in constructor and to remove listener in componentWillUnmount.</p> <p>Case 2: Exit App</p> <p>In this case, no need to handle anything on that screen where you want to exit app.</p> <p><strong>Important:</strong> This should be only screen on stack.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/reactnative/android-hardware-back-button.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/reactnative/animation-api.html" class="prev">
        Animation API
      </a></span> <span class="next"><a href="/reactnative/run-an-app-on-device-android-version.html">
        Run an app on device (Android Version)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/3017.103ca500.js" defer></script>
  </body>
</html>
