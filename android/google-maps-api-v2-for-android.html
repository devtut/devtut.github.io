<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android - Google Maps API v2 for Android</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Custom Google Map Styles, Default Google Map Activity, Show Current Location in a Google Map, Adding markers to a map, MapView: embedding a GoogleMap in an existing layout, Obtaining the SH1-Fingerprint of your certificate keystore file, Do not launch Google Maps  when the map is clicked (lite mode), UISettings, Get debug SHA1 fingerprint, InfoWindow Click Listener, Change Offset">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Android - Google Maps API v2 for Android">
    <meta property="og:description" content="Custom Google Map Styles, Default Google Map Activity, Show Current Location in a Google Map, Adding markers to a map, MapView: embedding a GoogleMap in an existing layout, Obtaining the SH1-Fingerprint of your certificate keystore file, Do not launch Google Maps  when the map is clicked (lite mode), UISettings, Get debug SHA1 fingerprint, InfoWindow Click Listener, Change Offset">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/android/google-maps-api-v2-for-android.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Android - Google Maps API v2 for Android">
    <meta name="twitter:description" content="Custom Google Map Styles, Default Google Map Activity, Show Current Location in a Google Map, Adding markers to a map, MapView: embedding a GoogleMap in an existing layout, Obtaining the SH1-Fingerprint of your certificate keystore file, Do not launch Google Maps  when the map is clicked (lite mode), UISettings, Get debug SHA1 fingerprint, InfoWindow Click Listener, Change Offset">
    <meta name="twitter:url" content="/android/google-maps-api-v2-for-android.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/196.c04b2080.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Android</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/android/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/android/getting-started-with-android.html" class="sidebar-link">Getting started with Android</a></li><li><a href="/android/android-studio.html" class="sidebar-link">Android Studio</a></li><li><a href="/android/instant-run-in-android-studio.html" class="sidebar-link">Instant Run in Android Studio</a></li><li><a href="/android/textview.html" class="sidebar-link">TextView</a></li><li><a href="/android/autocompletetextview.html" class="sidebar-link">AutoCompleteTextView</a></li><li><a href="/android/autosizing-textviews.html" class="sidebar-link">Autosizing TextViews</a></li><li><a href="/android/listview.html" class="sidebar-link">ListView</a></li><li><a href="/android/layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/android/constraintlayout.html" class="sidebar-link">ConstraintLayout</a></li><li><a href="/android/textinputlayout.html" class="sidebar-link">TextInputLayout</a></li><li><a href="/android/coordinatorlayout-and-behaviors.html" class="sidebar-link">CoordinatorLayout and Behaviors</a></li><li><a href="/android/tablayout.html" class="sidebar-link">TabLayout</a></li><li><a href="/android/viewpager.html" class="sidebar-link">ViewPager</a></li><li><a href="/android/cardview.html" class="sidebar-link">CardView</a></li><li><a href="/android/navigationview.html" class="sidebar-link">NavigationView</a></li><li><a href="/android/recyclerview.html" class="sidebar-link">RecyclerView</a></li><li><a href="/android/recyclerview-decorations.html" class="sidebar-link">RecyclerView Decorations</a></li><li><a href="/android/recyclerview-onclicklisteners.html" class="sidebar-link">RecyclerView onClickListeners</a></li><li><a href="/android/recyclerview-and-layoutmanagers.html" class="sidebar-link">RecyclerView and LayoutManagers</a></li><li><a href="/android/pagination-in-recyclerview.html" class="sidebar-link">Pagination in RecyclerView</a></li><li><a href="/android/imageview.html" class="sidebar-link">ImageView</a></li><li><a href="/android/videoview.html" class="sidebar-link">VideoView</a></li><li><a href="/android/optimized-videoview.html" class="sidebar-link">Optimized VideoView</a></li><li><a href="/android/webview.html" class="sidebar-link">WebView</a></li><li><a href="/android/searchview.html" class="sidebar-link">SearchView</a></li><li><a href="/android/bottomnavigationview.html" class="sidebar-link">BottomNavigationView</a></li><li><a href="/android/canvas-drawing-using-surfaceview.html" class="sidebar-link">Canvas drawing using SurfaceView</a></li><li><a href="/android/creating-custom-views.html" class="sidebar-link">Creating Custom Views</a></li><li><a href="/android/getting-calculated-view-dimensions.html" class="sidebar-link">Getting Calculated View Dimensions</a></li><li><a href="/android/adding-a-fuseview-to-an-android-project.html" class="sidebar-link">Adding a FuseView to an Android Project</a></li><li><a href="/android/supporting-screens-with-different-resolutions-sizes.html" class="sidebar-link">Supporting Screens With Different Resolutions, Sizes</a></li><li><a href="/android/viewflipper.html" class="sidebar-link">ViewFlipper</a></li><li><a href="/android/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/android/activity.html" class="sidebar-link">Activity</a></li><li><a href="/android/activity-recognition.html" class="sidebar-link">Activity Recognition</a></li><li><a href="/android/split-screen-multi-screen-activities.html" class="sidebar-link">Split Screen / Multi-Screen Activities</a></li><li><a href="/android/material-design.html" class="sidebar-link">Material Design</a></li><li><a href="/android/resources.html" class="sidebar-link">Resources</a></li><li><a href="/android/data-binding-library.html" class="sidebar-link">Data Binding Library</a></li><li><a href="/android/context.html" class="sidebar-link">Context</a></li><li><a href="/android/sharedpreferences.html" class="sidebar-link">SharedPreferences</a></li><li><a href="/android/intent.html" class="sidebar-link">Intent</a></li><li><a href="/android/fragments.html" class="sidebar-link">Fragments</a></li><li><a href="/android/button.html" class="sidebar-link">Button</a></li><li><a href="/android/emulator.html" class="sidebar-link">Emulator</a></li><li><a href="/android/service.html" class="sidebar-link">Service</a></li><li><a href="/android/the-manifest-file.html" class="sidebar-link">The Manifest File</a></li><li><a href="/android/gradle-for-android.html" class="sidebar-link">Gradle for Android</a></li><li><a href="/android/fileio-with-android.html" class="sidebar-link">FileIO with Android</a></li><li><a href="/android/fileprovider.html" class="sidebar-link">FileProvider</a></li><li><a href="/android/storing-files-in-internal-external-storage.html" class="sidebar-link">Storing Files in Internal &amp; External Storage</a></li><li><a href="/android/zip-file-in-android.html" class="sidebar-link">Zip file in android</a></li><li><a href="/android/unzip-file-in-android.html" class="sidebar-link">Unzip File in Android</a></li><li><a href="/android/camera-and-gallery.html" class="sidebar-link">Camera and Gallery</a></li><li><a href="/android/camera-2-api.html" class="sidebar-link">Camera 2 API</a></li><li><a href="/android/fingerprint-api-in-android.html" class="sidebar-link">Fingerprint API in android</a></li><li><a href="/android/bluetooth-and-bluetooth-le-api.html" class="sidebar-link">Bluetooth and Bluetooth LE API</a></li><li><a href="/android/runtime-permissions-in-api-23.html" class="sidebar-link">Runtime Permissions in API-23 +</a></li><li><a href="/android/android-places-api.html" class="sidebar-link">Android Places API</a></li><li><a href="/android/android-ndk.html" class="sidebar-link">Android NDK</a></li><li><a href="/android/daynight-theme-appcompat-v23-2-api-14.html" class="sidebar-link">DayNight Theme (AppCompat v23.2 / API 14+)</a></li><li><a href="/android/glide.html" class="sidebar-link">Glide</a></li><li><a href="/android/dialog.html" class="sidebar-link">Dialog</a></li><li><a href="/android/enhancing-alert-dialogs.html" class="sidebar-link">Enhancing Alert Dialogs</a></li><li><a href="/android/animated-alertdialog-box.html" class="sidebar-link">Animated AlertDialog Box</a></li><li><a href="/android/greendao.html" class="sidebar-link">GreenDAO</a></li><li><a href="/android/tools-attributes.html" class="sidebar-link">Tools Attributes</a></li><li><a href="/android/formatting-strings.html" class="sidebar-link">Formatting Strings</a></li><li><a href="/android/spannablestring.html" class="sidebar-link">SpannableString</a></li><li><a href="/android/notifications.html" class="sidebar-link">Notifications</a></li><li><a href="/android/alarmmanager.html" class="sidebar-link">AlarmManager</a></li><li><a href="/android/handler.html" class="sidebar-link">Handler</a></li><li><a href="/android/broadcastreceiver.html" class="sidebar-link">BroadcastReceiver</a></li><li><a href="/android/ui-lifecycle.html" class="sidebar-link">UI Lifecycle</a></li><li><a href="/android/httpurlconnection.html" class="sidebar-link">HttpURLConnection</a></li><li><a href="/android/callback-url.html" class="sidebar-link">Callback URL</a></li><li><a href="/android/snackbar.html" class="sidebar-link">Snackbar</a></li><li><a href="/android/widgets.html" class="sidebar-link">Widgets</a></li><li><a href="/android/toast.html" class="sidebar-link">Toast</a></li><li><a href="/android/create-singleton-class-for-toast-message.html" class="sidebar-link">Create Singleton Class for Toast Message</a></li><li><a href="/android/interfaces.html" class="sidebar-link">Interfaces</a></li><li><a href="/android/animators.html" class="sidebar-link">Animators</a></li><li><a href="/android/location.html" class="sidebar-link">Location</a></li><li><a href="/android/theme-style-attribute.html" class="sidebar-link">Theme, Style, Attribute</a></li><li><a href="/android/mediaplayer.html" class="sidebar-link">MediaPlayer</a></li><li><a href="/android/android-sound-and-media.html" class="sidebar-link">Android Sound and Media</a></li><li><a href="/android/mediasession.html" class="sidebar-link">MediaSession</a></li><li><a href="/android/mediastore.html" class="sidebar-link">MediaStore</a></li><li><a href="/android/multidex-and-the-dex-method-limit.html" class="sidebar-link">Multidex and the Dex Method Limit</a></li><li><a href="/android/data-synchronization-with-sync-adapter.html" class="sidebar-link">Data Synchronization with Sync Adapter</a></li><li><a href="/android/porterduff-mode.html" class="sidebar-link">PorterDuff Mode</a></li><li><a href="/android/menu.html" class="sidebar-link">Menu</a></li><li><a href="/android/picasso.html" class="sidebar-link">Picasso</a></li><li><a href="/android/roboguice.html" class="sidebar-link">RoboGuice</a></li><li><a href="/android/acra.html" class="sidebar-link">ACRA</a></li><li><a href="/android/parcelable.html" class="sidebar-link">Parcelable</a></li><li><a href="/android/retrofit2.html" class="sidebar-link">Retrofit2</a></li><li><a href="/android/butterknife.html" class="sidebar-link">ButterKnife</a></li><li><a href="/android/volley.html" class="sidebar-link">Volley</a></li><li><a href="/android/date-and-time-pickers.html" class="sidebar-link">Date and Time Pickers</a></li><li><a href="/android/localized-date-time-in-android.html" class="sidebar-link">Localized Date/Time in Android</a></li><li><a href="/android/time-utils.html" class="sidebar-link">Time Utils</a></li><li><a href="/android/in-app-billing.html" class="sidebar-link">In-app Billing</a></li><li><a href="/android/floatingactionbutton.html" class="sidebar-link">FloatingActionButton</a></li><li><a href="/android/touch-events.html" class="sidebar-link">Touch Events</a></li><li><a href="/android/handling-touch-and-motion-events.html" class="sidebar-link">Handling touch and motion events</a></li><li><a href="/android/detect-shake-event-in-android.html" class="sidebar-link">Detect Shake Event in Android</a></li><li><a href="/android/hardware-button-events-intents-ptt-lwp-etc.html" class="sidebar-link">Hardware Button Events/Intents (PTT, LWP, etc.)</a></li><li><a href="/android/greenrobot-eventbus.html" class="sidebar-link">GreenRobot EventBus</a></li><li><a href="/android/otto-event-bus.html" class="sidebar-link">Otto Event Bus</a></li><li><a href="/android/vibration.html" class="sidebar-link">Vibration</a></li><li><a href="/android/contentprovider.html" class="sidebar-link">ContentProvider</a></li><li><a href="/android/dagger-2.html" class="sidebar-link">Dagger 2</a></li><li><a href="/android/realm.html" class="sidebar-link">Realm</a></li><li><a href="/android/android-versions.html" class="sidebar-link">Android Versions</a></li><li><a href="/android/wi-fi-connections.html" class="sidebar-link">Wi-Fi Connections</a></li><li><a href="/android/sensormanager.html" class="sidebar-link">SensorManager</a></li><li><a href="/android/progressbar.html" class="sidebar-link">ProgressBar</a></li><li><a href="/android/custom-fonts.html" class="sidebar-link">Custom Fonts</a></li><li><a href="/android/getting-system-font-names-and-using-the-fonts.html" class="sidebar-link">Getting system font names and using the fonts</a></li><li><a href="/android/text-to-speech-tts.html" class="sidebar-link">Text to Speech(TTS)</a></li><li><a href="/android/spinner.html" class="sidebar-link">Spinner</a></li><li><a href="/android/data-encryption-decryption.html" class="sidebar-link">Data Encryption/Decryption</a></li><li><a href="/android/okhttp.html" class="sidebar-link">OkHttp</a></li><li><a href="/android/handling-deep-links.html" class="sidebar-link">Handling Deep Links</a></li><li><a href="/android/crash-reporting-tools.html" class="sidebar-link">Crash Reporting Tools</a></li><li><a href="/android/check-internet-connectivity.html" class="sidebar-link">Check Internet Connectivity</a></li><li><a href="/android/creating-your-own-libraries-for-android-applications.html" class="sidebar-link">Creating your own libraries for Android applications</a></li><li><a href="/android/device-display-metrics.html" class="sidebar-link">Device Display Metrics</a></li><li><a href="/android/building-backwards-compatible-apps.html" class="sidebar-link">Building Backwards Compatible Apps</a></li><li><a href="/android/loader.html" class="sidebar-link">Loader</a></li><li><a href="/android/proguard-obfuscating-and-shrinking-your-code.html" class="sidebar-link">ProGuard - Obfuscating and Shrinking your code</a></li><li><a href="/android/typedef-annotations-intdef-stringdef.html" class="sidebar-link">Typedef Annotations: @IntDef, @StringDef</a></li><li><a href="/android/capturing-screenshots.html" class="sidebar-link">Capturing Screenshots</a></li><li><a href="/android/mvp-architecture.html" class="sidebar-link">MVP Architecture</a></li><li><a href="/android/orientation-changes.html" class="sidebar-link">Orientation Changes</a></li><li><a href="/android/xposed.html" class="sidebar-link">Xposed</a></li><li><a href="/android/packagemanager.html" class="sidebar-link">PackageManager</a></li><li><a href="/android/gesture-detection.html" class="sidebar-link">Gesture Detection</a></li><li><a href="/android/doze-mode.html" class="sidebar-link">Doze Mode</a></li><li><a href="/android/colors.html" class="sidebar-link">Colors</a></li><li><a href="/android/keyboard.html" class="sidebar-link">Keyboard</a></li><li><a href="/android/renderscript.html" class="sidebar-link">RenderScript</a></li><li><a href="/android/fresco.html" class="sidebar-link">Fresco</a></li><li><a href="/android/swipe-to-refresh.html" class="sidebar-link">Swipe to Refresh</a></li><li><a href="/android/creating-splash-screen.html" class="sidebar-link">Creating Splash screen</a></li><li><a href="/android/intentservice.html" class="sidebar-link">IntentService</a></li><li><a href="/android/implicit-intents.html" class="sidebar-link">Implicit Intents</a></li><li><a href="/android/publish-to-play-store.html" class="sidebar-link">Publish to Play Store</a></li><li><a href="/android/universal-image-loader.html" class="sidebar-link">Universal Image Loader</a></li><li><a href="/android/image-compression.html" class="sidebar-link">Image Compression</a></li><li><a href="/android/9-patch-images.html" class="sidebar-link">9-Patch Images</a></li><li><a href="/android/email-validation.html" class="sidebar-link">Email Validation</a></li><li><a href="/android/bottom-sheets.html" class="sidebar-link">Bottom Sheets</a></li><li><a href="/android/edittext.html" class="sidebar-link">EditText</a></li><li><a href="/android/speech-to-text-conversion.html" class="sidebar-link">Speech to Text Conversion</a></li><li><a href="/android/installing-apps-with-adb.html" class="sidebar-link">Installing apps with ADB</a></li><li><a href="/android/count-down-timer.html" class="sidebar-link">Count Down Timer</a></li><li><a href="/android/barcode-and-qr-code-reading.html" class="sidebar-link">Barcode and QR code reading</a></li><li><a href="/android/android-paypal-gateway-integration.html" class="sidebar-link">Android Paypal Gateway Integration</a></li><li><a href="/android/drawables.html" class="sidebar-link">Drawables</a></li><li><a href="/android/transitiondrawable.html" class="sidebar-link">TransitionDrawable</a></li><li><a href="/android/vector-drawables.html" class="sidebar-link">Vector Drawables</a></li><li><a href="/android/vectordrawable-and-animatedvectordrawable.html" class="sidebar-link">VectorDrawable and AnimatedVectorDrawable</a></li><li><a href="/android/port-mapping-using-cling-library-in-android.html" class="sidebar-link">Port Mapping using Cling library in Android</a></li><li><a href="/android/creating-overlay-always-on-top-windows.html" class="sidebar-link">Creating Overlay (always-on-top) Windows</a></li><li><a href="/android/exoplayer.html" class="sidebar-link">ExoPlayer</a></li><li><a href="/android/xmpp-register-login-and-chat-simple-example.html" class="sidebar-link">XMPP register login and chat simple example</a></li><li><a href="/android/android-authenticator.html" class="sidebar-link">Android Authenticator</a></li><li><a href="/android/audiomanager.html" class="sidebar-link">AudioManager</a></li><li><a href="/android/audiotrack.html" class="sidebar-link">AudioTrack</a></li><li><a href="/android/job-scheduling.html" class="sidebar-link">Job Scheduling</a></li><li><a href="/android/accounts-and-accountmanager.html" class="sidebar-link">Accounts and AccountManager</a></li><li><a href="/android/integrate-opencv-into-android-studio.html" class="sidebar-link">Integrate OpenCV into Android Studio</a></li><li><a href="/android/mvvm-architecture.html" class="sidebar-link">MVVM (Architecture)</a></li><li><a href="/android/ormlite-in-android.html" class="sidebar-link">ORMLite in android</a></li><li><a href="/android/retrofit2-with-rxjava.html" class="sidebar-link">Retrofit2 with RxJava</a></li><li><a href="/android/shortcutmanager.html" class="sidebar-link">ShortcutManager</a></li><li><a href="/android/lrucache.html" class="sidebar-link">LruCache</a></li><li><a href="/android/jenkins-ci-setup-for-android-projects.html" class="sidebar-link">Jenkins CI setup for Android Projects</a></li><li><a href="/android/fastlane.html" class="sidebar-link">fastlane</a></li><li><a href="/android/define-step-value-increment-for-custom-rangeseekbar.html" class="sidebar-link">Define step value (increment) for custom RangeSeekBar</a></li><li><a href="/android/getting-started-with-opengl-es-2-0.html" class="sidebar-link">Getting started with OpenGL ES 2.0+</a></li><li><a href="/android/check-data-connection.html" class="sidebar-link">Check Data Connection</a></li><li><a href="/android/java-on-android.html" class="sidebar-link">Java on Android</a></li><li><a href="/android/android-java-native-interface-jni.html" class="sidebar-link">Android Java Native Interface (JNI)</a></li><li><a href="/android/notification-channel-android-o.html" class="sidebar-link">Notification Channel Android O</a></li><li><a href="/android/robolectric.html" class="sidebar-link">Robolectric</a></li><li><a href="/android/moshi.html" class="sidebar-link">Moshi</a></li><li><a href="/android/strict-mode-policy-a-tool-to-catch-the-bug-in-the-compile-time.html" class="sidebar-link">Strict Mode Policy : A tool to catch the bug in the Compile Time.</a></li><li><a href="/android/internationalization-and-localization-i18n-and-l10n.html" class="sidebar-link">Internationalization and localization (I18N and L10N)</a></li><li><a href="/android/fast-way-to-setup-retrolambda-on-an-android-project.html" class="sidebar-link">Fast way to setup Retrolambda on an android project.</a></li><li><a href="/android/how-to-use-sparsearray.html" class="sidebar-link">How to use SparseArray</a></li><li><a href="/android/shared-element-transitions.html" class="sidebar-link">Shared Element Transitions</a></li><li><a href="/android/android-things.html" class="sidebar-link">Android Things</a></li><li><a href="/android/library-dagger-2-dependency-injection-in-applications.html" class="sidebar-link">Library Dagger 2: Dependency Injection in Applications</a></li><li><a href="/android/jcodec.html" class="sidebar-link">JCodec</a></li><li><a href="/android/formatting-phone-numbers-with-pattern.html" class="sidebar-link">Formatting phone numbers with pattern.</a></li><li><a href="/android/paint.html" class="sidebar-link">Paint</a></li><li><a href="/android/what-is-proguard-what-is-use-in-android.html" class="sidebar-link">What is ProGuard? What is use in Android?</a></li><li><a href="/android/create-android-custom-roms.html" class="sidebar-link">Create Android Custom ROMs</a></li><li><a href="/android/genymotion-for-android.html" class="sidebar-link">Genymotion for android</a></li><li><a href="/android/constraintset.html" class="sidebar-link">ConstraintSet</a></li><li><a href="/android/clevertap.html" class="sidebar-link">CleverTap</a></li><li><a href="/android/publish-a-library-to-maven-repositories.html" class="sidebar-link">Publish a library to Maven Repositories</a></li><li><a href="/android/adb-shell.html" class="sidebar-link">adb shell</a></li><li><a href="/android/ping-icmp.html" class="sidebar-link">Ping ICMP</a></li><li><a href="/android/aidl.html" class="sidebar-link">AIDL</a></li><li><a href="/android/android-game-development.html" class="sidebar-link">Android game development</a></li><li><a href="/android/android-programming-with-kotlin.html" class="sidebar-link">Android programming with Kotlin</a></li><li><a href="/android/android-x86-in-virtualbox.html" class="sidebar-link">Android-x86 in VirtualBox</a></li><li><a href="/android/leakcanary.html" class="sidebar-link">Leakcanary</a></li><li><a href="/android/okio.html" class="sidebar-link">Okio</a></li><li><a href="/android/bluetooth-low-energy.html" class="sidebar-link">Bluetooth Low Energy</a></li><li><a href="/android/looper.html" class="sidebar-link">Looper</a></li><li><a href="/android/annotation-processor.html" class="sidebar-link">Annotation Processor</a></li><li><a href="/android/syncadapter-with-periodically-do-sync-of-data.html" class="sidebar-link">SyncAdapter with periodically do sync of data</a></li><li><a href="/android/fastjson.html" class="sidebar-link">Fastjson</a></li><li><a href="/android/json-in-android-with-org-json.html" class="sidebar-link">JSON in Android with org.json</a></li><li><a href="/android/gson.html" class="sidebar-link">Gson</a></li><li><a href="/android/android-architecture-components.html" class="sidebar-link">Android Architecture Components</a></li><li><a href="/android/jackson.html" class="sidebar-link">Jackson</a></li><li><a href="/android/smartcard.html" class="sidebar-link">Smartcard</a></li><li><a href="/android/security.html" class="sidebar-link">Security</a></li><li><a href="/android/how-to-store-passwords-securely.html" class="sidebar-link">How to store passwords securely</a></li><li><a href="/android/secure-sharedpreferences.html" class="sidebar-link">Secure SharedPreferences</a></li><li><a href="/android/secure-sharedpreferences.html" class="sidebar-link">Secure SharedPreferences</a></li><li><a href="/android/sqlite.html" class="sidebar-link">SQLite</a></li><li><a href="/android/accessing-sqlite-databases-using-the-contentvalues-class.html" class="sidebar-link">Accessing SQLite databases using the ContentValues class</a></li><li><a href="/android/firebase.html" class="sidebar-link">Firebase</a></li><li><a href="/android/firebase-cloud-messaging.html" class="sidebar-link">Firebase Cloud Messaging</a></li><li><a href="/android/firebase-realtime-database.html" class="sidebar-link">Firebase Realtime DataBase</a></li><li><a href="/android/firebase-app-indexing.html" class="sidebar-link">Firebase App Indexing</a></li><li><a href="/android/firebase-crash-reporting.html" class="sidebar-link">Firebase Crash Reporting</a></li><li><a href="/android/twitter-apis.html" class="sidebar-link">Twitter APIs</a></li><li><a href="/android/youtube-api.html" class="sidebar-link">Youtube-API</a></li><li><a href="/android/integrate-google-sign-in.html" class="sidebar-link">Integrate Google Sign In</a></li><li><a href="/android/google-signin-integration-on-android.html" class="sidebar-link">Google signin integration on android</a></li><li><a href="/android/google-awareness-apis.html" class="sidebar-link">Google Awareness APIs</a></li><li><a href="/android/google-maps-api-v2-for-android.html" aria-current="page" class="active sidebar-link">Google Maps API v2 for Android</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#custom-google-map-styles" class="sidebar-link">Custom Google Map Styles</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#default-google-map-activity" class="sidebar-link">Default Google Map Activity</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#show-current-location-in-a-google-map" class="sidebar-link">Show Current Location in a Google Map</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#adding-markers-to-a-map" class="sidebar-link">Adding markers to a map</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#mapview-embedding-a-googlemap-in-an-existing-layout" class="sidebar-link">MapView: embedding a GoogleMap in an existing layout</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#obtaining-the-sh1-fingerprint-of-your-certificate-keystore-file" class="sidebar-link">Obtaining the SH1-Fingerprint of your certificate keystore file</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#do-not-launch-google-maps-when-the-map-is-clicked-lite-mode" class="sidebar-link">Do not launch Google Maps  when the map is clicked (lite mode)</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#uisettings" class="sidebar-link">UISettings</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#get-debug-sha1-fingerprint" class="sidebar-link">Get debug SHA1 fingerprint</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#infowindow-click-listener" class="sidebar-link">InfoWindow Click Listener</a></li><li class="sidebar-sub-header"><a href="/android/google-maps-api-v2-for-android.html#change-offset" class="sidebar-link">Change Offset</a></li></ul></li><li><a href="/android/google-drive-api.html" class="sidebar-link">Google Drive API</a></li><li><a href="/android/displaying-google-ads.html" class="sidebar-link">Displaying Google Ads</a></li><li><a href="/android/admob.html" class="sidebar-link">AdMob</a></li><li><a href="/android/google-play-store.html" class="sidebar-link">Google Play Store</a></li><li><a href="/android/sign-your-android-app-for-release.html" class="sidebar-link">Sign your Android App for Release</a></li><li><a href="/android/tensorflow.html" class="sidebar-link">TensorFlow</a></li><li><a href="/android/android-vk-sdk.html" class="sidebar-link">Android Vk Sdk</a></li><li><a href="/android/project-sdk-versions.html" class="sidebar-link">Project SDK versions</a></li><li><a href="/android/facebook-sdk-for-android.html" class="sidebar-link">Facebook SDK for Android</a></li><li><a href="/android/thread.html" class="sidebar-link">Thread</a></li><li><a href="/android/asynctask.html" class="sidebar-link">AsyncTask</a></li><li><a href="/android/testing-ui-with-espresso.html" class="sidebar-link">Testing UI with Espresso</a></li><li><a href="/android/writing-ui-tests-android.html" class="sidebar-link">Writing UI tests - Android</a></li><li><a href="/android/unit-testing-in-android-with-junit.html" class="sidebar-link">Unit testing in Android with JUnit</a></li><li><a href="/android/inter-app-ui-testing-with-uiautomator.html" class="sidebar-link">Inter-app UI testing with UIAutomator</a></li><li><a href="/android/lint-warnings.html" class="sidebar-link">Lint Warnings</a></li><li><a href="/android/performance-optimization.html" class="sidebar-link">Performance Optimization</a></li><li><a href="/android/android-kernel-optimization.html" class="sidebar-link">Android Kernel Optimization</a></li><li><a href="/android/memory-leaks.html" class="sidebar-link">Memory Leaks</a></li><li><a href="/android/enhancing-android-performance-using-icon-fonts.html" class="sidebar-link">Enhancing Android Performance Using Icon Fonts</a></li><li><a href="/android/bitmap-cache.html" class="sidebar-link">Bitmap Cache</a></li><li><a href="/android/loading-bitmaps-effectively.html" class="sidebar-link">Loading Bitmaps Effectively</a></li><li><a href="/android/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/android/logging-and-using-logcat.html" class="sidebar-link">Logging and using Logcat</a></li><li><a href="/android/adb-android-debug-bridge.html" class="sidebar-link">ADB (Android Debug Bridge)</a></li><li><a href="/android/localization-with-resources-in-android.html" class="sidebar-link">Localization with resources in Android</a></li><li><a href="/android/convert-vietnamese-string-to-english-string-android.html" class="sidebar-link">Convert vietnamese string to english string Android</a></li><li><a href="/android/publish-aar-file-to-apache-archiva-with-gradle.html" class="sidebar-link">Publish .aar file to Apache Archiva with Gradle</a></li><li><a href="/android/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="google-maps-api-v2-for-android"><a href="#google-maps-api-v2-for-android" class="header-anchor">#</a> Google Maps API v2 for Android</h1> <h2 id="custom-google-map-styles"><a href="#custom-google-map-styles" class="header-anchor">#</a> Custom Google Map Styles</h2> <p><strong>Map Style</strong></p> <p>Google Maps come with a set of different styles to be applied, using this code :</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Sets the map type to be &quot;hybrid&quot;</span>
map<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span>MAP_TYPE_HYBRID<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The different map styles are :</p> <p><strong>Normal</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>map<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span>MAP_TYPE_NORMAL<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Typical road map. Roads, some man-made features, and important natural features such as rivers are shown. Road and feature labels are also visible.</p> <p><a href="https://i.stack.imgur.com/KhPjr.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/KhPjr.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>Hybrid</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>map<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span>MAP_TYPE_HYBRID<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Satellite photograph data with road maps added. Road and feature labels are also visible.</p> <p><a href="https://i.stack.imgur.com/7s9r1.jpg" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/7s9r1.jpg" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>Satellite</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>map<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span>MAP_TYPE_SATELLITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Satellite photograph data. Road and feature labels are not visible.</p> <p><a href="https://i.stack.imgur.com/qmMzD.jpg" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/qmMzD.jpg" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>Terrain</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>map<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span>MAP_TYPE_TERRAIN<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Topographic data. The map includes colors, contour lines and labels, and perspective shading. Some roads and labels are also visible.</p> <p><a href="https://i.stack.imgur.com/cRKSl.jpg" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/cRKSl.jpg" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>None</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>map<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span>MAP_TYPE_NONE<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>No tiles. The map will be rendered as an empty grid with no tiles loaded.</p> <p><a href="https://i.stack.imgur.com/HO8Bj.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/HO8Bj.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong><strong>OTHER STYLE OPTIONS</strong></strong></p> <p><strong>Indoor Maps</strong></p> <p>At high zoom levels, the map will show floor plans for indoor spaces. These are called indoor maps, and are displayed only for the 'normal' and 'satellite' map types.</p> <p>to enable or disable indoor maps, this is how it's done :</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span><span class="token function">setIndoorEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token class-name">GoogleMap</span><span class="token punctuation">.</span><span class="token function">setIndoorEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

</code></pre></div><p><strong>We can add custom styles to maps.</strong></p> <p>In onMapReady method add the following code snippet</p> <div class="language-java extra-class"><pre class="language-java"><code>mMap <span class="token operator">=</span> googleMap<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// Customise the styling of the base map using a JSON object defined</span>
        <span class="token comment">// in a raw resource file.</span>
        <span class="token keyword">boolean</span> success <span class="token operator">=</span> mMap<span class="token punctuation">.</span><span class="token function">setMapStyle</span><span class="token punctuation">(</span>
                <span class="token class-name">MapStyleOptions</span><span class="token punctuation">.</span><span class="token function">loadRawResourceStyle</span><span class="token punctuation">(</span>
                        <span class="token class-name">MapsActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span>raw<span class="token punctuation">.</span>style_json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Style parsing failed.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Resources<span class="token punctuation">.</span>NotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Can't find style.&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><p>under <strong>res</strong> folder create a folder name <strong>raw</strong> and add the styles json file.
Sample style.json file</p> <div class="language- extra-class"><pre class="language-text"><code>
   [
  {
    &quot;featureType&quot;: &quot;all&quot;,
    &quot;elementType&quot;: &quot;geometry&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#242f3e&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;all&quot;,
    &quot;elementType&quot;: &quot;labels.text.stroke&quot;,
    &quot;stylers&quot;: [
      {
        &quot;lightness&quot;: -80
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;administrative&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#746855&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;administrative.locality&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#d59563&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;poi&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#d59563&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;poi.park&quot;,
    &quot;elementType&quot;: &quot;geometry&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#263c3f&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;poi.park&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#6b9a76&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road&quot;,
    &quot;elementType&quot;: &quot;geometry.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#2b3544&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#9ca5b3&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road.arterial&quot;,
    &quot;elementType&quot;: &quot;geometry.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#38414e&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road.arterial&quot;,
    &quot;elementType&quot;: &quot;geometry.stroke&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#212a37&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road.highway&quot;,
    &quot;elementType&quot;: &quot;geometry.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#746855&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road.highway&quot;,
    &quot;elementType&quot;: &quot;geometry.stroke&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#1f2835&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road.highway&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#f3d19c&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road.local&quot;,
    &quot;elementType&quot;: &quot;geometry.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#38414e&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;road.local&quot;,
    &quot;elementType&quot;: &quot;geometry.stroke&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#212a37&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;transit&quot;,
    &quot;elementType&quot;: &quot;geometry&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#2f3948&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;transit.station&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#d59563&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;water&quot;,
    &quot;elementType&quot;: &quot;geometry&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#17263c&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;water&quot;,
    &quot;elementType&quot;: &quot;labels.text.fill&quot;,
    &quot;stylers&quot;: [
      {
        &quot;color&quot;: &quot;#515c6d&quot;
      }
    ]
  },
  {
    &quot;featureType&quot;: &quot;water&quot;,
    &quot;elementType&quot;: &quot;labels.text.stroke&quot;,
    &quot;stylers&quot;: [
      {
        &quot;lightness&quot;: -20
      }
    ]
  }
]

</code></pre></div><p>To generate styles json file click this <a href="https://mapstyle.withgoogle.com/" target="_blank" rel="noopener noreferrer">link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://i.stack.imgur.com/r8B7G.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/r8B7G.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="default-google-map-activity"><a href="#default-google-map-activity" class="header-anchor">#</a> Default Google Map Activity</h2> <p>This Activity code will provide basic functionality for including a Google Map using a SupportMapFragment.</p> <p>The Google Maps V2 API includes an all-new way to load maps.</p> <p>Activities now have to implement the <strong>OnMapReadyCallBack</strong> interface, which comes with a <strong>onMapReady()</strong> method override that is executed everytime we run <strong>SupportMapFragment</strong>.<strong>getMapAsync(OnMapReadyCallback)</strong>; and the call is successfully completed.</p> <p>Maps use <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/model/Marker" target="_blank" rel="noopener noreferrer"><strong>Markers</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> , <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/model/Polygon" target="_blank" rel="noopener noreferrer"><strong>Polygons</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/model/Polyline" target="_blank" rel="noopener noreferrer"><strong>PolyLines</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to show interactive information to the user.</p> <p><strong>MapsActivity.java:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapsActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span> <span class="token class-name">OnMapReadyCallback</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">GoogleMap</span> mMap<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_maps<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SupportMapFragment</span> mapFragment <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SupportMapFragment</span><span class="token punctuation">)</span> <span class="token function">getSupportFragmentManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">findFragmentById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapFragment<span class="token punctuation">.</span><span class="token function">getMapAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMapReady</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span> googleMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mMap <span class="token operator">=</span> googleMap<span class="token punctuation">;</span>

        <span class="token comment">// Add a marker in Sydney, Australia, and move the camera.</span>
        <span class="token class-name">LatLng</span> sydney <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">151</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mMap<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MarkerOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>sydney<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">&quot;Marker in Sydney&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mMap<span class="token punctuation">.</span><span class="token function">moveCamera</span><span class="token punctuation">(</span><span class="token class-name">CameraUpdateFactory</span><span class="token punctuation">.</span><span class="token function">newLatLng</span><span class="token punctuation">(</span>sydney<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Notice that the code above inflates a layout, which has a SupportMapFragment nested inside the container Layout, defined with an ID of <code>R.id.map</code>.  The layout file is shown below:</p> <p><strong>activity_maps.xml</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">LinearLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    android<span class="token operator">:</span>orientation<span class="token operator">=</span><span class="token string">&quot;vertical&quot;</span> android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>fragment xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res/android&quot;</span>
        xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/tools&quot;</span>
        xmlns<span class="token operator">:</span>map<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;@+id/map&quot;</span>
        tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">&quot;com.example.app.MapsActivity&quot;</span>
        android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;com.google.android.gms.maps.SupportMapFragment&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">LinearLayout</span><span class="token operator">&gt;</span>

</code></pre></div><h2 id="show-current-location-in-a-google-map"><a href="#show-current-location-in-a-google-map" class="header-anchor">#</a> Show Current Location in a Google Map</h2> <p>Here is a full Activity class that places a Marker at the current location, and also moves the camera to the current position.</p> <p>There are a few thing going on in sequence here:</p> <ul><li>Check Location permission</li> <li>Once Location permission is granted, call <code>setMyLocationEnabled()</code>, build the GoogleApiClient, and connect it</li> <li>Once the GoogleApiClient is connected, request location updates</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapLocationActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span>
        <span class="token keyword">implements</span> <span class="token class-name">OnMapReadyCallback</span><span class="token punctuation">,</span>
        <span class="token class-name">GoogleApiClient<span class="token punctuation">.</span>ConnectionCallbacks</span><span class="token punctuation">,</span>
        <span class="token class-name">GoogleApiClient<span class="token punctuation">.</span>OnConnectionFailedListener</span><span class="token punctuation">,</span>
        <span class="token class-name">LocationListener</span> <span class="token punctuation">{</span>

    <span class="token class-name">GoogleMap</span> mGoogleMap<span class="token punctuation">;</span>
    <span class="token class-name">SupportMapFragment</span> mapFrag<span class="token punctuation">;</span>
    <span class="token class-name">LocationRequest</span> mLocationRequest<span class="token punctuation">;</span>
    <span class="token class-name">GoogleApiClient</span> mGoogleApiClient<span class="token punctuation">;</span>
    <span class="token class-name">Location</span> mLastLocation<span class="token punctuation">;</span>
    <span class="token class-name">Marker</span> mCurrLocationMarker<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">getSupportActionBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;Map Location Activity&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        mapFrag <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SupportMapFragment</span><span class="token punctuation">)</span> <span class="token function">getSupportFragmentManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findFragmentById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapFrag<span class="token punctuation">.</span><span class="token function">getMapAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//stop location updates when Activity is no longer active</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mGoogleApiClient <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">LocationServices<span class="token punctuation">.</span>FusedLocationApi</span><span class="token punctuation">.</span><span class="token function">removeLocationUpdates</span><span class="token punctuation">(</span>mGoogleApiClient<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMapReady</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span> googleMap<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        mGoogleMap<span class="token operator">=</span>googleMap<span class="token punctuation">;</span>
        mGoogleMap<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span><span class="token punctuation">.</span>MAP_TYPE_HYBRID<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//Initialize Google Play Services</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span>Build</span><span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">&gt;=</span> <span class="token class-name">Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>M</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span>ACCESS_FINE_LOCATION<span class="token punctuation">)</span>
                    <span class="token operator">==</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span>PERMISSION_GRANTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//Location Permission already granted</span>
                <span class="token function">buildGoogleApiClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                mGoogleMap<span class="token punctuation">.</span><span class="token function">setMyLocationEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">//Request Location Permission</span>
                <span class="token function">checkLocationPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">buildGoogleApiClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mGoogleMap<span class="token punctuation">.</span><span class="token function">setMyLocationEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">buildGoogleApiClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mGoogleApiClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GoogleApiClient<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addConnectionCallbacks</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addOnConnectionFailedListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addApi</span><span class="token punctuation">(</span><span class="token class-name">LocationServices</span><span class="token punctuation">.</span>API<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mGoogleApiClient<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onConnected</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> bundle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mLocationRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocationRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mLocationRequest<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mLocationRequest<span class="token punctuation">.</span><span class="token function">setFastestInterval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mLocationRequest<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token class-name">LocationRequest</span><span class="token punctuation">.</span>PRIORITY_BALANCED_POWER_ACCURACY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>
                <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span>ACCESS_FINE_LOCATION<span class="token punctuation">)</span>
                <span class="token operator">==</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span>PERMISSION_GRANTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">LocationServices<span class="token punctuation">.</span>FusedLocationApi</span><span class="token punctuation">.</span><span class="token function">requestLocationUpdates</span><span class="token punctuation">(</span>mGoogleApiClient<span class="token punctuation">,</span> mLocationRequest<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onConnectionSuspended</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onConnectionFailed</span><span class="token punctuation">(</span><span class="token class-name">ConnectionResult</span> connectionResult<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLocationChanged</span><span class="token punctuation">(</span><span class="token class-name">Location</span> location<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        mLastLocation <span class="token operator">=</span> location<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mCurrLocationMarker <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mCurrLocationMarker<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//Place current location marker</span>
        <span class="token class-name">LatLng</span> latLng <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span><span class="token function">getLatitude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span><span class="token function">getLongitude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MarkerOptions</span> markerOptions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MarkerOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        markerOptions<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>latLng<span class="token punctuation">)</span><span class="token punctuation">;</span>
        markerOptions<span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">&quot;Current Position&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        markerOptions<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token class-name">BitmapDescriptorFactory</span><span class="token punctuation">.</span><span class="token function">defaultMarker</span><span class="token punctuation">(</span><span class="token class-name">BitmapDescriptorFactory</span><span class="token punctuation">.</span>HUE_MAGENTA<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mCurrLocationMarker <span class="token operator">=</span> mGoogleMap<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span>markerOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//move map camera</span>
        mGoogleMap<span class="token punctuation">.</span><span class="token function">moveCamera</span><span class="token punctuation">(</span><span class="token class-name">CameraUpdateFactory</span><span class="token punctuation">.</span><span class="token function">newLatLng</span><span class="token punctuation">(</span>latLng<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mGoogleMap<span class="token punctuation">.</span><span class="token function">animateCamera</span><span class="token punctuation">(</span><span class="token class-name">CameraUpdateFactory</span><span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//stop location updates</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mGoogleApiClient <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">LocationServices<span class="token punctuation">.</span>FusedLocationApi</span><span class="token punctuation">.</span><span class="token function">removeLocationUpdates</span><span class="token punctuation">(</span>mGoogleApiClient<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> MY_PERMISSIONS_REQUEST_LOCATION <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">checkLocationPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span>ACCESS_FINE_LOCATION<span class="token punctuation">)</span>
                <span class="token operator">!=</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span>PERMISSION_GRANTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment">// Should we show an explanation?</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">shouldShowRequestPermissionRationale</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>
                    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span>ACCESS_FINE_LOCATION<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token comment">// Show an explanation to the user *asynchronously* -- don't block</span>
                <span class="token comment">// this thread waiting for the user's response! After the user</span>
                <span class="token comment">// sees the explanation, try again to request the permission.</span>
                <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;Location Permission Needed&quot;</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;This app needs the Location permission, please accept to use location functionality&quot;</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DialogInterface<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token annotation punctuation">@Override</span>
                            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">DialogInterface</span> dialogInterface<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment">//Prompt the user once explanation has been shown</span>
                                <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token class-name">MapLocationActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span>
                                        <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span>ACCESS_FINE_LOCATION<span class="token punctuation">}</span><span class="token punctuation">,</span>
                                        MY_PERMISSIONS_REQUEST_LOCATION <span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// No explanation needed, we can request the permission.</span>
                <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>
                        <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span>ACCESS_FINE_LOCATION<span class="token punctuation">}</span><span class="token punctuation">,</span>
                        MY_PERMISSIONS_REQUEST_LOCATION <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span>
                                           <span class="token class-name">String</span> permissions<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> grantResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>requestCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> MY_PERMISSIONS_REQUEST_LOCATION<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// If request is cancelled, the result arrays are empty.</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>grantResults<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
                        <span class="token operator">&amp;&amp;</span> grantResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span>PERMISSION_GRANTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token comment">// permission was granted, yay! Do the</span>
                    <span class="token comment">// location-related task you need to do.</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>
                            <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span>ACCESS_FINE_LOCATION<span class="token punctuation">)</span>
                            <span class="token operator">==</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span>PERMISSION_GRANTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                        <span class="token keyword">if</span> <span class="token punctuation">(</span>mGoogleApiClient <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token function">buildGoogleApiClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        mGoogleMap<span class="token punctuation">.</span><span class="token function">setMyLocationEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

                    <span class="token comment">// permission denied, boo! Disable the</span>
                    <span class="token comment">// functionality that depends on this permission.</span>
                    <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;permission denied&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_LONG<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// other 'case' lines to check for other</span>
            <span class="token comment">// permissions this app might request</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><p>activity_main.xml:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">LinearLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    android<span class="token operator">:</span>orientation<span class="token operator">=</span><span class="token string">&quot;vertical&quot;</span> android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>fragment xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res/android&quot;</span>
        xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/tools&quot;</span>
        xmlns<span class="token operator">:</span>map<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;@+id/map&quot;</span>
        tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">&quot;com.example.app.MapLocationActivity&quot;</span>
        android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;com.google.android.gms.maps.SupportMapFragment&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">LinearLayout</span><span class="token operator">&gt;</span>

</code></pre></div><p><strong>Result:</strong></p> <p>Show explanation if needed on Marshmallow and Nougat using an AlertDialog (this case happens when the user had previously denied a permission request, or had granted the permission and then later revoked it in the settings):</p> <p><a href="https://i.stack.imgur.com/CWSkM.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/CWSkM.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Prompt the user for Location permission on Marshmallow and Nougat by calling <code>ActivityCompat.requestPermissions()</code>:</p> <p><a href="https://i.stack.imgur.com/o1cmu.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/o1cmu.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Move camera to current location and place Marker when the Location permission is granted:</p> <p><a href="https://i.stack.imgur.com/qpxoy.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/qpxoy.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="adding-markers-to-a-map"><a href="#adding-markers-to-a-map" class="header-anchor">#</a> Adding markers to a map</h2> <p>To add markers to a Google Map, for example from an <code>ArrayList</code> of <code>MyLocation</code> Objects, we can do it this way.</p> <p>The <code>MyLocation</code> holder class:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLocation</span> <span class="token punctuation">{</span>
  <span class="token class-name">LatLng</span> latLng<span class="token punctuation">;</span>
  <span class="token class-name">String</span> title<span class="token punctuation">;</span>
  <span class="token class-name">String</span> snippet<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Here is a method that would take a list of <code>MyLocation</code> Objects and place a Marker for each one:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token class-name">LocationsLoaded</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyLocation</span><span class="token punctuation">&gt;</span></span> locations<span class="token punctuation">)</span><span class="token punctuation">{</span>
 
 <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MyLocation</span> myLoc <span class="token operator">:</span> locations<span class="token punctuation">)</span><span class="token punctuation">{</span>
    mMap<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MarkerOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>myLoc<span class="token punctuation">.</span>latLng<span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span>myLoc<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">snippet</span><span class="token punctuation">(</span>myLoc<span class="token punctuation">.</span>snippet<span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token class-name">BitmapDescriptorFactory</span><span class="token punctuation">.</span><span class="token function">defaultMarker</span><span class="token punctuation">(</span><span class="token class-name">BitmapDescriptorFactory</span><span class="token punctuation">.</span>HUE_MAGENTA<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Note:
For the purpose of this example, <code>mMap</code> is a class member variable of the Activity, where we've assigned it to the map reference received in the <code>onMapReady()</code> override.</p> <h2 id="mapview-embedding-a-googlemap-in-an-existing-layout"><a href="#mapview-embedding-a-googlemap-in-an-existing-layout" class="header-anchor">#</a> MapView: embedding a GoogleMap in an existing layout</h2> <p>It is possible to treat a GoogleMap as an Android view if we make use of the provided MapView class. Its usage is very similar to MapFragment.</p> <p>In your layout use MapView as follows:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>android<span class="token punctuation">.</span>gms<span class="token punctuation">.</span>maps<span class="token punctuation">.</span></span>MapView</span> 
    xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    xmlns<span class="token operator">:</span>map<span class="token operator">=</span><span class="token string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>
    android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;@+id/map&quot;</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">&quot;match_parent&quot;</span> 
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 
    map<span class="token operator">:</span>mapType<span class="token operator">=</span><span class="token string">&quot;0&quot;</span> <span class="token class-name">Specifies</span> a change <span class="token keyword">to</span> <span class="token namespace">the</span> initial map type
    map<span class="token operator">:</span>zOrderOnTop<span class="token operator">=</span><span class="token string">&quot;true&quot;</span>  <span class="token class-name">Control</span> whether the map view's surface is placed on top of its window
    map<span class="token operator">:</span>useVieLifecycle<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">When</span> using a <span class="token class-name">MapFragment</span><span class="token punctuation">,</span> <span class="token keyword">this</span> flag specifies whether the lifecycle of the map should be tied <span class="token keyword">to</span> <span class="token namespace">the</span> fragment's view or the fragment itself
    map<span class="token operator">:</span>uiCompass<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Enables</span> or disables the compass
    map<span class="token operator">:</span>uiRotateGestures<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Sets</span> the preference <span class="token keyword">for</span> whether rotate gestures should be enabled or disabled
    map<span class="token operator">:</span>uiScrollGestures<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Sets</span> the preference <span class="token keyword">for</span> whether scroll gestures should be enabled or disabled
    map<span class="token operator">:</span>uiTiltGestures<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Sets</span> the preference <span class="token keyword">for</span> whether tilt gestures should be enabled or disabled
    map<span class="token operator">:</span>uiZoomGestures<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Sets</span> the preference <span class="token keyword">for</span> whether zoom gestures should be enabled or disabled
    map<span class="token operator">:</span>uiZoomControls<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Enables</span> or disables the zoom controls
    map<span class="token operator">:</span>liteMode<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Specifies</span> whether the map should be created in lite mode
    map<span class="token operator">:</span>uiMapToolbar<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Specifies</span> whether the mapToolbar should be enabled
    map<span class="token operator">:</span>ambientEnabled<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token class-name">Specifies</span> whether ambient<span class="token operator">-</span>mode styling should be enabled
    map<span class="token operator">:</span>cameraMinZoomPreference<span class="token operator">=</span><span class="token string">&quot;0.0&quot;</span> <span class="token class-name">Specifies</span> a preferred lower bound <span class="token keyword">for</span> camera zoom
    map<span class="token operator">:</span>cameraMaxZoomPreference<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> <span class="token class-name">Specifies</span> a preferred upper bound <span class="token keyword">for</span> camera zoom <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>

</code></pre></div><p>Your activity needs to implement the OnMapReadyCallback interface in order to work:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
* This shows how to create a simple activity with a raw MapView and add a marker to it. This
* requires forwarding all the important lifecycle methods onto MapView.
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RawMapViewDemoActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span> <span class="token class-name">OnMapReadyCallback</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">MapView</span> mMapView<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>raw_mapview_demo<span class="token punctuation">)</span><span class="token punctuation">;</span>

        mMapView <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">MapView</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mMapView<span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

        mMapView<span class="token punctuation">.</span><span class="token function">getMapAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mMapView<span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMapReady</span><span class="token punctuation">(</span><span class="token class-name">GoogleMap</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MarkerOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">&quot;Marker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mMapView<span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mMapView<span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLowMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onLowMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mMapView<span class="token punctuation">.</span><span class="token function">onLowMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> outState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mMapView<span class="token punctuation">.</span><span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="obtaining-the-sh1-fingerprint-of-your-certificate-keystore-file"><a href="#obtaining-the-sh1-fingerprint-of-your-certificate-keystore-file" class="header-anchor">#</a> Obtaining the SH1-Fingerprint of your certificate keystore file</h2> <p>In order to obtain a Google Maps API key for your certificate, you must provide the API console with the SH1-fingerprint of your debug/release keystore.</p> <p>You can obtain the keystore by using the <strong>JDK's keytool</strong> program as described <a href="https://developers.google.com/maps/documentation/android-api/signup" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in the docs.</p> <p>Another approach is to obtain the fingerprint programmatically by running this snippet with your app signed with the debug/release certificate and printing the hash to the log.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">PackageInfo</span> info<span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    info <span class="token operator">=</span> <span class="token function">getPackageManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPackageInfo</span><span class="token punctuation">(</span><span class="token string">&quot;com.package.name&quot;</span><span class="token punctuation">,</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span>GET_SIGNATURES<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Signature</span> signature <span class="token operator">:</span> info<span class="token punctuation">.</span>signatures<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">MessageDigest</span> md<span class="token punctuation">;</span>
        md <span class="token operator">=</span> <span class="token class-name">MessageDigest</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;SHA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        md<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>signature<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> hash<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token class-name">Base64</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>md<span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;hash&quot;</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NameNotFoundException</span> e1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;name not found&quot;</span><span class="token punctuation">,</span> e1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchAlgorithmException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;no such an algorithm&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;exception&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="do-not-launch-google-maps-when-the-map-is-clicked-lite-mode"><a href="#do-not-launch-google-maps-when-the-map-is-clicked-lite-mode" class="header-anchor">#</a> Do not launch Google Maps  when the map is clicked (lite mode)</h2> <p>When a Google Map is displayed in lite mode clicking on a map will open the Google Maps application.  To disable this functionality you must call <code>setClickable(false)</code> on the <code>MapView</code>, <strong>e.g.</strong>:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">MapView</span> mapView <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">MapView</span><span class="token punctuation">)</span>view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
mapView<span class="token punctuation">.</span><span class="token function">setClickable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="uisettings"><a href="#uisettings" class="header-anchor">#</a> UISettings</h2> <p>Using <a href="https://developers.google.com/android/reference/com/google/android/gms/maps/UiSettings" target="_blank" rel="noopener noreferrer"><code>UISettings</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, the appearance of the Google Map can be modified.</p> <p>Here is an example of some common settings:</p> <div class="language- extra-class"><pre class="language-text"><code>
   mGoogleMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);
    mGoogleMap.getUiSettings().setMapToolbarEnabled(true);
    mGoogleMap.getUiSettings().setZoomControlsEnabled(true);
    mGoogleMap.getUiSettings().setCompassEnabled(true);

</code></pre></div><p>Result:</p> <p><a href="https://i.stack.imgur.com/XY5GA.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/XY5GA.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="get-debug-sha1-fingerprint"><a href="#get-debug-sha1-fingerprint" class="header-anchor">#</a> Get debug SHA1 fingerprint</h2> <ol><li>Open Android Studio</li> <li>Open Your Project</li> <li>Click on Gradle (From Right Side Panel, you will see <strong>Gradle Bar</strong>)</li> <li>Click on Refresh (Click on Refresh from <strong>Gradle Bar</strong>, you will see <strong>List</strong> Gradle scripts of your Project)</li> <li>Click on Your Project (Your Project Name form <strong>List</strong> (root))</li> <li>Click on Tasks</li> <li>Click on android</li> <li>Double Click on signingReport (You will get <strong>SHA1</strong> and <strong>MD5</strong> in <strong>Run Bar</strong>)</li></ol> <p><strong><a href="https://i.stack.imgur.com/WgxB3.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/WgxB3.png" alt="Reference Screenshot"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <h2 id="infowindow-click-listener"><a href="#infowindow-click-listener" class="header-anchor">#</a> InfoWindow Click Listener</h2> <p>Here is an example of how to define a different action for each Marker's InfoWindow click event.</p> <p>Use a HashMap in which the marker ID is the key, and the value is the corresponding action it should take when the InfoWindow is clicked.</p> <p>Then, use a <code>OnInfoWindowClickListener</code> to handle the event of a user clicking the InfoWindow, and use the HashMap to determine which action to take.</p> <p>In this simple example we will open up a different Activity based on which Marker's InfoWindow was clicked.</p> <p>Declare the HashMap as an instance variable of the Activity or Fragment:</p> <div class="language- extra-class"><pre class="language-text"><code>
//Declare HashMap to store mapping of marker to Activity
HashMap&lt;String, String&gt; markerMap = new HashMap&lt;String, String&gt;();

</code></pre></div><p>Then, each time you add a Marker, make an entry in the HashMap with the Marker ID and the action it should take when it's InfoWindow is clicked.</p> <p>For example, adding two Markers and defining an action to take for each:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Marker</span> markerOne <span class="token operator">=</span> googleMap<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MarkerOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>latLng1<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">&quot;Marker One&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">snippet</span><span class="token punctuation">(</span><span class="token string">&quot;This is Marker One&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> idOne <span class="token operator">=</span> markerOne<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
markerMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>idOne<span class="token punctuation">,</span> <span class="token string">&quot;action_one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Marker</span> markerTwo <span class="token operator">=</span> googleMap<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MarkerOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>latLng2<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">&quot;Marker Two&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">snippet</span><span class="token punctuation">(</span><span class="token string">&quot;This is Marker Two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> idTwo <span class="token operator">=</span> markerTwo<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
markerMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>idTwo<span class="token punctuation">,</span> <span class="token string">&quot;action_two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>In the InfoWindow click listener, get the action from the HashMap, and open up the corresponding Activity based on the action of the Marker:</p> <div class="language- extra-class"><pre class="language-text"><code>
mGoogleMap.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener() {
  @Override
  public void onInfoWindowClick(Marker marker) {

    String actionId = markerMap.get(marker.getId());

    if (actionId.equals(&quot;action_one&quot;)) {
      Intent i = new Intent(MainActivity.this, ActivityOne.class);
      startActivity(i);
    } else if (actionId.equals(&quot;action_two&quot;)) {
      Intent i = new Intent(MainActivity.this, ActivityTwo.class);
      startActivity(i);
    }
  }
});

</code></pre></div><p>Note If the code is in a Fragment, replace MainActivity.this with getActivity().</p> <h2 id="change-offset"><a href="#change-offset" class="header-anchor">#</a> Change Offset</h2> <p>By changing mappoint <strong>x</strong> and <strong>y</strong> values as you need you can change offset possition of google map,by default it will be in the center of the map view. Call below method where you want to change it! Better to use it inside your <code>onLocationChanged</code> like  <code>changeOffsetCenter(location.getLatitude(),location.getLongitude());</code></p> <div class="language- extra-class"><pre class="language-text"><code>
public void changeOffsetCenter(double latitude,double longitude) {
            Point mappoint = mGoogleMap.getProjection().toScreenLocation(new LatLng(latitude, longitude));
            mappoint.set(mappoint.x, mappoint.y-100); // change these values as you need , just hard coded a value if you want you can give it based on a ratio like using DisplayMetrics  as well
            mGoogleMap.animateCamera(CameraUpdateFactory.newLatLng(mGoogleMap.getProjection().fromScreenLocation(mappoint)));
        }

</code></pre></div><h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td>GoogleMap</td> <td>the <code>GoogleMap</code> is an object that is received on a <code>onMapReady()</code> event</td></tr> <tr><td>MarkerOptions</td> <td><code>MarkerOptions</code> is the builder class of a <code>Marker</code>, and is used to add one marker to a map.</td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p><strong>Requirements</strong></p> <ol><li>Google Play Services SDK installed.</li> <li>A Google Console Account.</li> <li>A Google Maps API Key obtained in Google Console.</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/android/google-maps-api-v2-for-android.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/android/google-awareness-apis.html" class="prev">
        Google Awareness APIs
      </a></span> <span class="next"><a href="/android/google-drive-api.html">
        Google Drive API
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/196.c04b2080.js" defer></script>
  </body>
</html>
