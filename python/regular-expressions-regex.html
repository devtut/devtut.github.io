<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python - Regular Expressions (Regex)</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Matching the beginning of a string, Searching, Precompiled patterns, Flags, Replacing, Find All Non-Overlapping Matches, Checking for allowed characters, Splitting a string using regular expressions, Grouping, Escaping Special Characters, Iterating over matches using `re.finditer`, Match an expression only in specific locations">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Python - Regular Expressions (Regex)">
    <meta property="og:description" content="Matching the beginning of a string, Searching, Precompiled patterns, Flags, Replacing, Find All Non-Overlapping Matches, Checking for allowed characters, Splitting a string using regular expressions, Grouping, Escaping Special Characters, Iterating over matches using `re.finditer`, Match an expression only in specific locations">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/python/regular-expressions-regex.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Python - Regular Expressions (Regex)">
    <meta name="twitter:description" content="Matching the beginning of a string, Searching, Precompiled patterns, Flags, Replacing, Find All Non-Overlapping Matches, Checking for allowed characters, Splitting a string using regular expressions, Grouping, Escaping Special Characters, Iterating over matches using `re.finditer`, Match an expression only in specific locations">
    <meta name="twitter:url" content="/python/regular-expressions-regex.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2799.9ee45ea2.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/python/getting-started-with-python-language.html" class="sidebar-link">Getting started with Python Language</a></li><li><a href="/python/python-data-types.html" class="sidebar-link">Python Data Types</a></li><li><a href="/python/indentation.html" class="sidebar-link">Indentation</a></li><li><a href="/python/comments-and-documentation.html" class="sidebar-link">Comments and Documentation</a></li><li><a href="/python/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/python/enum.html" class="sidebar-link">Enum</a></li><li><a href="/python/set.html" class="sidebar-link">Set</a></li><li><a href="/python/simple-mathematical-operators.html" class="sidebar-link">Simple Mathematical Operators</a></li><li><a href="/python/bitwise-operators.html" class="sidebar-link">Bitwise Operators</a></li><li><a href="/python/boolean-operators.html" class="sidebar-link">Boolean Operators</a></li><li><a href="/python/operator-precedence.html" class="sidebar-link">Operator Precedence</a></li><li><a href="/python/variable-scope-and-binding.html" class="sidebar-link">Variable Scope and Binding</a></li><li><a href="/python/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/python/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/python/loops.html" class="sidebar-link">Loops</a></li><li><a href="/python/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/python/multidimensional-arrays.html" class="sidebar-link">Multidimensional arrays</a></li><li><a href="/python/dictionary.html" class="sidebar-link">Dictionary</a></li><li><a href="/python/list.html" class="sidebar-link">List</a></li><li><a href="/python/list-comprehensions.html" class="sidebar-link">List Comprehensions</a></li><li><a href="/python/list-slicing-selecting-parts-of-lists.html" class="sidebar-link">List slicing (selecting parts of lists)</a></li><li><a href="/python/groupby.html" class="sidebar-link">groupby()</a></li><li><a href="/python/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/python/linked-list-node.html" class="sidebar-link">Linked List Node</a></li><li><a href="/python/filter.html" class="sidebar-link">Filter</a></li><li><a href="/python/heapq.html" class="sidebar-link">Heapq</a></li><li><a href="/python/tuple.html" class="sidebar-link">Tuple</a></li><li><a href="/python/basic-input-and-output.html" class="sidebar-link">Basic Input and Output</a></li><li><a href="/python/files-folders-i-o.html" class="sidebar-link">Files &amp; Folders I/O</a></li><li><a href="/python/os-path.html" class="sidebar-link">os.path</a></li><li><a href="/python/iterables-and-iterators.html" class="sidebar-link">Iterables and Iterators</a></li><li><a href="/python/functions.html" class="sidebar-link">Functions</a></li><li><a href="/python/defining-functions-with-list-arguments.html" class="sidebar-link">Defining functions with list arguments</a></li><li><a href="/python/functional-programming-in-python.html" class="sidebar-link">Functional Programming in Python</a></li><li><a href="/python/partial-functions.html" class="sidebar-link">Partial functions</a></li><li><a href="/python/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/python/classes.html" class="sidebar-link">Classes</a></li><li><a href="/python/metaclasses.html" class="sidebar-link">Metaclasses</a></li><li><a href="/python/string-formatting.html" class="sidebar-link">String Formatting</a></li><li><a href="/python/string-methods.html" class="sidebar-link">String Methods</a></li><li><a href="/python/using-loops-within-functions.html" class="sidebar-link">Using loops within functions</a></li><li><a href="/python/importing-modules.html" class="sidebar-link">Importing modules</a></li><li><a href="/python/difference-between-module-and-package.html" class="sidebar-link">Difference between Module and Package</a></li><li><a href="/python/math-module.html" class="sidebar-link">Math Module</a></li><li><a href="/python/complex-math.html" class="sidebar-link">Complex math</a></li><li><a href="/python/collections-module.html" class="sidebar-link">Collections module</a></li><li><a href="/python/operator-module.html" class="sidebar-link">Operator module</a></li><li><a href="/python/json-module.html" class="sidebar-link">JSON Module</a></li><li><a href="/python/sqlite3-module.html" class="sidebar-link">Sqlite3 Module</a></li><li><a href="/python/the-os-module.html" class="sidebar-link">The os Module</a></li><li><a href="/python/the-locale-module.html" class="sidebar-link">The locale Module</a></li><li><a href="/python/itertools-module.html" class="sidebar-link">Itertools Module</a></li><li><a href="/python/asyncio-module.html" class="sidebar-link">Asyncio Module</a></li><li><a href="/python/random-module.html" class="sidebar-link">Random module</a></li><li><a href="/python/functools-module.html" class="sidebar-link">Functools Module</a></li><li><a href="/python/the-dis-module.html" class="sidebar-link">The dis module</a></li><li><a href="/python/the-base64-module.html" class="sidebar-link">The base64 Module</a></li><li><a href="/python/queue-module.html" class="sidebar-link">Queue Module</a></li><li><a href="/python/deque-module.html" class="sidebar-link">Deque Module</a></li><li><a href="/python/webbrowser-module.html" class="sidebar-link">Webbrowser Module</a></li><li><a href="/python/tkinter.html" class="sidebar-link">tkinter</a></li><li><a href="/python/pyautogui-module.html" class="sidebar-link">pyautogui module</a></li><li><a href="/python/indexing-and-slicing.html" class="sidebar-link">Indexing and Slicing</a></li><li><a href="/python/plotting-with-matplotlib.html" class="sidebar-link">Plotting with Matplotlib</a></li><li><a href="/python/graph-tool.html" class="sidebar-link">graph-tool</a></li><li><a href="/python/generators.html" class="sidebar-link">Generators</a></li><li><a href="/python/reduce.html" class="sidebar-link">Reduce</a></li><li><a href="/python/map-function.html" class="sidebar-link">Map Function</a></li><li><a href="/python/exponentiation.html" class="sidebar-link">Exponentiation</a></li><li><a href="/python/searching.html" class="sidebar-link">Searching</a></li><li><a href="/python/sorting-minimum-and-maximum.html" class="sidebar-link">Sorting, Minimum and Maximum</a></li><li><a href="/python/counting.html" class="sidebar-link">Counting</a></li><li><a href="/python/the-print-function.html" class="sidebar-link">The Print Function</a></li><li><a href="/python/regular-expressions-regex.html" aria-current="page" class="active sidebar-link">Regular Expressions (Regex)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#matching-the-beginning-of-a-string" class="sidebar-link">Matching the beginning of a string</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#searching" class="sidebar-link">Searching</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#precompiled-patterns" class="sidebar-link">Precompiled patterns</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#flags" class="sidebar-link">Flags</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#replacing" class="sidebar-link">Replacing</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#find-all-non-overlapping-matches" class="sidebar-link">Find All Non-Overlapping Matches</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#checking-for-allowed-characters" class="sidebar-link">Checking for allowed characters</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#splitting-a-string-using-regular-expressions" class="sidebar-link">Splitting a string using regular expressions</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#grouping" class="sidebar-link">Grouping</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#escaping-special-characters" class="sidebar-link">Escaping Special Characters</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#iterating-over-matches-using-re-finditer" class="sidebar-link">Iterating over matches using re.finditer</a></li><li class="sidebar-sub-header"><a href="/python/regular-expressions-regex.html#match-an-expression-only-in-specific-locations" class="sidebar-link">Match an expression only in specific locations</a></li></ul></li><li><a href="/python/copying-data.html" class="sidebar-link">Copying data</a></li><li><a href="/python/context-managers-with-statement.html" class="sidebar-link">Context Managers (“with” Statement)</a></li><li><a href="/python/the-name-special-variable.html" class="sidebar-link">The _name_ special variable</a></li><li><a href="/python/checking-path-existence-and-permissions.html" class="sidebar-link">Checking Path Existence and Permissions</a></li><li><a href="/python/creating-python-packages.html" class="sidebar-link">Creating Python packages</a></li><li><a href="/python/usage-of-pip-module-pypi-package-manager.html" class="sidebar-link">Usage of &quot;pip&quot; module: PyPI Package Manager</a></li><li><a href="/python/pip-pypi-package-manager.html" class="sidebar-link">pip: PyPI Package Manager</a></li><li><a href="/python/parsing-command-line-arguments.html" class="sidebar-link">Parsing Command Line arguments</a></li><li><a href="/python/subprocess-library.html" class="sidebar-link">Subprocess Library</a></li><li><a href="/python/setup-py.html" class="sidebar-link">setup.py</a></li><li><a href="/python/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/python/type-hints.html" class="sidebar-link">Type Hints</a></li><li><a href="/python/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/python/raise-custom-errors-exceptions.html" class="sidebar-link">Raise Custom Errors / Exceptions</a></li><li><a href="/python/commonwealth-exceptions.html" class="sidebar-link">Commonwealth Exceptions</a></li><li><a href="/python/urllib.html" class="sidebar-link">urllib</a></li><li><a href="/python/web-scraping-with-python.html" class="sidebar-link">Web scraping with Python</a></li><li><a href="/python/html-parsing.html" class="sidebar-link">HTML Parsing</a></li><li><a href="/python/manipulating-xml.html" class="sidebar-link">Manipulating XML</a></li><li><a href="/python/python-requests-post.html" class="sidebar-link">Python Requests Post</a></li><li><a href="/python/distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/python/property-objects.html" class="sidebar-link">Property Objects</a></li><li><a href="/python/overloading.html" class="sidebar-link">Overloading</a></li><li><a href="/python/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/python/method-overriding.html" class="sidebar-link">Method Overriding</a></li><li><a href="/python/user-defined-methods.html" class="sidebar-link">User-Defined Methods</a></li><li><a href="/python/string-representations-of-class-instances-str-and-repr-methods.html" class="sidebar-link">String representations of class instances: _str and repr_ methods</a></li><li><a href="/python/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/python/reading-and-writing-csv.html" class="sidebar-link">Reading and Writing CSV</a></li><li><a href="/python/writing-to-csv-from-string-or-list.html" class="sidebar-link">Writing to CSV from String or List</a></li><li><a href="/python/dynamic-code-execution-with-exec-and-eval.html" class="sidebar-link">Dynamic code execution with exec and eval</a></li><li><a href="/python/pyinstaller-distributing-python-code.html" class="sidebar-link">PyInstaller - Distributing Python Code</a></li><li><a href="/python/data-visualization-with-python.html" class="sidebar-link">Data Visualization with Python</a></li><li><a href="/python/the-interpreter-command-line-console.html" class="sidebar-link">The Interpreter (Command Line Console)</a></li><li><a href="/python/args-and-kwargs.html" class="sidebar-link">args and *kwargs</a></li><li><a href="/python/garbage-collection.html" class="sidebar-link">Garbage Collection</a></li><li><a href="/python/pickle-data-serialisation.html" class="sidebar-link">Pickle data serialisation</a></li><li><a href="/python/binary-data.html" class="sidebar-link">Binary Data</a></li><li><a href="/python/idioms.html" class="sidebar-link">Idioms</a></li><li><a href="/python/data-serialization.html" class="sidebar-link">Data Serialization</a></li><li><a href="/python/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/python/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/python/processes-and-threads.html" class="sidebar-link">Processes and Threads</a></li><li><a href="/python/python-concurrency.html" class="sidebar-link">Python concurrency</a></li><li><a href="/python/parallel-computation.html" class="sidebar-link">Parallel computation</a></li><li><a href="/python/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/python/websockets.html" class="sidebar-link">Websockets</a></li><li><a href="/python/sockets-and-message-encryption-decryption-between-client-and-server.html" class="sidebar-link">Sockets And Message Encryption/Decryption Between Client and Server</a></li><li><a href="/python/python-networking.html" class="sidebar-link">Python Networking</a></li><li><a href="/python/python-http-server.html" class="sidebar-link">Python HTTP Server</a></li><li><a href="/python/flask.html" class="sidebar-link">Flask</a></li><li><a href="/python/introduction-to-rabbitmq-using-amqpstorm.html" class="sidebar-link">Introduction to RabbitMQ using AMQPStorm</a></li><li><a href="/python/descriptor.html" class="sidebar-link">Descriptor</a></li><li><a href="/python/tempfile-namedtemporaryfile.html" class="sidebar-link">tempfile NamedTemporaryFile</a></li><li><a href="/python/input-subset-and-output-external-data-files-using-pandas.html" class="sidebar-link">Input, Subset and Output External Data Files using Pandas</a></li><li><a href="/python/unzipping-files.html" class="sidebar-link">Unzipping Files</a></li><li><a href="/python/working-with-zip-archives.html" class="sidebar-link">Working with ZIP archives</a></li><li><a href="/python/getting-start-with-gzip.html" class="sidebar-link">getting start with GZip</a></li><li><a href="/python/stack.html" class="sidebar-link">Stack</a></li><li><a href="/python/working-around-the-global-interpreter-lock-gil.html" class="sidebar-link">Working around the Global Interpreter Lock (GIL)</a></li><li><a href="/python/deployment.html" class="sidebar-link">Deployment</a></li><li><a href="/python/logging.html" class="sidebar-link">Logging</a></li><li><a href="/python/web-server-gateway-interface-wsgi.html" class="sidebar-link">Web Server Gateway Interface (WSGI)</a></li><li><a href="/python/python-server-sent-events.html" class="sidebar-link">Python Server Sent Events</a></li><li><a href="/python/alternatives-to-switch-statement-from-other-languages.html" class="sidebar-link">Alternatives to switch statement from other languages</a></li><li><a href="/python/list-destructuring-aka-packing-and-unpacking.html" class="sidebar-link">List destructuring (aka packing and unpacking)</a></li><li><a href="/python/accessing-python-source-code-and-bytecode.html" class="sidebar-link">Accessing Python source code and bytecode</a></li><li><a href="/python/mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/python/attribute-access.html" class="sidebar-link">Attribute Access</a></li><li><a href="/python/arcpy.html" class="sidebar-link">ArcPy</a></li><li><a href="/python/abstract-base-classes-abc.html" class="sidebar-link">Abstract Base Classes (abc)</a></li><li><a href="/python/plugin-and-extension-classes.html" class="sidebar-link">Plugin and Extension Classes</a></li><li><a href="/python/immutable-datatypes-int-float-str-tuple-and-frozensets.html" class="sidebar-link">Immutable datatypes(int, float, str, tuple and frozensets)</a></li><li><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html" class="sidebar-link">Incompatibilities moving from Python 2 to Python 3</a></li><li><a href="/python/2to3-tool.html" class="sidebar-link">2to3 tool</a></li><li><a href="/python/non-official-python-implementations.html" class="sidebar-link">Non-official Python implementations</a></li><li><a href="/python/abstract-syntax-tree.html" class="sidebar-link">Abstract syntax tree</a></li><li><a href="/python/unicode-and-bytes.html" class="sidebar-link">Unicode and bytes</a></li><li><a href="/python/python-serial-communication-pyserial.html" class="sidebar-link">Python Serial Communication (pyserial)</a></li><li><a href="/python/neo4j-and-cypher-using-py2neo.html" class="sidebar-link">Neo4j and Cypher using Py2Neo</a></li><li><a href="/python/basic-curses-with-python.html" class="sidebar-link">Basic Curses with Python</a></li><li><a href="/python/templates-in-python.html" class="sidebar-link">Templates in python</a></li><li><a href="/python/pillow.html" class="sidebar-link">Pillow</a></li><li><a href="/python/the-pass-statement.html" class="sidebar-link">The pass statement</a></li><li><a href="/python/cli-subcommands-with-precise-help-output.html" class="sidebar-link">CLI subcommands with precise help output</a></li><li><a href="/python/database-access.html" class="sidebar-link">Database Access</a></li><li><a href="/python/connecting-python-to-sql-server.html" class="sidebar-link">Connecting Python to SQL Server</a></li><li><a href="/python/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/python/python-and-excel.html" class="sidebar-link">Python and Excel</a></li><li><a href="/python/turtle-graphics.html" class="sidebar-link">Turtle Graphics</a></li><li><a href="/python/python-persistence.html" class="sidebar-link">Python Persistence</a></li><li><a href="/python/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/python/hashlib.html" class="sidebar-link">hashlib</a></li><li><a href="/python/creating-a-windows-service-using-python.html" class="sidebar-link">Creating a Windows service using Python</a></li><li><a href="/python/mutable-vs-immutable-and-hashable-in-python.html" class="sidebar-link">Mutable vs Immutable (and Hashable) in Python</a></li><li><a href="/python/configparser.html" class="sidebar-link">configparser</a></li><li><a href="/python/optical-character-recognition.html" class="sidebar-link">Optical Character Recognition</a></li><li><a href="/python/virtual-environments.html" class="sidebar-link">Virtual environments</a></li><li><a href="/python/python-virtual-environment-virtualenv.html" class="sidebar-link">Python Virtual Environment - virtualenv</a></li><li><a href="/python/virtual-environment-with-virtualenvwrapper.html" class="sidebar-link">virtual environment with virtualenvwrapper</a></li><li><a href="/python/create-virtual-environment-with-virtualenvwrapper-in-windows.html" class="sidebar-link">Create virtual environment with virtualenvwrapper in windows</a></li><li><a href="/python/sys.html" class="sidebar-link">sys</a></li><li><a href="/python/chempy-python-package.html" class="sidebar-link">ChemPy - python package</a></li><li><a href="/python/pygame.html" class="sidebar-link">pygame</a></li><li><a href="/python/pyglet.html" class="sidebar-link">Pyglet</a></li><li><a href="/python/audio.html" class="sidebar-link">Audio</a></li><li><a href="/python/pyaudio.html" class="sidebar-link">pyaudio</a></li><li><a href="/python/shelve.html" class="sidebar-link">shelve</a></li><li><a href="/python/iot-programming-with-python-and-raspberry-pi.html" class="sidebar-link">IoT Programming with Python and Raspberry PI</a></li><li><a href="/python/kivy-cross-platform-python-framework-for-nui-development.html" class="sidebar-link">kivy - Cross-platform Python Framework for NUI Development</a></li><li><a href="/python/pandas-transform-preform-operations-on-groups-and-concatenate-the-results.html" class="sidebar-link">Pandas Transform: Preform operations on groups and concatenate the results</a></li><li><a href="/python/similarities-in-syntax-differences-in-meaning-python-vs-javascript.html" class="sidebar-link">Similarities in syntax, Differences in meaning: Python vs. JavaScript</a></li><li><a href="/python/call-python-from-c.html" class="sidebar-link">Call Python from C#</a></li><li><a href="/python/ctypes.html" class="sidebar-link">ctypes</a></li><li><a href="/python/writing-extensions.html" class="sidebar-link">Writing extensions</a></li><li><a href="/python/python-lex-yacc.html" class="sidebar-link">Python Lex-Yacc</a></li><li><a href="/python/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/python/py-test.html" class="sidebar-link">py.test</a></li><li><a href="/python/profiling.html" class="sidebar-link">Profiling</a></li><li><a href="/python/python-speed-of-program.html" class="sidebar-link">Python speed of program</a></li><li><a href="/python/performance-optimization.html" class="sidebar-link">Performance optimization</a></li><li><a href="/python/security-and-cryptography.html" class="sidebar-link">Security and Cryptography</a></li><li><a href="/python/secure-shell-connection-in-python.html" class="sidebar-link">Secure Shell Connection in Python</a></li><li><a href="/python/python-anti-patterns.html" class="sidebar-link">Python Anti-Patterns</a></li><li><a href="/python/common-pitfalls.html" class="sidebar-link">Common Pitfalls</a></li><li><a href="/python/hidden-features.html" class="sidebar-link">Hidden Features</a></li><li><a href="/python/date-formatting.html" class="sidebar-link">Date Formatting</a></li><li><a href="/python/ijson.html" class="sidebar-link">ijson</a></li><li><a href="/python/django.html" class="sidebar-link">Django</a></li><li><a href="/python/code-blocks-execution-frames-and-namespaces.html" class="sidebar-link">Code blocks, execution frames, and namespaces</a></li><li><a href="/python/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="regular-expressions-regex"><a href="#regular-expressions-regex" class="header-anchor">#</a> Regular Expressions (Regex)</h1> <p>Python makes regular expressions available through the <code>re</code> module.</p> <p><a href="https://stackoverflow.com/documentation/regex/topics" target="_blank" rel="noopener noreferrer">Regular expressions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> are combinations of characters that are interpreted as rules for matching substrings. For instance, the expression <code>'amount\D+\d+'</code> will match any string composed by the word <code>amount</code> plus an integral number, separated by one or more non-digits, such as:<code>amount=100</code>, <code>amount is 3</code>, <code>amount is equal to: 33</code>, etc.</p> <h2 id="matching-the-beginning-of-a-string"><a href="#matching-the-beginning-of-a-string" class="header-anchor">#</a> Matching the beginning of a string</h2> <p>The first argument of <code>re.match()</code> is the regular expression, the second is the string to match:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> re

pattern <span class="token operator">=</span> <span class="token string">r&quot;123&quot;</span>
string <span class="token operator">=</span> <span class="token string">&quot;123zzb&quot;</span>

re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> string<span class="token punctuation">)</span>
<span class="token comment"># Out: &lt;_sre.SRE_Match object; span=(0, 3), match='123'&gt;</span>

match <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> string<span class="token punctuation">)</span>

match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '123'</span>

</code></pre></div><p>You may notice that the pattern variable is a string prefixed with <code>r</code>, which indicates that the string is a <strong>raw string literal</strong>.</p> <p>A raw string literal has a slightly different syntax than a string literal, namely a backslash <code>\</code> in a raw string literal means &quot;just a backslash&quot; and there's no need for doubling up backlashes to escape &quot;escape sequences&quot; such as newlines (<code>\n</code>), tabs (<code>\t</code>), backspaces (<code>\</code>), form-feeds (<code>\r</code>), and so on. In normal string literals, each backslash must be doubled up to avoid being taken as the start of an escape sequence.</p> <p>Hence, <code>r&quot;\n&quot;</code> is a string of 2 characters: <code>\</code> and <code>n</code>. Regex patterns also use backslashes, e.g. <code>\d</code> refers to any digit character. We can avoid having to double escape our strings (<code>&quot;\\d&quot;</code>) by using raw strings (<code>r&quot;\d&quot;</code>).</p> <p>For instance:</p> <div class="language-py extra-class"><pre class="language-py"><code>string <span class="token operator">=</span> <span class="token string">&quot;\\t123zzb&quot;</span> <span class="token comment"># here the backslash is escaped, so there's no tab, just '\' and 't'</span>
pattern <span class="token operator">=</span> <span class="token string">&quot;\\t123&quot;</span>   <span class="token comment"># this will match \t (escaping the backslash) followed by 123</span>
re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># no match</span>
re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token string">&quot;\t123zzb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># matches '\t123'</span>

pattern <span class="token operator">=</span> <span class="token string">r&quot;\\t123&quot;</span>  
re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># matches '\\t123'</span>


</code></pre></div><p>Matching is done from the start of the string only. If you want to match anywhere use <a href="https://stackoverflow.com/documentation/python/632/regular-expressions-regex/2065/searching" target="_blank" rel="noopener noreferrer"><code>re.search</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> instead:</p> <div class="language-py extra-class"><pre class="language-py"><code>match <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">r&quot;(123)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a123zzb&quot;</span><span class="token punctuation">)</span>

match <span class="token keyword">is</span> <span class="token boolean">None</span>
<span class="token comment"># Out: True</span>

match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;(123)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a123zzb&quot;</span><span class="token punctuation">)</span>

match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '123'</span>

</code></pre></div><h2 id="searching"><a href="#searching" class="header-anchor">#</a> Searching</h2> <div class="language-py extra-class"><pre class="language-py"><code>pattern <span class="token operator">=</span> <span class="token string">r&quot;(your base)&quot;</span>
sentence <span class="token operator">=</span> <span class="token string">&quot;All your base are belong to us.&quot;</span>

match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> sentence<span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'your base'</span>

match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;(belong.*)&quot;</span><span class="token punctuation">,</span> sentence<span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'belong to us.'</span>

</code></pre></div><p>Searching is done anywhere in the string unlike <code>re.match</code>. You can also use <code>re.findall</code>.</p> <p>You can also search at the beginning of the string (use <code>^</code>),</p> <div class="language-py extra-class"><pre class="language-py"><code>match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;^123&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123zzb&quot;</span><span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '123'</span>

match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;^123&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a123zzb&quot;</span><span class="token punctuation">)</span>
match <span class="token keyword">is</span> <span class="token boolean">None</span>
<span class="token comment"># Out: True</span>

</code></pre></div><p>at the end of the string (use <code>$</code>),</p> <div class="language-py extra-class"><pre class="language-py"><code>match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;123$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zzb123&quot;</span><span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '123'</span>

match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;123$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123zzb&quot;</span><span class="token punctuation">)</span>
match <span class="token keyword">is</span> <span class="token boolean">None</span>
<span class="token comment"># Out: True</span>

</code></pre></div><p>or both (use both <code>^</code> and <code>$</code>):</p> <div class="language-py extra-class"><pre class="language-py"><code>match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;^123$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '123'</span>

</code></pre></div><h2 id="precompiled-patterns"><a href="#precompiled-patterns" class="header-anchor">#</a> Precompiled patterns</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> re

precompiled_pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r&quot;(\d+)&quot;</span><span class="token punctuation">)</span>
matches <span class="token operator">=</span> precompiled_pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">&quot;The answer is 41!&quot;</span><span class="token punctuation">)</span>
matches<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 41</span>

matches <span class="token operator">=</span> precompiled_pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">&quot;Or was it 42?&quot;</span><span class="token punctuation">)</span>
matches<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 42</span>

</code></pre></div><p>Compiling a pattern allows it to be reused later on in a program. However, note that Python caches recently-used expressions (<a href="https://docs.python.org/3/library/re.html#re.compile" target="_blank" rel="noopener noreferrer">docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://stackoverflow.com/a/452143/1240268" target="_blank" rel="noopener noreferrer">SO answer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>), so <strong>&quot;programs that use only a few regular expressions at a time needn’t worry about compiling regular expressions&quot;</strong>.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> re

precompiled_pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r&quot;(.*\d+)&quot;</span><span class="token punctuation">)</span>
matches <span class="token operator">=</span> precompiled_pattern<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">&quot;The answer is 41!&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: The answer is 41</span>

matches <span class="token operator">=</span> precompiled_pattern<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">&quot;Or was it 42?&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: Or was it 42</span>

</code></pre></div><p>It can be used with re.match().</p> <h2 id="flags"><a href="#flags" class="header-anchor">#</a> Flags</h2> <p>For some special cases we need to change the behavior of the Regular Expression, this is done using flags. Flags can be set in two ways, through the <code>flags</code> keyword or directly in the expression.</p> <h3 id="flags-keyword"><a href="#flags-keyword" class="header-anchor">#</a> <strong>Flags keyword</strong></h3> <p>Below an example for <code>re.search</code> but it works for most functions in the <code>re</code> module.</p> <div class="language-py extra-class"><pre class="language-py"><code>m <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ABC&quot;</span><span class="token punctuation">)</span>  
m <span class="token keyword">is</span> <span class="token boolean">None</span>
<span class="token comment"># Out: True</span>

m <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ABC&quot;</span><span class="token punctuation">,</span> flags<span class="token operator">=</span>re<span class="token punctuation">.</span>IGNORECASE<span class="token punctuation">)</span>
m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'B'</span>

m <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">&quot;a.b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;A\nBC&quot;</span><span class="token punctuation">,</span> flags<span class="token operator">=</span>re<span class="token punctuation">.</span>IGNORECASE<span class="token punctuation">)</span> 
m <span class="token keyword">is</span> <span class="token boolean">None</span>
<span class="token comment"># Out: True</span>

m <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">&quot;a.b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;A\nBC&quot;</span><span class="token punctuation">,</span> flags<span class="token operator">=</span>re<span class="token punctuation">.</span>IGNORECASE<span class="token operator">|</span>re<span class="token punctuation">.</span>DOTALL<span class="token punctuation">)</span> 
m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'A\nB'</span>

</code></pre></div><p><strong>Common Flags</strong></p> <table><thead><tr><th>Flag</th> <th>Short Description</th></tr></thead> <tbody><tr><td><code>re.IGNORECASE</code>, <code>re.I</code></td> <td>Makes the pattern ignore the case</td></tr> <tr><td><code>re.DOTALL</code>, <code>re.S</code></td> <td>Makes <code>.</code> match everything including newlines</td></tr> <tr><td><code>re.MULTILINE</code>, <code>re.M</code></td> <td>Makes <code>^</code> match the begin of a line and <code>$</code> the end of a line</td></tr> <tr><td><code>re.DEBUG</code></td> <td>Turns on debug information</td></tr></tbody></table> <p>For the complete list of all available flags check the <a href="https://docs.python.org/2/library/re.html#module-contents" target="_blank" rel="noopener noreferrer">docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="inline-flags"><a href="#inline-flags" class="header-anchor">#</a> <strong>Inline flags</strong></h3> <p>From the <a href="https://docs.python.org/2/library/re.html#regular-expression-syntax" target="_blank" rel="noopener noreferrer">docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <blockquote></blockquote> <p>`(?iLmsux)`
(One or more letters from the set 'i', 'L', 'm', 's', 'u', 'x'.)</p>
The group matches the empty string; the letters set the corresponding flags: re.I (ignore case), re.L (locale dependent), re.M (multi-line), re.S (dot matches all), re.U (Unicode dependent), and re.X (verbose), for the entire regular expression. This is useful if you wish to include the flags as part of the regular expression, instead of passing a flag argument to the re.compile() function.
Note that the (?x) flag changes how the expression is parsed. It should be used first in the expression string, or after one or more whitespace characters. If there are non-whitespace characters before the flag, the results are undefined.
<h2 id="replacing"><a href="#replacing" class="header-anchor">#</a> Replacing</h2> <p>Replacements can be made on strings using <a href="https://docs.python.org/2/library/re.html#re.sub" target="_blank" rel="noopener noreferrer"><code>re.sub</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="replacing-strings"><a href="#replacing-strings" class="header-anchor">#</a> Replacing strings</h3> <div class="language-py extra-class"><pre class="language-py"><code>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r&quot;t[0-9][0-9]&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;my name t13 is t44 what t99 ever t44&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'my name foo is foo what foo ever foo'</span>

</code></pre></div><h3 id="using-group-references"><a href="#using-group-references" class="header-anchor">#</a> Using group references</h3> <p>Replacements with a small number of groups can be made as follows:</p> <div class="language-py extra-class"><pre class="language-py"><code>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r&quot;t([0-9])([0-9])&quot;</span><span class="token punctuation">,</span> <span class="token string">r&quot;t\2\1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;t13 t19 t81 t25&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 't31 t91 t18 t52'</span>

</code></pre></div><p>However, if you make a group ID like '10', <a href="https://docs.python.org/2/library/re.html#re.sub" target="_blank" rel="noopener noreferrer">this doesn't work<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: <code>\10</code> is read as 'ID number 1 followed by 0'. So you have to be more specific and use the <code>\g&lt;i&gt;</code> notation:</p> <div class="language-py extra-class"><pre class="language-py"><code>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r&quot;t([0-9])([0-9])&quot;</span><span class="token punctuation">,</span> <span class="token string">r&quot;t\g&lt;2&gt;\g&lt;1&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;t13 t19 t81 t25&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 't31 t91 t18 t52'</span>

</code></pre></div><h3 id="using-a-replacement-function"><a href="#using-a-replacement-function" class="header-anchor">#</a> Using a replacement function</h3> <div class="language-py extra-class"><pre class="language-py"><code>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;zero&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">]</span>
re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r&quot;a\[([0-3])\]&quot;</span><span class="token punctuation">,</span> <span class="token keyword">lambda</span> match<span class="token punctuation">:</span> items<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;Items: a[0], a[1], something, a[2]&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'Items: zero, one, something, two'</span>

</code></pre></div><h2 id="find-all-non-overlapping-matches"><a href="#find-all-non-overlapping-matches" class="header-anchor">#</a> Find All Non-Overlapping Matches</h2> <div class="language-py extra-class"><pre class="language-py"><code>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r&quot;[0-9]{2,3}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;some 1 text 12 is 945 here 4445588899&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Out: ['12', '945', '444', '558', '889']</span>

</code></pre></div><p>Note that the <code>r</code> before <code>&quot;[0-9]{2,3}&quot;</code> tells python to interpret the string as-is; as a &quot;raw&quot; string.</p> <p>You could also use <code>re.finditer()</code> which works in the same way as <code>re.findall()</code> but returns an iterator with <code>SRE_Match</code> objects instead of a list of strings:</p> <div class="language-py extra-class"><pre class="language-py"><code>results <span class="token operator">=</span> re<span class="token punctuation">.</span>finditer<span class="token punctuation">(</span><span class="token string">r&quot;([0-9]{2,3})&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;some 1 text 12 is 945 here 4445588899&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span>
<span class="token comment"># Out: &lt;callable-iterator object at 0x105245890&gt;</span>
<span class="token keyword">for</span> result <span class="token keyword">in</span> results<span class="token punctuation">:</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">''' Out:
12
945
444
558
889
'''</span>

</code></pre></div><h2 id="checking-for-allowed-characters"><a href="#checking-for-allowed-characters" class="header-anchor">#</a> Checking for allowed characters</h2> <p>If you want to check that a string contains only a certain set of characters, in this case a-z, A-Z and 0-9, you can do so like this,</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> re

<span class="token keyword">def</span> <span class="token function">is_allowed</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    characherRegex <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'[^a-zA-Z0-9.]'</span><span class="token punctuation">)</span>
    string <span class="token operator">=</span> characherRegex<span class="token punctuation">.</span>search<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">not</span> <span class="token builtin">bool</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    
<span class="token keyword">print</span> <span class="token punctuation">(</span>is_allowed<span class="token punctuation">(</span><span class="token string">&quot;abyzABYZ0099&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment"># Out: 'True'</span>

<span class="token keyword">print</span> <span class="token punctuation">(</span>is_allowed<span class="token punctuation">(</span><span class="token string">&quot;#*@#$%^&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment"># Out: 'False'</span>

</code></pre></div><p>You can also adapt the expression line from <code>[^a-zA-Z0-9.]</code> to <code>[^a-z0-9.]</code>, to disallow uppercase letters for example.</p> <p>Partial credit : <a href="http://stackoverflow.com/a/1325265/2697955" target="_blank" rel="noopener noreferrer">http://stackoverflow.com/a/1325265/2697955<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="splitting-a-string-using-regular-expressions"><a href="#splitting-a-string-using-regular-expressions" class="header-anchor">#</a> Splitting a string using regular expressions</h2> <p>You can also use regular expressions to split a string. For example,</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> re
data <span class="token operator">=</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r'\s+'</span><span class="token punctuation">,</span> <span class="token string">'James 94 Samantha 417 Scarlett 74'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span>
<span class="token comment"># Output: ['James', '94', 'Samantha', '417', 'Scarlett', '74']</span>

</code></pre></div><h2 id="grouping"><a href="#grouping" class="header-anchor">#</a> Grouping</h2> <p>Grouping is done with parentheses. Calling <code>group()</code> returns a string formed of the matching parenthesized subgroups.</p> <div class="language-py extra-class"><pre class="language-py"><code>match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Group without argument returns the entire match found</span>
<span class="token comment"># Out: '123'</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># Specifying 0 gives the same result as specifying no argument</span>
<span class="token comment"># Out: '123'</span>

</code></pre></div><p>Arguments can also be provided to <code>group()</code> to fetch a particular subgroup.</p> <p>From the <a href="https://docs.python.org/2/library/re.html#re.MatchObject.group" target="_blank" rel="noopener noreferrer">docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <blockquote></blockquote> <p>If there is a single argument, the result is a single string; if there are multiple arguments, the result is a tuple with one item per argument.</p> <p>Calling <code>groups()</code> on the other hand, returns a list of tuples containing the subgroups.</p> <div class="language-py extra-class"><pre class="language-py"><code>sentence <span class="token operator">=</span> <span class="token string">&quot;This is a phone number 672-123-456-9910&quot;</span>
pattern <span class="token operator">=</span> <span class="token string">r&quot;.*(phone).*?([\d-]+)&quot;</span>

match <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> sentence<span class="token punctuation">)</span>

match<span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># The entire match as a list of tuples of the paranthesized subgroups</span>
<span class="token comment"># Out: ('phone', '672-123-456-9910')</span>

m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># The entire match as a string</span>
<span class="token comment"># Out: 'This is a phone number 672-123-456-9910'</span>

m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>       <span class="token comment"># The entire match as a string</span>
<span class="token comment"># Out: 'This is a phone number 672-123-456-9910'</span>

m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>       <span class="token comment"># The first parenthesized subgroup.</span>
<span class="token comment"># Out: 'phone'</span>

m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>       <span class="token comment"># The second parenthesized subgroup.</span>
<span class="token comment"># Out: '672-123-456-9910'</span>

m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>    <span class="token comment"># Multiple arguments give us a tuple.</span>
<span class="token comment"># Out: ('phone', '672-123-456-9910')</span>

</code></pre></div><h3 id="named-groups"><a href="#named-groups" class="header-anchor">#</a> Named groups</h3> <div class="language-py extra-class"><pre class="language-py"><code>match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r'My name is (?P&lt;name&gt;[A-Za-z ]+)'</span><span class="token punctuation">,</span> <span class="token string">'My name is John Smith'</span><span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'John Smith'</span>

match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'John Smith'</span>

</code></pre></div><p>Creates a capture group that can be referenced by name as well as by index.</p> <h3 id="non-capturing-groups"><a href="#non-capturing-groups" class="header-anchor">#</a> Non-capturing groups</h3> <p>Using <code>(?:)</code> creates a group, but the group isn't captured. This means you can use it as a group, but it won't pollute your &quot;group space&quot;.</p> <div class="language-py extra-class"><pre class="language-py"><code>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">r'(\d+)(\+(\d+))?'</span><span class="token punctuation">,</span> <span class="token string">'11+22'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: ('11', '+22', '22')</span>

re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">r'(\d+)(?:\+(\d+))?'</span><span class="token punctuation">,</span> <span class="token string">'11+22'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: ('11', '22')</span>

</code></pre></div><p>This example matches <code>11+22</code> or <code>11</code>, but not <code>11+</code>. This is since the <code>+</code> sign and the second term are grouped. On the other hand, the <code>+</code> sign isn't captured.</p> <h2 id="escaping-special-characters"><a href="#escaping-special-characters" class="header-anchor">#</a> Escaping Special Characters</h2> <p>Special characters (like the character class brackets <code>[</code> and <code>]</code> below) are not matched literally:</p> <div class="language-py extra-class"><pre class="language-py"><code>match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r'[b]'</span><span class="token punctuation">,</span> <span class="token string">'a[b]c'</span><span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'b'</span>

</code></pre></div><p>By escaping the special characters, they can be matched literally:</p> <div class="language-py extra-class"><pre class="language-py"><code>match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r'\[b\]'</span><span class="token punctuation">,</span> <span class="token string">'a[b]c'</span><span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '[b]'</span>

</code></pre></div><p>The <code>re.escape()</code> function can be used to do this for you:</p> <div class="language-py extra-class"><pre class="language-py"><code>re<span class="token punctuation">.</span>escape<span class="token punctuation">(</span><span class="token string">'a[b]c'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'a\\[b\\]c'</span>
match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>re<span class="token punctuation">.</span>escape<span class="token punctuation">(</span><span class="token string">'a[b]c'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'a[b]c'</span><span class="token punctuation">)</span>
match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 'a[b]c'</span>

</code></pre></div><p>The <code>re.escape()</code> function escapes all special characters, so it is useful if you are composing a regular expression based on user input:</p> <div class="language-py extra-class"><pre class="language-py"><code>username <span class="token operator">=</span> <span class="token string">'A.C.'</span>  <span class="token comment"># suppose this came from the user</span>
re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r'Hi {}!'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'Hi A.C.! Hi ABCD!'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: ['Hi A.C.!', 'Hi ABCD!']</span>
re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r'Hi {}!'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>escape<span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'Hi A.C.! Hi ABCD!'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: ['Hi A.C.!']</span>

</code></pre></div><h2 id="iterating-over-matches-using-re-finditer"><a href="#iterating-over-matches-using-re-finditer" class="header-anchor">#</a> Iterating over matches using <code>re.finditer</code></h2> <p>You can use <code>re.finditer</code> to iterate over all matches in a string. This gives you (in comparison to <code>re.findall</code> extra information, such as information about the match location in the string (indexes):</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> re
text <span class="token operator">=</span> <span class="token string">'You can try to find an ant in this string'</span>
pattern <span class="token operator">=</span> <span class="token string">'an?\w'</span> <span class="token comment"># find 'an' either with or without a following word character</span>

<span class="token keyword">for</span> match <span class="token keyword">in</span> re<span class="token punctuation">.</span>finditer<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Start index of match (integer)</span>
    sStart <span class="token operator">=</span> match<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># Final index of match (integer)</span>
    sEnd <span class="token operator">=</span> match<span class="token punctuation">.</span>end<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># Complete match (string)</span>
    sGroup <span class="token operator">=</span> match<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># Print match</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Match &quot;{}&quot; found at: [{},{}]'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>sGroup<span class="token punctuation">,</span> sStart<span class="token punctuation">,</span>sEnd<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>Result:</p> <div class="language-py extra-class"><pre class="language-py"><code>Match <span class="token string">&quot;an&quot;</span> found at<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
Match <span class="token string">&quot;an&quot;</span> found at<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">]</span>
Match <span class="token string">&quot;ant&quot;</span> found at<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">]</span>

</code></pre></div><h2 id="match-an-expression-only-in-specific-locations"><a href="#match-an-expression-only-in-specific-locations" class="header-anchor">#</a> Match an expression only in specific locations</h2> <p>Often you want to match an expression only in <strong>specific</strong> places (leaving them untouched in others, that is). Consider the following sentence:</p> <div class="language-py extra-class"><pre class="language-py"><code>An apple a day keeps the doctor away <span class="token punctuation">(</span>I eat an apple everyday<span class="token punctuation">)</span><span class="token punctuation">.</span>

</code></pre></div><p>Here the &quot;apple&quot; occurs twice which can be solved with so called <strong>backtracking control verbs</strong> which are supported by the newer <a href="https://pypi.python.org/pypi/regex" target="_blank" rel="noopener noreferrer"><strong><code>regex</code></strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> module. The idea is:</p> <div class="language-py extra-class"><pre class="language-py"><code>forget_this <span class="token operator">|</span> <span class="token keyword">or</span> this <span class="token operator">|</span> <span class="token keyword">and</span> this <span class="token keyword">as</span> well <span class="token operator">|</span> <span class="token punctuation">(</span>but keep this<span class="token punctuation">)</span>

</code></pre></div><p>With our apple example, this would be:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> regex <span class="token keyword">as</span> re
string <span class="token operator">=</span> <span class="token string">&quot;An apple a day keeps the doctor away (I eat an apple everyday).&quot;</span>
rx <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">r'''
    \([^()]*\) (*SKIP)(*FAIL)  # match anything in parentheses and &quot;throw it away&quot;
    |                          # or
    apple                      # match an apple
    '''</span><span class="token punctuation">,</span> re<span class="token punctuation">.</span>VERBOSE<span class="token punctuation">)</span>
apples <span class="token operator">=</span> rx<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>apples<span class="token punctuation">)</span>
<span class="token comment"># only one</span>

</code></pre></div><p>This matches &quot;apple&quot; only when it can be found outside of the parentheses.</p> <ul><li>While looking from <strong>left to right</strong>, the regex engine consumes everything to the left, the <code>(*SKIP)</code> acts as an &quot;always-true-assertion&quot;. Afterwards, it correctly fails on <code>(*FAIL)</code> and backtracks.</li> <li>Now it gets to the point of <code>(*SKIP)</code> <strong>from right to left</strong> (aka while backtracking) where it is forbidden to go any further to the left. Instead, the engine is told to throw away anything to the left and jump to the point where the <code>(*SKIP)</code> was invoked.</li></ul> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <li>
**Direct Regular Expressions**
</li> <li>
re.match(pattern, string, flag=0)    # Out: match pattern at the beginning of string or None
</li> <li>
re.search(pattern, string, flag=0)   # Out: match pattern inside string or None
</li> <li>
re.findall(pattern, string, flag=0)  # Out: list of all matches of pattern in string or []
</li> <li>
re.finditer(pattern, string, flag=0) # Out: same as re.findall, but returns iterator object
</li> <li>
re.sub(pattern, replacement, string, flag=0) # Out: string with replacement (string or function) in place of pattern
</li> <li>
**Precompiled Regular Expressions**
</li> <li>
precompiled_pattern = re.compile(pattern, flag=0)
</li> <li>
precompiled_pattern.match(string) # Out: match at the beginning of string or None
</li> <li>
precompiled_pattern.search(string) # Out: match anywhere in string or None
</li> <li>
precompiled_pattern.findall(string) # Out: list of all matching substrings
</li> <li>
precompiled_pattern.sub(string/pattern/function, string) # Out: replaced string
</li></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/python/regular-expressions-regex.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/python/the-print-function.html" class="prev">
        The Print Function
      </a></span> <span class="next"><a href="/python/copying-data.html">
        Copying data
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2799.9ee45ea2.js" defer></script>
  </body>
</html>
