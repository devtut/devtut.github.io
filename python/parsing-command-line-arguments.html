<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python - Parsing Command Line arguments</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Hello world in argparse, Using command line arguments with argv, Setting mutually exclusive arguments with argparse, Basic example with docopt, Custom parser error message with argparse, Conceptual grouping of arguments with argparse.add_argument_group(), Advanced example with docopt and docopt_dispatch">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Python - Parsing Command Line arguments">
    <meta property="og:description" content="Hello world in argparse, Using command line arguments with argv, Setting mutually exclusive arguments with argparse, Basic example with docopt, Custom parser error message with argparse, Conceptual grouping of arguments with argparse.add_argument_group(), Advanced example with docopt and docopt_dispatch">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/python/parsing-command-line-arguments.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Python - Parsing Command Line arguments">
    <meta name="twitter:description" content="Hello world in argparse, Using command line arguments with argv, Setting mutually exclusive arguments with argparse, Basic example with docopt, Custom parser error message with argparse, Conceptual grouping of arguments with argparse.add_argument_group(), Advanced example with docopt and docopt_dispatch">
    <meta name="twitter:url" content="/python/parsing-command-line-arguments.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2761.08da96e2.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/python/getting-started-with-python-language.html" class="sidebar-link">Getting started with Python Language</a></li><li><a href="/python/python-data-types.html" class="sidebar-link">Python Data Types</a></li><li><a href="/python/indentation.html" class="sidebar-link">Indentation</a></li><li><a href="/python/comments-and-documentation.html" class="sidebar-link">Comments and Documentation</a></li><li><a href="/python/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/python/enum.html" class="sidebar-link">Enum</a></li><li><a href="/python/set.html" class="sidebar-link">Set</a></li><li><a href="/python/simple-mathematical-operators.html" class="sidebar-link">Simple Mathematical Operators</a></li><li><a href="/python/bitwise-operators.html" class="sidebar-link">Bitwise Operators</a></li><li><a href="/python/boolean-operators.html" class="sidebar-link">Boolean Operators</a></li><li><a href="/python/operator-precedence.html" class="sidebar-link">Operator Precedence</a></li><li><a href="/python/variable-scope-and-binding.html" class="sidebar-link">Variable Scope and Binding</a></li><li><a href="/python/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/python/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/python/loops.html" class="sidebar-link">Loops</a></li><li><a href="/python/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/python/multidimensional-arrays.html" class="sidebar-link">Multidimensional arrays</a></li><li><a href="/python/dictionary.html" class="sidebar-link">Dictionary</a></li><li><a href="/python/list.html" class="sidebar-link">List</a></li><li><a href="/python/list-comprehensions.html" class="sidebar-link">List Comprehensions</a></li><li><a href="/python/list-slicing-selecting-parts-of-lists.html" class="sidebar-link">List slicing (selecting parts of lists)</a></li><li><a href="/python/groupby.html" class="sidebar-link">groupby()</a></li><li><a href="/python/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/python/linked-list-node.html" class="sidebar-link">Linked List Node</a></li><li><a href="/python/filter.html" class="sidebar-link">Filter</a></li><li><a href="/python/heapq.html" class="sidebar-link">Heapq</a></li><li><a href="/python/tuple.html" class="sidebar-link">Tuple</a></li><li><a href="/python/basic-input-and-output.html" class="sidebar-link">Basic Input and Output</a></li><li><a href="/python/files-folders-i-o.html" class="sidebar-link">Files &amp; Folders I/O</a></li><li><a href="/python/os-path.html" class="sidebar-link">os.path</a></li><li><a href="/python/iterables-and-iterators.html" class="sidebar-link">Iterables and Iterators</a></li><li><a href="/python/functions.html" class="sidebar-link">Functions</a></li><li><a href="/python/defining-functions-with-list-arguments.html" class="sidebar-link">Defining functions with list arguments</a></li><li><a href="/python/functional-programming-in-python.html" class="sidebar-link">Functional Programming in Python</a></li><li><a href="/python/partial-functions.html" class="sidebar-link">Partial functions</a></li><li><a href="/python/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/python/classes.html" class="sidebar-link">Classes</a></li><li><a href="/python/metaclasses.html" class="sidebar-link">Metaclasses</a></li><li><a href="/python/string-formatting.html" class="sidebar-link">String Formatting</a></li><li><a href="/python/string-methods.html" class="sidebar-link">String Methods</a></li><li><a href="/python/using-loops-within-functions.html" class="sidebar-link">Using loops within functions</a></li><li><a href="/python/importing-modules.html" class="sidebar-link">Importing modules</a></li><li><a href="/python/difference-between-module-and-package.html" class="sidebar-link">Difference between Module and Package</a></li><li><a href="/python/math-module.html" class="sidebar-link">Math Module</a></li><li><a href="/python/complex-math.html" class="sidebar-link">Complex math</a></li><li><a href="/python/collections-module.html" class="sidebar-link">Collections module</a></li><li><a href="/python/operator-module.html" class="sidebar-link">Operator module</a></li><li><a href="/python/json-module.html" class="sidebar-link">JSON Module</a></li><li><a href="/python/sqlite3-module.html" class="sidebar-link">Sqlite3 Module</a></li><li><a href="/python/the-os-module.html" class="sidebar-link">The os Module</a></li><li><a href="/python/the-locale-module.html" class="sidebar-link">The locale Module</a></li><li><a href="/python/itertools-module.html" class="sidebar-link">Itertools Module</a></li><li><a href="/python/asyncio-module.html" class="sidebar-link">Asyncio Module</a></li><li><a href="/python/random-module.html" class="sidebar-link">Random module</a></li><li><a href="/python/functools-module.html" class="sidebar-link">Functools Module</a></li><li><a href="/python/the-dis-module.html" class="sidebar-link">The dis module</a></li><li><a href="/python/the-base64-module.html" class="sidebar-link">The base64 Module</a></li><li><a href="/python/queue-module.html" class="sidebar-link">Queue Module</a></li><li><a href="/python/deque-module.html" class="sidebar-link">Deque Module</a></li><li><a href="/python/webbrowser-module.html" class="sidebar-link">Webbrowser Module</a></li><li><a href="/python/tkinter.html" class="sidebar-link">tkinter</a></li><li><a href="/python/pyautogui-module.html" class="sidebar-link">pyautogui module</a></li><li><a href="/python/indexing-and-slicing.html" class="sidebar-link">Indexing and Slicing</a></li><li><a href="/python/plotting-with-matplotlib.html" class="sidebar-link">Plotting with Matplotlib</a></li><li><a href="/python/graph-tool.html" class="sidebar-link">graph-tool</a></li><li><a href="/python/generators.html" class="sidebar-link">Generators</a></li><li><a href="/python/reduce.html" class="sidebar-link">Reduce</a></li><li><a href="/python/map-function.html" class="sidebar-link">Map Function</a></li><li><a href="/python/exponentiation.html" class="sidebar-link">Exponentiation</a></li><li><a href="/python/searching.html" class="sidebar-link">Searching</a></li><li><a href="/python/sorting-minimum-and-maximum.html" class="sidebar-link">Sorting, Minimum and Maximum</a></li><li><a href="/python/counting.html" class="sidebar-link">Counting</a></li><li><a href="/python/the-print-function.html" class="sidebar-link">The Print Function</a></li><li><a href="/python/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (Regex)</a></li><li><a href="/python/copying-data.html" class="sidebar-link">Copying data</a></li><li><a href="/python/context-managers-with-statement.html" class="sidebar-link">Context Managers (“with” Statement)</a></li><li><a href="/python/the-name-special-variable.html" class="sidebar-link">The _name_ special variable</a></li><li><a href="/python/checking-path-existence-and-permissions.html" class="sidebar-link">Checking Path Existence and Permissions</a></li><li><a href="/python/creating-python-packages.html" class="sidebar-link">Creating Python packages</a></li><li><a href="/python/usage-of-pip-module-pypi-package-manager.html" class="sidebar-link">Usage of &quot;pip&quot; module: PyPI Package Manager</a></li><li><a href="/python/pip-pypi-package-manager.html" class="sidebar-link">pip: PyPI Package Manager</a></li><li><a href="/python/parsing-command-line-arguments.html" aria-current="page" class="active sidebar-link">Parsing Command Line arguments</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/python/parsing-command-line-arguments.html#hello-world-in-argparse" class="sidebar-link">Hello world in argparse</a></li><li class="sidebar-sub-header"><a href="/python/parsing-command-line-arguments.html#using-command-line-arguments-with-argv" class="sidebar-link">Using command line arguments with argv</a></li><li class="sidebar-sub-header"><a href="/python/parsing-command-line-arguments.html#setting-mutually-exclusive-arguments-with-argparse" class="sidebar-link">Setting mutually exclusive arguments with argparse</a></li><li class="sidebar-sub-header"><a href="/python/parsing-command-line-arguments.html#basic-example-with-docopt" class="sidebar-link">Basic example with docopt</a></li><li class="sidebar-sub-header"><a href="/python/parsing-command-line-arguments.html#custom-parser-error-message-with-argparse" class="sidebar-link">Custom parser error message with argparse</a></li><li class="sidebar-sub-header"><a href="/python/parsing-command-line-arguments.html#conceptual-grouping-of-arguments-with-argparse-add-argument-group" class="sidebar-link">Conceptual grouping of arguments with argparse.addargumentgroup()</a></li><li class="sidebar-sub-header"><a href="/python/parsing-command-line-arguments.html#advanced-example-with-docopt-and-docopt-dispatch" class="sidebar-link">Advanced example with docopt and docopt_dispatch</a></li></ul></li><li><a href="/python/subprocess-library.html" class="sidebar-link">Subprocess Library</a></li><li><a href="/python/setup-py.html" class="sidebar-link">setup.py</a></li><li><a href="/python/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/python/type-hints.html" class="sidebar-link">Type Hints</a></li><li><a href="/python/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/python/raise-custom-errors-exceptions.html" class="sidebar-link">Raise Custom Errors / Exceptions</a></li><li><a href="/python/commonwealth-exceptions.html" class="sidebar-link">Commonwealth Exceptions</a></li><li><a href="/python/urllib.html" class="sidebar-link">urllib</a></li><li><a href="/python/web-scraping-with-python.html" class="sidebar-link">Web scraping with Python</a></li><li><a href="/python/html-parsing.html" class="sidebar-link">HTML Parsing</a></li><li><a href="/python/manipulating-xml.html" class="sidebar-link">Manipulating XML</a></li><li><a href="/python/python-requests-post.html" class="sidebar-link">Python Requests Post</a></li><li><a href="/python/distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/python/property-objects.html" class="sidebar-link">Property Objects</a></li><li><a href="/python/overloading.html" class="sidebar-link">Overloading</a></li><li><a href="/python/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/python/method-overriding.html" class="sidebar-link">Method Overriding</a></li><li><a href="/python/user-defined-methods.html" class="sidebar-link">User-Defined Methods</a></li><li><a href="/python/string-representations-of-class-instances-str-and-repr-methods.html" class="sidebar-link">String representations of class instances: _str and repr_ methods</a></li><li><a href="/python/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/python/reading-and-writing-csv.html" class="sidebar-link">Reading and Writing CSV</a></li><li><a href="/python/writing-to-csv-from-string-or-list.html" class="sidebar-link">Writing to CSV from String or List</a></li><li><a href="/python/dynamic-code-execution-with-exec-and-eval.html" class="sidebar-link">Dynamic code execution with exec and eval</a></li><li><a href="/python/pyinstaller-distributing-python-code.html" class="sidebar-link">PyInstaller - Distributing Python Code</a></li><li><a href="/python/data-visualization-with-python.html" class="sidebar-link">Data Visualization with Python</a></li><li><a href="/python/the-interpreter-command-line-console.html" class="sidebar-link">The Interpreter (Command Line Console)</a></li><li><a href="/python/args-and-kwargs.html" class="sidebar-link">args and *kwargs</a></li><li><a href="/python/garbage-collection.html" class="sidebar-link">Garbage Collection</a></li><li><a href="/python/pickle-data-serialisation.html" class="sidebar-link">Pickle data serialisation</a></li><li><a href="/python/binary-data.html" class="sidebar-link">Binary Data</a></li><li><a href="/python/idioms.html" class="sidebar-link">Idioms</a></li><li><a href="/python/data-serialization.html" class="sidebar-link">Data Serialization</a></li><li><a href="/python/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/python/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/python/processes-and-threads.html" class="sidebar-link">Processes and Threads</a></li><li><a href="/python/python-concurrency.html" class="sidebar-link">Python concurrency</a></li><li><a href="/python/parallel-computation.html" class="sidebar-link">Parallel computation</a></li><li><a href="/python/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/python/websockets.html" class="sidebar-link">Websockets</a></li><li><a href="/python/sockets-and-message-encryption-decryption-between-client-and-server.html" class="sidebar-link">Sockets And Message Encryption/Decryption Between Client and Server</a></li><li><a href="/python/python-networking.html" class="sidebar-link">Python Networking</a></li><li><a href="/python/python-http-server.html" class="sidebar-link">Python HTTP Server</a></li><li><a href="/python/flask.html" class="sidebar-link">Flask</a></li><li><a href="/python/introduction-to-rabbitmq-using-amqpstorm.html" class="sidebar-link">Introduction to RabbitMQ using AMQPStorm</a></li><li><a href="/python/descriptor.html" class="sidebar-link">Descriptor</a></li><li><a href="/python/tempfile-namedtemporaryfile.html" class="sidebar-link">tempfile NamedTemporaryFile</a></li><li><a href="/python/input-subset-and-output-external-data-files-using-pandas.html" class="sidebar-link">Input, Subset and Output External Data Files using Pandas</a></li><li><a href="/python/unzipping-files.html" class="sidebar-link">Unzipping Files</a></li><li><a href="/python/working-with-zip-archives.html" class="sidebar-link">Working with ZIP archives</a></li><li><a href="/python/getting-start-with-gzip.html" class="sidebar-link">getting start with GZip</a></li><li><a href="/python/stack.html" class="sidebar-link">Stack</a></li><li><a href="/python/working-around-the-global-interpreter-lock-gil.html" class="sidebar-link">Working around the Global Interpreter Lock (GIL)</a></li><li><a href="/python/deployment.html" class="sidebar-link">Deployment</a></li><li><a href="/python/logging.html" class="sidebar-link">Logging</a></li><li><a href="/python/web-server-gateway-interface-wsgi.html" class="sidebar-link">Web Server Gateway Interface (WSGI)</a></li><li><a href="/python/python-server-sent-events.html" class="sidebar-link">Python Server Sent Events</a></li><li><a href="/python/alternatives-to-switch-statement-from-other-languages.html" class="sidebar-link">Alternatives to switch statement from other languages</a></li><li><a href="/python/list-destructuring-aka-packing-and-unpacking.html" class="sidebar-link">List destructuring (aka packing and unpacking)</a></li><li><a href="/python/accessing-python-source-code-and-bytecode.html" class="sidebar-link">Accessing Python source code and bytecode</a></li><li><a href="/python/mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/python/attribute-access.html" class="sidebar-link">Attribute Access</a></li><li><a href="/python/arcpy.html" class="sidebar-link">ArcPy</a></li><li><a href="/python/abstract-base-classes-abc.html" class="sidebar-link">Abstract Base Classes (abc)</a></li><li><a href="/python/plugin-and-extension-classes.html" class="sidebar-link">Plugin and Extension Classes</a></li><li><a href="/python/immutable-datatypes-int-float-str-tuple-and-frozensets.html" class="sidebar-link">Immutable datatypes(int, float, str, tuple and frozensets)</a></li><li><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html" class="sidebar-link">Incompatibilities moving from Python 2 to Python 3</a></li><li><a href="/python/2to3-tool.html" class="sidebar-link">2to3 tool</a></li><li><a href="/python/non-official-python-implementations.html" class="sidebar-link">Non-official Python implementations</a></li><li><a href="/python/abstract-syntax-tree.html" class="sidebar-link">Abstract syntax tree</a></li><li><a href="/python/unicode-and-bytes.html" class="sidebar-link">Unicode and bytes</a></li><li><a href="/python/python-serial-communication-pyserial.html" class="sidebar-link">Python Serial Communication (pyserial)</a></li><li><a href="/python/neo4j-and-cypher-using-py2neo.html" class="sidebar-link">Neo4j and Cypher using Py2Neo</a></li><li><a href="/python/basic-curses-with-python.html" class="sidebar-link">Basic Curses with Python</a></li><li><a href="/python/templates-in-python.html" class="sidebar-link">Templates in python</a></li><li><a href="/python/pillow.html" class="sidebar-link">Pillow</a></li><li><a href="/python/the-pass-statement.html" class="sidebar-link">The pass statement</a></li><li><a href="/python/cli-subcommands-with-precise-help-output.html" class="sidebar-link">CLI subcommands with precise help output</a></li><li><a href="/python/database-access.html" class="sidebar-link">Database Access</a></li><li><a href="/python/connecting-python-to-sql-server.html" class="sidebar-link">Connecting Python to SQL Server</a></li><li><a href="/python/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/python/python-and-excel.html" class="sidebar-link">Python and Excel</a></li><li><a href="/python/turtle-graphics.html" class="sidebar-link">Turtle Graphics</a></li><li><a href="/python/python-persistence.html" class="sidebar-link">Python Persistence</a></li><li><a href="/python/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/python/hashlib.html" class="sidebar-link">hashlib</a></li><li><a href="/python/creating-a-windows-service-using-python.html" class="sidebar-link">Creating a Windows service using Python</a></li><li><a href="/python/mutable-vs-immutable-and-hashable-in-python.html" class="sidebar-link">Mutable vs Immutable (and Hashable) in Python</a></li><li><a href="/python/configparser.html" class="sidebar-link">configparser</a></li><li><a href="/python/optical-character-recognition.html" class="sidebar-link">Optical Character Recognition</a></li><li><a href="/python/virtual-environments.html" class="sidebar-link">Virtual environments</a></li><li><a href="/python/python-virtual-environment-virtualenv.html" class="sidebar-link">Python Virtual Environment - virtualenv</a></li><li><a href="/python/virtual-environment-with-virtualenvwrapper.html" class="sidebar-link">virtual environment with virtualenvwrapper</a></li><li><a href="/python/create-virtual-environment-with-virtualenvwrapper-in-windows.html" class="sidebar-link">Create virtual environment with virtualenvwrapper in windows</a></li><li><a href="/python/sys.html" class="sidebar-link">sys</a></li><li><a href="/python/chempy-python-package.html" class="sidebar-link">ChemPy - python package</a></li><li><a href="/python/pygame.html" class="sidebar-link">pygame</a></li><li><a href="/python/pyglet.html" class="sidebar-link">Pyglet</a></li><li><a href="/python/audio.html" class="sidebar-link">Audio</a></li><li><a href="/python/pyaudio.html" class="sidebar-link">pyaudio</a></li><li><a href="/python/shelve.html" class="sidebar-link">shelve</a></li><li><a href="/python/iot-programming-with-python-and-raspberry-pi.html" class="sidebar-link">IoT Programming with Python and Raspberry PI</a></li><li><a href="/python/kivy-cross-platform-python-framework-for-nui-development.html" class="sidebar-link">kivy - Cross-platform Python Framework for NUI Development</a></li><li><a href="/python/pandas-transform-preform-operations-on-groups-and-concatenate-the-results.html" class="sidebar-link">Pandas Transform: Preform operations on groups and concatenate the results</a></li><li><a href="/python/similarities-in-syntax-differences-in-meaning-python-vs-javascript.html" class="sidebar-link">Similarities in syntax, Differences in meaning: Python vs. JavaScript</a></li><li><a href="/python/call-python-from-c.html" class="sidebar-link">Call Python from C#</a></li><li><a href="/python/ctypes.html" class="sidebar-link">ctypes</a></li><li><a href="/python/writing-extensions.html" class="sidebar-link">Writing extensions</a></li><li><a href="/python/python-lex-yacc.html" class="sidebar-link">Python Lex-Yacc</a></li><li><a href="/python/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/python/py-test.html" class="sidebar-link">py.test</a></li><li><a href="/python/profiling.html" class="sidebar-link">Profiling</a></li><li><a href="/python/python-speed-of-program.html" class="sidebar-link">Python speed of program</a></li><li><a href="/python/performance-optimization.html" class="sidebar-link">Performance optimization</a></li><li><a href="/python/security-and-cryptography.html" class="sidebar-link">Security and Cryptography</a></li><li><a href="/python/secure-shell-connection-in-python.html" class="sidebar-link">Secure Shell Connection in Python</a></li><li><a href="/python/python-anti-patterns.html" class="sidebar-link">Python Anti-Patterns</a></li><li><a href="/python/common-pitfalls.html" class="sidebar-link">Common Pitfalls</a></li><li><a href="/python/hidden-features.html" class="sidebar-link">Hidden Features</a></li><li><a href="/python/date-formatting.html" class="sidebar-link">Date Formatting</a></li><li><a href="/python/ijson.html" class="sidebar-link">ijson</a></li><li><a href="/python/django.html" class="sidebar-link">Django</a></li><li><a href="/python/code-blocks-execution-frames-and-namespaces.html" class="sidebar-link">Code blocks, execution frames, and namespaces</a></li><li><a href="/python/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="parsing-command-line-arguments"><a href="#parsing-command-line-arguments" class="header-anchor">#</a> Parsing Command Line arguments</h1> <p>Most command line tools rely on arguments passed to the program upon its execution. Instead of prompting for input, these programs expect data or specific flags (which become booleans) to be set. This allows both the user and other programs to run the Python file passing it data as it starts. This section explains and demonstrates the implementation and usage of command line arguments in Python.</p> <h2 id="hello-world-in-argparse"><a href="#hello-world-in-argparse" class="header-anchor">#</a> Hello world in argparse</h2> <p>The following program says hello to the user.  It takes one positional argument, the name of the user, and can also be told the greeting.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> argparse

parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>

parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> 
    <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'name of user'</span>
<span class="token punctuation">)</span>

parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'-g'</span><span class="token punctuation">,</span> <span class="token string">'--greeting'</span><span class="token punctuation">,</span> 
    default<span class="token operator">=</span><span class="token string">'Hello'</span><span class="token punctuation">,</span>
    <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'optional alternate greeting'</span>
<span class="token punctuation">)</span>

args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;{greeting}, {name}!&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>
       greeting<span class="token operator">=</span>args<span class="token punctuation">.</span>greeting<span class="token punctuation">,</span>
       name<span class="token operator">=</span>args<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">)</span>

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code>$ python hello<span class="token punctuation">.</span>py <span class="token operator">-</span><span class="token operator">-</span><span class="token builtin">help</span>
usage<span class="token punctuation">:</span> hello<span class="token punctuation">.</span>py <span class="token punctuation">[</span><span class="token operator">-</span>h<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>g GREETING<span class="token punctuation">]</span> name

positional arguments<span class="token punctuation">:</span>
  name                  name of user

optional arguments<span class="token punctuation">:</span>
  <span class="token operator">-</span>h<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token builtin">help</span>            show this <span class="token builtin">help</span> message <span class="token keyword">and</span> exit
  <span class="token operator">-</span>g GREETING<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">-</span>greeting GREETING
                        optional alternate greeting

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code>$ python hello<span class="token punctuation">.</span>py world
Hello<span class="token punctuation">,</span> world!
$ python hello<span class="token punctuation">.</span>py John <span class="token operator">-</span>g Howdy
Howdy<span class="token punctuation">,</span> John!

</code></pre></div><p>For more details please read the <a href="https://docs.python.org/3/library/argparse.html" target="_blank" rel="noopener noreferrer">argparse documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="using-command-line-arguments-with-argv"><a href="#using-command-line-arguments-with-argv" class="header-anchor">#</a> Using command line arguments with argv</h2> <p>Whenever a Python script is invoked from the command line, the user may supply additional <strong>command line arguments</strong> which will be passed on to the script. These arguments will be available to the programmer from the system variable <code>sys.argv</code> (&quot;argv&quot; is a traditional name used in most programming languages, and it means &quot;<strong>arg</strong>ument <strong>v</strong>ector&quot;).</p> <p>By convention, the first element in the <code>sys.argv</code> list is the name of the Python script itself, while the rest of the elements are the tokens passed by the user when invoking the script.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># cli.py</span>
<span class="token keyword">import</span> sys
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

$ python cli<span class="token punctuation">.</span>py
<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'cli.py'</span><span class="token punctuation">]</span>

$ python cli<span class="token punctuation">.</span>py fizz
<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'cli.py'</span><span class="token punctuation">,</span> <span class="token string">'fizz'</span><span class="token punctuation">]</span>

$ python cli<span class="token punctuation">.</span>py fizz buzz
<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'cli.py'</span><span class="token punctuation">,</span> <span class="token string">'fizz'</span><span class="token punctuation">,</span> <span class="token string">'buzz'</span><span class="token punctuation">]</span>

</code></pre></div><p>Here's another example of how to use <code>argv</code>. We first strip off the initial element of sys.argv because it contains the script's name. Then we combine the rest of the arguments into a single sentence, and finally print that sentence prepending the name of the currently logged-in user (so that it emulates a chat program).</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> getpass
<span class="token keyword">import</span> sys

words <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
sentence <span class="token operator">=</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>words<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;[%s] %s&quot;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>getpass<span class="token punctuation">.</span>getuser<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sentence<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>The algorithm commonly used when &quot;manually&quot; parsing a number of non-positional arguments is to iterate over the <code>sys.argv</code> list. One way is to go over the list and pop each element of it:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># reverse and copy sys.argv</span>
argv <span class="token operator">=</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
<span class="token comment"># extract the first element</span>
arg <span class="token operator">=</span> argv<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># stop iterating when there's no more args to pop()</span>
<span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>argv<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> arg <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">'-f'</span><span class="token punctuation">,</span> <span class="token string">'--foo'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'seen foo!'</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> arg <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">'-b'</span><span class="token punctuation">,</span> <span class="token string">'--bar'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'seen bar!'</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> arg <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">'-a'</span><span class="token punctuation">,</span> <span class="token string">'--with-arg'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        arg <span class="token operator">=</span> arg<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'seen value: {}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># get the next value</span>
    arg <span class="token operator">=</span> argv<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="setting-mutually-exclusive-arguments-with-argparse"><a href="#setting-mutually-exclusive-arguments-with-argparse" class="header-anchor">#</a> Setting mutually exclusive arguments with argparse</h2> <p>If you want two or more arguments to be mutually exclusive. You can use the function <code>argparse.ArgumentParser.add_mutually_exclusive_group()</code>. In the example below, either foo or bar can exist but not both at the same time.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> argparse

parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
group <span class="token operator">=</span> parser<span class="token punctuation">.</span>add_mutually_exclusive_group<span class="token punctuation">(</span><span class="token punctuation">)</span>
group<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--foo&quot;</span><span class="token punctuation">)</span>
group<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--bar&quot;</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token string">&quot;foo = &quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span>foo
<span class="token keyword">print</span> <span class="token string">&quot;bar = &quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span>bar

</code></pre></div><p>If you try to run the script specifying both <code>--foo</code> and <code>--bar</code> arguments, the script will complain with the below message.</p> <p><code>error: argument -b/--bar: not allowed with argument -f/--foo</code></p> <h2 id="basic-example-with-docopt"><a href="#basic-example-with-docopt" class="header-anchor">#</a> Basic example with docopt</h2> <p><a href="http://docopt.org/" target="_blank" rel="noopener noreferrer">docopt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> turns command-line argument parsing on its head. Instead of parsing the arguments, you just <strong>write the usage string</strong> for your program, and docopt <strong>parses the usage string</strong> and uses it to extract the command line arguments.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
Usage:
    script_name.py [-a] [-b] &lt;path&gt;

Options:
    -a            Print all the things.
    -b            Get more bees into the path.
&quot;&quot;&quot;</span>
<span class="token keyword">from</span> docopt <span class="token keyword">import</span> docopt


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    args <span class="token operator">=</span> docopt<span class="token punctuation">(</span>__doc__<span class="token punctuation">)</span>
    <span class="token keyword">import</span> pprint<span class="token punctuation">;</span> pprint<span class="token punctuation">.</span>pprint<span class="token punctuation">(</span>args<span class="token punctuation">)</span>

</code></pre></div><p>Sample runs:</p> <div class="language-py extra-class"><pre class="language-py"><code>$ python script_name<span class="token punctuation">.</span>py
Usage<span class="token punctuation">:</span>
    script_name<span class="token punctuation">.</span>py <span class="token punctuation">[</span><span class="token operator">-</span>a<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>b<span class="token punctuation">]</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>
$ python script_name<span class="token punctuation">.</span>py something
<span class="token punctuation">{</span><span class="token string">'-a'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
 <span class="token string">'-b'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
 <span class="token string">'&lt;path&gt;'</span><span class="token punctuation">:</span> <span class="token string">'something'</span><span class="token punctuation">}</span>
$ python script_name<span class="token punctuation">.</span>py something <span class="token operator">-</span>a
<span class="token punctuation">{</span><span class="token string">'-a'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'-b'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
 <span class="token string">'&lt;path&gt;'</span><span class="token punctuation">:</span> <span class="token string">'something'</span><span class="token punctuation">}</span>
$ python script_name<span class="token punctuation">.</span>py <span class="token operator">-</span>b something <span class="token operator">-</span>a
<span class="token punctuation">{</span><span class="token string">'-a'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'-b'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'&lt;path&gt;'</span><span class="token punctuation">:</span> <span class="token string">'something'</span><span class="token punctuation">}</span>

</code></pre></div><h2 id="custom-parser-error-message-with-argparse"><a href="#custom-parser-error-message-with-argparse" class="header-anchor">#</a> Custom parser error message with argparse</h2> <p>You can create parser error messages according to your script needs. This is through  the <code>argparse.ArgumentParser.error</code> function. The below example shows the script printing a usage and an error message to <code>stderr</code> when <code>--foo</code> is given but not <code>--bar</code>.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> argparse

parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--foo&quot;</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--bar&quot;</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> args<span class="token punctuation">.</span>foo <span class="token keyword">and</span> args<span class="token punctuation">.</span>bar <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    parser<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">&quot;--foo requires --bar. You did not specify bar.&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span> <span class="token string">&quot;foo =&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span>foo
<span class="token keyword">print</span> <span class="token string">&quot;bar =&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span>bar

</code></pre></div><p>Assuming your script name is sample.py, and we run: <code>python sample.py --foo ds_in_fridge</code></p> <p>The script will complain with the following:</p> <div class="language-py extra-class"><pre class="language-py"><code>usage<span class="token punctuation">:</span> sample<span class="token punctuation">.</span>py <span class="token punctuation">[</span><span class="token operator">-</span>h<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>f FOO<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>b BAR<span class="token punctuation">]</span>
sample<span class="token punctuation">.</span>py<span class="token punctuation">:</span> error<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token operator">-</span>foo requires <span class="token operator">-</span><span class="token operator">-</span>bar<span class="token punctuation">.</span> You did <span class="token keyword">not</span> specify bar<span class="token punctuation">.</span>

</code></pre></div><h2 id="conceptual-grouping-of-arguments-with-argparse-add-argument-group"><a href="#conceptual-grouping-of-arguments-with-argparse-add-argument-group" class="header-anchor">#</a> Conceptual grouping of arguments with argparse.add_argument_group()</h2> <p>When you create an argparse ArgumentParser() and run your program with '-h' you get an automated usage message explaining what arguments you can run your software with.  By default, positional arguments and conditional arguments are separated into two categories, for example, here is a small script (example.py) and the output when you run <code>python example.py -h</code>.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> argparse

parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span>description<span class="token operator">=</span><span class="token string">'Simple example'</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'Who to greet'</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">'World'</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--bar_this'</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--bar_that'</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--foo_this'</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--foo_that'</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code>usage<span class="token punctuation">:</span> example<span class="token punctuation">.</span>py <span class="token punctuation">[</span><span class="token operator">-</span>h<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>bar_this BAR_THIS<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>bar_that BAR_THAT<span class="token punctuation">]</span>
                        <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>foo_this FOO_THIS<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>foo_that FOO_THAT<span class="token punctuation">]</span>
                        name

Simple example

positional arguments<span class="token punctuation">:</span>
  name                 Who to greet

optional arguments<span class="token punctuation">:</span>
  <span class="token operator">-</span>h<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token builtin">help</span>           show this <span class="token builtin">help</span> message <span class="token keyword">and</span> exit
  <span class="token operator">-</span><span class="token operator">-</span>bar_this BAR_THIS
  <span class="token operator">-</span><span class="token operator">-</span>bar_that BAR_THAT
  <span class="token operator">-</span><span class="token operator">-</span>foo_this FOO_THIS
  <span class="token operator">-</span><span class="token operator">-</span>foo_that FOO_THAT

</code></pre></div><p>There are some situations where you want to separate your arguments into further conceptual sections to assist your user. For example, you may wish to have all the input options in one group, and all the output formating options in another.  The above example can be adjusted to separate the <code>--foo_*</code> args from the <code>--bar_*</code> args like so.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> argparse

parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span>description<span class="token operator">=</span><span class="token string">'Simple example'</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'Who to greet'</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">'World'</span><span class="token punctuation">)</span>
<span class="token comment"># Create two argument groups</span>
foo_group <span class="token operator">=</span> parser<span class="token punctuation">.</span>add_argument_group<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">'Foo options'</span><span class="token punctuation">)</span>
bar_group <span class="token operator">=</span> parser<span class="token punctuation">.</span>add_argument_group<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">'Bar options'</span><span class="token punctuation">)</span>
<span class="token comment"># Add arguments to those groups</span>
foo_group<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--bar_this'</span><span class="token punctuation">)</span>
foo_group<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--bar_that'</span><span class="token punctuation">)</span>
bar_group<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--foo_this'</span><span class="token punctuation">)</span>
bar_group<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--foo_that'</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Which produces this output when <code>python example.py -h</code> is run:</p> <div class="language-py extra-class"><pre class="language-py"><code>usage<span class="token punctuation">:</span> example<span class="token punctuation">.</span>py <span class="token punctuation">[</span><span class="token operator">-</span>h<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>bar_this BAR_THIS<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>bar_that BAR_THAT<span class="token punctuation">]</span>
                        <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>foo_this FOO_THIS<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">-</span>foo_that FOO_THAT<span class="token punctuation">]</span>
                        name

Simple example

positional arguments<span class="token punctuation">:</span>
  name                 Who to greet

optional arguments<span class="token punctuation">:</span>
  <span class="token operator">-</span>h<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token builtin">help</span>           show this <span class="token builtin">help</span> message <span class="token keyword">and</span> exit

Foo options<span class="token punctuation">:</span>
  <span class="token operator">-</span><span class="token operator">-</span>bar_this BAR_THIS
  <span class="token operator">-</span><span class="token operator">-</span>bar_that BAR_THAT

Bar options<span class="token punctuation">:</span>
  <span class="token operator">-</span><span class="token operator">-</span>foo_this FOO_THIS
  <span class="token operator">-</span><span class="token operator">-</span>foo_that FOO_THAT

</code></pre></div><h2 id="advanced-example-with-docopt-and-docopt-dispatch"><a href="#advanced-example-with-docopt-and-docopt-dispatch" class="header-anchor">#</a> Advanced example with docopt and docopt_dispatch</h2> <p>As with docopt, with [docopt_dispatch] you craft your <code>--help</code> in the <code>__doc__</code> variable of your entry-point module. There, you call <code>dispatch</code> with the doc string as argument, so it can run the parser over it.</p> <p>That being done, instead of handling manually the arguments (which usually ends up in a high cyclomatic if/else structure), you leave it to dispatch giving only how you want to handle the set of arguments.</p> <p>This is what the <code>dispatch.on</code> decorator is for: you give it the argument or sequence of arguments that should trigger the function, and that function will be executed with the matching values as parameters.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;Run something in development or production mode.

Usage: run.py --development &lt;host&gt; &lt;port&gt;
       run.py --production &lt;host&gt; &lt;port&gt;
       run.py items add &lt;item&gt;
       run.py items delete &lt;item&gt;

&quot;&quot;&quot;</span>
<span class="token keyword">from</span> docopt_dispatch <span class="token keyword">import</span> dispatch

<span class="token decorator annotation punctuation">@dispatch<span class="token punctuation">.</span>on</span><span class="token punctuation">(</span><span class="token string">'--development'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">development</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'in *development* mode'</span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@dispatch<span class="token punctuation">.</span>on</span><span class="token punctuation">(</span><span class="token string">'--production'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">development</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'in *production* mode'</span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@dispatch<span class="token punctuation">.</span>on</span><span class="token punctuation">(</span><span class="token string">'items'</span><span class="token punctuation">,</span> <span class="token string">'add'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">items_add</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'adding item...'</span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@dispatch<span class="token punctuation">.</span>on</span><span class="token punctuation">(</span><span class="token string">'items'</span><span class="token punctuation">,</span> <span class="token string">'delete'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">items_delete</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'deleting item...'</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    dispatch<span class="token punctuation">(</span>__doc__<span class="token punctuation">)</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/python/parsing-command-line-arguments.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/python/pip-pypi-package-manager.html" class="prev">
        pip: PyPI Package Manager
      </a></span> <span class="next"><a href="/python/subprocess-library.html">
        Subprocess Library
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2761.08da96e2.js" defer></script>
  </body>
</html>
