<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python - Variable Scope and Binding</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Nonlocal Variables, Global Variables, Local Variables, Binding Occurrence, Functions skip class scope when looking up names, The del command, Local vs Global Scope">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Python - Variable Scope and Binding">
    <meta property="og:description" content="Nonlocal Variables, Global Variables, Local Variables, Binding Occurrence, Functions skip class scope when looking up names, The del command, Local vs Global Scope">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/python/variable-scope-and-binding.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Python - Variable Scope and Binding">
    <meta name="twitter:description" content="Nonlocal Variables, Global Variables, Local Variables, Binding Occurrence, Functions skip class scope when looking up names, The del command, Local vs Global Scope">
    <meta name="twitter:url" content="/python/variable-scope-and-binding.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2839.b16fabf4.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/python/getting-started-with-python-language.html" class="sidebar-link">Getting started with Python Language</a></li><li><a href="/python/python-data-types.html" class="sidebar-link">Python Data Types</a></li><li><a href="/python/indentation.html" class="sidebar-link">Indentation</a></li><li><a href="/python/comments-and-documentation.html" class="sidebar-link">Comments and Documentation</a></li><li><a href="/python/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/python/enum.html" class="sidebar-link">Enum</a></li><li><a href="/python/set.html" class="sidebar-link">Set</a></li><li><a href="/python/simple-mathematical-operators.html" class="sidebar-link">Simple Mathematical Operators</a></li><li><a href="/python/bitwise-operators.html" class="sidebar-link">Bitwise Operators</a></li><li><a href="/python/boolean-operators.html" class="sidebar-link">Boolean Operators</a></li><li><a href="/python/operator-precedence.html" class="sidebar-link">Operator Precedence</a></li><li><a href="/python/variable-scope-and-binding.html" aria-current="page" class="active sidebar-link">Variable Scope and Binding</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/python/variable-scope-and-binding.html#nonlocal-variables" class="sidebar-link">Nonlocal Variables</a></li><li class="sidebar-sub-header"><a href="/python/variable-scope-and-binding.html#global-variables" class="sidebar-link">Global Variables</a></li><li class="sidebar-sub-header"><a href="/python/variable-scope-and-binding.html#local-variables" class="sidebar-link">Local Variables</a></li><li class="sidebar-sub-header"><a href="/python/variable-scope-and-binding.html#binding-occurrence" class="sidebar-link">Binding Occurrence</a></li><li class="sidebar-sub-header"><a href="/python/variable-scope-and-binding.html#functions-skip-class-scope-when-looking-up-names" class="sidebar-link">Functions skip class scope when looking up names</a></li><li class="sidebar-sub-header"><a href="/python/variable-scope-and-binding.html#the-del-command" class="sidebar-link">The del command</a></li><li class="sidebar-sub-header"><a href="/python/variable-scope-and-binding.html#local-vs-global-scope" class="sidebar-link">Local vs Global Scope</a></li></ul></li><li><a href="/python/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/python/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/python/loops.html" class="sidebar-link">Loops</a></li><li><a href="/python/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/python/multidimensional-arrays.html" class="sidebar-link">Multidimensional arrays</a></li><li><a href="/python/dictionary.html" class="sidebar-link">Dictionary</a></li><li><a href="/python/list.html" class="sidebar-link">List</a></li><li><a href="/python/list-comprehensions.html" class="sidebar-link">List Comprehensions</a></li><li><a href="/python/list-slicing-selecting-parts-of-lists.html" class="sidebar-link">List slicing (selecting parts of lists)</a></li><li><a href="/python/groupby.html" class="sidebar-link">groupby()</a></li><li><a href="/python/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/python/linked-list-node.html" class="sidebar-link">Linked List Node</a></li><li><a href="/python/filter.html" class="sidebar-link">Filter</a></li><li><a href="/python/heapq.html" class="sidebar-link">Heapq</a></li><li><a href="/python/tuple.html" class="sidebar-link">Tuple</a></li><li><a href="/python/basic-input-and-output.html" class="sidebar-link">Basic Input and Output</a></li><li><a href="/python/files-folders-i-o.html" class="sidebar-link">Files &amp; Folders I/O</a></li><li><a href="/python/os-path.html" class="sidebar-link">os.path</a></li><li><a href="/python/iterables-and-iterators.html" class="sidebar-link">Iterables and Iterators</a></li><li><a href="/python/functions.html" class="sidebar-link">Functions</a></li><li><a href="/python/defining-functions-with-list-arguments.html" class="sidebar-link">Defining functions with list arguments</a></li><li><a href="/python/functional-programming-in-python.html" class="sidebar-link">Functional Programming in Python</a></li><li><a href="/python/partial-functions.html" class="sidebar-link">Partial functions</a></li><li><a href="/python/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/python/classes.html" class="sidebar-link">Classes</a></li><li><a href="/python/metaclasses.html" class="sidebar-link">Metaclasses</a></li><li><a href="/python/string-formatting.html" class="sidebar-link">String Formatting</a></li><li><a href="/python/string-methods.html" class="sidebar-link">String Methods</a></li><li><a href="/python/using-loops-within-functions.html" class="sidebar-link">Using loops within functions</a></li><li><a href="/python/importing-modules.html" class="sidebar-link">Importing modules</a></li><li><a href="/python/difference-between-module-and-package.html" class="sidebar-link">Difference between Module and Package</a></li><li><a href="/python/math-module.html" class="sidebar-link">Math Module</a></li><li><a href="/python/complex-math.html" class="sidebar-link">Complex math</a></li><li><a href="/python/collections-module.html" class="sidebar-link">Collections module</a></li><li><a href="/python/operator-module.html" class="sidebar-link">Operator module</a></li><li><a href="/python/json-module.html" class="sidebar-link">JSON Module</a></li><li><a href="/python/sqlite3-module.html" class="sidebar-link">Sqlite3 Module</a></li><li><a href="/python/the-os-module.html" class="sidebar-link">The os Module</a></li><li><a href="/python/the-locale-module.html" class="sidebar-link">The locale Module</a></li><li><a href="/python/itertools-module.html" class="sidebar-link">Itertools Module</a></li><li><a href="/python/asyncio-module.html" class="sidebar-link">Asyncio Module</a></li><li><a href="/python/random-module.html" class="sidebar-link">Random module</a></li><li><a href="/python/functools-module.html" class="sidebar-link">Functools Module</a></li><li><a href="/python/the-dis-module.html" class="sidebar-link">The dis module</a></li><li><a href="/python/the-base64-module.html" class="sidebar-link">The base64 Module</a></li><li><a href="/python/queue-module.html" class="sidebar-link">Queue Module</a></li><li><a href="/python/deque-module.html" class="sidebar-link">Deque Module</a></li><li><a href="/python/webbrowser-module.html" class="sidebar-link">Webbrowser Module</a></li><li><a href="/python/tkinter.html" class="sidebar-link">tkinter</a></li><li><a href="/python/pyautogui-module.html" class="sidebar-link">pyautogui module</a></li><li><a href="/python/indexing-and-slicing.html" class="sidebar-link">Indexing and Slicing</a></li><li><a href="/python/plotting-with-matplotlib.html" class="sidebar-link">Plotting with Matplotlib</a></li><li><a href="/python/graph-tool.html" class="sidebar-link">graph-tool</a></li><li><a href="/python/generators.html" class="sidebar-link">Generators</a></li><li><a href="/python/reduce.html" class="sidebar-link">Reduce</a></li><li><a href="/python/map-function.html" class="sidebar-link">Map Function</a></li><li><a href="/python/exponentiation.html" class="sidebar-link">Exponentiation</a></li><li><a href="/python/searching.html" class="sidebar-link">Searching</a></li><li><a href="/python/sorting-minimum-and-maximum.html" class="sidebar-link">Sorting, Minimum and Maximum</a></li><li><a href="/python/counting.html" class="sidebar-link">Counting</a></li><li><a href="/python/the-print-function.html" class="sidebar-link">The Print Function</a></li><li><a href="/python/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (Regex)</a></li><li><a href="/python/copying-data.html" class="sidebar-link">Copying data</a></li><li><a href="/python/context-managers-with-statement.html" class="sidebar-link">Context Managers (“with” Statement)</a></li><li><a href="/python/the-name-special-variable.html" class="sidebar-link">The _name_ special variable</a></li><li><a href="/python/checking-path-existence-and-permissions.html" class="sidebar-link">Checking Path Existence and Permissions</a></li><li><a href="/python/creating-python-packages.html" class="sidebar-link">Creating Python packages</a></li><li><a href="/python/usage-of-pip-module-pypi-package-manager.html" class="sidebar-link">Usage of &quot;pip&quot; module: PyPI Package Manager</a></li><li><a href="/python/pip-pypi-package-manager.html" class="sidebar-link">pip: PyPI Package Manager</a></li><li><a href="/python/parsing-command-line-arguments.html" class="sidebar-link">Parsing Command Line arguments</a></li><li><a href="/python/subprocess-library.html" class="sidebar-link">Subprocess Library</a></li><li><a href="/python/setup-py.html" class="sidebar-link">setup.py</a></li><li><a href="/python/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/python/type-hints.html" class="sidebar-link">Type Hints</a></li><li><a href="/python/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/python/raise-custom-errors-exceptions.html" class="sidebar-link">Raise Custom Errors / Exceptions</a></li><li><a href="/python/commonwealth-exceptions.html" class="sidebar-link">Commonwealth Exceptions</a></li><li><a href="/python/urllib.html" class="sidebar-link">urllib</a></li><li><a href="/python/web-scraping-with-python.html" class="sidebar-link">Web scraping with Python</a></li><li><a href="/python/html-parsing.html" class="sidebar-link">HTML Parsing</a></li><li><a href="/python/manipulating-xml.html" class="sidebar-link">Manipulating XML</a></li><li><a href="/python/python-requests-post.html" class="sidebar-link">Python Requests Post</a></li><li><a href="/python/distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/python/property-objects.html" class="sidebar-link">Property Objects</a></li><li><a href="/python/overloading.html" class="sidebar-link">Overloading</a></li><li><a href="/python/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/python/method-overriding.html" class="sidebar-link">Method Overriding</a></li><li><a href="/python/user-defined-methods.html" class="sidebar-link">User-Defined Methods</a></li><li><a href="/python/string-representations-of-class-instances-str-and-repr-methods.html" class="sidebar-link">String representations of class instances: _str and repr_ methods</a></li><li><a href="/python/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/python/reading-and-writing-csv.html" class="sidebar-link">Reading and Writing CSV</a></li><li><a href="/python/writing-to-csv-from-string-or-list.html" class="sidebar-link">Writing to CSV from String or List</a></li><li><a href="/python/dynamic-code-execution-with-exec-and-eval.html" class="sidebar-link">Dynamic code execution with exec and eval</a></li><li><a href="/python/pyinstaller-distributing-python-code.html" class="sidebar-link">PyInstaller - Distributing Python Code</a></li><li><a href="/python/data-visualization-with-python.html" class="sidebar-link">Data Visualization with Python</a></li><li><a href="/python/the-interpreter-command-line-console.html" class="sidebar-link">The Interpreter (Command Line Console)</a></li><li><a href="/python/args-and-kwargs.html" class="sidebar-link">args and *kwargs</a></li><li><a href="/python/garbage-collection.html" class="sidebar-link">Garbage Collection</a></li><li><a href="/python/pickle-data-serialisation.html" class="sidebar-link">Pickle data serialisation</a></li><li><a href="/python/binary-data.html" class="sidebar-link">Binary Data</a></li><li><a href="/python/idioms.html" class="sidebar-link">Idioms</a></li><li><a href="/python/data-serialization.html" class="sidebar-link">Data Serialization</a></li><li><a href="/python/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/python/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/python/processes-and-threads.html" class="sidebar-link">Processes and Threads</a></li><li><a href="/python/python-concurrency.html" class="sidebar-link">Python concurrency</a></li><li><a href="/python/parallel-computation.html" class="sidebar-link">Parallel computation</a></li><li><a href="/python/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/python/websockets.html" class="sidebar-link">Websockets</a></li><li><a href="/python/sockets-and-message-encryption-decryption-between-client-and-server.html" class="sidebar-link">Sockets And Message Encryption/Decryption Between Client and Server</a></li><li><a href="/python/python-networking.html" class="sidebar-link">Python Networking</a></li><li><a href="/python/python-http-server.html" class="sidebar-link">Python HTTP Server</a></li><li><a href="/python/flask.html" class="sidebar-link">Flask</a></li><li><a href="/python/introduction-to-rabbitmq-using-amqpstorm.html" class="sidebar-link">Introduction to RabbitMQ using AMQPStorm</a></li><li><a href="/python/descriptor.html" class="sidebar-link">Descriptor</a></li><li><a href="/python/tempfile-namedtemporaryfile.html" class="sidebar-link">tempfile NamedTemporaryFile</a></li><li><a href="/python/input-subset-and-output-external-data-files-using-pandas.html" class="sidebar-link">Input, Subset and Output External Data Files using Pandas</a></li><li><a href="/python/unzipping-files.html" class="sidebar-link">Unzipping Files</a></li><li><a href="/python/working-with-zip-archives.html" class="sidebar-link">Working with ZIP archives</a></li><li><a href="/python/getting-start-with-gzip.html" class="sidebar-link">getting start with GZip</a></li><li><a href="/python/stack.html" class="sidebar-link">Stack</a></li><li><a href="/python/working-around-the-global-interpreter-lock-gil.html" class="sidebar-link">Working around the Global Interpreter Lock (GIL)</a></li><li><a href="/python/deployment.html" class="sidebar-link">Deployment</a></li><li><a href="/python/logging.html" class="sidebar-link">Logging</a></li><li><a href="/python/web-server-gateway-interface-wsgi.html" class="sidebar-link">Web Server Gateway Interface (WSGI)</a></li><li><a href="/python/python-server-sent-events.html" class="sidebar-link">Python Server Sent Events</a></li><li><a href="/python/alternatives-to-switch-statement-from-other-languages.html" class="sidebar-link">Alternatives to switch statement from other languages</a></li><li><a href="/python/list-destructuring-aka-packing-and-unpacking.html" class="sidebar-link">List destructuring (aka packing and unpacking)</a></li><li><a href="/python/accessing-python-source-code-and-bytecode.html" class="sidebar-link">Accessing Python source code and bytecode</a></li><li><a href="/python/mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/python/attribute-access.html" class="sidebar-link">Attribute Access</a></li><li><a href="/python/arcpy.html" class="sidebar-link">ArcPy</a></li><li><a href="/python/abstract-base-classes-abc.html" class="sidebar-link">Abstract Base Classes (abc)</a></li><li><a href="/python/plugin-and-extension-classes.html" class="sidebar-link">Plugin and Extension Classes</a></li><li><a href="/python/immutable-datatypes-int-float-str-tuple-and-frozensets.html" class="sidebar-link">Immutable datatypes(int, float, str, tuple and frozensets)</a></li><li><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html" class="sidebar-link">Incompatibilities moving from Python 2 to Python 3</a></li><li><a href="/python/2to3-tool.html" class="sidebar-link">2to3 tool</a></li><li><a href="/python/non-official-python-implementations.html" class="sidebar-link">Non-official Python implementations</a></li><li><a href="/python/abstract-syntax-tree.html" class="sidebar-link">Abstract syntax tree</a></li><li><a href="/python/unicode-and-bytes.html" class="sidebar-link">Unicode and bytes</a></li><li><a href="/python/python-serial-communication-pyserial.html" class="sidebar-link">Python Serial Communication (pyserial)</a></li><li><a href="/python/neo4j-and-cypher-using-py2neo.html" class="sidebar-link">Neo4j and Cypher using Py2Neo</a></li><li><a href="/python/basic-curses-with-python.html" class="sidebar-link">Basic Curses with Python</a></li><li><a href="/python/templates-in-python.html" class="sidebar-link">Templates in python</a></li><li><a href="/python/pillow.html" class="sidebar-link">Pillow</a></li><li><a href="/python/the-pass-statement.html" class="sidebar-link">The pass statement</a></li><li><a href="/python/cli-subcommands-with-precise-help-output.html" class="sidebar-link">CLI subcommands with precise help output</a></li><li><a href="/python/database-access.html" class="sidebar-link">Database Access</a></li><li><a href="/python/connecting-python-to-sql-server.html" class="sidebar-link">Connecting Python to SQL Server</a></li><li><a href="/python/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/python/python-and-excel.html" class="sidebar-link">Python and Excel</a></li><li><a href="/python/turtle-graphics.html" class="sidebar-link">Turtle Graphics</a></li><li><a href="/python/python-persistence.html" class="sidebar-link">Python Persistence</a></li><li><a href="/python/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/python/hashlib.html" class="sidebar-link">hashlib</a></li><li><a href="/python/creating-a-windows-service-using-python.html" class="sidebar-link">Creating a Windows service using Python</a></li><li><a href="/python/mutable-vs-immutable-and-hashable-in-python.html" class="sidebar-link">Mutable vs Immutable (and Hashable) in Python</a></li><li><a href="/python/configparser.html" class="sidebar-link">configparser</a></li><li><a href="/python/optical-character-recognition.html" class="sidebar-link">Optical Character Recognition</a></li><li><a href="/python/virtual-environments.html" class="sidebar-link">Virtual environments</a></li><li><a href="/python/python-virtual-environment-virtualenv.html" class="sidebar-link">Python Virtual Environment - virtualenv</a></li><li><a href="/python/virtual-environment-with-virtualenvwrapper.html" class="sidebar-link">virtual environment with virtualenvwrapper</a></li><li><a href="/python/create-virtual-environment-with-virtualenvwrapper-in-windows.html" class="sidebar-link">Create virtual environment with virtualenvwrapper in windows</a></li><li><a href="/python/sys.html" class="sidebar-link">sys</a></li><li><a href="/python/chempy-python-package.html" class="sidebar-link">ChemPy - python package</a></li><li><a href="/python/pygame.html" class="sidebar-link">pygame</a></li><li><a href="/python/pyglet.html" class="sidebar-link">Pyglet</a></li><li><a href="/python/audio.html" class="sidebar-link">Audio</a></li><li><a href="/python/pyaudio.html" class="sidebar-link">pyaudio</a></li><li><a href="/python/shelve.html" class="sidebar-link">shelve</a></li><li><a href="/python/iot-programming-with-python-and-raspberry-pi.html" class="sidebar-link">IoT Programming with Python and Raspberry PI</a></li><li><a href="/python/kivy-cross-platform-python-framework-for-nui-development.html" class="sidebar-link">kivy - Cross-platform Python Framework for NUI Development</a></li><li><a href="/python/pandas-transform-preform-operations-on-groups-and-concatenate-the-results.html" class="sidebar-link">Pandas Transform: Preform operations on groups and concatenate the results</a></li><li><a href="/python/similarities-in-syntax-differences-in-meaning-python-vs-javascript.html" class="sidebar-link">Similarities in syntax, Differences in meaning: Python vs. JavaScript</a></li><li><a href="/python/call-python-from-c.html" class="sidebar-link">Call Python from C#</a></li><li><a href="/python/ctypes.html" class="sidebar-link">ctypes</a></li><li><a href="/python/writing-extensions.html" class="sidebar-link">Writing extensions</a></li><li><a href="/python/python-lex-yacc.html" class="sidebar-link">Python Lex-Yacc</a></li><li><a href="/python/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/python/py-test.html" class="sidebar-link">py.test</a></li><li><a href="/python/profiling.html" class="sidebar-link">Profiling</a></li><li><a href="/python/python-speed-of-program.html" class="sidebar-link">Python speed of program</a></li><li><a href="/python/performance-optimization.html" class="sidebar-link">Performance optimization</a></li><li><a href="/python/security-and-cryptography.html" class="sidebar-link">Security and Cryptography</a></li><li><a href="/python/secure-shell-connection-in-python.html" class="sidebar-link">Secure Shell Connection in Python</a></li><li><a href="/python/python-anti-patterns.html" class="sidebar-link">Python Anti-Patterns</a></li><li><a href="/python/common-pitfalls.html" class="sidebar-link">Common Pitfalls</a></li><li><a href="/python/hidden-features.html" class="sidebar-link">Hidden Features</a></li><li><a href="/python/date-formatting.html" class="sidebar-link">Date Formatting</a></li><li><a href="/python/ijson.html" class="sidebar-link">ijson</a></li><li><a href="/python/django.html" class="sidebar-link">Django</a></li><li><a href="/python/code-blocks-execution-frames-and-namespaces.html" class="sidebar-link">Code blocks, execution frames, and namespaces</a></li><li><a href="/python/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="variable-scope-and-binding"><a href="#variable-scope-and-binding" class="header-anchor">#</a> Variable Scope and Binding</h1> <h2 id="nonlocal-variables"><a href="#nonlocal-variables" class="header-anchor">#</a> Nonlocal Variables</h2> <p>Python 3 added a new keyword called <strong>nonlocal</strong>. The nonlocal keyword adds a scope override to the inner scope. You can read all about it in <a href="https://www.python.org/dev/peps/pep-3104/" target="_blank" rel="noopener noreferrer">PEP 3104<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. This is best illustrated with a couple of code examples. One of the most common examples is to create function that can increment:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">incrementer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        num <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> num
    <span class="token keyword">return</span> incrementer

</code></pre></div><p>If you try running this code, you will receive an <strong>UnboundLocalError</strong> because the <strong>num</strong> variable is referenced before it is assigned in the innermost function. Let's add nonlocal to the mix:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">incrementer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">nonlocal</span> num
        num <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> num
    <span class="token keyword">return</span> incrementer

c <span class="token operator">=</span> counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># = 1</span>
c<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># = 2</span>
c<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># = 3</span>

</code></pre></div><p>Basically <code>nonlocal</code> will allow you to assign to variables in an outer scope, but not a global scope. So you can't use <code>nonlocal</code> in our <code>counter</code> function because then it would try to assign to a global scope. Give it a try and you will quickly get a <code>SyntaxError</code>. Instead you must use <code>nonlocal</code> in a nested function.</p> <p>(Note that the functionality presented here is better implemented using generators.)</p> <h2 id="global-variables"><a href="#global-variables" class="header-anchor">#</a> Global Variables</h2> <p>In Python, variables inside functions are considered local if and only if they appear in the left side of an assignment statement, or some other binding occurrence; otherwise such a binding is looked up in enclosing functions, up to the global scope. This is true even if the assignment statement is never executed.</p> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token string">'Hi'</span>

<span class="token keyword">def</span> <span class="token function">read_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>   <span class="token comment"># x is just referenced, therefore assumed global</span>

read_x<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># prints Hi</span>

<span class="token keyword">def</span> <span class="token function">read_y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>   <span class="token comment"># here y is just referenced, therefore assumed global</span>

read_y<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># NameError: global name 'y' is not defined</span>

<span class="token keyword">def</span> <span class="token function">read_y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    y <span class="token operator">=</span> <span class="token string">'Hey'</span>  <span class="token comment"># y appears in an assignment, therefore it's local</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>   <span class="token comment"># will find the local y</span>

read_y<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># prints Hey</span>

<span class="token keyword">def</span> <span class="token function">read_x_local_fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
        x <span class="token operator">=</span> <span class="token string">'Hey'</span>  <span class="token comment"># x appears in an assignment, therefore it's local</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>   <span class="token comment"># will look for the _local_ z, which is not assigned, and will not be found</span>

read_x_local_fail<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># UnboundLocalError: local variable 'x' referenced before assignment</span>

</code></pre></div><p>Normally, an assignment inside a scope will shadow any outer variables of the
same name:</p> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token string">'Hi'</span>

<span class="token keyword">def</span> <span class="token function">change_local_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> <span class="token string">'Bye'</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
change_local_x<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># prints Bye</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment"># prints Hi</span>

</code></pre></div><p>Declaring a name <code>global</code> means that, for the rest of the scope, any assignments to the name will happen at the module's top level:</p> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token string">'Hi'</span>

<span class="token keyword">def</span> <span class="token function">change_global_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> x
    x <span class="token operator">=</span> <span class="token string">'Bye'</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>

change_global_x<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># prints Bye</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment"># prints Bye</span>

</code></pre></div><p>The <code>global</code> keyword means that assignments will happen at the module's top level, not at the program's top level. Other modules will still need the usual dotted access to variables within the module.</p> <p>To summarize: in order to know whether a variable <code>x</code> is local to a function, you should read the <strong>entire</strong> function:</p> <ol><li>if you've found <code>global x</code>, then <code>x</code> is a <strong>global</strong> variable</li> <li>If you've found <code>nonlocal x</code>, then <code>x</code> belongs to an enclosing function, and is neither local nor global</li> <li>If you've found <code>x = 5</code> or <code>for x in range(3)</code> or some other binding, then <code>x</code> is a <strong>local</strong> variable</li> <li>Otherwise <code>x</code> belongs to some enclosing scope (function scope, global scope, or builtins)</li></ol> <h2 id="local-variables"><a href="#local-variables" class="header-anchor">#</a> Local Variables</h2> <p>If a name is <strong>bound</strong> inside a function, it is by default accessible only within the function:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">5</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># ok</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">#  NameError: name 'a' is not defined</span>

</code></pre></div><p>Control flow constructs have no impact on the scope (with the exception of <code>except</code>), but accessing variable that was not assigned yet is an error:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
        a <span class="token operator">=</span> <span class="token number">5</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># ok</span>

b <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
        b <span class="token operator">=</span> <span class="token number">5</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment"># UnboundLocalError: local variable 'b' referenced before assignment</span>

</code></pre></div><p>Common binding operations are assignments, <code>for</code> loops, and augmented assignments such as <code>a += 5</code></p> <h2 id="binding-occurrence"><a href="#binding-occurrence" class="header-anchor">#</a> Binding Occurrence</h2> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token number">5</span>
x <span class="token operator">+=</span> <span class="token number">7</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> iterable<span class="token punctuation">:</span> <span class="token keyword">pass</span>    

</code></pre></div><p>Each of the above statements is a <strong>binding occurrence</strong> - <code>x</code> become bound to the object denoted by <code>5</code>. If this statement appears inside a function, then <code>x</code> will be function-local by default. See the &quot;Syntax&quot; section for a list of binding statements.</p> <h2 id="functions-skip-class-scope-when-looking-up-names"><a href="#functions-skip-class-scope-when-looking-up-names" class="header-anchor">#</a> Functions skip class scope when looking up names</h2> <p>Classes have a local scope during definition, but functions inside the class do not use that scope when looking up names.  Because lambdas are functions, and comprehensions are implemented using function scope, this can lead to some surprising behavior.</p> <div class="language-py extra-class"><pre class="language-py"><code>a <span class="token operator">=</span> <span class="token string">'global'</span>

<span class="token keyword">class</span> <span class="token class-name">Fred</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token string">'class'</span>  <span class="token comment"># class scope</span>
    b <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># function scope</span>
    c <span class="token operator">=</span> <span class="token punctuation">[</span>a <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment"># function scope</span>
    d <span class="token operator">=</span> a  <span class="token comment"># class scope</span>
    e <span class="token operator">=</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span> a  <span class="token comment"># function scope</span>
    f <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token operator">=</span>a<span class="token punctuation">:</span> a  <span class="token comment"># default argument uses class scope</span>
    
    <span class="token decorator annotation punctuation">@staticmethod</span>  <span class="token comment"># or @classmethod, or regular instance method</span>
    <span class="token keyword">def</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># function scope</span>
        <span class="token keyword">return</span> a

<span class="token keyword">print</span><span class="token punctuation">(</span>Fred<span class="token punctuation">.</span>a<span class="token punctuation">)</span>  <span class="token comment"># class</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>Fred<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># global</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Fred<span class="token punctuation">.</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># class in Python 2, global in Python 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Fred<span class="token punctuation">.</span>d<span class="token punctuation">)</span>  <span class="token comment"># class</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Fred<span class="token punctuation">.</span>e<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># global</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Fred<span class="token punctuation">.</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># class</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Fred<span class="token punctuation">.</span>g<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># global</span>

</code></pre></div><p>Users unfamiliar with how this scope works might expect <code>b</code>, <code>c</code>, and <code>e</code> to print <code>class</code>.</p> <p>From <a href="http://www.python.org/dev/peps/pep-0227/" target="_blank" rel="noopener noreferrer">PEP 227<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <blockquote></blockquote> <p>Names in class scope are not accessible. Names are resolved in the innermost enclosing function scope. If a class definition occurs in a chain of nested scopes, the resolution process skips class definitions.</p> <p>From Python's documentation on <a href="http://docs.python.org/3/reference/executionmodel.html#naming" target="_blank" rel="noopener noreferrer">naming and binding<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <blockquote></blockquote> <p>The scope of names defined in a class block is limited to the class block; it does not extend to the code blocks of methods – this includes comprehensions and generator expressions since they are implemented using a function scope. This means that the following will fail:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">42</span>
    b <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>This example uses references from <a href="http://stackoverflow.com/questions/13905741/accessing-class-variables-from-a-list-comprehension-in-the-class-definition/13913933#13913933" target="_blank" rel="noopener noreferrer">this answer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> by Martijn Pieters, which contains more in depth analysis of this behavior.</p> <h2 id="the-del-command"><a href="#the-del-command" class="header-anchor">#</a> The del command</h2> <p>This command has several related yet distinct forms.</p> <h3 id="del-v"><a href="#del-v" class="header-anchor">#</a> <code>del v</code></h3> <p>If <code>v</code> is a variable, the command <code>del v</code> removes the variable from its scope. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token number">5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment"># out: 5</span>
<span class="token keyword">del</span> x
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment"># NameError: name 'f' is not defined</span>

</code></pre></div><blockquote></blockquote> <p>Note that <code>del</code> is a <strong>binding occurence</strong>, which means that unless explicitly stated otherwise (using <code>nonlocal</code> or <code>global</code>), <code>del v</code> will make <code>v</code> local to the current scope. If you intend to delete <code>v</code> in an outer scope, use <code>nonlocal v</code> or <code>global v</code> in the same scope of the <code>del v</code> statement.</p> <p>In all the following, the intention of a command is a default behavior but is not enforced by the language. A class might be written in a way that invalidates this intention.</p> <h3 id="del-v-name"><a href="#del-v-name" class="header-anchor">#</a> <code>del v.name</code></h3> <p>This command triggers a call to <code>v.__delattr__(name)</code>.</p> <p>The intention is to make the attribute <code>name</code> unavailable. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">7</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token comment"># out: 7</span>
<span class="token keyword">del</span> a<span class="token punctuation">.</span>x
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token comment"># error: AttributeError: 'A' object has no attribute 'x'</span>

</code></pre></div><h3 id="del-v-item"><a href="#del-v-item" class="header-anchor">#</a> <code>del v[item]</code></h3> <p>This command triggers a call to <code>v.__delitem__(item)</code>.</p> <p>The intention is that <code>item</code> will not belong in the mapping implemented by the object <code>v</code>. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
<span class="token keyword">del</span> x<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">#  out: {'b': 2}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># error: KeyError: 'a'</span>

</code></pre></div><h3 id="del-v-a-b"><a href="#del-v-a-b" class="header-anchor">#</a> <code>del v[a:b]</code></h3> <p>This actually calls <code>v.__delslice__(a, b)</code>.</p> <p>The intention is similar to the one described above, but with slices - ranges of items instead of a single item. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">del</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">#  out: [0, 3, 4]</span>

</code></pre></div><p>See also <a href="http://stackoverflow.com/documentation/python/2532/garbage-collection/5722/del#t=201608101857074619986" target="_blank" rel="noopener noreferrer">Garbage Collection#The del command<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="local-vs-global-scope"><a href="#local-vs-global-scope" class="header-anchor">#</a> Local vs Global Scope</h2> <h3 id="what-are-local-and-global-scope"><a href="#what-are-local-and-global-scope" class="header-anchor">#</a> What are local and global scope?</h3> <p>All Python variabes which are accessible at some point in code are either in <strong>local scope</strong> or in <strong>global scope</strong>.</p> <p>The explanation is that local scope includes all variables defined in the current function and global scope includes variabled defined outside of the current function.</p> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># global</span>

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    bar <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># local</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment"># prints variable foo from global scope</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span>  <span class="token comment"># prints variable bar from local scope</span>

</code></pre></div><p>One can inspect which variables are in which scope. Built-in functions <code>locals()</code> and <code>globals()</code> return the whole scopes as dictionaries.</p> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    bar <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># prints all variable names in global scope</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># prints all variable names in local scope</span>

</code></pre></div><h3 id="what-happens-with-name-clashes"><a href="#what-happens-with-name-clashes" class="header-anchor">#</a> What happens with name clashes?</h3> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    foo <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># creates a new variable foo in local scope, global foo is not affected</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment"># prints 2</span>

    <span class="token comment"># global variable foo still exists, unchanged:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># prints 1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># prints 2</span>

</code></pre></div><p>To modify a global variable, use keyword <code>global</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> foo
    foo <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># this modifies the global foo, rather than creating a local variable</span>

</code></pre></div><p><strong>The scope is defined for the whole body of the function!</strong></p> <p>What it means is that a variable will never be global for a half of the function and local afterwards, or vice-versa.</p> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># This function has a local variable foo, because it is defined down below.</span>
    <span class="token comment"># So, foo is local from this point. Global foo is hidden.</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment"># raises UnboundLocalError, because local foo is not yet initialized</span>
    foo <span class="token operator">=</span> <span class="token number">7</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>

</code></pre></div><p>Likewise, the oposite:</p> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># In this function, foo is a global variable from the begining</span>

    foo <span class="token operator">=</span> <span class="token number">7</span>  <span class="token comment"># global foo is modified</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment"># 7</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 7</span>

    <span class="token keyword">global</span> foo  <span class="token comment"># this could be anywhere within the function</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment"># 7</span>

</code></pre></div><h3 id="functions-within-functions"><a href="#functions-within-functions" class="header-anchor">#</a> Functions within functions</h3> <p>There may be many levels of functions nested within functions, but within any one function there is only one local scope for that function and the global scope. There are no intermediate scopes.</p> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    bar <span class="token operator">=</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        baz <span class="token operator">=</span> <span class="token number">2</span>
        <span class="token comment"># here, foo is a global variable, baz is a local variable</span>
        <span class="token comment"># bar is not in either scope</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ['baz']</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar'</span> <span class="token keyword">in</span> <span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar'</span> <span class="token keyword">in</span> <span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span>

    <span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        baz <span class="token operator">=</span> <span class="token number">3</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span>  <span class="token comment"># bar from f1 is referenced so it enters local scope of f3 (closure)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ['bar', 'baz']</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar'</span> <span class="token keyword">in</span> <span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar'</span> <span class="token keyword">in</span> <span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span>

    <span class="token keyword">def</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        bar <span class="token operator">=</span> <span class="token number">4</span>  <span class="token comment"># a new local bar which hides bar from local scope of f1</span>
        baz <span class="token operator">=</span> <span class="token number">4</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ['bar', 'baz']</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar'</span> <span class="token keyword">in</span> <span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar'</span> <span class="token keyword">in</span> <span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span>

</code></pre></div><h3 id="global-vs-nonlocal-python-3-only"><a href="#global-vs-nonlocal-python-3-only" class="header-anchor">#</a> <code>global</code> vs <code>nonlocal</code> (Python 3 only)</h3> <p>Both these keywords are used to gain write access to variables which are not local to the current functions.</p> <p>The <code>global</code> keyword declares that a name should be treated as a global variable.</p> <div class="language-py extra-class"><pre class="language-py"><code>foo <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># global foo</span>

<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    foo <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># a new foo local in f1</span>
    
    <span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        foo <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># a new foo local in f2</span>
        
        <span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            foo <span class="token operator">=</span> <span class="token number">3</span>  <span class="token comment"># a new foo local in f3</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment"># 3</span>
            foo <span class="token operator">=</span> <span class="token number">30</span>  <span class="token comment"># modifies local foo in f3 only</span>
        
        <span class="token keyword">def</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">global</span> foo
            <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment"># 0</span>
            foo <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment"># modifies global foo</span>

</code></pre></div><p>On the other hand, <code>nonlocal</code> (see <a href="http://stackoverflow.com/documentation/python/263/variable-scope-and-binding/5712/nonlocal-variables#t=201609030858342242664" target="_blank" rel="noopener noreferrer">Nonlocal Variables<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ), available in Python 3, takes a <strong>local</strong> variable from an enclosing scope into the local scope of current function.</p> <p>From the <a href="https://docs.python.org/3/reference/simple_stmts.html#nonlocal" target="_blank" rel="noopener noreferrer">Python documentation on <code>nonlocal</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <blockquote></blockquote> <p>The nonlocal statement causes the listed identifiers to refer to
previously bound variables in the nearest enclosing scope excluding
globals.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        foo <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># a new foo local in f2</span>

        <span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">nonlocal</span> foo  <span class="token comment"># foo from f2, which is the nearest enclosing scope</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>  <span class="token comment"># 2</span>
            foo <span class="token operator">=</span> <span class="token number">20</span>  <span class="token comment"># modifies foo from f2!</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>global a, b, c</li> <li>nonlocal a, b</li> <li>x = something  # binds x</li> <li>(x, y) = something  # binds x and y</li> <li>x += something  # binds x. Similarly for all other &quot;op=&quot;</li> <li>del x  # binds x</li> <li>for x in something:  # binds x</li> <li>with something as x:  # binds x</li> <li>except Exception as ex:  # binds ex inside block</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/python/variable-scope-and-binding.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/python/operator-precedence.html" class="prev">
        Operator Precedence
      </a></span> <span class="next"><a href="/python/conditionals.html">
        Conditionals
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2839.b16fabf4.js" defer></script>
  </body>
</html>
