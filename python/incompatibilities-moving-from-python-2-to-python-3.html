<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python - Incompatibilities moving from Python 2 to Python 3</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Integer Division, Unpacking Iterables, Strings: Bytes versus Unicode, Print statement vs. Print function, Differences between range and xrange functions, Raising and handling Exceptions, Leaked variables in list comprehension, True, False and None, User Input, Comparison of different types, .next() method on iterators renamed, Renamed modules, filter(), map() and zip() return iterators instead of sequences, Removed operators <> and ``, synonymous with != and repr(), long vs. int, Reduce is no longer a built-in, All classes are new-style classes in Python 3., Absolute/Relative Imports, map(), The round() function tie-breaking and return type, cmp function removed in Python 3, File I/O, Octal Constants, Return value when writing to a file object, exec statement is a function in Python 3, encode/decode to hex no longer available, Dictionary method changes, Class Boolean Value, hasattr function bug in Python 2">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Python - Incompatibilities moving from Python 2 to Python 3">
    <meta property="og:description" content="Integer Division, Unpacking Iterables, Strings: Bytes versus Unicode, Print statement vs. Print function, Differences between range and xrange functions, Raising and handling Exceptions, Leaked variables in list comprehension, True, False and None, User Input, Comparison of different types, .next() method on iterators renamed, Renamed modules, filter(), map() and zip() return iterators instead of sequences, Removed operators <> and ``, synonymous with != and repr(), long vs. int, Reduce is no longer a built-in, All classes are new-style classes in Python 3., Absolute/Relative Imports, map(), The round() function tie-breaking and return type, cmp function removed in Python 3, File I/O, Octal Constants, Return value when writing to a file object, exec statement is a function in Python 3, encode/decode to hex no longer available, Dictionary method changes, Class Boolean Value, hasattr function bug in Python 2">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/python/incompatibilities-moving-from-python-2-to-python-3.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Python - Incompatibilities moving from Python 2 to Python 3">
    <meta name="twitter:description" content="Integer Division, Unpacking Iterables, Strings: Bytes versus Unicode, Print statement vs. Print function, Differences between range and xrange functions, Raising and handling Exceptions, Leaked variables in list comprehension, True, False and None, User Input, Comparison of different types, .next() method on iterators renamed, Renamed modules, filter(), map() and zip() return iterators instead of sequences, Removed operators <> and ``, synonymous with != and repr(), long vs. int, Reduce is no longer a built-in, All classes are new-style classes in Python 3., Absolute/Relative Imports, map(), The round() function tie-breaking and return type, cmp function removed in Python 3, File I/O, Octal Constants, Return value when writing to a file object, exec statement is a function in Python 3, encode/decode to hex no longer available, Dictionary method changes, Class Boolean Value, hasattr function bug in Python 2">
    <meta name="twitter:url" content="/python/incompatibilities-moving-from-python-2-to-python-3.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2724.8015810a.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/python/getting-started-with-python-language.html" class="sidebar-link">Getting started with Python Language</a></li><li><a href="/python/python-data-types.html" class="sidebar-link">Python Data Types</a></li><li><a href="/python/indentation.html" class="sidebar-link">Indentation</a></li><li><a href="/python/comments-and-documentation.html" class="sidebar-link">Comments and Documentation</a></li><li><a href="/python/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/python/enum.html" class="sidebar-link">Enum</a></li><li><a href="/python/set.html" class="sidebar-link">Set</a></li><li><a href="/python/simple-mathematical-operators.html" class="sidebar-link">Simple Mathematical Operators</a></li><li><a href="/python/bitwise-operators.html" class="sidebar-link">Bitwise Operators</a></li><li><a href="/python/boolean-operators.html" class="sidebar-link">Boolean Operators</a></li><li><a href="/python/operator-precedence.html" class="sidebar-link">Operator Precedence</a></li><li><a href="/python/variable-scope-and-binding.html" class="sidebar-link">Variable Scope and Binding</a></li><li><a href="/python/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/python/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/python/loops.html" class="sidebar-link">Loops</a></li><li><a href="/python/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/python/multidimensional-arrays.html" class="sidebar-link">Multidimensional arrays</a></li><li><a href="/python/dictionary.html" class="sidebar-link">Dictionary</a></li><li><a href="/python/list.html" class="sidebar-link">List</a></li><li><a href="/python/list-comprehensions.html" class="sidebar-link">List Comprehensions</a></li><li><a href="/python/list-slicing-selecting-parts-of-lists.html" class="sidebar-link">List slicing (selecting parts of lists)</a></li><li><a href="/python/groupby.html" class="sidebar-link">groupby()</a></li><li><a href="/python/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/python/linked-list-node.html" class="sidebar-link">Linked List Node</a></li><li><a href="/python/filter.html" class="sidebar-link">Filter</a></li><li><a href="/python/heapq.html" class="sidebar-link">Heapq</a></li><li><a href="/python/tuple.html" class="sidebar-link">Tuple</a></li><li><a href="/python/basic-input-and-output.html" class="sidebar-link">Basic Input and Output</a></li><li><a href="/python/files-folders-i-o.html" class="sidebar-link">Files &amp; Folders I/O</a></li><li><a href="/python/os-path.html" class="sidebar-link">os.path</a></li><li><a href="/python/iterables-and-iterators.html" class="sidebar-link">Iterables and Iterators</a></li><li><a href="/python/functions.html" class="sidebar-link">Functions</a></li><li><a href="/python/defining-functions-with-list-arguments.html" class="sidebar-link">Defining functions with list arguments</a></li><li><a href="/python/functional-programming-in-python.html" class="sidebar-link">Functional Programming in Python</a></li><li><a href="/python/partial-functions.html" class="sidebar-link">Partial functions</a></li><li><a href="/python/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/python/classes.html" class="sidebar-link">Classes</a></li><li><a href="/python/metaclasses.html" class="sidebar-link">Metaclasses</a></li><li><a href="/python/string-formatting.html" class="sidebar-link">String Formatting</a></li><li><a href="/python/string-methods.html" class="sidebar-link">String Methods</a></li><li><a href="/python/using-loops-within-functions.html" class="sidebar-link">Using loops within functions</a></li><li><a href="/python/importing-modules.html" class="sidebar-link">Importing modules</a></li><li><a href="/python/difference-between-module-and-package.html" class="sidebar-link">Difference between Module and Package</a></li><li><a href="/python/math-module.html" class="sidebar-link">Math Module</a></li><li><a href="/python/complex-math.html" class="sidebar-link">Complex math</a></li><li><a href="/python/collections-module.html" class="sidebar-link">Collections module</a></li><li><a href="/python/operator-module.html" class="sidebar-link">Operator module</a></li><li><a href="/python/json-module.html" class="sidebar-link">JSON Module</a></li><li><a href="/python/sqlite3-module.html" class="sidebar-link">Sqlite3 Module</a></li><li><a href="/python/the-os-module.html" class="sidebar-link">The os Module</a></li><li><a href="/python/the-locale-module.html" class="sidebar-link">The locale Module</a></li><li><a href="/python/itertools-module.html" class="sidebar-link">Itertools Module</a></li><li><a href="/python/asyncio-module.html" class="sidebar-link">Asyncio Module</a></li><li><a href="/python/random-module.html" class="sidebar-link">Random module</a></li><li><a href="/python/functools-module.html" class="sidebar-link">Functools Module</a></li><li><a href="/python/the-dis-module.html" class="sidebar-link">The dis module</a></li><li><a href="/python/the-base64-module.html" class="sidebar-link">The base64 Module</a></li><li><a href="/python/queue-module.html" class="sidebar-link">Queue Module</a></li><li><a href="/python/deque-module.html" class="sidebar-link">Deque Module</a></li><li><a href="/python/webbrowser-module.html" class="sidebar-link">Webbrowser Module</a></li><li><a href="/python/tkinter.html" class="sidebar-link">tkinter</a></li><li><a href="/python/pyautogui-module.html" class="sidebar-link">pyautogui module</a></li><li><a href="/python/indexing-and-slicing.html" class="sidebar-link">Indexing and Slicing</a></li><li><a href="/python/plotting-with-matplotlib.html" class="sidebar-link">Plotting with Matplotlib</a></li><li><a href="/python/graph-tool.html" class="sidebar-link">graph-tool</a></li><li><a href="/python/generators.html" class="sidebar-link">Generators</a></li><li><a href="/python/reduce.html" class="sidebar-link">Reduce</a></li><li><a href="/python/map-function.html" class="sidebar-link">Map Function</a></li><li><a href="/python/exponentiation.html" class="sidebar-link">Exponentiation</a></li><li><a href="/python/searching.html" class="sidebar-link">Searching</a></li><li><a href="/python/sorting-minimum-and-maximum.html" class="sidebar-link">Sorting, Minimum and Maximum</a></li><li><a href="/python/counting.html" class="sidebar-link">Counting</a></li><li><a href="/python/the-print-function.html" class="sidebar-link">The Print Function</a></li><li><a href="/python/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (Regex)</a></li><li><a href="/python/copying-data.html" class="sidebar-link">Copying data</a></li><li><a href="/python/context-managers-with-statement.html" class="sidebar-link">Context Managers (“with” Statement)</a></li><li><a href="/python/the-name-special-variable.html" class="sidebar-link">The _name_ special variable</a></li><li><a href="/python/checking-path-existence-and-permissions.html" class="sidebar-link">Checking Path Existence and Permissions</a></li><li><a href="/python/creating-python-packages.html" class="sidebar-link">Creating Python packages</a></li><li><a href="/python/usage-of-pip-module-pypi-package-manager.html" class="sidebar-link">Usage of &quot;pip&quot; module: PyPI Package Manager</a></li><li><a href="/python/pip-pypi-package-manager.html" class="sidebar-link">pip: PyPI Package Manager</a></li><li><a href="/python/parsing-command-line-arguments.html" class="sidebar-link">Parsing Command Line arguments</a></li><li><a href="/python/subprocess-library.html" class="sidebar-link">Subprocess Library</a></li><li><a href="/python/setup-py.html" class="sidebar-link">setup.py</a></li><li><a href="/python/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/python/type-hints.html" class="sidebar-link">Type Hints</a></li><li><a href="/python/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/python/raise-custom-errors-exceptions.html" class="sidebar-link">Raise Custom Errors / Exceptions</a></li><li><a href="/python/commonwealth-exceptions.html" class="sidebar-link">Commonwealth Exceptions</a></li><li><a href="/python/urllib.html" class="sidebar-link">urllib</a></li><li><a href="/python/web-scraping-with-python.html" class="sidebar-link">Web scraping with Python</a></li><li><a href="/python/html-parsing.html" class="sidebar-link">HTML Parsing</a></li><li><a href="/python/manipulating-xml.html" class="sidebar-link">Manipulating XML</a></li><li><a href="/python/python-requests-post.html" class="sidebar-link">Python Requests Post</a></li><li><a href="/python/distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/python/property-objects.html" class="sidebar-link">Property Objects</a></li><li><a href="/python/overloading.html" class="sidebar-link">Overloading</a></li><li><a href="/python/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/python/method-overriding.html" class="sidebar-link">Method Overriding</a></li><li><a href="/python/user-defined-methods.html" class="sidebar-link">User-Defined Methods</a></li><li><a href="/python/string-representations-of-class-instances-str-and-repr-methods.html" class="sidebar-link">String representations of class instances: _str and repr_ methods</a></li><li><a href="/python/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/python/reading-and-writing-csv.html" class="sidebar-link">Reading and Writing CSV</a></li><li><a href="/python/writing-to-csv-from-string-or-list.html" class="sidebar-link">Writing to CSV from String or List</a></li><li><a href="/python/dynamic-code-execution-with-exec-and-eval.html" class="sidebar-link">Dynamic code execution with exec and eval</a></li><li><a href="/python/pyinstaller-distributing-python-code.html" class="sidebar-link">PyInstaller - Distributing Python Code</a></li><li><a href="/python/data-visualization-with-python.html" class="sidebar-link">Data Visualization with Python</a></li><li><a href="/python/the-interpreter-command-line-console.html" class="sidebar-link">The Interpreter (Command Line Console)</a></li><li><a href="/python/args-and-kwargs.html" class="sidebar-link">args and *kwargs</a></li><li><a href="/python/garbage-collection.html" class="sidebar-link">Garbage Collection</a></li><li><a href="/python/pickle-data-serialisation.html" class="sidebar-link">Pickle data serialisation</a></li><li><a href="/python/binary-data.html" class="sidebar-link">Binary Data</a></li><li><a href="/python/idioms.html" class="sidebar-link">Idioms</a></li><li><a href="/python/data-serialization.html" class="sidebar-link">Data Serialization</a></li><li><a href="/python/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/python/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/python/processes-and-threads.html" class="sidebar-link">Processes and Threads</a></li><li><a href="/python/python-concurrency.html" class="sidebar-link">Python concurrency</a></li><li><a href="/python/parallel-computation.html" class="sidebar-link">Parallel computation</a></li><li><a href="/python/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/python/websockets.html" class="sidebar-link">Websockets</a></li><li><a href="/python/sockets-and-message-encryption-decryption-between-client-and-server.html" class="sidebar-link">Sockets And Message Encryption/Decryption Between Client and Server</a></li><li><a href="/python/python-networking.html" class="sidebar-link">Python Networking</a></li><li><a href="/python/python-http-server.html" class="sidebar-link">Python HTTP Server</a></li><li><a href="/python/flask.html" class="sidebar-link">Flask</a></li><li><a href="/python/introduction-to-rabbitmq-using-amqpstorm.html" class="sidebar-link">Introduction to RabbitMQ using AMQPStorm</a></li><li><a href="/python/descriptor.html" class="sidebar-link">Descriptor</a></li><li><a href="/python/tempfile-namedtemporaryfile.html" class="sidebar-link">tempfile NamedTemporaryFile</a></li><li><a href="/python/input-subset-and-output-external-data-files-using-pandas.html" class="sidebar-link">Input, Subset and Output External Data Files using Pandas</a></li><li><a href="/python/unzipping-files.html" class="sidebar-link">Unzipping Files</a></li><li><a href="/python/working-with-zip-archives.html" class="sidebar-link">Working with ZIP archives</a></li><li><a href="/python/getting-start-with-gzip.html" class="sidebar-link">getting start with GZip</a></li><li><a href="/python/stack.html" class="sidebar-link">Stack</a></li><li><a href="/python/working-around-the-global-interpreter-lock-gil.html" class="sidebar-link">Working around the Global Interpreter Lock (GIL)</a></li><li><a href="/python/deployment.html" class="sidebar-link">Deployment</a></li><li><a href="/python/logging.html" class="sidebar-link">Logging</a></li><li><a href="/python/web-server-gateway-interface-wsgi.html" class="sidebar-link">Web Server Gateway Interface (WSGI)</a></li><li><a href="/python/python-server-sent-events.html" class="sidebar-link">Python Server Sent Events</a></li><li><a href="/python/alternatives-to-switch-statement-from-other-languages.html" class="sidebar-link">Alternatives to switch statement from other languages</a></li><li><a href="/python/list-destructuring-aka-packing-and-unpacking.html" class="sidebar-link">List destructuring (aka packing and unpacking)</a></li><li><a href="/python/accessing-python-source-code-and-bytecode.html" class="sidebar-link">Accessing Python source code and bytecode</a></li><li><a href="/python/mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/python/attribute-access.html" class="sidebar-link">Attribute Access</a></li><li><a href="/python/arcpy.html" class="sidebar-link">ArcPy</a></li><li><a href="/python/abstract-base-classes-abc.html" class="sidebar-link">Abstract Base Classes (abc)</a></li><li><a href="/python/plugin-and-extension-classes.html" class="sidebar-link">Plugin and Extension Classes</a></li><li><a href="/python/immutable-datatypes-int-float-str-tuple-and-frozensets.html" class="sidebar-link">Immutable datatypes(int, float, str, tuple and frozensets)</a></li><li><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html" aria-current="page" class="active sidebar-link">Incompatibilities moving from Python 2 to Python 3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#integer-division" class="sidebar-link">Integer Division</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#unpacking-iterables" class="sidebar-link">Unpacking Iterables</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#strings-bytes-versus-unicode" class="sidebar-link">Strings: Bytes versus Unicode</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#print-statement-vs-print-function" class="sidebar-link">Print statement vs. Print function</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#differences-between-range-and-xrange-functions" class="sidebar-link">Differences between range and xrange functions</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#raising-and-handling-exceptions" class="sidebar-link">Raising and handling Exceptions</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#leaked-variables-in-list-comprehension" class="sidebar-link">Leaked variables in list comprehension</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#true-false-and-none" class="sidebar-link">True, False and None</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#user-input" class="sidebar-link">User Input</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#comparison-of-different-types" class="sidebar-link">Comparison of different types</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#next-method-on-iterators-renamed" class="sidebar-link">.next() method on iterators renamed</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#renamed-modules" class="sidebar-link">Renamed modules</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#filter-map-and-zip-return-iterators-instead-of-sequences" class="sidebar-link">filter(), map() and zip() return iterators instead of sequences</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#removed-operators-and-synonymous-with-and-repr" class="sidebar-link">Removed operators  and ``, synonymous with != and repr()</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#long-vs-int" class="sidebar-link">long vs. int</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#reduce-is-no-longer-a-built-in" class="sidebar-link">Reduce is no longer a built-in</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#all-classes-are-new-style-classes-in-python-3" class="sidebar-link">All classes are &quot;new-style classes&quot; in Python 3.</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#absolute-relative-imports" class="sidebar-link">Absolute/Relative Imports</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#map" class="sidebar-link">map()</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#the-round-function-tie-breaking-and-return-type" class="sidebar-link">The round() function tie-breaking and return type</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#cmp-function-removed-in-python-3" class="sidebar-link">cmp function removed in Python 3</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#file-i-o" class="sidebar-link">File I/O</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#octal-constants" class="sidebar-link">Octal Constants</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#return-value-when-writing-to-a-file-object" class="sidebar-link">Return value when writing to a file object</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#exec-statement-is-a-function-in-python-3" class="sidebar-link">exec statement is a function in Python 3</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#encode-decode-to-hex-no-longer-available" class="sidebar-link">encode/decode to hex no longer available</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#dictionary-method-changes" class="sidebar-link">Dictionary method changes</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#class-boolean-value" class="sidebar-link">Class Boolean Value</a></li><li class="sidebar-sub-header"><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html#hasattr-function-bug-in-python-2" class="sidebar-link">hasattr function bug in Python 2</a></li></ul></li><li><a href="/python/2to3-tool.html" class="sidebar-link">2to3 tool</a></li><li><a href="/python/non-official-python-implementations.html" class="sidebar-link">Non-official Python implementations</a></li><li><a href="/python/abstract-syntax-tree.html" class="sidebar-link">Abstract syntax tree</a></li><li><a href="/python/unicode-and-bytes.html" class="sidebar-link">Unicode and bytes</a></li><li><a href="/python/python-serial-communication-pyserial.html" class="sidebar-link">Python Serial Communication (pyserial)</a></li><li><a href="/python/neo4j-and-cypher-using-py2neo.html" class="sidebar-link">Neo4j and Cypher using Py2Neo</a></li><li><a href="/python/basic-curses-with-python.html" class="sidebar-link">Basic Curses with Python</a></li><li><a href="/python/templates-in-python.html" class="sidebar-link">Templates in python</a></li><li><a href="/python/pillow.html" class="sidebar-link">Pillow</a></li><li><a href="/python/the-pass-statement.html" class="sidebar-link">The pass statement</a></li><li><a href="/python/cli-subcommands-with-precise-help-output.html" class="sidebar-link">CLI subcommands with precise help output</a></li><li><a href="/python/database-access.html" class="sidebar-link">Database Access</a></li><li><a href="/python/connecting-python-to-sql-server.html" class="sidebar-link">Connecting Python to SQL Server</a></li><li><a href="/python/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/python/python-and-excel.html" class="sidebar-link">Python and Excel</a></li><li><a href="/python/turtle-graphics.html" class="sidebar-link">Turtle Graphics</a></li><li><a href="/python/python-persistence.html" class="sidebar-link">Python Persistence</a></li><li><a href="/python/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/python/hashlib.html" class="sidebar-link">hashlib</a></li><li><a href="/python/creating-a-windows-service-using-python.html" class="sidebar-link">Creating a Windows service using Python</a></li><li><a href="/python/mutable-vs-immutable-and-hashable-in-python.html" class="sidebar-link">Mutable vs Immutable (and Hashable) in Python</a></li><li><a href="/python/configparser.html" class="sidebar-link">configparser</a></li><li><a href="/python/optical-character-recognition.html" class="sidebar-link">Optical Character Recognition</a></li><li><a href="/python/virtual-environments.html" class="sidebar-link">Virtual environments</a></li><li><a href="/python/python-virtual-environment-virtualenv.html" class="sidebar-link">Python Virtual Environment - virtualenv</a></li><li><a href="/python/virtual-environment-with-virtualenvwrapper.html" class="sidebar-link">virtual environment with virtualenvwrapper</a></li><li><a href="/python/create-virtual-environment-with-virtualenvwrapper-in-windows.html" class="sidebar-link">Create virtual environment with virtualenvwrapper in windows</a></li><li><a href="/python/sys.html" class="sidebar-link">sys</a></li><li><a href="/python/chempy-python-package.html" class="sidebar-link">ChemPy - python package</a></li><li><a href="/python/pygame.html" class="sidebar-link">pygame</a></li><li><a href="/python/pyglet.html" class="sidebar-link">Pyglet</a></li><li><a href="/python/audio.html" class="sidebar-link">Audio</a></li><li><a href="/python/pyaudio.html" class="sidebar-link">pyaudio</a></li><li><a href="/python/shelve.html" class="sidebar-link">shelve</a></li><li><a href="/python/iot-programming-with-python-and-raspberry-pi.html" class="sidebar-link">IoT Programming with Python and Raspberry PI</a></li><li><a href="/python/kivy-cross-platform-python-framework-for-nui-development.html" class="sidebar-link">kivy - Cross-platform Python Framework for NUI Development</a></li><li><a href="/python/pandas-transform-preform-operations-on-groups-and-concatenate-the-results.html" class="sidebar-link">Pandas Transform: Preform operations on groups and concatenate the results</a></li><li><a href="/python/similarities-in-syntax-differences-in-meaning-python-vs-javascript.html" class="sidebar-link">Similarities in syntax, Differences in meaning: Python vs. JavaScript</a></li><li><a href="/python/call-python-from-c.html" class="sidebar-link">Call Python from C#</a></li><li><a href="/python/ctypes.html" class="sidebar-link">ctypes</a></li><li><a href="/python/writing-extensions.html" class="sidebar-link">Writing extensions</a></li><li><a href="/python/python-lex-yacc.html" class="sidebar-link">Python Lex-Yacc</a></li><li><a href="/python/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/python/py-test.html" class="sidebar-link">py.test</a></li><li><a href="/python/profiling.html" class="sidebar-link">Profiling</a></li><li><a href="/python/python-speed-of-program.html" class="sidebar-link">Python speed of program</a></li><li><a href="/python/performance-optimization.html" class="sidebar-link">Performance optimization</a></li><li><a href="/python/security-and-cryptography.html" class="sidebar-link">Security and Cryptography</a></li><li><a href="/python/secure-shell-connection-in-python.html" class="sidebar-link">Secure Shell Connection in Python</a></li><li><a href="/python/python-anti-patterns.html" class="sidebar-link">Python Anti-Patterns</a></li><li><a href="/python/common-pitfalls.html" class="sidebar-link">Common Pitfalls</a></li><li><a href="/python/hidden-features.html" class="sidebar-link">Hidden Features</a></li><li><a href="/python/date-formatting.html" class="sidebar-link">Date Formatting</a></li><li><a href="/python/ijson.html" class="sidebar-link">ijson</a></li><li><a href="/python/django.html" class="sidebar-link">Django</a></li><li><a href="/python/code-blocks-execution-frames-and-namespaces.html" class="sidebar-link">Code blocks, execution frames, and namespaces</a></li><li><a href="/python/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="incompatibilities-moving-from-python-2-to-python-3"><a href="#incompatibilities-moving-from-python-2-to-python-3" class="header-anchor">#</a> Incompatibilities moving from Python 2 to Python 3</h1> <p>Unlike most languages, Python supports two major versions. Since 2008 when Python 3 was released, many have made the transition, while many have not. In order to understand both, this section covers the important differences between Python 2 and Python 3.</p> <h2 id="integer-division"><a href="#integer-division" class="header-anchor">#</a> Integer Division</h2> <p>The standard <strong>division symbol</strong> (<code>/</code>) operates differently in Python 3 and Python 2 when applied to integers.</p> <p>When dividing an integer by another integer in Python 3, the division operation <code>x / y</code> represents a <a href="https://docs.python.org/2.2/whatsnew/node7.html" target="_blank" rel="noopener noreferrer"><strong>true division</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (uses <a href="https://docs.python.org/3/library/operator.html#operator.__truediv__" target="_blank" rel="noopener noreferrer"><code>__truediv__</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> method)  and produces a floating point result.  Meanwhile, the same operation in Python 2 represents a <a href="https://docs.python.org/2.2/whatsnew/node7.html" target="_blank" rel="noopener noreferrer"><strong>classic division</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that rounds the result down toward negative infinity (also known as taking the <strong>floor</strong>).</p> <p>For example:</p> <table><thead><tr><th>Code</th> <th>Python 2 output</th> <th>Python 3 output</th></tr></thead> <tbody><tr><td><code>3 / 2</code></td> <td>1</td> <td>1.5</td></tr> <tr><td><code>2 / 3</code></td> <td>0</td> <td>0.6666666666666666</td></tr> <tr><td><code>-3 / 2</code></td> <td>-2</td> <td>-1.5</td></tr></tbody></table> <p>The rounding-towards-zero behavior was deprecated in <a href="https://www.python.org/download/releases/2.2/" target="_blank" rel="noopener noreferrer">Python 2.2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, but remains in Python 2.7 for the sake of backward compatibility and was removed in Python 3.</p> <p><strong>Note:</strong> To get a <strong>float</strong> result in Python 2 (without floor rounding) we can specify one of the operands with the decimal point. The above example of <code>2/3</code> which gives <code>0</code> in Python 2 shall be used as <code>2 / 3.0</code> or <code>2.0 / 3</code> or <code>2.0/3.0</code> to get <code>0.6666666666666666</code></p> <table><thead><tr><th>Code</th> <th>Python 2 output</th> <th>Python 3 output</th></tr></thead> <tbody><tr><td><code>3.0 / 2.0</code></td> <td>1.5</td> <td>1.5</td></tr> <tr><td><code>2 / 3.0</code></td> <td>0.6666666666666666</td> <td>0.6666666666666666</td></tr> <tr><td><code>-3.0 / 2</code></td> <td>-1.5</td> <td>-1.5</td></tr></tbody></table> <p>There is also the <a href="http://python-reference.readthedocs.io/en/latest/docs/operators/floor_division.html" target="_blank" rel="noopener noreferrer"><strong>floor division operator</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<code>//</code>), which works the same way in both versions: it rounds down to the nearest integer. (although a float is returned when used with floats)  In both versions the <code>//</code> operator maps to <a href="https://docs.python.org/3/library/operator.html#operator.__floordiv__" target="_blank" rel="noopener noreferrer"><code>__floordiv__</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <table><thead><tr><th>Code</th> <th>Python 2 output</th> <th>Python 3 output</th></tr></thead> <tbody><tr><td><code>3 // 2</code></td> <td>1</td> <td>1</td></tr> <tr><td><code>2 // 3</code></td> <td>0</td> <td>0</td></tr> <tr><td><code>-3 // 2</code></td> <td>-2</td> <td>-2</td></tr> <tr><td><code>3.0 // 2.0</code></td> <td>1.0</td> <td>1.0</td></tr> <tr><td><code>2.0 // 3</code></td> <td>0.0</td> <td>0.0</td></tr> <tr><td><code>-3 // 2.0</code></td> <td>-2.0</td> <td>-2.0</td></tr></tbody></table> <p>One can explicitly enforce true division or floor division using native functions in the <a href="https://docs.python.org/3/library/operator.html" target="_blank" rel="noopener noreferrer"><code>operator</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> module:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> operator <span class="token keyword">import</span> truediv<span class="token punctuation">,</span> floordiv
<span class="token keyword">assert</span> truediv<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1.25</span>            <span class="token comment"># equivalent to `/` in Python 3</span>
<span class="token keyword">assert</span> floordiv<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span>              <span class="token comment"># equivalent to `//`</span>

</code></pre></div><p>While clear and explicit, using operator functions for every division can be tedious.  Changing the behavior of the <code>/</code> operator will often be preferred.  A common practice is to eliminate typical division behavior by adding <code>from __future__ import division</code> as the first statement in each module:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># needs to be the first statement in a module</span>
<span class="token keyword">from</span> __future__ <span class="token keyword">import</span> division

</code></pre></div><table><thead><tr><th>Code</th> <th>Python 2 output</th> <th>Python 3 output</th></tr></thead> <tbody><tr><td><code>3 / 2</code></td> <td>1.5</td> <td>1.5</td></tr> <tr><td><code>2 / 3</code></td> <td>0.6666666666666666</td> <td>0.6666666666666666</td></tr> <tr><td><code>-3 / 2</code></td> <td>-1.5</td> <td>-1.5</td></tr></tbody></table> <p><code>from __future__ import division</code> guarantees that the <code>/</code> operator represents true division and only within the modules that contain the <code>__future__</code> import, so there are no compelling reasons for not enabling it in all new modules.</p> <p><strong>Note</strong>: Some other programming languages use <strong>rounding toward zero</strong> (truncation) rather than <strong>rounding down toward negative infinity</strong> as Python does (i.e. in those languages <code>-3 / 2 == -1</code>). This behavior may create confusion when porting or comparing code.</p> <p><strong>Note on float operands</strong>: As an alternative to <code>from __future__ import division</code>, one could use the usual division symbol <code>/</code> and ensure that at least one of the operands is a float: <code>3 / 2.0 == 1.5</code>. However, this can be considered bad practice. It is just too easy to write <code>average = sum(items) / len(items)</code> and forget to cast one of the arguments to float. Moreover, such cases may frequently evade notice during testing, e.g., if you test on an array containing <code>float</code>s but receive an array of <code>int</code>s in production.  Additionally, if the same code is used in Python 3, programs that expect <code>3 / 2 == 1</code> to be True will not work correctly.</p> <p>See <a href="https://www.python.org/dev/peps/pep-0238/" target="_blank" rel="noopener noreferrer">PEP 238<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more detailed rationale why the division operator was changed in Python 3 and why old-style division should be avoided.</p> <p>See the <a href="http://stackoverflow.com/documentation/python/298/simple-math/1065/division" target="_blank" rel="noopener noreferrer"><strong>Simple Math</strong> topic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more about division.</p> <h2 id="unpacking-iterables"><a href="#unpacking-iterables" class="header-anchor">#</a> Unpacking Iterables</h2> <p>In Python 3, you can unpack an iterable without knowing the exact number of items in it, and even have a variable hold the end of the iterable. For that, you provide a variable that may collect a list of values. This is done by placing an asterisk before the name. For example, unpacking a <code>list</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">*</span>tail<span class="token punctuation">,</span> last <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span>
<span class="token comment"># Out: 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>second<span class="token punctuation">)</span>
<span class="token comment"># Out: 2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tail<span class="token punctuation">)</span>
<span class="token comment"># Out: [3, 4]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>last<span class="token punctuation">)</span>
<span class="token comment"># Out: 5</span>

</code></pre></div><p><strong>Note</strong>: When using the <code>*variable</code> syntax, the <code>variable</code> will always be a list, even if the original type wasn't a list. It may contain zero or more elements depending on the number of elements in the original list.</p> <div class="language-py extra-class"><pre class="language-py"><code>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">*</span>tail<span class="token punctuation">,</span> last <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tail<span class="token punctuation">)</span>
<span class="token comment"># Out: [3]</span>

first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">*</span>tail<span class="token punctuation">,</span> last <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tail<span class="token punctuation">)</span>
<span class="token comment"># Out: []</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>last<span class="token punctuation">)</span>
<span class="token comment"># Out: 3</span>

</code></pre></div><p>Similarly, unpacking a <code>str</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code>begin<span class="token punctuation">,</span> <span class="token operator">*</span>tail <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>begin<span class="token punctuation">)</span>
<span class="token comment"># Out: 'H'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tail<span class="token punctuation">)</span>
<span class="token comment"># Out: ['e', 'l', 'l', 'o']</span>

</code></pre></div><p>Example of unpacking a <code>date</code>; <code>_</code> is used in this example as a throwaway variable (we are interested only in <code>year</code> value):</p> <div class="language-py extra-class"><pre class="language-py"><code>person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'John'</span><span class="token punctuation">,</span> <span class="token string">'Doe'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">2016</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">*</span>_<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span>_<span class="token punctuation">,</span> year_of_birth<span class="token punctuation">)</span> <span class="token operator">=</span> person
<span class="token keyword">print</span><span class="token punctuation">(</span>year_of_birth<span class="token punctuation">)</span>
<span class="token comment"># Out: 2016</span>

</code></pre></div><p>It is worth mentioning that, since <code>*</code> eats up a variable number of items, you cannot have two <code>*</code>s <strong>for the same iterable</strong> in an assignment - it wouldn't know how many elements go into the first unpacking, and how many in the second:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">*</span>head<span class="token punctuation">,</span> <span class="token operator">*</span>tail <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment"># Out: SyntaxError: two starred expressions in assignment</span>

</code></pre></div><p>So far we have discussed unpacking in assignments.  <code>*</code> and <code>**</code> were <a href="https://docs.python.org/3/whatsnew/3.5.html#pep-448-additional-unpacking-generalizations" target="_blank" rel="noopener noreferrer">extended in Python 3.5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It's now possible to have several unpacking operations in one expression:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token punctuation">{</span><span class="token operator">*</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token comment"># Out: {0, 1, 2, 3, 4, 5, 6, 7}</span>

</code></pre></div><p>It is also possible to unpack an iterable into function arguments:</p> <div class="language-py extra-class"><pre class="language-py"><code>iterable <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>iterable<span class="token punctuation">)</span>
<span class="token comment"># Out: [1, 2, 3, 4, 5]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">*</span>iterable<span class="token punctuation">)</span>
<span class="token comment"># Out: 1 2 3 4 5</span>

</code></pre></div><p>Unpacking a dictionary uses two adjacent stars <code>**</code> (<a href="https://www.python.org/dev/peps/pep-0448/" target="_blank" rel="noopener noreferrer">PEP 448<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>):</p> <div class="language-py extra-class"><pre class="language-py"><code>tail <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">**</span>tail<span class="token punctuation">}</span>
 <span class="token comment"># Out: {'x': 1, 'y': 2, 'z': 3}</span>

</code></pre></div><p>This allows for both overriding old values and merging dictionaries.</p> <div class="language-py extra-class"><pre class="language-py"><code>dict1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">**</span>dict1<span class="token punctuation">,</span> <span class="token operator">**</span>dict2<span class="token punctuation">}</span>
<span class="token comment"># Out: {'x': 1, 'y': 2, 'z': 3}</span>

</code></pre></div><p>Python 3 removed tuple unpacking in functions. Hence the following doesn't work in Python 3</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># Works in Python 2, but syntax error in Python 3:</span>
<span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Same is true for non-lambdas:</span>
<span class="token keyword">def</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token comment"># Works in both Python 2 and Python 3:</span>
<span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># And non-lambdas, too:</span>
<span class="token keyword">def</span> <span class="token function">working_example</span><span class="token punctuation">(</span>x_y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x<span class="token punctuation">,</span> y <span class="token operator">=</span> x_y
    <span class="token keyword">pass</span>

</code></pre></div><p>See PEP <a href="https://www.python.org/dev/peps/pep-3113/" target="_blank" rel="noopener noreferrer">3113<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for detailed rationale.</p> <h2 id="strings-bytes-versus-unicode"><a href="#strings-bytes-versus-unicode" class="header-anchor">#</a> Strings: Bytes versus Unicode</h2> <p>In Python 2 there are two variants of string: those made of bytes with type (<a href="https://docs.python.org/2/library/functions.html#str" target="_blank" rel="noopener noreferrer"><code>str</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) and those made of text with type (<a href="https://docs.python.org/2/library/functions.html#unicode" target="_blank" rel="noopener noreferrer"><code>unicode</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <p>In Python 2, an object of type <code>str</code> is always a byte sequence, but is commonly used for both text and binary data.</p> <p>A string literal is interpreted as a byte string.</p> <div class="language-py extra-class"><pre class="language-py"><code>s <span class="token operator">=</span> <span class="token string">'Cafe'</span>    <span class="token comment"># type(s) == str</span>

</code></pre></div><p>There are two exceptions: You can define a <strong>Unicode (text) literal</strong> explicitly by prefixing the literal with <code>u</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code>s <span class="token operator">=</span> <span class="token string">u'Café'</span>   <span class="token comment"># type(s) == unicode</span>
b <span class="token operator">=</span> <span class="token string">'Lorem ipsum'</span>  <span class="token comment"># type(b) == str</span>

</code></pre></div><p>Alternatively, you can specify that a whole module's string literals should create Unicode (text) literals:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> unicode_literals

s <span class="token operator">=</span> <span class="token string">'Café'</span>   <span class="token comment"># type(s) == unicode</span>
b <span class="token operator">=</span> <span class="token string">'Lorem ipsum'</span>  <span class="token comment"># type(b) == unicode</span>

</code></pre></div><p>In order to check whether your variable is a string (either Unicode or a byte string), you can use:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token builtin">basestring</span><span class="token punctuation">)</span>

</code></pre></div><p>In Python 3, the <code>str</code> type is a Unicode text type.</p> <div class="language-py extra-class"><pre class="language-py"><code>s <span class="token operator">=</span> <span class="token string">'Cafe'</span>           <span class="token comment"># type(s) == str</span>
s <span class="token operator">=</span> <span class="token string">'Café'</span>           <span class="token comment"># type(s) == str (note the accented trailing e)</span>

</code></pre></div><p>Additionally, Python 3 added a <a href="https://docs.python.org/3/library/functions.html#func-bytes" target="_blank" rel="noopener noreferrer"><code>bytes</code> object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, suitable for binary &quot;blobs&quot; or writing to encoding-independent files.  To create a bytes object, you can prefix <code>b</code> to a string literal or call the string's <code>encode</code> method:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># Or, if you really need a byte string:</span>
s <span class="token operator">=</span> <span class="token string">b'Cafe'</span>          <span class="token comment"># type(s) == bytes</span>
s <span class="token operator">=</span> <span class="token string">'Café'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># type(s) == bytes</span>

</code></pre></div><p>To test whether a value is a string, use:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span>

</code></pre></div><p>It is also possible to prefix string literals with a <code>u</code> prefix to ease compatibility between Python 2 and Python 3 code bases. Since, in Python 3, all strings are Unicode by default, prepending a string literal with <code>u</code> has no effect:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token string">u'Cafe'</span> <span class="token operator">==</span> <span class="token string">'Cafe'</span>

</code></pre></div><p>Python 2’s raw Unicode string prefix <code>ur</code> is not supported, however:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> u<span class="token string">r'Café'</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">1</span>
    u<span class="token string">r'Café'</span>
           <span class="token operator">^</span>
SyntaxError<span class="token punctuation">:</span> invalid syntax

</code></pre></div><p>Note that you must <a href="https://docs.python.org/3/library/stdtypes.html#str.encode" target="_blank" rel="noopener noreferrer"><code>encode</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> a Python 3 text (<code>str</code>) object to convert it into a <code>bytes</code> representation of that text. The default encoding of this method is <a href="https://en.wikipedia.org/wiki/UTF-8" target="_blank" rel="noopener noreferrer">UTF-8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>You can use <a href="https://docs.python.org/3/library/stdtypes.html#bytes.decode" target="_blank" rel="noopener noreferrer"><code>decode</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to ask a <code>bytes</code> object for what Unicode text it represents:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Café'</span>

</code></pre></div><p>While the <code>bytes</code> type exists in both Python 2 and 3, the <code>unicode</code> type only exists in Python 2. To use Python 3's implicit Unicode strings in Python 2, add the following to the top of your code file:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> unicode_literals
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># u'hi'</span>

</code></pre></div><p>Another important difference is that indexing bytes in Python 3 results in an <code>int</code> output like so:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token string">b&quot;abc&quot;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">97</span>

</code></pre></div><p>Whilst slicing in a size of one results in a length 1 bytes object:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token string">b&quot;abc&quot;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">b&quot;a&quot;</span>

</code></pre></div><p>In addition, Python 3 <a href="https://eev.ee/blog/2016/11/23/a-rebuttal-for-python-3/" target="_blank" rel="noopener noreferrer">fixes some unusual behavior<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with unicode, i.e. reversing byte strings in Python 2.  For example, the <a href="https://stackoverflow.com/questions/34015615/python-reversing-an-utf-8-string" target="_blank" rel="noopener noreferrer">following issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is resolved:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># -*- coding: utf8 -*-</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hi, my name is Łukasz Langa.&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">u&quot;Hi, my name is Łukasz Langa.&quot;</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hi, my name is Łukasz Langa.&quot;</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># Output in Python 2</span>
<span class="token comment"># Hi, my name is Łukasz Langa.</span>
<span class="token comment"># .agnaL zsakuŁ si eman ym ,iH</span>
<span class="token comment"># .agnaL zsaku�� si eman ym ,iH</span>

<span class="token comment"># Output in Python 3</span>
<span class="token comment"># Hi, my name is Łukasz Langa.</span>
<span class="token comment"># .agnaL zsakuŁ si eman ym ,iH</span>
<span class="token comment"># .agnaL zsakuŁ si eman ym ,iH</span>

</code></pre></div><h2 id="print-statement-vs-print-function"><a href="#print-statement-vs-print-function" class="header-anchor">#</a> Print statement vs. Print function</h2> <p>In Python 2, <a href="https://docs.python.org/2/library/functions.html#print" target="_blank" rel="noopener noreferrer"><code>print</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a statement:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span> <span class="token string">&quot;Hello World&quot;</span>
<span class="token keyword">print</span>                         <span class="token comment"># print a newline</span>
<span class="token keyword">print</span> <span class="token string">&quot;No newline&quot;</span><span class="token punctuation">,</span>           <span class="token comment"># add trailing comma to remove newline </span>
<span class="token keyword">print</span> <span class="token operator">&gt;&gt;</span>sys<span class="token punctuation">.</span>stderr<span class="token punctuation">,</span> <span class="token string">&quot;Error&quot;</span>   <span class="token comment"># print to stderr</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>                <span class="token comment"># print &quot;hello&quot;, since (&quot;hello&quot;) == &quot;hello&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                       <span class="token comment"># print an empty tuple &quot;()&quot;</span>
<span class="token keyword">print</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>                 <span class="token comment"># print space-separated arguments: &quot;1 2 3&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>                <span class="token comment"># print tuple &quot;(1, 2, 3)&quot;</span>

</code></pre></div><p>In Python 3, <a href="https://docs.python.org/3/library/functions.html#print" target="_blank" rel="noopener noreferrer"><code>print()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a function, with keyword arguments for common uses:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span> <span class="token string">&quot;Hello World&quot;</span>              <span class="token comment"># SyntaxError</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                          <span class="token comment"># print a newline (must use parentheses)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;No newline&quot;</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>      <span class="token comment"># end specifies what to append (defaults to newline)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token operator">=</span>sys<span class="token punctuation">.</span>stderr<span class="token punctuation">)</span>  <span class="token comment"># file specifies the output buffer</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Comma&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;separated&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;output&quot;</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># sep specifies the separator</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>     <span class="token comment"># null string for sep: prints as ABC</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Flush this&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># flush the output buffer, added in Python 3.3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>                   <span class="token comment"># print space-separated arguments: &quot;1 2 3&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                 <span class="token comment"># print tuple &quot;(1, 2, 3)&quot;</span>

</code></pre></div><p>The print function has the following parameters:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">*</span>objects<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token operator">=</span>sys<span class="token punctuation">.</span>stdout<span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>

</code></pre></div><p><code>sep</code> is what separates the objects you pass to print. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'~'</span><span class="token punctuation">)</span> <span class="token comment"># out: foo~bar</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token comment"># out: foo.bar</span>

</code></pre></div><p><code>end</code> is what the end of the print statement is followed by. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'!'</span><span class="token punctuation">)</span> <span class="token comment"># out: foo bar!</span>

</code></pre></div><p>Printing again following a non-newline ending print statement <strong>will</strong> print to the same line:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'~'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span>
<span class="token comment"># out: foo~bar</span>

</code></pre></div><p><strong>Note :</strong> For future compatibility, <a href="https://docs.python.org/2/library/functions.html#print" target="_blank" rel="noopener noreferrer"><code>print</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <strong>function</strong> is also available in Python 2.6 onwards; however it cannot be used unless parsing of the <code>print</code> <strong>statement</strong> is disabled with</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> print_function

</code></pre></div><p>This function has exactly same format as Python 3's, except that it lacks the <code>flush</code> parameter.</p> <p>See PEP <a href="https://www.python.org/dev/peps/pep-3105/" target="_blank" rel="noopener noreferrer">3105<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for rationale.</p> <h2 id="differences-between-range-and-xrange-functions"><a href="#differences-between-range-and-xrange-functions" class="header-anchor">#</a> Differences between range and xrange functions</h2> <p>In Python 2, <a href="https://docs.python.org/2/library/functions.html#range" target="_blank" rel="noopener noreferrer"><code>range</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function returns a list while <a href="https://docs.python.org/2/library/functions.html#xrange" target="_blank" rel="noopener noreferrer"><code>xrange</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> creates a special <code>xrange</code> object, which is an immutable sequence, which unlike other built-in sequence types, doesn't support slicing and has neither <code>index</code> nor <code>count</code> methods:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: True</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">xrange</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: xrange(1, 10)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token builtin">xrange</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">xrange</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: True</span>

</code></pre></div><p>In Python 3, <code>xrange</code> was expanded to the <a href="https://docs.python.org/3/library/functions.html#func-range" target="_blank" rel="noopener noreferrer"><code>range</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> sequence, which thus now creates a <code>range</code> object. There is no <code>xrange</code> type:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: range(1, 10)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: True</span>

<span class="token comment"># print(xrange(1, 10))</span>
<span class="token comment"># The output will be:</span>
<span class="token comment">#Traceback (most recent call last):</span>
<span class="token comment">#  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="token comment">#NameError: name 'xrange' is not defined</span>

</code></pre></div><p>Additionally, since Python 3.2, <code>range</code> also supports slicing, <code>index</code> and <code>count</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># Out: range(3, 7)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 6</span>

</code></pre></div><p>The advantage of using a special sequence type instead of a list is that the interpreter does not have to allocate memory for a list and populate it:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># range(10000000000000000)</span>
<span class="token comment"># The output would be:</span>
<span class="token comment"># Traceback (most recent call last):</span>
<span class="token comment">#  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="token comment"># MemoryError</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">xrange</span><span class="token punctuation">(</span><span class="token number">100000000000000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: xrange(100000000000000000)</span>

</code></pre></div><p>Since the latter behaviour is generally desired, the former was removed in Python 3.
If you still want to have a list in Python 3, you can simply use the <code>list()</code> constructor on a <code>range</code> object:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Out: [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>

</code></pre></div><h3 id="compatibility"><a href="#compatibility" class="header-anchor">#</a> Compatibility</h3> <p>In order to maintain compatibility between both Python 2.x and Python 3.x versions, you can use the <a href="http://python-future.org/compatible_idioms.html#xrange" target="_blank" rel="noopener noreferrer"><code>builtins</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> module from the external package <a href="http://python-future.org/" target="_blank" rel="noopener noreferrer"><code>future</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to achieve both <strong>forward-compatiblity</strong> and <strong>backward-compatiblity</strong>:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#forward-compatible</span>
<span class="token keyword">from</span> builtins <span class="token keyword">import</span> <span class="token builtin">range</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">**</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#backward-compatible</span>
<span class="token keyword">from</span> past<span class="token punctuation">.</span>builtins <span class="token keyword">import</span> <span class="token builtin">xrange</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">xrange</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">**</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

</code></pre></div><p>The <code>range</code> in <code>future</code> library supports slicing, <code>index</code> and <code>count</code> in all Python versions, just like the built-in method on Python 3.2+.</p> <h2 id="raising-and-handling-exceptions"><a href="#raising-and-handling-exceptions" class="header-anchor">#</a> Raising and handling Exceptions</h2> <p>This is the Python 2 syntax, note the commas <code>,</code> on the <code>raise</code> and <code>except</code> lines:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IOError<span class="token punctuation">,</span> <span class="token string">&quot;input/output error&quot;</span>
<span class="token keyword">except</span> IOError<span class="token punctuation">,</span> exc<span class="token punctuation">:</span>
    <span class="token keyword">print</span> exc

</code></pre></div><p>In Python 3, the <code>,</code> syntax is dropped and replaced by parenthesis and the <code>as</code> keyword:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">raise</span> IOError<span class="token punctuation">(</span><span class="token string">&quot;input/output error&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> IOError <span class="token keyword">as</span> exc<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>exc<span class="token punctuation">)</span>

</code></pre></div><p>For backwards compatibility, the Python 3 syntax is also available in Python 2.6 onwards, so it should be used for all new code that does not need to be compatible with previous versions.</p> <p>Python 3 also adds <a href="http://stackoverflow.com/documentation/python/1788/exceptions/5533/chain-exceptions-with-raise-from#t=201608030127064987456" target="_blank" rel="noopener noreferrer">exception chaining<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, wherein you can signal that some other exception was the <strong>cause</strong> for this exception. For example</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'database.db'</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> FileNotFoundError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">raise</span> DatabaseError<span class="token punctuation">(</span><span class="token string">'Cannot open {}'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> e

</code></pre></div><p>The exception raised in the <code>except</code> statement is of type <code>DatabaseError</code>, but the original exception is marked as the <code>__cause__</code> attribute of that exception. When the traceback is displayed, the original exception will also be displayed in the traceback:</p> <div class="language-py extra-class"><pre class="language-py"><code>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
FileNotFoundError

The above exception was the direct cause of the following exception<span class="token punctuation">:</span>

Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
DatabaseError<span class="token punctuation">(</span><span class="token string">'Cannot open database.db'</span><span class="token punctuation">)</span>

</code></pre></div><p>If you throw in an <code>except</code> block <strong>without</strong> explicit chaining:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'database.db'</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> FileNotFoundError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">raise</span> DatabaseError<span class="token punctuation">(</span><span class="token string">'Cannot open {}'</span><span class="token punctuation">)</span>

</code></pre></div><p>The traceback is</p> <div class="language-py extra-class"><pre class="language-py"><code>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
FileNotFoundError

During handling of the above exception<span class="token punctuation">,</span> another exception occurred<span class="token punctuation">:</span>

Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
DatabaseError<span class="token punctuation">(</span><span class="token string">'Cannot open database.db'</span><span class="token punctuation">)</span>

</code></pre></div><p>Neither one is supported in Python 2.x; the original exception and its traceback will be lost if another exception is raised in the except block.
The following code can be used for compatibility:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> traceback

<span class="token keyword">try</span><span class="token punctuation">:</span>
    funcWithError<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">except</span><span class="token punctuation">:</span>
    sys_vers <span class="token operator">=</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>sys<span class="token punctuation">,</span> <span class="token string">'version_info'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> sys_vers <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        traceback<span class="token punctuation">.</span>print_exc<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;new exception&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>To &quot;forget&quot; the previously thrown exception, use <code>raise from None</code></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'database.db'</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> FileNotFoundError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">raise</span> DatabaseError<span class="token punctuation">(</span><span class="token string">'Cannot open {}'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token boolean">None</span>

</code></pre></div><p>Now the traceback would simply be</p> <div class="language-py extra-class"><pre class="language-py"><code>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
DatabaseError<span class="token punctuation">(</span><span class="token string">'Cannot open database.db'</span><span class="token punctuation">)</span>

</code></pre></div><p>Or in order to make it compatible with both Python 2 and 3 you may use the <a href="https://pythonhosted.org/six" target="_blank" rel="noopener noreferrer">six<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> package like so:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> six
<span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'database.db'</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> FileNotFoundError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    six<span class="token punctuation">.</span>raise_from<span class="token punctuation">(</span>DatabaseError<span class="token punctuation">(</span><span class="token string">'Cannot open {}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="leaked-variables-in-list-comprehension"><a href="#leaked-variables-in-list-comprehension" class="header-anchor">#</a> Leaked variables in list comprehension</h2> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token string">'hello world!'</span>
vowels <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'AEIOU'</span><span class="token punctuation">]</span> 

<span class="token keyword">print</span> <span class="token punctuation">(</span>vowels<span class="token punctuation">)</span>
<span class="token comment"># Out: ['A', 'E', 'I', 'O', 'U']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># Out: 'U'   </span>

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token string">'hello world!'</span>
vowels <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'AEIOU'</span><span class="token punctuation">]</span>

<span class="token keyword">print</span> <span class="token punctuation">(</span>vowels<span class="token punctuation">)</span>
<span class="token comment"># Out: ['A', 'E', 'I', 'O', 'U']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># Out: 'hello world!'</span>

</code></pre></div><p>As can be seen from the example, in Python 2 the value of <code>x</code> was leaked: it masked <code>hello world!</code> and printed out <code>U</code>, since this was the last value of <code>x</code> when the loop ended.</p> <p>However, in Python 3 <code>x</code> prints the originally defined <code>hello world!</code>, since the local variable from the list comprehension does not mask variables from the surrounding scope.</p> <p>Additionally, neither generator expressions (available in Python since 2.5) nor dictionary or set comprehensions (which were backported to Python 2.7 from Python 3) leak variables in Python 2.</p> <p>Note that in both Python 2 and Python 3, variables will leak into the surrounding scope when using a for loop:</p> <div class="language-py extra-class"><pre class="language-py"><code>x <span class="token operator">=</span> <span class="token string">'hello world!'</span>
vowels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'AEIOU'</span><span class="token punctuation">:</span>
    vowels<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># Out: 'U'</span>

</code></pre></div><h2 id="true-false-and-none"><a href="#true-false-and-none" class="header-anchor">#</a> True, False and None</h2> <p>In Python 2, <code>True</code>, <code>False</code> and <code>None</code> are built-in constants. Which means it's possible to reassign them.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span> <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span>
<span class="token boolean">True</span>   <span class="token comment"># False</span>
<span class="token boolean">False</span>  <span class="token comment"># True</span>

</code></pre></div><p>You can't do this with <code>None</code> since Python 2.4.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token boolean">None</span> <span class="token operator">=</span> <span class="token boolean">None</span>  <span class="token comment"># SyntaxError: cannot assign to None</span>

</code></pre></div><p>In Python 3, <code>True</code>, <code>False</code>, and <code>None</code> are now keywords.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span> <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span>  <span class="token comment"># SyntaxError: can't assign to keyword</span>

<span class="token boolean">None</span> <span class="token operator">=</span> <span class="token boolean">None</span>  <span class="token comment"># SyntaxError: can't assign to keyword</span>

</code></pre></div><h2 id="user-input"><a href="#user-input" class="header-anchor">#</a> User Input</h2> <p>In Python 2, user input is accepted using the <code>raw_input</code> function,</p> <div class="language-py extra-class"><pre class="language-py"><code>user_input <span class="token operator">=</span> <span class="token builtin">raw_input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>While in Python 3 user input is accepted using the <code>input</code> function.</p> <div class="language-py extra-class"><pre class="language-py"><code>user_input <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>In Python 2, the <code>input</code> function will accept input and <strong>interpret</strong> it. While this can be useful, it has several security considerations and was removed in Python 3. To access the same functionality, <code>eval(input())</code> can be used.</p> <p>To keep a script portable across the two versions, you can put the code below near the top of your Python script:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token builtin">input</span> <span class="token operator">=</span> <span class="token builtin">raw_input</span>
<span class="token keyword">except</span> NameError<span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

</code></pre></div><h2 id="comparison-of-different-types"><a href="#comparison-of-different-types" class="header-anchor">#</a> Comparison of different types</h2> <p>Objects of different types can be compared. The results are arbitrary, but consistent. They are ordered such that <code>None</code> is less than anything else, numeric types are smaller than non-numeric types, and everything else is ordered lexicographically by type. Thus, an <code>int</code> is less than a <code>str</code> and a <code>tuple</code> is greater than a <code>list</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token string">'foo'</span>
<span class="token comment"># Out: False</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token string">'foo'</span>
<span class="token comment"># Out: True</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment"># Out: False</span>
<span class="token number">100</span> <span class="token operator">&lt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token string">'xyz'</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: True</span>

</code></pre></div><p>This was originally done so a list of mixed types could be sorted and objects would be grouped together by type:</p> <div class="language-py extra-class"><pre class="language-py"><code>l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8.0</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">]</span>
<span class="token builtin">sorted</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
<span class="token comment"># Out: [1.2, 5, 7, 8.0, [5, 6], [7, 8], 'x', 'y', 'z', (1, 2)]</span>

</code></pre></div><p>An exception is raised when comparing different (non-numeric) types:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">1.5</span>
<span class="token comment"># Out: True</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token string">'foo'</span>
<span class="token comment"># TypeError: unorderable types: list() &gt; str()</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token string">'foo'</span>
<span class="token comment"># TypeError: unorderable types: tuple() &gt; str()</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment"># TypeError: unorderable types: list() &gt; tuple()</span>

</code></pre></div><p>To sort mixed lists in Python 3 by types and to achieve compatibility between versions, you have to provide a key to the sorted function:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'python'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'stackoverflow'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'python'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token comment"># Out: [1, 8, [3, 4], [5, 6], 'hello', 'stackoverflow', {'python': 2}, {'python': 3}]</span>

</code></pre></div><p>Using <code>str</code> as the <code>key</code> function temporarily converts each item to a string only for the purposes of comparison. It then sees the string representation starting with either <code>[</code>, <code>'</code>, <code>{</code> or <code>0-9</code> and it's able to sort those (and all the following characters).</p> <h2 id="next-method-on-iterators-renamed"><a href="#next-method-on-iterators-renamed" class="header-anchor">#</a> .next() method on iterators renamed</h2> <p>In Python 2, an iterator can be traversed by using a method called <code>next</code> on the iterator itself:</p> <div class="language-py extra-class"><pre class="language-py"><code>g <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Yields 0</span>
g<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Yields 1</span>
g<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Yields 2</span>

</code></pre></div><p>In Python 3 the <code>.next</code> method has been renamed to <code>.__next__</code>, acknowledging its “magic” role, so calling <code>.next</code> will raise an <code>AttributeError</code>. The correct way to access this functionality in both Python 2 and Python 3 is to call the <code>next</code> <strong>function</strong> with the iterator as an argument.</p> <div class="language-py extra-class"><pre class="language-py"><code>g <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>  <span class="token comment"># Yields 0</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>  <span class="token comment"># Yields 1</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>  <span class="token comment"># Yields 2</span>

</code></pre></div><p>This code is portable across versions from 2.6 through to current releases.</p> <h2 id="renamed-modules"><a href="#renamed-modules" class="header-anchor">#</a> Renamed modules</h2> <p>A few modules in the standard library have been renamed:</p> <table><thead><tr><th>Old name</th> <th>New name</th></tr></thead> <tbody><tr><td>_winreg</td> <td>winreg</td></tr> <tr><td>ConfigParser</td> <td>configparser</td></tr> <tr><td>copy_reg</td> <td>copyreg</td></tr> <tr><td>Queue</td> <td>queue</td></tr> <tr><td>SocketServer</td> <td>socketserver</td></tr> <tr><td>_markupbase</td> <td>markupbase</td></tr> <tr><td>repr</td> <td>reprlib</td></tr> <tr><td>test.test_support</td> <td>test.support</td></tr> <tr><td>Tkinter</td> <td>tkinter</td></tr> <tr><td>tkFileDialog</td> <td>tkinter.filedialog</td></tr> <tr><td>urllib / urllib2</td> <td>urllib, urllib.parse, urllib.error, urllib.response, urllib.request, urllib.robotparser</td></tr></tbody></table> <p>Some modules have even been converted from files to libraries. Take tkinter and urllib from above as an example.</p> <h3 id="compatibility-2"><a href="#compatibility-2" class="header-anchor">#</a> Compatibility</h3> <p>When maintaining compatibility between both Python 2.x and 3.x versions, you can use the <a href="http://python-future.org/imports.html#standard-library-imports" target="_blank" rel="noopener noreferrer"><code>future</code> external package<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to enable importing top-level standard library packages with Python 3.x names on Python 2.x versions.</p> <h2 id="filter-map-and-zip-return-iterators-instead-of-sequences"><a href="#filter-map-and-zip-return-iterators-instead-of-sequences" class="header-anchor">#</a> filter(), map() and zip() return iterators instead of sequences</h2> <p>In Python 2 <a href="https://docs.python.org/2/library/functions.html#filter" target="_blank" rel="noopener noreferrer"><code>filter</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.python.org/2/library/functions.html#map" target="_blank" rel="noopener noreferrer"><code>map</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://docs.python.org/2/library/functions.html#zip" target="_blank" rel="noopener noreferrer"><code>zip</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> built-in functions return a sequence. <code>map</code> and <code>zip</code> always return a list while with <code>filter</code> the return type depends on the type of given parameter:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'a1b2c3'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s
<span class="token string">'abc'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s <span class="token operator">=</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

</code></pre></div><p>In Python 3 <a href="https://docs.python.org/3.5/library/functions.html#filter" target="_blank" rel="noopener noreferrer"><code>filter</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.python.org/3.5/library/functions.html#map" target="_blank" rel="noopener noreferrer"><code>map</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://docs.python.org/3.5/library/functions.html#zip" target="_blank" rel="noopener noreferrer"><code>zip</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> return iterator instead:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> it <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'a1b2c3'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> it
<span class="token operator">&lt;</span><span class="token builtin">filter</span> <span class="token builtin">object</span> at <span class="token number">0x00000098A55C2518</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>it<span class="token punctuation">)</span>
<span class="token string">'abc'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> it <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> it
<span class="token operator">&lt;</span><span class="token builtin">map</span> <span class="token builtin">object</span> at <span class="token number">0x000000E0763C2D30</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> it <span class="token operator">=</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> it
<span class="token operator">&lt;</span><span class="token builtin">zip</span> <span class="token builtin">object</span> at <span class="token number">0x000000E0763C52C8</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

</code></pre></div><p>Since Python 2 <a href="https://docs.python.org/2.7/library/itertools.html#itertools.izip" target="_blank" rel="noopener noreferrer"><code>itertools.izip</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is equivalent of Python 3 <code>zip</code> <code>izip</code> has been removed on Python 3.</p> <h2 id="removed-operators-and-synonymous-with-and-repr"><a href="#removed-operators-and-synonymous-with-and-repr" class="header-anchor">#</a> Removed operators &lt;&gt; and ``, synonymous with != and repr()</h2> <p>In Python 2, <code>&lt;&gt;</code> is a synonym for <code>!=</code>; likewise, <code>foo</code> is a synonym for <code>repr(foo)</code>.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&lt;&gt;</span> <span class="token number">2</span>
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&lt;&gt;</span> <span class="token number">1</span>
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> foo <span class="token operator">=</span> <span class="token string">'hello world'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">repr</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
<span class="token string">&quot;'hello world'&quot;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> `foo`
<span class="token string">&quot;'hello world'&quot;</span>

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&lt;&gt;</span> <span class="token number">2</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">1</span>
    <span class="token number">1</span> <span class="token operator">&lt;&gt;</span> <span class="token number">2</span>
       <span class="token operator">^</span>
SyntaxError<span class="token punctuation">:</span> invalid syntax
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> `foo`
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">1</span>
    `foo`
    <span class="token operator">^</span>
SyntaxError<span class="token punctuation">:</span> invalid syntax

</code></pre></div><h2 id="long-vs-int"><a href="#long-vs-int" class="header-anchor">#</a> long vs. int</h2> <p>In Python 2, any integer larger than a C <code>ssize_t</code> would be converted into the <code>long</code> data type, indicated by an <code>L</code> suffix on the literal. For example, on a 32 bit build of Python:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token operator">**</span><span class="token number">31</span>
2147483648L
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span><span class="token number">31</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token builtin">type</span> <span class="token string">'long'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token operator">**</span><span class="token number">30</span>
<span class="token number">1073741824</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token builtin">type</span> <span class="token string">'int'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token operator">**</span><span class="token number">31</span> <span class="token operator">-</span> <span class="token number">1</span>  <span class="token comment"># 2**31 is long and long - int is long</span>
2147483647L

</code></pre></div><p>However, in Python 3, the <code>long</code> data type was removed; no matter how big the integer is, it will be an <code>int</code>.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token number">2</span><span class="token operator">**</span><span class="token number">1024</span>
<span class="token comment"># Output: 179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827237163350510684586298239947245938479716304835356329624224137216</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Output: -179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827237163350510684586298239947245938479716304835356329624224137216</span>
<span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span><span class="token number">1024</span><span class="token punctuation">)</span>
<span class="token comment"># Output: &lt;class 'int'&gt;</span>

</code></pre></div><h2 id="reduce-is-no-longer-a-built-in"><a href="#reduce-is-no-longer-a-built-in" class="header-anchor">#</a> Reduce is no longer a built-in</h2> <p>In Python 2, <code>reduce</code> is available either as a built-in function or from the <code>functools</code> package (version 2.6 onwards), whereas in Python 3 <code>reduce</code> is available only from <code>functools</code>. However the syntax for <code>reduce</code> in both Python2 and Python3 is the same and is <code>reduce(function_to_reduce, list_to_reduce)</code>.</p> <p>As an example, let us consider reducing a list to a single value by dividing each of the adjacent numbers. Here we use <a href="https://docs.python.org/2/library/operator.html#operator.truediv" target="_blank" rel="noopener noreferrer"><code>truediv</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function from the <code>operator</code> library.</p> <p>In Python 2.x it is as simple as:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> operator
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>operator<span class="token punctuation">.</span>truediv<span class="token punctuation">,</span> my_list<span class="token punctuation">)</span>
<span class="token number">0.008333333333333333</span>

</code></pre></div><p>In Python 3.x the example becomes a bit more complicated:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> operator<span class="token punctuation">,</span> functools
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> functools<span class="token punctuation">.</span><span class="token builtin">reduce</span><span class="token punctuation">(</span>operator<span class="token punctuation">.</span>truediv<span class="token punctuation">,</span> my_list<span class="token punctuation">)</span>
<span class="token number">0.008333333333333333</span>

</code></pre></div><p>We can also use <code>from functools import reduce</code> to avoid calling <code>reduce</code> with the namespace name.</p> <h2 id="all-classes-are-new-style-classes-in-python-3"><a href="#all-classes-are-new-style-classes-in-python-3" class="header-anchor">#</a> All classes are &quot;new-style classes&quot; in Python 3.</h2> <p>In Python <code>3.x</code> all classes are <strong>new-style classes</strong>; when defining a new class python implicitly makes it inherit from <code>object</code>. As such, specifying <code>object</code> in a <code>class</code> definition is a completely optional:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">Y</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">pass</span>

</code></pre></div><p>Both of these classes now contain <code>object</code> in their <code>mro</code> (method resolution order):</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> X<span class="token punctuation">.</span>__mro__
<span class="token punctuation">(</span>__main__<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token builtin">object</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Y<span class="token punctuation">.</span>__mro__
<span class="token punctuation">(</span>__main__<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token builtin">object</span><span class="token punctuation">)</span>

</code></pre></div><p>In Python <code>2.x</code> classes are, by default, old-style classes; they do not implicitly inherit from <code>object</code>. This causes the semantics of classes to differ depending on if we explicitly add <code>object</code> as a base <code>class</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">Y</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">pass</span>

</code></pre></div><p>In this case, if we try to print the <code>__mro__</code> of <code>Y</code>, similar output as that in the Python <code>3.x</code> case will appear:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Y<span class="token punctuation">.</span>__mro__
<span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Y'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token builtin">type</span> <span class="token string">'object'</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>

</code></pre></div><p>This happens because we explicitly made <code>Y</code> inherit from object when defining it: <code>class Y(object): pass</code>. For class <code>X</code> which does <strong>not</strong> inherit from object the <code>__mro__</code> attribute does not exist, trying to access it results in an <code>AttributeError</code>.</p> <p>In order to <strong>ensure compatibility</strong> between both versions of Python, classes can be defined with <code>object</code> as a base class:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">mycls</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;I am fully compatible with Python 2/3&quot;&quot;&quot;</span>

</code></pre></div><p>Alternatively, if the <code>__metaclass__</code> variable is set to <code>type</code> at global scope, all subsequently defined classes in a given module are implicitly new-style without needing to explicitly inherit from <code>object</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code>__metaclass__ <span class="token operator">=</span> <span class="token builtin">type</span>

<span class="token keyword">class</span> <span class="token class-name">mycls</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;I am also fully compatible with Python 2/3&quot;&quot;&quot;</span>

</code></pre></div><h2 id="absolute-relative-imports"><a href="#absolute-relative-imports" class="header-anchor">#</a> Absolute/Relative Imports</h2> <p>In Python 3, <a href="https://www.python.org/dev/peps/pep-0404/#id18" target="_blank" rel="noopener noreferrer">PEP 404<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> changes the way imports work from Python 2. <strong>Implicit relative</strong> imports are no longer allowed in packages and <code>from ... import *</code> imports are only allowed in module level code.</p> <p>To achieve Python 3 behavior in Python 2:</p> <ul><li>the <a href="https://www.python.org/dev/peps/pep-0328/" target="_blank" rel="noopener noreferrer">absolute imports<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> feature can be enabled with <code>from __future__ import absolute_import</code></li> <li><strong>explicit relative</strong> imports are encouraged in place of <strong>implicit relative</strong> imports</li></ul> <p>For clarification, in Python 2, a module can import the contents of another module located in the same directory as follows:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> foo

</code></pre></div><p>Notice the location of <code>foo</code> is ambiguous from the import statement alone.  This type of implicit relative import is thus discouraged in favor of <a href="https://www.python.org/dev/peps/pep-0328/#guido-s-decision" target="_blank" rel="noopener noreferrer">explicit relative imports<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which look like the following:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> <span class="token punctuation">.</span>moduleY <span class="token keyword">import</span> spam
<span class="token keyword">from</span> <span class="token punctuation">.</span>moduleY <span class="token keyword">import</span> spam <span class="token keyword">as</span> ham
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> moduleY
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>subpackage1 <span class="token keyword">import</span> moduleY
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>subpackage2<span class="token punctuation">.</span>moduleZ <span class="token keyword">import</span> eggs
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>moduleA <span class="token keyword">import</span> foo
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>package <span class="token keyword">import</span> bar
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>sys <span class="token keyword">import</span> path

</code></pre></div><p>The dot <code>.</code> allows an explicit declaration of the module location within the directory tree.</p> <h3 id="more-on-relative-imports"><a href="#more-on-relative-imports" class="header-anchor">#</a> More on Relative Imports</h3> <p>Consider some user defined package called <code>shapes</code>. The directory structure is as follows:</p> <div class="language-py extra-class"><pre class="language-py"><code>shapes
├── __init__<span class="token punctuation">.</span>py
<span class="token operator">|</span>
├── circle<span class="token punctuation">.</span>py
<span class="token operator">|</span>
├── square<span class="token punctuation">.</span>py
<span class="token operator">|</span>
└── triangle<span class="token punctuation">.</span>py

</code></pre></div><p><code>circle.py</code>, <code>square.py</code> and <code>triangle.py</code> all import <code>util.py</code> as a module. How will they refer to a module in the same level?</p> <div class="language- extra-class"><pre class="language-text"><code>
from . import util # use util.PI, util.sq(x), etc

</code></pre></div><p>OR</p> <div class="language- extra-class"><pre class="language-text"><code>
from .util import * #use PI, sq(x), etc to call functions

</code></pre></div><p>The <code>.</code> is used for same-level relative imports.</p> <p>Now, consider an alternate layout of the <code>shapes</code> module:</p> <div class="language-py extra-class"><pre class="language-py"><code>shapes
├── __init__<span class="token punctuation">.</span>py
<span class="token operator">|</span>
├── circle
│   ├── __init__<span class="token punctuation">.</span>py
│   └── circle<span class="token punctuation">.</span>py
<span class="token operator">|</span>
├── square
│   ├── __init__<span class="token punctuation">.</span>py
│   └── square<span class="token punctuation">.</span>py
<span class="token operator">|</span>
├── triangle
│   ├── __init__<span class="token punctuation">.</span>py
│   ├── triangle<span class="token punctuation">.</span>py
<span class="token operator">|</span>
└── util<span class="token punctuation">.</span>py

</code></pre></div><p>Now, how will these 3 classes refer to util.py?</p> <div class="language- extra-class"><pre class="language-text"><code>
from .. import util # use util.PI, util.sq(x), etc

</code></pre></div><p>OR</p> <div class="language- extra-class"><pre class="language-text"><code>
from ..util import * # use PI, sq(x), etc to call functions

</code></pre></div><p>The <code>..</code> is used for parent-level relative imports. Add more <code>.</code>s with number of levels between the parent and child.</p> <h2 id="map"><a href="#map" class="header-anchor">#</a> map()</h2> <p><code>map()</code> is a builtin that is useful for applying a function to elements of an iterable.  In Python 2, <code>map</code> returns a list. In Python 3, <code>map</code> returns a <strong>map object</strong>, which is a generator.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># Python 2.X</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'list'</span><span class="token operator">&gt;</span>

<span class="token comment"># Python 3.X</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token builtin">map</span> <span class="token builtin">object</span> at 0x<span class="token operator">*</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'map'</span><span class="token operator">&gt;</span>

<span class="token comment"># We need to apply map again because we &quot;consumed&quot; the previous map....</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span>

</code></pre></div><p>In Python 2, you can pass <code>None</code> to serve as an identity function. This no longer works in Python 3.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
TypeError<span class="token punctuation">:</span> <span class="token string">'NoneType'</span> <span class="token builtin">object</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token builtin">callable</span>

</code></pre></div><p>Moreover, when passing more than one iterable as argument in Python 2, <code>map</code> pads the shorter iterables with <code>None</code> (similar to <code>itertools.izip_longest</code>).  In Python 3, iteration stops after the shortest iterable.</p> <p>In Python 2:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

</code></pre></div><p>In Python 3:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># to obtain the same padding as in Python 2 use zip_longest from itertools</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> itertools
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span>itertools<span class="token punctuation">.</span>zip_longest<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

</code></pre></div><p><strong>Note</strong>: instead of <code>map</code> consider using list comprehensions, which are Python 2/3 compatible. Replacing <code>map(str, [1, 2, 3, 4, 5])</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span>

</code></pre></div><h2 id="the-round-function-tie-breaking-and-return-type"><a href="#the-round-function-tie-breaking-and-return-type" class="header-anchor">#</a> The round() function tie-breaking and return type</h2> <h3 id="round-tie-breaking"><a href="#round-tie-breaking" class="header-anchor">#</a> round() tie breaking</h3> <p>In Python 2, using <a href="https://docs.python.org/2/library/functions.html#round" target="_blank" rel="noopener noreferrer"><code>round()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on a number equally close to two integers will return the one furthest from 0. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: 2.0</span>
<span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: 1.0</span>
<span class="token builtin">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: -1.0</span>
<span class="token builtin">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: -2.0</span>

</code></pre></div><p>In Python 3 however, <a href="https://docs.python.org/3/library/functions.html#round" target="_blank" rel="noopener noreferrer"><code>round()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> will return the even integer (aka <strong>bankers' rounding</strong>). For example:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: 2</span>
<span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: 0</span>
<span class="token builtin">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: 0</span>
<span class="token builtin">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">)</span>  <span class="token comment"># Out: -2</span>

</code></pre></div><p>The round() function follows the <a href="https://en.wikipedia.org/wiki/Rounding#Round_half_to_even" target="_blank" rel="noopener noreferrer"><strong>half to even rounding</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> strategy that will round half-way numbers to the nearest even integer  (for example, <code>round(2.5)</code> now returns 2 rather than 3.0).</p> <p>As per <a href="https://en.wikipedia.org/wiki/Rounding#Round_half_to_even" target="_blank" rel="noopener noreferrer">reference in Wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, this is also known as <strong>unbiased rounding</strong>, <strong>convergent rounding</strong>, <strong>statistician's rounding</strong>, <strong>Dutch rounding</strong>, <strong>Gaussian rounding</strong>, or <strong>odd-even rounding</strong>.</p> <p>Half to even rounding is part of the <a href="https://en.wikipedia.org/wiki/IEEE_floating_point#Roundings_to_nearest" target="_blank" rel="noopener noreferrer">IEEE 754<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> standard and it's also the default rounding mode in Microsoft's .NET.</p> <p>This rounding strategy tends to reduce the total rounding error. Since on average the amount of numbers that are rounded up is the same as the amount of numbers that are rounded down, rounding errors cancel out. Other rounding methods instead tend to have an upwards or downwards bias in the average error.</p> <h3 id="round-return-type"><a href="#round-return-type" class="header-anchor">#</a> round() return type</h3> <p>The <code>round()</code> function returns a <code>float</code> type in Python 2.7</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">4.8</span><span class="token punctuation">)</span>
<span class="token comment"># 5.0</span>

</code></pre></div><p>Starting from Python 3.0, if the second argument (number of digits) is omitted, it returns an <code>int</code>.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">4.8</span><span class="token punctuation">)</span>
<span class="token comment"># 5</span>

</code></pre></div><h2 id="cmp-function-removed-in-python-3"><a href="#cmp-function-removed-in-python-3" class="header-anchor">#</a> cmp function removed in Python 3</h2> <p>In Python 3 the <a href="https://docs.python.org/2/library/functions.html#cmp" target="_blank" rel="noopener noreferrer"><code>cmp</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> built-in function was removed, together with the <a href="https://docs.python.org/2/reference/datamodel.html#object.__cmp__" target="_blank" rel="noopener noreferrer"><code>__cmp__</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> special method.</p> <p>From the documentation:</p> <blockquote></blockquote> <p>The <a href="https://docs.python.org/2/library/functions.html#cmp" target="_blank" rel="noopener noreferrer"><code>cmp()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function should be treated as gone, and the <a href="https://docs.python.org/2/reference/datamodel.html#object.__cmp__" target="_blank" rel="noopener noreferrer"><code>__cmp__()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> special method is no longer supported. Use <a href="https://docs.python.org/3/reference/datamodel.html#object.__lt__" target="_blank" rel="noopener noreferrer"><code>__lt__()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for sorting, <a href="https://docs.python.org/3/reference/datamodel.html#object.__eq__" target="_blank" rel="noopener noreferrer"><code>__eq__()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with <a href="https://docs.python.org/3/reference/datamodel.html#object.__hash__" target="_blank" rel="noopener noreferrer"><code>__hash__()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and other rich comparisons as needed. (If you really need the <a href="https://docs.python.org/2/library/functions.html#cmp" target="_blank" rel="noopener noreferrer"><code>cmp()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> functionality, you could use the expression <code>(a &gt; b) - (a &lt; b)</code> as the equivalent for <code>cmp(a, b)</code>.)</p> <p>Moreover all built-in functions that accepted the <code>cmp</code> parameter now only accept the <code>key</code> keyword only parameter.</p> <p>In the <a href="https://docs.python.org/3/library/functools.html" target="_blank" rel="noopener noreferrer"><code>functools</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> module there is also useful function <a href="https://docs.python.org/3/library/functools.html#functools.cmp_to_key" target="_blank" rel="noopener noreferrer"><code>cmp_to_key(func)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
that allows you to convert from a <code>cmp</code>-style function to a <code>key</code>-style function:</p> <blockquote></blockquote> <p>Transform an old-style comparison function to a key function. Used with tools that accept key functions (such as <a href="https://docs.python.org/3/library/functions.html#sorted" target="_blank" rel="noopener noreferrer"><code>sorted()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.python.org/3/library/functions.html#min" target="_blank" rel="noopener noreferrer"><code>min()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.python.org/3/library/functions.html#max" target="_blank" rel="noopener noreferrer"><code>max()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.python.org/3/library/heapq.html#heapq.nlargest" target="_blank" rel="noopener noreferrer"><code>heapq.nlargest()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.python.org/3/library/heapq.html#heapq.nsmallest" target="_blank" rel="noopener noreferrer"><code>heapq.nsmallest()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" target="_blank" rel="noopener noreferrer"><code>itertools.groupby()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>). This function is primarily used as a transition tool for programs being converted from Python 2 which supported the use of comparison functions.</p> <h2 id="file-i-o"><a href="#file-i-o" class="header-anchor">#</a> File I/O</h2> <p><code>file</code> is no longer a builtin name in 3.x (<code>open</code> still works).</p> <p>Internal details of file I/O have been moved to the standard library <code>io</code> module, which is also the new home of <code>StringIO</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> io
<span class="token keyword">assert</span> io<span class="token punctuation">.</span><span class="token builtin">open</span> <span class="token keyword">is</span> <span class="token builtin">open</span> <span class="token comment"># the builtin is an alias</span>
<span class="token builtin">buffer</span> <span class="token operator">=</span> io<span class="token punctuation">.</span>StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">buffer</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello, '</span><span class="token punctuation">)</span> <span class="token comment"># returns number of characters written</span>
<span class="token builtin">buffer</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'world!\n'</span><span class="token punctuation">)</span>
<span class="token builtin">buffer</span><span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 'hello, world!\n'</span>

</code></pre></div><p>The file mode (text vs binary) now determines the type of data produced by reading a file (and type required for writing):</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.txt'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    first_line <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token builtin">type</span><span class="token punctuation">(</span>first_line<span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token builtin">str</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.bin'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    first_kb <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token builtin">type</span><span class="token punctuation">(</span>first_kb<span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token builtin">bytes</span>

</code></pre></div><p>The encoding for text files defaults to whatever is returned by <code>locale.getpreferredencoding(False)</code>. To specify an encoding explicitly, use the <code>encoding</code> keyword parameter:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'old_japanese_poetry.txt'</span><span class="token punctuation">,</span> <span class="token string">'shift_jis'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> text<span class="token punctuation">:</span>
    haiku <span class="token operator">=</span> text<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="octal-constants"><a href="#octal-constants" class="header-anchor">#</a> Octal Constants</h2> <p>In Python 2, an octal literal could be defined as</p> <p>To ensure cross-compatibility, use</p> <h2 id="return-value-when-writing-to-a-file-object"><a href="#return-value-when-writing-to-a-file-object" class="header-anchor">#</a> Return value when writing to a file object</h2> <p>In Python 2, writing directly to a file handle returns <code>None</code>:</p> <div class="language-py extra-class"><pre class="language-py"><code>hi <span class="token operator">=</span> sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello world\n'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: hello world</span>
<span class="token builtin">type</span><span class="token punctuation">(</span>hi<span class="token punctuation">)</span>
<span class="token comment"># Out: &lt;type 'NoneType'&gt;</span>

</code></pre></div><p>In Python 3, writing to a handle will return the number of characters written when writing text, and the number of bytes written when writing bytes:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sys

char_count <span class="token operator">=</span> sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello world 🐍\n'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: hello world 🐍</span>
char_count
<span class="token comment"># Out: 14</span>

byte_count <span class="token operator">=</span> sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token builtin">buffer</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">b'hello world \xf0\x9f\x90\x8d\n'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: hello world 🐍</span>
byte_count
<span class="token comment"># Out: 17</span>

</code></pre></div><h2 id="exec-statement-is-a-function-in-python-3"><a href="#exec-statement-is-a-function-in-python-3" class="header-anchor">#</a> exec statement is a function in Python 3</h2> <p>In Python 2, <code>exec</code> is a statement, with special syntax: <code>exec code [in globals[, locals]].</code> In Python 3 <code>exec</code> is now a function: <code>exec(code, [, globals[, locals]])</code>, and the Python 2 syntax will raise a <code>SyntaxError</code>.</p> <p>As <code>print</code> was changed from statement into a function, a <code>__future__</code> import was also added. However, there is no <code>from __future__ import exec_function</code>, as it is not needed: the exec statement in Python 2 can be also used with syntax that looks exactly like the <code>exec</code> function invocation in Python 3. Thus you can change the statements</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">exec</span> <span class="token string">'code'</span>
<span class="token keyword">exec</span> <span class="token string">'code'</span> <span class="token keyword">in</span> global_vars
<span class="token keyword">exec</span> <span class="token string">'code'</span> <span class="token keyword">in</span> global_vars<span class="token punctuation">,</span> local_vars

</code></pre></div><p>to forms</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">)</span>
<span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">,</span> global_vars<span class="token punctuation">)</span>
<span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">,</span> global_vars<span class="token punctuation">,</span> local_vars<span class="token punctuation">)</span>

</code></pre></div><p>and the latter forms are guaranteed to work identically in both Python 2 and Python 3.</p> <h2 id="encode-decode-to-hex-no-longer-available"><a href="#encode-decode-to-hex-no-longer-available" class="header-anchor">#</a> encode/decode to hex no longer available</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token string">&quot;1deadbeef3&quot;</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '\x1d\xea\xdb\xee\xf3'</span>
<span class="token string">'\x1d\xea\xdb\xee\xf3'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: 1deadbeef3</span>

</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code><span class="token string">&quot;1deadbeef3&quot;</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Traceback (most recent call last):</span>
<span class="token comment">#   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="token comment"># AttributeError: 'str' object has no attribute 'decode'</span>

<span class="token string">b&quot;1deadbeef3&quot;</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Traceback (most recent call last):</span>
<span class="token comment">#   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="token comment"># LookupError: 'hex' is not a text encoding; use codecs.decode() to handle arbitrary codecs</span>

<span class="token string">'\x1d\xea\xdb\xee\xf3'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Traceback (most recent call last):</span>
<span class="token comment">#   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="token comment"># LookupError: 'hex' is not a text encoding; use codecs.encode() to handle arbitrary codecs</span>

<span class="token string">b'\x1d\xea\xdb\xee\xf3'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Traceback (most recent call last):</span>
<span class="token comment">#  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="token comment"># AttributeError: 'bytes' object has no attribute 'encode'</span>

</code></pre></div><p>However, as suggested by the error message, you can use the <a href="https://docs.python.org/3/library/codecs.html" target="_blank" rel="noopener noreferrer"><code>codecs</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> module to achieve the same result:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> codecs
codecs<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'1deadbeef4'</span><span class="token punctuation">,</span> <span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: b'\x1d\xea\xdb\xee\xf4'</span>
codecs<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">b'\x1d\xea\xdb\xee\xf4'</span><span class="token punctuation">,</span> <span class="token string">'hex'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: b'1deadbeef4'</span>

</code></pre></div><p>Note that <a href="https://docs.python.org/3/library/codecs.html#codecs.encode" target="_blank" rel="noopener noreferrer"><code>codecs.encode</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> returns a <code>bytes</code> object. To obtain a <code>str</code> object just <code>decode</code> to ASCII:</p> <div class="language-py extra-class"><pre class="language-py"><code>codecs<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">b'\x1d\xea\xdb\xee\xff'</span><span class="token punctuation">,</span> <span class="token string">'hex'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span>
<span class="token comment"># Out: '1deadbeeff'</span>

</code></pre></div><h2 id="dictionary-method-changes"><a href="#dictionary-method-changes" class="header-anchor">#</a> Dictionary method changes</h2> <p>In Python 3, many of the dictionary methods are quite different in behaviour from Python 2, and many were removed as well: <code>has_key</code>, <code>iter*</code> and <code>view*</code> are gone. Instead of <code>d.has_key(key)</code>, which had been long deprecated, one must now use <code>key in d</code>.</p> <p>In Python 2, dictionary methods <code>keys</code>, <code>values</code> and <code>items</code> return lists. In Python 3 they return <strong>view</strong> objects instead; the view objects are not iterators, and they differ from them in two ways, namely:</p> <ul><li>they have size (one can use the <code>len</code> function on them)</li> <li>they can be iterated over many times</li></ul> <p>Additionally, like with iterators, the changes in the dictionary are reflected in the view objects.</p> <p>Python 2.7 has backported these methods from Python 3; they're available as <code>viewkeys</code>, <code>viewvalues</code> and <code>viewitems</code>. To transform Python 2 code to Python 3 code, the corresponding forms are:</p> <ul><li><code>d.keys()</code>, <code>d.values()</code> and <code>d.items()</code> of Python 2 should be changed to <code>list(d.keys())</code>, <code>list(d.values())</code> and <code>list(d.items())</code></li> <li><code>d.iterkeys()</code>, <code>d.itervalues()</code> and <code>d.iteritems()</code> should be changed to <code>iter(d.keys())</code>, or even better, <code>iter(d)</code>; <code>iter(d.values())</code> and <code>iter(d.items())</code> respectively</li> <li>and finally Python 2.7 method calls <code>d.viewkeys()</code>, <code>d.viewvalues()</code> and <code>d.viewitems()</code> can be replaced with <code>d.keys()</code>, <code>d.values()</code> and <code>d.items()</code>.</li></ul> <p>Porting Python 2 code that <strong>iterates</strong> over dictionary keys, values or items while mutating it is sometimes tricky. Consider:</p> <div class="language-py extra-class"><pre class="language-py"><code>d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> key <span class="token keyword">in</span> d<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> key<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">del</span> d<span class="token punctuation">[</span>key<span class="token punctuation">]</span>

</code></pre></div><p>The code looks as if it would work similarly in Python 3, but there the <code>keys</code> method returns a view object, not a list, and if the dictionary changes size while being iterated over, the Python 3 code will crash with <code>RuntimeError: dictionary changed size during iteration</code>. The solution is of course to properly write <code>for key in list(d)</code>.</p> <p>Similarly, view objects behave differently from iterators: one cannot use <code>next()</code> on them, and one cannot <strong>resume</strong> iteration; it would instead restart; if Python 2 code passes the return value of <code>d.iterkeys()</code>, <code>d.itervalues()</code> or <code>d.iteritems()</code> to a method that expects an iterator instead of an <strong>iterable</strong>, then that should be <code>iter(d)</code>, <code>iter(d.values())</code> or <code>iter(d.items())</code> in Python 3.</p> <h2 id="class-boolean-value"><a href="#class-boolean-value" class="header-anchor">#</a> Class Boolean Value</h2> <p>In Python 2, if you want to define a class boolean value by yourself, you need to implement the <code>__nonzero__</code> method on your class. The value is True by default.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__nonzero__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

my_instance <span class="token operator">=</span> MyClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token builtin">bool</span><span class="token punctuation">(</span>MyClass<span class="token punctuation">)</span>       <span class="token comment"># True</span>
<span class="token keyword">print</span> <span class="token builtin">bool</span><span class="token punctuation">(</span>my_instance<span class="token punctuation">)</span>   <span class="token comment"># False</span>

</code></pre></div><p>In Python 3, <code>__bool__</code> is used instead of <code>__nonzero__</code></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__bool__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

my_instance <span class="token operator">=</span> MyClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">(</span>MyClass<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">(</span>my_instance<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># False</span>

</code></pre></div><h2 id="hasattr-function-bug-in-python-2"><a href="#hasattr-function-bug-in-python-2" class="header-anchor">#</a> hasattr function bug in Python 2</h2> <p>In Python 2, when a property raise a error, <code>hasattr</code> will ignore this property, returning <code>False</code>.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> IOError


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'get in b'</span>

a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span> <span class="token string">'a hasattr get: '</span><span class="token punctuation">,</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'get'</span><span class="token punctuation">)</span>
<span class="token comment"># output False in Python 2 (fixed, True in Python 3)</span>
<span class="token keyword">print</span> <span class="token string">'b hasattr get'</span><span class="token punctuation">,</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">'get'</span><span class="token punctuation">)</span>
<span class="token comment"># output True in Python 2 and Python 3</span>

</code></pre></div><p>This bug is fixed in Python3. So if you use Python 2, use</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    a<span class="token punctuation">.</span>get
<span class="token keyword">except</span> AttributeError<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;no get property!&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>or use <code>getattr</code> instead</p> <div class="language-py extra-class"><pre class="language-py"><code>p <span class="token operator">=</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> p <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;no get property!&quot;</span><span class="token punctuation">)</span>

</code></pre></div><h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>There are currently two supported versions of Python: 2.7 (Python 2) and 3.6 (Python 3). Additionally versions 3.3 and 3.4 receive security updates in source format.</p> <p>Python 2.7 is backwards-compatible with most earlier versions of Python, and can run Python code from most 1.x and 2.x versions of Python unchanged.  It is broadly available, with an extensive collection of packages. It is also considered deprecated by the CPython developers, and receives only security and bug-fix development. The CPython developers intend to abandon this version of the language <a href="https://docs.python.org/devguide/#status-of-python-branches" target="_blank" rel="noopener noreferrer">in 2020<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>According to <a href="http://legacy.python.org/dev/peps/pep-0373/" target="_blank" rel="noopener noreferrer">Python Enhancement Proposal 373<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> there are no planned future releases of Python 2 after 25 June 2016, but bug fixes and security updates will be supported until 2020.  (It doesn't specify what exact date in 2020 will be the sunset date of Python 2.)</p> <p>Python 3 intentionally broke backwards-compatibility, to address concerns the language developers had with the core of the language.  Python 3 receives new development and new features.  It is the version of the language that the language developers intend to move forward with.</p> <p>Over the time between the initial release of Python 3.0 and the current version, some features of Python 3 were back-ported into Python 2.6, and other parts of Python 3 were extended to have syntax compatible with Python 2.  Therefore it is possible to write Python that will work on both Python 2 and Python 3, by using  future imports and special modules (like <strong>six</strong>).</p> <p>Future imports have to be at the beginning of your module:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> print_function
<span class="token comment"># other imports and instructions go after __future__</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello world'</span><span class="token punctuation">)</span>

</code></pre></div><p>For further information on the <code>__future__</code> module, see the <a href="https://docs.python.org/2/library/__future__.html" target="_blank" rel="noopener noreferrer">relevant page in the Python documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The <a href="https://stackoverflow.com/documentation/python/5320/2to3-tool" target="_blank" rel="noopener noreferrer">2to3 tool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a Python program that converts Python 2.x code to Python 3.x code, see also the <a href="https://docs.python.org/3.5/library/2to3.html" target="_blank" rel="noopener noreferrer">Python documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The package <a href="http://six.readthedocs.io" target="_blank" rel="noopener noreferrer">six<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> provides utilities for Python 2/3 compatibility:</p> <ul><li>unified access to renamed libraries</li> <li>variables for string/unicode types</li> <li>functions for method that got removed or has been renamed</li></ul> <p>A reference for differences between Python 2 and Python 3 can be found <a href="https://wiki.python.org/moin/Python2orPython3" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/python/incompatibilities-moving-from-python-2-to-python-3.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/python/immutable-datatypes-int-float-str-tuple-and-frozensets.html" class="prev">
        Immutable datatypes(int, float, str, tuple and frozensets)
      </a></span> <span class="next"><a href="/python/2to3-tool.html">
        2to3 tool
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2724.8015810a.js" defer></script>
  </body>
</html>
