<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python - Database Access</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="SQLite, Accessing MySQL database using MySQLdb, Connection, PostgreSQL Database access using psycopg2, Oracle database, Using sqlalchemy">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Python - Database Access">
    <meta property="og:description" content="SQLite, Accessing MySQL database using MySQLdb, Connection, PostgreSQL Database access using psycopg2, Oracle database, Using sqlalchemy">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/python/database-access.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Python - Database Access">
    <meta name="twitter:description" content="SQLite, Accessing MySQL database using MySQLdb, Connection, PostgreSQL Database access using psycopg2, Oracle database, Using sqlalchemy">
    <meta name="twitter:url" content="/python/database-access.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2686.7799d462.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/python/getting-started-with-python-language.html" class="sidebar-link">Getting started with Python Language</a></li><li><a href="/python/python-data-types.html" class="sidebar-link">Python Data Types</a></li><li><a href="/python/indentation.html" class="sidebar-link">Indentation</a></li><li><a href="/python/comments-and-documentation.html" class="sidebar-link">Comments and Documentation</a></li><li><a href="/python/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/python/enum.html" class="sidebar-link">Enum</a></li><li><a href="/python/set.html" class="sidebar-link">Set</a></li><li><a href="/python/simple-mathematical-operators.html" class="sidebar-link">Simple Mathematical Operators</a></li><li><a href="/python/bitwise-operators.html" class="sidebar-link">Bitwise Operators</a></li><li><a href="/python/boolean-operators.html" class="sidebar-link">Boolean Operators</a></li><li><a href="/python/operator-precedence.html" class="sidebar-link">Operator Precedence</a></li><li><a href="/python/variable-scope-and-binding.html" class="sidebar-link">Variable Scope and Binding</a></li><li><a href="/python/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/python/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/python/loops.html" class="sidebar-link">Loops</a></li><li><a href="/python/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/python/multidimensional-arrays.html" class="sidebar-link">Multidimensional arrays</a></li><li><a href="/python/dictionary.html" class="sidebar-link">Dictionary</a></li><li><a href="/python/list.html" class="sidebar-link">List</a></li><li><a href="/python/list-comprehensions.html" class="sidebar-link">List Comprehensions</a></li><li><a href="/python/list-slicing-selecting-parts-of-lists.html" class="sidebar-link">List slicing (selecting parts of lists)</a></li><li><a href="/python/groupby.html" class="sidebar-link">groupby()</a></li><li><a href="/python/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/python/linked-list-node.html" class="sidebar-link">Linked List Node</a></li><li><a href="/python/filter.html" class="sidebar-link">Filter</a></li><li><a href="/python/heapq.html" class="sidebar-link">Heapq</a></li><li><a href="/python/tuple.html" class="sidebar-link">Tuple</a></li><li><a href="/python/basic-input-and-output.html" class="sidebar-link">Basic Input and Output</a></li><li><a href="/python/files-folders-i-o.html" class="sidebar-link">Files &amp; Folders I/O</a></li><li><a href="/python/os-path.html" class="sidebar-link">os.path</a></li><li><a href="/python/iterables-and-iterators.html" class="sidebar-link">Iterables and Iterators</a></li><li><a href="/python/functions.html" class="sidebar-link">Functions</a></li><li><a href="/python/defining-functions-with-list-arguments.html" class="sidebar-link">Defining functions with list arguments</a></li><li><a href="/python/functional-programming-in-python.html" class="sidebar-link">Functional Programming in Python</a></li><li><a href="/python/partial-functions.html" class="sidebar-link">Partial functions</a></li><li><a href="/python/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/python/classes.html" class="sidebar-link">Classes</a></li><li><a href="/python/metaclasses.html" class="sidebar-link">Metaclasses</a></li><li><a href="/python/string-formatting.html" class="sidebar-link">String Formatting</a></li><li><a href="/python/string-methods.html" class="sidebar-link">String Methods</a></li><li><a href="/python/using-loops-within-functions.html" class="sidebar-link">Using loops within functions</a></li><li><a href="/python/importing-modules.html" class="sidebar-link">Importing modules</a></li><li><a href="/python/difference-between-module-and-package.html" class="sidebar-link">Difference between Module and Package</a></li><li><a href="/python/math-module.html" class="sidebar-link">Math Module</a></li><li><a href="/python/complex-math.html" class="sidebar-link">Complex math</a></li><li><a href="/python/collections-module.html" class="sidebar-link">Collections module</a></li><li><a href="/python/operator-module.html" class="sidebar-link">Operator module</a></li><li><a href="/python/json-module.html" class="sidebar-link">JSON Module</a></li><li><a href="/python/sqlite3-module.html" class="sidebar-link">Sqlite3 Module</a></li><li><a href="/python/the-os-module.html" class="sidebar-link">The os Module</a></li><li><a href="/python/the-locale-module.html" class="sidebar-link">The locale Module</a></li><li><a href="/python/itertools-module.html" class="sidebar-link">Itertools Module</a></li><li><a href="/python/asyncio-module.html" class="sidebar-link">Asyncio Module</a></li><li><a href="/python/random-module.html" class="sidebar-link">Random module</a></li><li><a href="/python/functools-module.html" class="sidebar-link">Functools Module</a></li><li><a href="/python/the-dis-module.html" class="sidebar-link">The dis module</a></li><li><a href="/python/the-base64-module.html" class="sidebar-link">The base64 Module</a></li><li><a href="/python/queue-module.html" class="sidebar-link">Queue Module</a></li><li><a href="/python/deque-module.html" class="sidebar-link">Deque Module</a></li><li><a href="/python/webbrowser-module.html" class="sidebar-link">Webbrowser Module</a></li><li><a href="/python/tkinter.html" class="sidebar-link">tkinter</a></li><li><a href="/python/pyautogui-module.html" class="sidebar-link">pyautogui module</a></li><li><a href="/python/indexing-and-slicing.html" class="sidebar-link">Indexing and Slicing</a></li><li><a href="/python/plotting-with-matplotlib.html" class="sidebar-link">Plotting with Matplotlib</a></li><li><a href="/python/graph-tool.html" class="sidebar-link">graph-tool</a></li><li><a href="/python/generators.html" class="sidebar-link">Generators</a></li><li><a href="/python/reduce.html" class="sidebar-link">Reduce</a></li><li><a href="/python/map-function.html" class="sidebar-link">Map Function</a></li><li><a href="/python/exponentiation.html" class="sidebar-link">Exponentiation</a></li><li><a href="/python/searching.html" class="sidebar-link">Searching</a></li><li><a href="/python/sorting-minimum-and-maximum.html" class="sidebar-link">Sorting, Minimum and Maximum</a></li><li><a href="/python/counting.html" class="sidebar-link">Counting</a></li><li><a href="/python/the-print-function.html" class="sidebar-link">The Print Function</a></li><li><a href="/python/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (Regex)</a></li><li><a href="/python/copying-data.html" class="sidebar-link">Copying data</a></li><li><a href="/python/context-managers-with-statement.html" class="sidebar-link">Context Managers (“with” Statement)</a></li><li><a href="/python/the-name-special-variable.html" class="sidebar-link">The _name_ special variable</a></li><li><a href="/python/checking-path-existence-and-permissions.html" class="sidebar-link">Checking Path Existence and Permissions</a></li><li><a href="/python/creating-python-packages.html" class="sidebar-link">Creating Python packages</a></li><li><a href="/python/usage-of-pip-module-pypi-package-manager.html" class="sidebar-link">Usage of &quot;pip&quot; module: PyPI Package Manager</a></li><li><a href="/python/pip-pypi-package-manager.html" class="sidebar-link">pip: PyPI Package Manager</a></li><li><a href="/python/parsing-command-line-arguments.html" class="sidebar-link">Parsing Command Line arguments</a></li><li><a href="/python/subprocess-library.html" class="sidebar-link">Subprocess Library</a></li><li><a href="/python/setup-py.html" class="sidebar-link">setup.py</a></li><li><a href="/python/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/python/type-hints.html" class="sidebar-link">Type Hints</a></li><li><a href="/python/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/python/raise-custom-errors-exceptions.html" class="sidebar-link">Raise Custom Errors / Exceptions</a></li><li><a href="/python/commonwealth-exceptions.html" class="sidebar-link">Commonwealth Exceptions</a></li><li><a href="/python/urllib.html" class="sidebar-link">urllib</a></li><li><a href="/python/web-scraping-with-python.html" class="sidebar-link">Web scraping with Python</a></li><li><a href="/python/html-parsing.html" class="sidebar-link">HTML Parsing</a></li><li><a href="/python/manipulating-xml.html" class="sidebar-link">Manipulating XML</a></li><li><a href="/python/python-requests-post.html" class="sidebar-link">Python Requests Post</a></li><li><a href="/python/distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/python/property-objects.html" class="sidebar-link">Property Objects</a></li><li><a href="/python/overloading.html" class="sidebar-link">Overloading</a></li><li><a href="/python/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/python/method-overriding.html" class="sidebar-link">Method Overriding</a></li><li><a href="/python/user-defined-methods.html" class="sidebar-link">User-Defined Methods</a></li><li><a href="/python/string-representations-of-class-instances-str-and-repr-methods.html" class="sidebar-link">String representations of class instances: _str and repr_ methods</a></li><li><a href="/python/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/python/reading-and-writing-csv.html" class="sidebar-link">Reading and Writing CSV</a></li><li><a href="/python/writing-to-csv-from-string-or-list.html" class="sidebar-link">Writing to CSV from String or List</a></li><li><a href="/python/dynamic-code-execution-with-exec-and-eval.html" class="sidebar-link">Dynamic code execution with exec and eval</a></li><li><a href="/python/pyinstaller-distributing-python-code.html" class="sidebar-link">PyInstaller - Distributing Python Code</a></li><li><a href="/python/data-visualization-with-python.html" class="sidebar-link">Data Visualization with Python</a></li><li><a href="/python/the-interpreter-command-line-console.html" class="sidebar-link">The Interpreter (Command Line Console)</a></li><li><a href="/python/args-and-kwargs.html" class="sidebar-link">args and *kwargs</a></li><li><a href="/python/garbage-collection.html" class="sidebar-link">Garbage Collection</a></li><li><a href="/python/pickle-data-serialisation.html" class="sidebar-link">Pickle data serialisation</a></li><li><a href="/python/binary-data.html" class="sidebar-link">Binary Data</a></li><li><a href="/python/idioms.html" class="sidebar-link">Idioms</a></li><li><a href="/python/data-serialization.html" class="sidebar-link">Data Serialization</a></li><li><a href="/python/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/python/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/python/processes-and-threads.html" class="sidebar-link">Processes and Threads</a></li><li><a href="/python/python-concurrency.html" class="sidebar-link">Python concurrency</a></li><li><a href="/python/parallel-computation.html" class="sidebar-link">Parallel computation</a></li><li><a href="/python/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/python/websockets.html" class="sidebar-link">Websockets</a></li><li><a href="/python/sockets-and-message-encryption-decryption-between-client-and-server.html" class="sidebar-link">Sockets And Message Encryption/Decryption Between Client and Server</a></li><li><a href="/python/python-networking.html" class="sidebar-link">Python Networking</a></li><li><a href="/python/python-http-server.html" class="sidebar-link">Python HTTP Server</a></li><li><a href="/python/flask.html" class="sidebar-link">Flask</a></li><li><a href="/python/introduction-to-rabbitmq-using-amqpstorm.html" class="sidebar-link">Introduction to RabbitMQ using AMQPStorm</a></li><li><a href="/python/descriptor.html" class="sidebar-link">Descriptor</a></li><li><a href="/python/tempfile-namedtemporaryfile.html" class="sidebar-link">tempfile NamedTemporaryFile</a></li><li><a href="/python/input-subset-and-output-external-data-files-using-pandas.html" class="sidebar-link">Input, Subset and Output External Data Files using Pandas</a></li><li><a href="/python/unzipping-files.html" class="sidebar-link">Unzipping Files</a></li><li><a href="/python/working-with-zip-archives.html" class="sidebar-link">Working with ZIP archives</a></li><li><a href="/python/getting-start-with-gzip.html" class="sidebar-link">getting start with GZip</a></li><li><a href="/python/stack.html" class="sidebar-link">Stack</a></li><li><a href="/python/working-around-the-global-interpreter-lock-gil.html" class="sidebar-link">Working around the Global Interpreter Lock (GIL)</a></li><li><a href="/python/deployment.html" class="sidebar-link">Deployment</a></li><li><a href="/python/logging.html" class="sidebar-link">Logging</a></li><li><a href="/python/web-server-gateway-interface-wsgi.html" class="sidebar-link">Web Server Gateway Interface (WSGI)</a></li><li><a href="/python/python-server-sent-events.html" class="sidebar-link">Python Server Sent Events</a></li><li><a href="/python/alternatives-to-switch-statement-from-other-languages.html" class="sidebar-link">Alternatives to switch statement from other languages</a></li><li><a href="/python/list-destructuring-aka-packing-and-unpacking.html" class="sidebar-link">List destructuring (aka packing and unpacking)</a></li><li><a href="/python/accessing-python-source-code-and-bytecode.html" class="sidebar-link">Accessing Python source code and bytecode</a></li><li><a href="/python/mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/python/attribute-access.html" class="sidebar-link">Attribute Access</a></li><li><a href="/python/arcpy.html" class="sidebar-link">ArcPy</a></li><li><a href="/python/abstract-base-classes-abc.html" class="sidebar-link">Abstract Base Classes (abc)</a></li><li><a href="/python/plugin-and-extension-classes.html" class="sidebar-link">Plugin and Extension Classes</a></li><li><a href="/python/immutable-datatypes-int-float-str-tuple-and-frozensets.html" class="sidebar-link">Immutable datatypes(int, float, str, tuple and frozensets)</a></li><li><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html" class="sidebar-link">Incompatibilities moving from Python 2 to Python 3</a></li><li><a href="/python/2to3-tool.html" class="sidebar-link">2to3 tool</a></li><li><a href="/python/non-official-python-implementations.html" class="sidebar-link">Non-official Python implementations</a></li><li><a href="/python/abstract-syntax-tree.html" class="sidebar-link">Abstract syntax tree</a></li><li><a href="/python/unicode-and-bytes.html" class="sidebar-link">Unicode and bytes</a></li><li><a href="/python/python-serial-communication-pyserial.html" class="sidebar-link">Python Serial Communication (pyserial)</a></li><li><a href="/python/neo4j-and-cypher-using-py2neo.html" class="sidebar-link">Neo4j and Cypher using Py2Neo</a></li><li><a href="/python/basic-curses-with-python.html" class="sidebar-link">Basic Curses with Python</a></li><li><a href="/python/templates-in-python.html" class="sidebar-link">Templates in python</a></li><li><a href="/python/pillow.html" class="sidebar-link">Pillow</a></li><li><a href="/python/the-pass-statement.html" class="sidebar-link">The pass statement</a></li><li><a href="/python/cli-subcommands-with-precise-help-output.html" class="sidebar-link">CLI subcommands with precise help output</a></li><li><a href="/python/database-access.html" aria-current="page" class="active sidebar-link">Database Access</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/python/database-access.html#sqlite" class="sidebar-link">SQLite</a></li><li class="sidebar-sub-header"><a href="/python/database-access.html#accessing-mysql-database-using-mysqldb" class="sidebar-link">Accessing MySQL database using MySQLdb</a></li><li class="sidebar-sub-header"><a href="/python/database-access.html#connection" class="sidebar-link">Connection</a></li><li class="sidebar-sub-header"><a href="/python/database-access.html#postgresql-database-access-using-psycopg2" class="sidebar-link">PostgreSQL Database access using psycopg2</a></li><li class="sidebar-sub-header"><a href="/python/database-access.html#oracle-database" class="sidebar-link">Oracle database</a></li><li class="sidebar-sub-header"><a href="/python/database-access.html#using-sqlalchemy" class="sidebar-link">Using sqlalchemy</a></li></ul></li><li><a href="/python/connecting-python-to-sql-server.html" class="sidebar-link">Connecting Python to SQL Server</a></li><li><a href="/python/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/python/python-and-excel.html" class="sidebar-link">Python and Excel</a></li><li><a href="/python/turtle-graphics.html" class="sidebar-link">Turtle Graphics</a></li><li><a href="/python/python-persistence.html" class="sidebar-link">Python Persistence</a></li><li><a href="/python/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/python/hashlib.html" class="sidebar-link">hashlib</a></li><li><a href="/python/creating-a-windows-service-using-python.html" class="sidebar-link">Creating a Windows service using Python</a></li><li><a href="/python/mutable-vs-immutable-and-hashable-in-python.html" class="sidebar-link">Mutable vs Immutable (and Hashable) in Python</a></li><li><a href="/python/configparser.html" class="sidebar-link">configparser</a></li><li><a href="/python/optical-character-recognition.html" class="sidebar-link">Optical Character Recognition</a></li><li><a href="/python/virtual-environments.html" class="sidebar-link">Virtual environments</a></li><li><a href="/python/python-virtual-environment-virtualenv.html" class="sidebar-link">Python Virtual Environment - virtualenv</a></li><li><a href="/python/virtual-environment-with-virtualenvwrapper.html" class="sidebar-link">virtual environment with virtualenvwrapper</a></li><li><a href="/python/create-virtual-environment-with-virtualenvwrapper-in-windows.html" class="sidebar-link">Create virtual environment with virtualenvwrapper in windows</a></li><li><a href="/python/sys.html" class="sidebar-link">sys</a></li><li><a href="/python/chempy-python-package.html" class="sidebar-link">ChemPy - python package</a></li><li><a href="/python/pygame.html" class="sidebar-link">pygame</a></li><li><a href="/python/pyglet.html" class="sidebar-link">Pyglet</a></li><li><a href="/python/audio.html" class="sidebar-link">Audio</a></li><li><a href="/python/pyaudio.html" class="sidebar-link">pyaudio</a></li><li><a href="/python/shelve.html" class="sidebar-link">shelve</a></li><li><a href="/python/iot-programming-with-python-and-raspberry-pi.html" class="sidebar-link">IoT Programming with Python and Raspberry PI</a></li><li><a href="/python/kivy-cross-platform-python-framework-for-nui-development.html" class="sidebar-link">kivy - Cross-platform Python Framework for NUI Development</a></li><li><a href="/python/pandas-transform-preform-operations-on-groups-and-concatenate-the-results.html" class="sidebar-link">Pandas Transform: Preform operations on groups and concatenate the results</a></li><li><a href="/python/similarities-in-syntax-differences-in-meaning-python-vs-javascript.html" class="sidebar-link">Similarities in syntax, Differences in meaning: Python vs. JavaScript</a></li><li><a href="/python/call-python-from-c.html" class="sidebar-link">Call Python from C#</a></li><li><a href="/python/ctypes.html" class="sidebar-link">ctypes</a></li><li><a href="/python/writing-extensions.html" class="sidebar-link">Writing extensions</a></li><li><a href="/python/python-lex-yacc.html" class="sidebar-link">Python Lex-Yacc</a></li><li><a href="/python/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/python/py-test.html" class="sidebar-link">py.test</a></li><li><a href="/python/profiling.html" class="sidebar-link">Profiling</a></li><li><a href="/python/python-speed-of-program.html" class="sidebar-link">Python speed of program</a></li><li><a href="/python/performance-optimization.html" class="sidebar-link">Performance optimization</a></li><li><a href="/python/security-and-cryptography.html" class="sidebar-link">Security and Cryptography</a></li><li><a href="/python/secure-shell-connection-in-python.html" class="sidebar-link">Secure Shell Connection in Python</a></li><li><a href="/python/python-anti-patterns.html" class="sidebar-link">Python Anti-Patterns</a></li><li><a href="/python/common-pitfalls.html" class="sidebar-link">Common Pitfalls</a></li><li><a href="/python/hidden-features.html" class="sidebar-link">Hidden Features</a></li><li><a href="/python/date-formatting.html" class="sidebar-link">Date Formatting</a></li><li><a href="/python/ijson.html" class="sidebar-link">ijson</a></li><li><a href="/python/django.html" class="sidebar-link">Django</a></li><li><a href="/python/code-blocks-execution-frames-and-namespaces.html" class="sidebar-link">Code blocks, execution frames, and namespaces</a></li><li><a href="/python/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="database-access"><a href="#database-access" class="header-anchor">#</a> Database Access</h1> <h2 id="sqlite"><a href="#sqlite" class="header-anchor">#</a> SQLite</h2> <p>SQLite is a lightweight, disk-based database. Since it does not require a separate database server, it is often used for prototyping or for small applications that are often used by a single user or by one user at a given time.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sqlite3

conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&quot;users.db&quot;</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

c<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;CREATE TABLE user (name text, age integer)&quot;</span><span class="token punctuation">)</span>

c<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO user VALUES ('User A', 42)&quot;</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO user VALUES ('User B', 43)&quot;</span><span class="token punctuation">)</span>

conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

c<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>The code above connects to the database stored in the file named <code>users.db</code>, creating the file first if it doesn't already exist. You can interact with the database via SQL statements.</p> <p>The result of this example should be:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">u'User A'</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">u'User B'</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

</code></pre></div><h3 id="the-sqlite-syntax-an-in-depth-analysis"><a href="#the-sqlite-syntax-an-in-depth-analysis" class="header-anchor">#</a> The SQLite Syntax: An in-depth analysis</h3> <h3 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h3> <li>
Import the sqlite module using
<div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> sqlite3

</code></pre></div></li> <li>
To use the module, you must first create a Connection object that represents the database. Here the data will be stored in the example.db file:
<div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'users.db'</span><span class="token punctuation">)</span>

</code></pre></div><p>Alternatively, you can also supply the special name <code>:memory:</code> to create a temporary database in RAM, as follows:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">':memory:'</span><span class="token punctuation">)</span>

</code></pre></div></li> <li>
Once you have a `Connection`, you can create a `Cursor` object and call its `execute()` method to perform SQL commands:
<h3></h3> <div class="language-py extra-class"><pre class="language-py"><code>c <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Create table</span>
c<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">'''CREATE TABLE stocks
            (date text, trans text, symbol text, qty real, price real)'''</span><span class="token punctuation">)</span>

<span class="token comment"># Insert a row of data</span>
c<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO stocks VALUES ('2006-01-05','BUY','RHAT',100,35.14)&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Save (commit) the changes</span>
conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># We can also close the connection if we are done with it.</span>
<span class="token comment"># Just be sure any changes have been committed or they will be lost.</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div></li> <h3 id="important-attributes-and-functions-of-connection"><a href="#important-attributes-and-functions-of-connection" class="header-anchor">#</a> Important Attributes and Functions of <code>Connection</code></h3> <li>
`isolation_level`
It is an attribute used to get or set the current isolation level. None for autocommit mode or one of `DEFERRED`, `IMMEDIATE` or `EXCLUSIVE`.
</li> <li>
`cursor`
The cursor object is used to execute SQL commands and queries.
</li> <li>
`commit()`
Commits the current transaction.
</li> <li>
`rollback()`
Rolls back any changes made since the previous call to `commit()`
</li> <li>
`close()`
Closes the database connection. It does not call `commit()` automatically. If `close()` is called without first calling `commit()` (assuming you are not in autocommit mode) then all changes made will be lost.
</li> <li>
`total_changes`
An attribute that logs the total number of rows modified, deleted or inserted since the database was opened.
</li> <li>
`execute`, `executemany`, and `executescript`
These functions perform the same way as those of the cursor object. This is a shortcut since calling these functions through the connection object results in the creation of an intermediate cursor object and calls the corresponding method of the cursor object
</li> <li>
`row_factory`
You can change this attribute to a callable that accepts the cursor and the original row as a tuple and will return the real result row.
<div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">dict_factory</span><span class="token punctuation">(</span>cursor<span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">:</span>
    d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> col <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token punctuation">:</span>
        d<span class="token punctuation">[</span>col<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> row<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">return</span> d

conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&quot;:memory:&quot;</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>row_factory <span class="token operator">=</span> dict_factory

</code></pre></div></li> <h3 id="important-functions-of-cursor"><a href="#important-functions-of-cursor" class="header-anchor">#</a> Important Functions of <code>Cursor</code></h3> <li>
`execute(sql[, parameters])`
<p>Executes a **single** SQL statement. The SQL statement may be parametrized (i. e. placeholders instead of SQL literals).
The sqlite3 module supports two kinds of placeholders: question marks `?` (“qmark style”) and named placeholders `:name` (“named style”).</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sqlite3
conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&quot;:memory:&quot;</span><span class="token punctuation">)</span>
cur <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>
cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;create table people (name, age)&quot;</span><span class="token punctuation">)</span>

who <span class="token operator">=</span> <span class="token string">&quot;Sophia&quot;</span>
age <span class="token operator">=</span> <span class="token number">37</span>
<span class="token comment"># This is the qmark style:</span>
cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;insert into people values (?, ?)&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span>who<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># And this is the named style:</span>
cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;select * from people where name=:who and age=:age&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string">&quot;who&quot;</span><span class="token punctuation">:</span> who<span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> age<span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment"># the keys correspond to the placeholders in SQL</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></li> <blockquote></blockquote> <p>Beware: don't use `%s` for inserting strings into SQL commands as it
can make your program vulnerable to an SQL injection attack (see
[SQL Injection](https://stackoverflow.com/documentation/sql/3517/sql-injection) ).</p> <li>
`executemany(sql, seq_of_parameters)`
Executes an SQL command against all parameter sequences or mappings found in the sequence sql. The sqlite3 module also allows using an iterator yielding parameters instead of a sequence.
<div class="language-py extra-class"><pre class="language-py"><code>L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'abcd'</span><span class="token punctuation">,</span> <span class="token string">'dfj'</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment"># A list of tuples to be inserted into the database</span>
     <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'cfgd'</span><span class="token punctuation">,</span> <span class="token string">'dyfj'</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'sdd'</span><span class="token punctuation">,</span> <span class="token string">'dfjh'</span><span class="token punctuation">,</span> <span class="token number">300.50</span><span class="token punctuation">)</span><span class="token punctuation">]</span>                           

conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&quot;test1.db&quot;</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;create table if not exists book (id int, name text, author text, price real)&quot;</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>executemany<span class="token punctuation">(</span><span class="token string">&quot;insert into book values (?, ?, ?, ?)&quot;</span><span class="token punctuation">,</span> L<span class="token punctuation">)</span>

<span class="token keyword">for</span> row <span class="token keyword">in</span> conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;select * from book&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>

</code></pre></div><p>You can also pass iterator objects as a parameter to executemany, and the function will iterate over the each tuple of values that the iterator returns. The iterator must return a tuple of values.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sqlite3

<span class="token keyword">class</span> <span class="token class-name">IterChars</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># (use next(self) for Python 2)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>count <span class="token operator">&gt;</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'z'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> StopIteration
        self<span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span> 

conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&quot;abc.db&quot;</span><span class="token punctuation">)</span>
cur <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>
cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;create table characters(c)&quot;</span><span class="token punctuation">)</span>

theIter <span class="token operator">=</span> IterChars<span class="token punctuation">(</span><span class="token punctuation">)</span>
cur<span class="token punctuation">.</span>executemany<span class="token punctuation">(</span><span class="token string">&quot;insert into characters(c) values (?)&quot;</span><span class="token punctuation">,</span> theIter<span class="token punctuation">)</span>

rows <span class="token operator">=</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;select c from characters&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> row <span class="token keyword">in</span> rows<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

</code></pre></div></li> <li>
`executescript(sql_script)`
This is a nonstandard convenience method for executing multiple SQL statements at once. It issues a `COMMIT` statement first, then executes the SQL script it gets as a parameter.
`sql_script` can be an instance of `str` or `bytes`.
<div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sqlite3
conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&quot;:memory:&quot;</span><span class="token punctuation">)</span>
cur <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>
cur<span class="token punctuation">.</span>executescript<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;
     create table person(
         firstname,
         lastname,
         age
     );

     create table book(
         title,
         author,
         published
     );

     insert into book(title, author, published)
     values (
         'Dirk Gently''s Holistic Detective Agency',
         'Douglas Adams',
         1987
     );
     &quot;&quot;&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>The next set of functions are used in conjunction with <code>SELECT</code> statements in SQL. To retrieve data after executing a <code>SELECT</code> statement, you can either treat the cursor as an iterator, call the cursor’s <code>fetchone()</code> method to retrieve a single matching row, or call <code>fetchall()</code> to get a list of the matching rows.
Example of the iterator form:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sqlite3
stocks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'2006-01-05'</span><span class="token punctuation">,</span> <span class="token string">'BUY'</span><span class="token punctuation">,</span> <span class="token string">'RHAT'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">35.14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token string">'2006-03-28'</span><span class="token punctuation">,</span> <span class="token string">'BUY'</span><span class="token punctuation">,</span> <span class="token string">'IBM'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">45.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token string">'2006-04-06'</span><span class="token punctuation">,</span> <span class="token string">'SELL'</span><span class="token punctuation">,</span> <span class="token string">'IBM'</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">53.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token string">'2006-04-05'</span><span class="token punctuation">,</span> <span class="token string">'BUY'</span><span class="token punctuation">,</span> <span class="token string">'MSFT'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">72.0</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&quot;:memory:&quot;</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;create table stocks (date text, buysell text, symb text, amount int, price real)&quot;</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>executemany<span class="token punctuation">(</span><span class="token string">&quot;insert into stocks values (?, ?, ?, ?, ?)&quot;</span><span class="token punctuation">,</span> stocks<span class="token punctuation">)</span>    
cur <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> row <span class="token keyword">in</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'SELECT * FROM stocks ORDER BY price'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>

<span class="token comment"># Output:</span>
<span class="token comment"># ('2006-01-05', 'BUY', 'RHAT', 100, 35.14)</span>
<span class="token comment"># ('2006-03-28', 'BUY', 'IBM', 1000, 45.0)</span>
<span class="token comment"># ('2006-04-06', 'SELL', 'IBM', 500, 53.0)</span>
<span class="token comment"># ('2006-04-05', 'BUY', 'MSFT', 1000, 72.0)</span>

</code></pre></div></li> <li>
`fetchone()`
Fetches the next row of a query result set, returning a single sequence, or None when no more data is available.
<div class="language-py extra-class"><pre class="language-py"><code>cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'SELECT * FROM stocks ORDER BY price'</span><span class="token punctuation">)</span>
i <span class="token operator">=</span> cur<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span> 
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    i <span class="token operator">=</span> cur<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Output:</span>
<span class="token comment"># ('2006-01-05', 'BUY', 'RHAT', 100, 35.14)</span>
<span class="token comment"># ('2006-03-28', 'BUY', 'IBM', 1000, 45.0)</span>
<span class="token comment"># ('2006-04-06', 'SELL', 'IBM', 500, 53.0)</span>
<span class="token comment"># ('2006-04-05', 'BUY', 'MSFT', 1000, 72.0)</span>

</code></pre></div></li> <li>
`fetchmany(size=cursor.arraysize)`
Fetches the next set of rows of a query result (specified by size), returning a list. If size is omitted, fetchmany returns a single row. An empty list is returned when no more rows are available.
<div class="language-py extra-class"><pre class="language-py"><code>cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'SELECT * FROM stocks ORDER BY price'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>fetchmany<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Output:    </span>
<span class="token comment"># [('2006-01-05', 'BUY', 'RHAT', 100, 35.14), ('2006-03-28', 'BUY', 'IBM', 1000, 45.0)]</span>

</code></pre></div></li> <li>
`fetchall()`
Fetches all (remaining) rows of a query result, returning a list.
<div class="language-py extra-class"><pre class="language-py"><code>cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'SELECT * FROM stocks ORDER BY price'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Output:</span>
<span class="token comment"># [('2006-01-05', 'BUY', 'RHAT', 100, 35.14), ('2006-03-28', 'BUY', 'IBM', 1000, 45.0), ('2006-04-06', 'SELL', 'IBM', 500, 53.0), ('2006-04-05', 'BUY', 'MSFT', 1000, 72.0)]</span>

</code></pre></div></li> <h3 id="sqlite-and-python-data-types"><a href="#sqlite-and-python-data-types" class="header-anchor">#</a> SQLite and Python data types</h3> <p>SQLite natively supports the following types: NULL, INTEGER, REAL, TEXT, BLOB.</p> <p>This is how the data types are converted when moving from SQL to Python or vice versa.</p> <div class="language- extra-class"><pre class="language-text"><code>
               None     &lt;-&gt;     NULL
                int      &lt;-&gt;     INTEGER/INT
                float    &lt;-&gt;     REAL/FLOAT
                str      &lt;-&gt;     TEXT/VARCHAR(n)
                bytes    &lt;-&gt;     BLOB

</code></pre></div><h2 id="accessing-mysql-database-using-mysqldb"><a href="#accessing-mysql-database-using-mysqldb" class="header-anchor">#</a> Accessing MySQL database using MySQLdb</h2> <p>The first thing you need to do is create a connection to the database using the connect method. After that, you will need a cursor that will operate with that connection.</p> <p>Use the execute method of the cursor to interact with the database, and every once in a while, commit the changes using the commit method of the connection object.</p> <p>Once everything is done, don't forget to close the cursor and the connection.</p> <p>Here is a Dbconnect class with everything you'll need.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> MySQLdb

<span class="token keyword">class</span> <span class="token class-name">Dbconnect</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>dbconection <span class="token operator">=</span> MySQLdb<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'host_example'</span><span class="token punctuation">,</span>
                                           port<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'port_example'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                           user<span class="token operator">=</span><span class="token string">'user_example'</span><span class="token punctuation">,</span>
                                           passwd<span class="token operator">=</span><span class="token string">'pass_example'</span><span class="token punctuation">,</span>
                                           db<span class="token operator">=</span><span class="token string">'schema_example'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>dbcursor <span class="token operator">=</span> self<span class="token punctuation">.</span>dbconection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">commit_db</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>dbconection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">close_db</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>dbcursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>dbconection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Interacting with the database is simple. After creating the object, just use the execute method.</p> <div class="language-py extra-class"><pre class="language-py"><code>db <span class="token operator">=</span> Dbconnect<span class="token punctuation">(</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>dbcursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'SELECT * FROM %s'</span> <span class="token operator">%</span> <span class="token string">'table_example'</span><span class="token punctuation">)</span>

</code></pre></div><p>If you want to call a stored procedure, use the following syntax. Note that the parameters list is optional.</p> <div class="language-py extra-class"><pre class="language-py"><code>db <span class="token operator">=</span> Dbconnect<span class="token punctuation">(</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>callproc<span class="token punctuation">(</span><span class="token string">'stored_procedure_name'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>parameters<span class="token punctuation">]</span> <span class="token punctuation">)</span>

</code></pre></div><p>After the query is done, you can access the results multiple ways. The cursor object is a generator that can fetch all the results or be looped.</p> <div class="language-py extra-class"><pre class="language-py"><code>results <span class="token operator">=</span> db<span class="token punctuation">.</span>dbcursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> individual_row <span class="token keyword">in</span> results<span class="token punctuation">:</span>
    first_field <span class="token operator">=</span> individual_row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

</code></pre></div><p>If you want a loop using directly the generator:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">for</span> individual_row <span class="token keyword">in</span> db<span class="token punctuation">.</span>dbcursor<span class="token punctuation">:</span>
    first_field <span class="token operator">=</span> individual_row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

</code></pre></div><p>If you want to commit changes to the database:</p> <div class="language-py extra-class"><pre class="language-py"><code>db<span class="token punctuation">.</span>commit_db<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>If you want to close the cursor and the connection:</p> <div class="language-py extra-class"><pre class="language-py"><code>db<span class="token punctuation">.</span>close_db<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="connection"><a href="#connection" class="header-anchor">#</a> Connection</h2> <p><strong>Creating a connection</strong></p> <p>According to PEP 249, the connection to a database should be established using a <code>connect()</code> constructor, which returns a <code>Connection</code> object. The arguments for this constructor are database dependent. Refer to the database specific topics for the relevant arguments.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> MyDBAPI

con <span class="token operator">=</span> MyDBAPI<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token operator">*</span>database_dependent_args<span class="token punctuation">)</span>

</code></pre></div><p>This connection object has four methods:</p> <p><strong>1: close</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>con<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Closes the connection instantly. Note that the connection is automatically closed if the <code>Connection.__del___</code> method is called. Any pending transactions will implicitely be rolled back.</p> <p><strong>2: commit</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>con<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Commits any pending transaction the to database.</p> <p><strong>3: rollback</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>con<span class="token punctuation">.</span>rollback<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Rolls back to the start of any pending transaction. In other words: this cancels any non-committed transaction to the database.</p> <p><strong>4: cursor</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>cur <span class="token operator">=</span> con<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Returns a <code>Cursor</code> object. This is used to do transactions on the database.</p> <h2 id="postgresql-database-access-using-psycopg2"><a href="#postgresql-database-access-using-psycopg2" class="header-anchor">#</a> PostgreSQL Database access using psycopg2</h2> <p><strong><strong>psycopg2</strong></strong> is the most popular PostgreSQL database adapter that is both lightweight and efficient. It is the current implementation of the PostgreSQL adapter.</p> <blockquote></blockquote> <p>Its main features are the complete implementation of the Python DB API
2.0 specification and the thread safety (several threads can share the same connection)</p> <h3 id="establishing-a-connection-to-the-database-and-creating-a-table"><a href="#establishing-a-connection-to-the-database-and-creating-a-table" class="header-anchor">#</a> Establishing a connection to the database and creating a table</h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> psycopg2

<span class="token comment"># Establish a connection to the database.</span>
<span class="token comment"># Replace parameter values with database credentials.</span>
conn <span class="token operator">=</span> psycopg2<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>database<span class="token operator">=</span><span class="token string">&quot;testpython&quot;</span><span class="token punctuation">,</span> 
                        user<span class="token operator">=</span><span class="token string">&quot;postgres&quot;</span><span class="token punctuation">,</span>
                        host<span class="token operator">=</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
                        password<span class="token operator">=</span><span class="token string">&quot;abc123&quot;</span><span class="token punctuation">,</span>
                        port<span class="token operator">=</span><span class="token string">&quot;5432&quot;</span><span class="token punctuation">)</span> 

<span class="token comment"># Create a cursor. The cursor allows you to execute database queries. </span>
cur <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Create a table. Initialise the table name, the column names and data type. </span>
cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;CREATE TABLE FRUITS (
                    id          INT ,
                    fruit_name  TEXT,
                    color       TEXT,
                    price       REAL
            )&quot;&quot;&quot;</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="inserting-data-into-the-table"><a href="#inserting-data-into-the-table" class="header-anchor">#</a> Inserting data into the table:</h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># After creating the table as shown above, insert values into it.</span>
cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;INSERT INTO FRUITS (id, fruit_name, color, price)
               VALUES (1, 'Apples', 'green', 1.00)&quot;&quot;&quot;</span><span class="token punctuation">)</span>

cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;INSERT INTO FRUITS (id, fruit_name, color, price)
               VALUES (1, 'Bananas', 'yellow', 0.80)&quot;&quot;&quot;</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="retrieving-table-data"><a href="#retrieving-table-data" class="header-anchor">#</a> Retrieving table data:</h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># Set up a query and execute it </span>
cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;SELECT id, fruit_name, color, price 
             FROM fruits&quot;&quot;&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Fetch the data </span>
rows <span class="token operator">=</span> cur<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Do stuff with the data</span>
<span class="token keyword">for</span> row <span class="token keyword">in</span> rows<span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">&quot;ID = {} &quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span> <span class="token string">&quot;FRUIT NAME = {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;COLOR = {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;PRICE = {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>The output of the above would be:</p> <div class="language-py extra-class"><pre class="language-py"><code>ID <span class="token operator">=</span> <span class="token number">1</span> 
NAME <span class="token operator">=</span> Apples
COLOR <span class="token operator">=</span> green
PRICE <span class="token operator">=</span> <span class="token number">1.0</span>

ID <span class="token operator">=</span> <span class="token number">2</span> 
NAME <span class="token operator">=</span> Bananas
COLOR <span class="token operator">=</span> yellow
PRICE <span class="token operator">=</span> <span class="token number">0.8</span>

</code></pre></div><p>And so, there you go, you now know half of
all you need to know about <strong><strong>psycopg2</strong></strong>! 😃</p> <h2 id="oracle-database"><a href="#oracle-database" class="header-anchor">#</a> Oracle database</h2> <p><strong>Pre-requisites:</strong></p> <ul><li>cx_Oracle package - See <a href="https://pypi.python.org/pypi/cx_Oracle/5.2.1" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for all versions</li> <li>Oracle instant client - For <a href="http://www.oracle.com/technetwork/topics/winx64soft-089540.html" target="_blank" rel="noopener noreferrer">Windows x64<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.html" target="_blank" rel="noopener noreferrer">Linux x64<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><strong>Setup:</strong></p> <li>
Install the cx_Oracle package as:
`sudo rpm -i <YOUR_PACKAGE_FILENAME>`
</YOUR_PACKAGE_FILENAME></li> <li>
Extract the Oracle instant client and set environment variables as:
</li> <div class="language-py extra-class"><pre class="language-py"><code>ORACLE_HOME<span class="token operator">=</span><span class="token operator">&lt;</span>PATH_TO_INSTANTCLIENT<span class="token operator">&gt;</span>
PATH<span class="token operator">=</span>$ORACLE_HOME<span class="token punctuation">:</span>$PATH
LD_LIBRARY_PATH<span class="token operator">=</span><span class="token operator">&lt;</span>PATH_TO_INSTANTCLIENT<span class="token operator">&gt;</span><span class="token punctuation">:</span>$LD_LIBRARY_PATH

</code></pre></div><p><strong>Creating a connection:</strong></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cx_Oracle

<span class="token keyword">class</span> <span class="token class-name">OraExec</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    _db_connection <span class="token operator">=</span> <span class="token boolean">None</span>
    _db_cur <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_db_connection <span class="token operator">=</span> 
            cx_Oracle<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'&lt;USERNAME&gt;/&lt;PASSWORD&gt;@&lt;HOSTNAME&gt;:&lt;PORT&gt;/&lt;SERVICE_NAME&gt;'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_db_cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_db_connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Get database version:</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>ver <span class="token operator">=</span> con<span class="token punctuation">.</span>version<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> ver

</code></pre></div><p>Sample Output:
['12', '1', '0', '2', '0']</p> <p><strong>Execute query: SELECT</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>_db_cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;select * from employees order by emp_id&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> result <span class="token keyword">in</span> _db_cur<span class="token punctuation">:</span>
    <span class="token keyword">print</span> result

</code></pre></div><p>Output will be in Python tuples:</p> <p>(10, 'SYSADMIN', 'IT-INFRA', 7)</p> <p>(23, 'HR ASSOCIATE', 'HUMAN RESOURCES', 6)</p> <p><strong>Execute query: INSERT</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>_db_cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>&quot;insert into employees<span class="token punctuation">(</span>emp_id<span class="token punctuation">,</span> title<span class="token punctuation">,</span> dept<span class="token punctuation">,</span> grade<span class="token punctuation">)</span> 
                values <span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">,</span> <span class="token string">'MTS'</span><span class="token punctuation">,</span> <span class="token string">'ENGINEERING'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
_db_connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>When you perform insert/update/delete operations in an Oracle Database, the changes are only available within your session until <code>commit</code> is issued. When the updated data is committed to the database, it is then available to other users and sessions.</p> <p><strong>Execute query: INSERT using Bind variables</strong></p> <p><a href="http://www.oracle.com/technetwork/articles/dsl/python-091105.html" target="_blank" rel="noopener noreferrer">Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Bind variables enable you to re-execute statements with new values, without the overhead of re-parsing the statement. Bind variables improve code re-usability, and can reduce the risk of SQL Injection attacks.</p> <div class="language-py extra-class"><pre class="language-py"><code>rows <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;First&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;Second&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Third&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">]</span>
_db_cur<span class="token punctuation">.</span>bindarraysize <span class="token operator">=</span> <span class="token number">3</span>
_db_cur<span class="token punctuation">.</span>setinputsizes<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
_db_cur<span class="token punctuation">.</span>executemany<span class="token punctuation">(</span><span class="token string">&quot;insert into mytab(id, data) values (:1, :2)&quot;</span><span class="token punctuation">,</span> rows<span class="token punctuation">)</span>
_db_connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Close connection:</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>_db_connection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>The close() method closes the connection. Any connections not explicitly closed will be automatically released when the script ends.</p> <h2 id="using-sqlalchemy"><a href="#using-sqlalchemy" class="header-anchor">#</a> Using sqlalchemy</h2> <p>To use sqlalchemy for database:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> create_engine
<span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>url <span class="token keyword">import</span> URL


url <span class="token operator">=</span> URL<span class="token punctuation">(</span>drivername<span class="token operator">=</span><span class="token string">'mysql'</span><span class="token punctuation">,</span>
          username<span class="token operator">=</span><span class="token string">'user'</span><span class="token punctuation">,</span>
          password<span class="token operator">=</span><span class="token string">'passwd'</span><span class="token punctuation">,</span>
          host<span class="token operator">=</span><span class="token string">'host'</span><span class="token punctuation">,</span>
          database<span class="token operator">=</span><span class="token string">'db'</span><span class="token punctuation">)</span>

engine <span class="token operator">=</span> create_engine<span class="token punctuation">(</span>url<span class="token punctuation">)</span>  <span class="token comment"># sqlalchemy engine</span>

</code></pre></div><p>Now this engine can be used:
e.g. with pandas to fetch dataframes directly from mysql</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

con <span class="token operator">=</span> engine<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span>
dataframe <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_sql<span class="token punctuation">(</span>sql<span class="token operator">=</span>query<span class="token punctuation">,</span> con<span class="token operator">=</span>con<span class="token punctuation">)</span>

</code></pre></div><h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>Python can handle many different types of databases. For each of these types a different API exists. So encourage similarity between those different API's, PEP 249 has been introduced.</p> <blockquote></blockquote> <p>This API has been defined to encourage similarity between the Python modules that are used to access databases. By doing this, we hope to achieve a consistency leading to more easily understood modules, code that is generally more portable across databases, and a broader reach of database connectivity from Python. <a href="https://www.python.org/dev/peps/pep-0249/" target="_blank" rel="noopener noreferrer">PEP-249<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/python/database-access.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/python/cli-subcommands-with-precise-help-output.html" class="prev">
        CLI subcommands with precise help output
      </a></span> <span class="next"><a href="/python/connecting-python-to-sql-server.html">
        Connecting Python to SQL Server
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2686.7799d462.js" defer></script>
  </body>
</html>
