<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python - Files &amp; Folders I/O</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="File modes, Reading a file line-by-line, Iterate files (recursively), Getting the full contents of a file, Writing to a file, Check whether a file or path exists, Random File Access Using mmap, Copying contents of one file to a different file, Copy a directory tree, Read a file between a range of lines, Replacing text in a file, Checking if a file is empty">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Python - Files & Folders I/O">
    <meta property="og:description" content="File modes, Reading a file line-by-line, Iterate files (recursively), Getting the full contents of a file, Writing to a file, Check whether a file or path exists, Random File Access Using mmap, Copying contents of one file to a different file, Copy a directory tree, Read a file between a range of lines, Replacing text in a file, Checking if a file is empty">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/python/files-folders-i-o.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Python - Files & Folders I/O">
    <meta name="twitter:description" content="File modes, Reading a file line-by-line, Iterate files (recursively), Getting the full contents of a file, Writing to a file, Check whether a file or path exists, Random File Access Using mmap, Copying contents of one file to a different file, Copy a directory tree, Read a file between a range of lines, Replacing text in a file, Checking if a file is empty">
    <meta name="twitter:url" content="/python/files-folders-i-o.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2704.dde18c92.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/python/getting-started-with-python-language.html" class="sidebar-link">Getting started with Python Language</a></li><li><a href="/python/python-data-types.html" class="sidebar-link">Python Data Types</a></li><li><a href="/python/indentation.html" class="sidebar-link">Indentation</a></li><li><a href="/python/comments-and-documentation.html" class="sidebar-link">Comments and Documentation</a></li><li><a href="/python/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/python/enum.html" class="sidebar-link">Enum</a></li><li><a href="/python/set.html" class="sidebar-link">Set</a></li><li><a href="/python/simple-mathematical-operators.html" class="sidebar-link">Simple Mathematical Operators</a></li><li><a href="/python/bitwise-operators.html" class="sidebar-link">Bitwise Operators</a></li><li><a href="/python/boolean-operators.html" class="sidebar-link">Boolean Operators</a></li><li><a href="/python/operator-precedence.html" class="sidebar-link">Operator Precedence</a></li><li><a href="/python/variable-scope-and-binding.html" class="sidebar-link">Variable Scope and Binding</a></li><li><a href="/python/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/python/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/python/loops.html" class="sidebar-link">Loops</a></li><li><a href="/python/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/python/multidimensional-arrays.html" class="sidebar-link">Multidimensional arrays</a></li><li><a href="/python/dictionary.html" class="sidebar-link">Dictionary</a></li><li><a href="/python/list.html" class="sidebar-link">List</a></li><li><a href="/python/list-comprehensions.html" class="sidebar-link">List Comprehensions</a></li><li><a href="/python/list-slicing-selecting-parts-of-lists.html" class="sidebar-link">List slicing (selecting parts of lists)</a></li><li><a href="/python/groupby.html" class="sidebar-link">groupby()</a></li><li><a href="/python/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/python/linked-list-node.html" class="sidebar-link">Linked List Node</a></li><li><a href="/python/filter.html" class="sidebar-link">Filter</a></li><li><a href="/python/heapq.html" class="sidebar-link">Heapq</a></li><li><a href="/python/tuple.html" class="sidebar-link">Tuple</a></li><li><a href="/python/basic-input-and-output.html" class="sidebar-link">Basic Input and Output</a></li><li><a href="/python/files-folders-i-o.html" aria-current="page" class="active sidebar-link">Files &amp; Folders I/O</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#file-modes" class="sidebar-link">File modes</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#reading-a-file-line-by-line" class="sidebar-link">Reading a file line-by-line</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#iterate-files-recursively" class="sidebar-link">Iterate files (recursively)</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#getting-the-full-contents-of-a-file" class="sidebar-link">Getting the full contents of a file</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#writing-to-a-file" class="sidebar-link">Writing to a file</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#check-whether-a-file-or-path-exists" class="sidebar-link">Check whether a file or path exists</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#random-file-access-using-mmap" class="sidebar-link">Random File Access Using mmap</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#copying-contents-of-one-file-to-a-different-file" class="sidebar-link">Copying contents of one file to a different file</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#copy-a-directory-tree" class="sidebar-link">Copy a directory tree</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#read-a-file-between-a-range-of-lines" class="sidebar-link">Read a file between a range of lines</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#replacing-text-in-a-file" class="sidebar-link">Replacing text in a file</a></li><li class="sidebar-sub-header"><a href="/python/files-folders-i-o.html#checking-if-a-file-is-empty" class="sidebar-link">Checking if a file is empty</a></li></ul></li><li><a href="/python/os-path.html" class="sidebar-link">os.path</a></li><li><a href="/python/iterables-and-iterators.html" class="sidebar-link">Iterables and Iterators</a></li><li><a href="/python/functions.html" class="sidebar-link">Functions</a></li><li><a href="/python/defining-functions-with-list-arguments.html" class="sidebar-link">Defining functions with list arguments</a></li><li><a href="/python/functional-programming-in-python.html" class="sidebar-link">Functional Programming in Python</a></li><li><a href="/python/partial-functions.html" class="sidebar-link">Partial functions</a></li><li><a href="/python/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/python/classes.html" class="sidebar-link">Classes</a></li><li><a href="/python/metaclasses.html" class="sidebar-link">Metaclasses</a></li><li><a href="/python/string-formatting.html" class="sidebar-link">String Formatting</a></li><li><a href="/python/string-methods.html" class="sidebar-link">String Methods</a></li><li><a href="/python/using-loops-within-functions.html" class="sidebar-link">Using loops within functions</a></li><li><a href="/python/importing-modules.html" class="sidebar-link">Importing modules</a></li><li><a href="/python/difference-between-module-and-package.html" class="sidebar-link">Difference between Module and Package</a></li><li><a href="/python/math-module.html" class="sidebar-link">Math Module</a></li><li><a href="/python/complex-math.html" class="sidebar-link">Complex math</a></li><li><a href="/python/collections-module.html" class="sidebar-link">Collections module</a></li><li><a href="/python/operator-module.html" class="sidebar-link">Operator module</a></li><li><a href="/python/json-module.html" class="sidebar-link">JSON Module</a></li><li><a href="/python/sqlite3-module.html" class="sidebar-link">Sqlite3 Module</a></li><li><a href="/python/the-os-module.html" class="sidebar-link">The os Module</a></li><li><a href="/python/the-locale-module.html" class="sidebar-link">The locale Module</a></li><li><a href="/python/itertools-module.html" class="sidebar-link">Itertools Module</a></li><li><a href="/python/asyncio-module.html" class="sidebar-link">Asyncio Module</a></li><li><a href="/python/random-module.html" class="sidebar-link">Random module</a></li><li><a href="/python/functools-module.html" class="sidebar-link">Functools Module</a></li><li><a href="/python/the-dis-module.html" class="sidebar-link">The dis module</a></li><li><a href="/python/the-base64-module.html" class="sidebar-link">The base64 Module</a></li><li><a href="/python/queue-module.html" class="sidebar-link">Queue Module</a></li><li><a href="/python/deque-module.html" class="sidebar-link">Deque Module</a></li><li><a href="/python/webbrowser-module.html" class="sidebar-link">Webbrowser Module</a></li><li><a href="/python/tkinter.html" class="sidebar-link">tkinter</a></li><li><a href="/python/pyautogui-module.html" class="sidebar-link">pyautogui module</a></li><li><a href="/python/indexing-and-slicing.html" class="sidebar-link">Indexing and Slicing</a></li><li><a href="/python/plotting-with-matplotlib.html" class="sidebar-link">Plotting with Matplotlib</a></li><li><a href="/python/graph-tool.html" class="sidebar-link">graph-tool</a></li><li><a href="/python/generators.html" class="sidebar-link">Generators</a></li><li><a href="/python/reduce.html" class="sidebar-link">Reduce</a></li><li><a href="/python/map-function.html" class="sidebar-link">Map Function</a></li><li><a href="/python/exponentiation.html" class="sidebar-link">Exponentiation</a></li><li><a href="/python/searching.html" class="sidebar-link">Searching</a></li><li><a href="/python/sorting-minimum-and-maximum.html" class="sidebar-link">Sorting, Minimum and Maximum</a></li><li><a href="/python/counting.html" class="sidebar-link">Counting</a></li><li><a href="/python/the-print-function.html" class="sidebar-link">The Print Function</a></li><li><a href="/python/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (Regex)</a></li><li><a href="/python/copying-data.html" class="sidebar-link">Copying data</a></li><li><a href="/python/context-managers-with-statement.html" class="sidebar-link">Context Managers (“with” Statement)</a></li><li><a href="/python/the-name-special-variable.html" class="sidebar-link">The _name_ special variable</a></li><li><a href="/python/checking-path-existence-and-permissions.html" class="sidebar-link">Checking Path Existence and Permissions</a></li><li><a href="/python/creating-python-packages.html" class="sidebar-link">Creating Python packages</a></li><li><a href="/python/usage-of-pip-module-pypi-package-manager.html" class="sidebar-link">Usage of &quot;pip&quot; module: PyPI Package Manager</a></li><li><a href="/python/pip-pypi-package-manager.html" class="sidebar-link">pip: PyPI Package Manager</a></li><li><a href="/python/parsing-command-line-arguments.html" class="sidebar-link">Parsing Command Line arguments</a></li><li><a href="/python/subprocess-library.html" class="sidebar-link">Subprocess Library</a></li><li><a href="/python/setup-py.html" class="sidebar-link">setup.py</a></li><li><a href="/python/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/python/type-hints.html" class="sidebar-link">Type Hints</a></li><li><a href="/python/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/python/raise-custom-errors-exceptions.html" class="sidebar-link">Raise Custom Errors / Exceptions</a></li><li><a href="/python/commonwealth-exceptions.html" class="sidebar-link">Commonwealth Exceptions</a></li><li><a href="/python/urllib.html" class="sidebar-link">urllib</a></li><li><a href="/python/web-scraping-with-python.html" class="sidebar-link">Web scraping with Python</a></li><li><a href="/python/html-parsing.html" class="sidebar-link">HTML Parsing</a></li><li><a href="/python/manipulating-xml.html" class="sidebar-link">Manipulating XML</a></li><li><a href="/python/python-requests-post.html" class="sidebar-link">Python Requests Post</a></li><li><a href="/python/distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/python/property-objects.html" class="sidebar-link">Property Objects</a></li><li><a href="/python/overloading.html" class="sidebar-link">Overloading</a></li><li><a href="/python/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/python/method-overriding.html" class="sidebar-link">Method Overriding</a></li><li><a href="/python/user-defined-methods.html" class="sidebar-link">User-Defined Methods</a></li><li><a href="/python/string-representations-of-class-instances-str-and-repr-methods.html" class="sidebar-link">String representations of class instances: _str and repr_ methods</a></li><li><a href="/python/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/python/reading-and-writing-csv.html" class="sidebar-link">Reading and Writing CSV</a></li><li><a href="/python/writing-to-csv-from-string-or-list.html" class="sidebar-link">Writing to CSV from String or List</a></li><li><a href="/python/dynamic-code-execution-with-exec-and-eval.html" class="sidebar-link">Dynamic code execution with exec and eval</a></li><li><a href="/python/pyinstaller-distributing-python-code.html" class="sidebar-link">PyInstaller - Distributing Python Code</a></li><li><a href="/python/data-visualization-with-python.html" class="sidebar-link">Data Visualization with Python</a></li><li><a href="/python/the-interpreter-command-line-console.html" class="sidebar-link">The Interpreter (Command Line Console)</a></li><li><a href="/python/args-and-kwargs.html" class="sidebar-link">args and *kwargs</a></li><li><a href="/python/garbage-collection.html" class="sidebar-link">Garbage Collection</a></li><li><a href="/python/pickle-data-serialisation.html" class="sidebar-link">Pickle data serialisation</a></li><li><a href="/python/binary-data.html" class="sidebar-link">Binary Data</a></li><li><a href="/python/idioms.html" class="sidebar-link">Idioms</a></li><li><a href="/python/data-serialization.html" class="sidebar-link">Data Serialization</a></li><li><a href="/python/multiprocessing.html" class="sidebar-link">Multiprocessing</a></li><li><a href="/python/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/python/processes-and-threads.html" class="sidebar-link">Processes and Threads</a></li><li><a href="/python/python-concurrency.html" class="sidebar-link">Python concurrency</a></li><li><a href="/python/parallel-computation.html" class="sidebar-link">Parallel computation</a></li><li><a href="/python/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/python/websockets.html" class="sidebar-link">Websockets</a></li><li><a href="/python/sockets-and-message-encryption-decryption-between-client-and-server.html" class="sidebar-link">Sockets And Message Encryption/Decryption Between Client and Server</a></li><li><a href="/python/python-networking.html" class="sidebar-link">Python Networking</a></li><li><a href="/python/python-http-server.html" class="sidebar-link">Python HTTP Server</a></li><li><a href="/python/flask.html" class="sidebar-link">Flask</a></li><li><a href="/python/introduction-to-rabbitmq-using-amqpstorm.html" class="sidebar-link">Introduction to RabbitMQ using AMQPStorm</a></li><li><a href="/python/descriptor.html" class="sidebar-link">Descriptor</a></li><li><a href="/python/tempfile-namedtemporaryfile.html" class="sidebar-link">tempfile NamedTemporaryFile</a></li><li><a href="/python/input-subset-and-output-external-data-files-using-pandas.html" class="sidebar-link">Input, Subset and Output External Data Files using Pandas</a></li><li><a href="/python/unzipping-files.html" class="sidebar-link">Unzipping Files</a></li><li><a href="/python/working-with-zip-archives.html" class="sidebar-link">Working with ZIP archives</a></li><li><a href="/python/getting-start-with-gzip.html" class="sidebar-link">getting start with GZip</a></li><li><a href="/python/stack.html" class="sidebar-link">Stack</a></li><li><a href="/python/working-around-the-global-interpreter-lock-gil.html" class="sidebar-link">Working around the Global Interpreter Lock (GIL)</a></li><li><a href="/python/deployment.html" class="sidebar-link">Deployment</a></li><li><a href="/python/logging.html" class="sidebar-link">Logging</a></li><li><a href="/python/web-server-gateway-interface-wsgi.html" class="sidebar-link">Web Server Gateway Interface (WSGI)</a></li><li><a href="/python/python-server-sent-events.html" class="sidebar-link">Python Server Sent Events</a></li><li><a href="/python/alternatives-to-switch-statement-from-other-languages.html" class="sidebar-link">Alternatives to switch statement from other languages</a></li><li><a href="/python/list-destructuring-aka-packing-and-unpacking.html" class="sidebar-link">List destructuring (aka packing and unpacking)</a></li><li><a href="/python/accessing-python-source-code-and-bytecode.html" class="sidebar-link">Accessing Python source code and bytecode</a></li><li><a href="/python/mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/python/attribute-access.html" class="sidebar-link">Attribute Access</a></li><li><a href="/python/arcpy.html" class="sidebar-link">ArcPy</a></li><li><a href="/python/abstract-base-classes-abc.html" class="sidebar-link">Abstract Base Classes (abc)</a></li><li><a href="/python/plugin-and-extension-classes.html" class="sidebar-link">Plugin and Extension Classes</a></li><li><a href="/python/immutable-datatypes-int-float-str-tuple-and-frozensets.html" class="sidebar-link">Immutable datatypes(int, float, str, tuple and frozensets)</a></li><li><a href="/python/incompatibilities-moving-from-python-2-to-python-3.html" class="sidebar-link">Incompatibilities moving from Python 2 to Python 3</a></li><li><a href="/python/2to3-tool.html" class="sidebar-link">2to3 tool</a></li><li><a href="/python/non-official-python-implementations.html" class="sidebar-link">Non-official Python implementations</a></li><li><a href="/python/abstract-syntax-tree.html" class="sidebar-link">Abstract syntax tree</a></li><li><a href="/python/unicode-and-bytes.html" class="sidebar-link">Unicode and bytes</a></li><li><a href="/python/python-serial-communication-pyserial.html" class="sidebar-link">Python Serial Communication (pyserial)</a></li><li><a href="/python/neo4j-and-cypher-using-py2neo.html" class="sidebar-link">Neo4j and Cypher using Py2Neo</a></li><li><a href="/python/basic-curses-with-python.html" class="sidebar-link">Basic Curses with Python</a></li><li><a href="/python/templates-in-python.html" class="sidebar-link">Templates in python</a></li><li><a href="/python/pillow.html" class="sidebar-link">Pillow</a></li><li><a href="/python/the-pass-statement.html" class="sidebar-link">The pass statement</a></li><li><a href="/python/cli-subcommands-with-precise-help-output.html" class="sidebar-link">CLI subcommands with precise help output</a></li><li><a href="/python/database-access.html" class="sidebar-link">Database Access</a></li><li><a href="/python/connecting-python-to-sql-server.html" class="sidebar-link">Connecting Python to SQL Server</a></li><li><a href="/python/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/python/python-and-excel.html" class="sidebar-link">Python and Excel</a></li><li><a href="/python/turtle-graphics.html" class="sidebar-link">Turtle Graphics</a></li><li><a href="/python/python-persistence.html" class="sidebar-link">Python Persistence</a></li><li><a href="/python/design-patterns.html" class="sidebar-link">Design Patterns</a></li><li><a href="/python/hashlib.html" class="sidebar-link">hashlib</a></li><li><a href="/python/creating-a-windows-service-using-python.html" class="sidebar-link">Creating a Windows service using Python</a></li><li><a href="/python/mutable-vs-immutable-and-hashable-in-python.html" class="sidebar-link">Mutable vs Immutable (and Hashable) in Python</a></li><li><a href="/python/configparser.html" class="sidebar-link">configparser</a></li><li><a href="/python/optical-character-recognition.html" class="sidebar-link">Optical Character Recognition</a></li><li><a href="/python/virtual-environments.html" class="sidebar-link">Virtual environments</a></li><li><a href="/python/python-virtual-environment-virtualenv.html" class="sidebar-link">Python Virtual Environment - virtualenv</a></li><li><a href="/python/virtual-environment-with-virtualenvwrapper.html" class="sidebar-link">virtual environment with virtualenvwrapper</a></li><li><a href="/python/create-virtual-environment-with-virtualenvwrapper-in-windows.html" class="sidebar-link">Create virtual environment with virtualenvwrapper in windows</a></li><li><a href="/python/sys.html" class="sidebar-link">sys</a></li><li><a href="/python/chempy-python-package.html" class="sidebar-link">ChemPy - python package</a></li><li><a href="/python/pygame.html" class="sidebar-link">pygame</a></li><li><a href="/python/pyglet.html" class="sidebar-link">Pyglet</a></li><li><a href="/python/audio.html" class="sidebar-link">Audio</a></li><li><a href="/python/pyaudio.html" class="sidebar-link">pyaudio</a></li><li><a href="/python/shelve.html" class="sidebar-link">shelve</a></li><li><a href="/python/iot-programming-with-python-and-raspberry-pi.html" class="sidebar-link">IoT Programming with Python and Raspberry PI</a></li><li><a href="/python/kivy-cross-platform-python-framework-for-nui-development.html" class="sidebar-link">kivy - Cross-platform Python Framework for NUI Development</a></li><li><a href="/python/pandas-transform-preform-operations-on-groups-and-concatenate-the-results.html" class="sidebar-link">Pandas Transform: Preform operations on groups and concatenate the results</a></li><li><a href="/python/similarities-in-syntax-differences-in-meaning-python-vs-javascript.html" class="sidebar-link">Similarities in syntax, Differences in meaning: Python vs. JavaScript</a></li><li><a href="/python/call-python-from-c.html" class="sidebar-link">Call Python from C#</a></li><li><a href="/python/ctypes.html" class="sidebar-link">ctypes</a></li><li><a href="/python/writing-extensions.html" class="sidebar-link">Writing extensions</a></li><li><a href="/python/python-lex-yacc.html" class="sidebar-link">Python Lex-Yacc</a></li><li><a href="/python/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/python/py-test.html" class="sidebar-link">py.test</a></li><li><a href="/python/profiling.html" class="sidebar-link">Profiling</a></li><li><a href="/python/python-speed-of-program.html" class="sidebar-link">Python speed of program</a></li><li><a href="/python/performance-optimization.html" class="sidebar-link">Performance optimization</a></li><li><a href="/python/security-and-cryptography.html" class="sidebar-link">Security and Cryptography</a></li><li><a href="/python/secure-shell-connection-in-python.html" class="sidebar-link">Secure Shell Connection in Python</a></li><li><a href="/python/python-anti-patterns.html" class="sidebar-link">Python Anti-Patterns</a></li><li><a href="/python/common-pitfalls.html" class="sidebar-link">Common Pitfalls</a></li><li><a href="/python/hidden-features.html" class="sidebar-link">Hidden Features</a></li><li><a href="/python/date-formatting.html" class="sidebar-link">Date Formatting</a></li><li><a href="/python/ijson.html" class="sidebar-link">ijson</a></li><li><a href="/python/django.html" class="sidebar-link">Django</a></li><li><a href="/python/code-blocks-execution-frames-and-namespaces.html" class="sidebar-link">Code blocks, execution frames, and namespaces</a></li><li><a href="/python/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="files-folders-i-o"><a href="#files-folders-i-o" class="header-anchor">#</a> Files &amp; Folders I/O</h1> <p>When it comes to storing, reading, or communicating data, working with the files of an operating system is both necessary and easy with Python. Unlike other languages where file input and output requires complex reading and writing objects, Python simplifies the process only needing commands to open, read/write and close the file. This topic explains how Python can interface with files on the operating system.</p> <h2 id="file-modes"><a href="#file-modes" class="header-anchor">#</a> File modes</h2> <p>There are different modes you can open a file with, specified by the <code>mode</code> parameter. These include:</p> <li><p>`'r'` - reading mode. The default. It allows you only to read the
file, not to modify it. When using this mode the file must exist.</p></li> <li>
`'w'` - writing mode. It will create a new file if it does not exist, otherwise will erase the file and allow you to write to it.
</li> <li>
`'a'` - append mode. It will write data to the end of the file. It does not erase the file, and the file must exist for this mode.
</li> <li>
`'rb'` - reading mode in binary. This is similar to `r` except that the reading is forced in binary mode. This is also a default choice.
</li> <li>
`'r+'` - reading mode plus writing mode at the same time. This allows you to read and write into files at the same time without having to use `r` and `w`.
</li> <li>
`'rb+'` - reading and writing mode in binary. The same as `r+` except the data is in binary
</li> <li>
`'wb'` - writing mode in binary. The same as `w` except the data is in binary.
</li> <li>
`'w+'` - writing and reading mode. The exact same as `r+` but if the file does not exist, a new one is made. Otherwise, the file is overwritten.
</li> <li>
`'wb+'` - writing and reading mode in binary mode. The same as `w+` but the data is in binary.
</li> <li>
`'ab'` - appending in binary mode. Similar to `a` except that the data is in binary.
</li> <li>
`'a+'` - appending and reading mode. Similar to `w+` as it will create a new file if the file does not exist. Otherwise, the file pointer is at the end of the file if it exists.
</li> <li>
`'ab+'` - appending and reading mode in binary. The same as `a+` except that the data is in binary.
<div class="language-py extra-class"><pre class="language-py"><code> <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
     f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
     f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>filedata<span class="token punctuation">)</span>
 <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
     f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span> <span class="token operator">+</span> newdata<span class="token punctuation">)</span>

</code></pre></div></li> <table><thead><tr><th></th> <th>r</th> <th>r+</th> <th>w</th> <th>w+</th> <th>a</th> <th>a+</th></tr></thead> <tbody><tr><td>Read</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✔</td></tr> <tr><td>Write</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✔</td> <td>✔</td> <td>✔</td></tr> <tr><td>Creates file</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✔</td> <td>✔</td></tr> <tr><td>Erases file</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td></tr> <tr><td>Initial position</td> <td>Start</td> <td>Start</td> <td>Start</td> <td>Start</td> <td>End</td> <td>End</td></tr></tbody></table> <p>Python 3 added a new mode for <code>exclusive creation</code> so that you will not accidentally truncate or overwrite and existing file.</p> <ul><li><code>'x'</code> - open for exclusive creation, will raise <code>FileExistsError</code> if the file already exists</li> <li><code>'xb'</code> - open for exclusive creation writing mode in binary. The same as <code>x</code> except the data is in binary.</li> <li><code>'x+'</code> - reading and writing mode. Similar to <code>w+</code> as it will create a new file if the file does not exist. Otherwise, will raise <code>FileExistsError</code>.</li> <li><code>'xb+'</code> - writing and reading mode. The exact same as <code>x+</code> but the data is binary</li></ul> <table><thead><tr><th></th> <th>x</th> <th>x+</th></tr></thead> <tbody><tr><td>Read</td> <td>✘</td> <td>✔</td></tr> <tr><td>Write</td> <td>✔</td> <td>✔</td></tr> <tr><td>Creates file</td> <td>✔</td> <td>✔</td></tr> <tr><td>Erases file</td> <td>✘</td> <td>✘</td></tr> <tr><td>Initial position</td> <td>Start</td> <td>Start</td></tr></tbody></table> <p>Allow one to write your file open code in a more pythonic manner:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;fname&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>
        <span class="token comment"># Work with your open file</span>
<span class="token keyword">except</span> FileExistsError<span class="token punctuation">:</span>
    <span class="token comment"># Your error handling goes here</span>

</code></pre></div><p>In Python 2 you would have done something like</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> os<span class="token punctuation">.</span>path
<span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>fname<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;fname&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fout<span class="token punctuation">:</span>
        <span class="token comment"># Work with your open file</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token comment"># Your error handling goes here</span>

</code></pre></div><h2 id="reading-a-file-line-by-line"><a href="#reading-a-file-line-by-line" class="header-anchor">#</a> Reading a file line-by-line</h2> <p>The simplest way to iterate over a file line-by-line:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> fp<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>

</code></pre></div><p><code>readline()</code> allows for more granular control over line-by-line iteration. The example below is equivalent to the one above:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        cur_line <span class="token operator">=</span> fp<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># If the result is an empty string</span>
        <span class="token keyword">if</span> cur_line <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span>
            <span class="token comment"># We have reached the end of the file</span>
            <span class="token keyword">break</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cur_line<span class="token punctuation">)</span>

</code></pre></div><p>Using the for loop iterator and readline() together is considered bad practice.</p> <p>More commonly, the <code>readlines()</code> method is used to store an iterable collection of the file's lines:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;myfile.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
    lines <span class="token operator">=</span> fp<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>lines<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Line &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> line<span class="token punctuation">)</span>

</code></pre></div><p>This would print the following:</p> <blockquote></blockquote> <p>Line 0: hello
Line 1: world</p> <h2 id="iterate-files-recursively"><a href="#iterate-files-recursively" class="header-anchor">#</a> Iterate files (recursively)</h2> <p>To iterate all files, including in sub directories, use os.walk:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> os
<span class="token keyword">for</span> root<span class="token punctuation">,</span> folders<span class="token punctuation">,</span> files <span class="token keyword">in</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span>root_dir<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> filename <span class="token keyword">in</span> files<span class="token punctuation">:</span>
        <span class="token keyword">print</span> root<span class="token punctuation">,</span> filename

</code></pre></div><p>root_dir can be &quot;.&quot; to start from current directory, or any other path to start from.</p> <p>If you also wish to get information about the file, you may use the more efficient method <a href="https://docs.python.org/3/library/os.html#os.scandir" target="_blank" rel="noopener noreferrer">os.scandir<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> like so:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">for</span> entry <span class="token keyword">in</span> os<span class="token punctuation">.</span>scandir<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> <span class="token keyword">not</span> entry<span class="token punctuation">.</span>name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> entry<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">print</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

</code></pre></div><h2 id="getting-the-full-contents-of-a-file"><a href="#getting-the-full-contents-of-a-file" class="header-anchor">#</a> Getting the full contents of a file</h2> <p>The preferred method of file i/o is to use the <code>with</code> keyword.  This will ensure the file handle is closed once the reading or writing has been completed.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> in_file<span class="token punctuation">:</span>
    content <span class="token operator">=</span> in_file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>

</code></pre></div><p>or, to handle closing the file manually, you can forgo <code>with</code> and simply call <code>close</code> yourself:</p> <div class="language-py extra-class"><pre class="language-py"><code>in_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
content <span class="token operator">=</span> in_file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
in_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>Keep in mind that without using a <code>with</code> statement, you might accidentally keep the file open in case an unexpected exception arises like so:</p> <div class="language-py extra-class"><pre class="language-py"><code>in_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
<span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;oops&quot;</span><span class="token punctuation">)</span>
in_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># This will never be called</span>

</code></pre></div><h2 id="writing-to-a-file"><a href="#writing-to-a-file" class="header-anchor">#</a> Writing to a file</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 1&quot;</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 2&quot;</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 3&quot;</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 4&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>If you open <code>myfile.txt</code>, you will see that its contents are:</p> <blockquote></blockquote> <p>Line 1Line 2Line 3Line 4</p> <p>Python doesn't automatically add line breaks, you need to do that manually:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 1\n&quot;</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 2\n&quot;</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 3\n&quot;</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;Line 4\n&quot;</span><span class="token punctuation">)</span>

</code></pre></div><blockquote></blockquote> <p>Line 1<br>
Line 2<br>
Line 3<br>
Line 4</p> <p>Do not use <code>os.linesep</code> as a line terminator when writing files opened in text mode (the default); use <code>\n</code> instead.</p> <p>If you want to specify an encoding, you simply add the <code>encoding</code> parameter to the <code>open</code> function:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'my_file.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'utf-8 text'</span><span class="token punctuation">)</span>

</code></pre></div><p>It is also possible to use the print statement to write to a file.  The mechanics are different in Python 2 vs Python 3, but the concept is the same in that you can take the output that would have gone to the screen and send it to a file instead.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'fred.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> outfile<span class="token punctuation">:</span>
    s <span class="token operator">=</span> <span class="token string">&quot;I'm Not Dead Yet!&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment"># writes to stdout</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token builtin">file</span> <span class="token operator">=</span> outfile<span class="token punctuation">)</span> <span class="token comment"># writes to outfile</span>

    <span class="token comment">#Note: it is possible to specify the file parameter AND write to the screen</span>
    <span class="token comment">#by making sure file ends up with a None value either directly or via a variable</span>
    myfile <span class="token operator">=</span> <span class="token boolean">None</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token builtin">file</span> <span class="token operator">=</span> myfile<span class="token punctuation">)</span> <span class="token comment"># writes to stdout</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">)</span>   <span class="token comment"># writes to stdout</span>

</code></pre></div><p>In Python 2 you would have done something like</p> <div class="language-py extra-class"><pre class="language-py"><code>outfile <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'fred.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> <span class="token string">&quot;I'm Not Dead Yet!&quot;</span>
<span class="token keyword">print</span> s   <span class="token comment"># writes to stdout</span>
<span class="token keyword">print</span> <span class="token operator">&gt;&gt;</span> outfile<span class="token punctuation">,</span> s   <span class="token comment"># writes to outfile</span>

</code></pre></div><p>Unlike using the write function, the print function does automatically add line breaks.</p> <h2 id="check-whether-a-file-or-path-exists"><a href="#check-whether-a-file-or-path-exists" class="header-anchor">#</a> Check whether a file or path exists</h2> <p>Employ the <a href="https://docs.python.org/glossary.html#term-eafp" target="_blank" rel="noopener noreferrer">EAFP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> coding style and <code>try</code> to open it.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> errno

<span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token comment"># File exists</span>
<span class="token keyword">except</span> IOError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token comment"># Raise the exception if it is not ENOENT (No such file or directory)</span>
    <span class="token keyword">if</span> e<span class="token punctuation">.</span>errno <span class="token operator">!=</span> errno<span class="token punctuation">.</span>ENOENT<span class="token punctuation">:</span>
        <span class="token keyword">raise</span>
    <span class="token comment"># No such file or directory</span>

</code></pre></div><p>This will also avoid race-conditions if another process deleted the file between the check and when it is used. This race condition could happen in the following cases:</p> <li>
Using the `os` module:
<div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> os
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span><span class="token string">'/path/to/some/file.txt'</span><span class="token punctuation">)</span>

</code></pre></div></li> <li>
Using `pathlib`:
<div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> pathlib
path <span class="token operator">=</span> pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">(</span><span class="token string">'/path/to/some/file.txt'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

</code></pre></div></li> <p>To check whether a given path exists or not, you can follow the above EAFP procedure, or explicitly check the path:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> os
path <span class="token operator">=</span> <span class="token string">&quot;/home/myFiles/directory1&quot;</span>

<span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">## Do stuff</span>

</code></pre></div><h2 id="random-file-access-using-mmap"><a href="#random-file-access-using-mmap" class="header-anchor">#</a> Random File Access Using mmap</h2> <p>Using the <a href="https://docs.python.org/2/library/mmap.html" target="_blank" rel="noopener noreferrer"><code>mmap</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> module allows the user to randomly access locations in a file by mapping the file into memory. This is an alternative to using normal file operations.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> mmap

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'filename.ext'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fd<span class="token punctuation">:</span>
    <span class="token comment"># 0: map the whole file</span>
    mm <span class="token operator">=</span> mmap<span class="token punctuation">.</span>mmap<span class="token punctuation">(</span>fd<span class="token punctuation">.</span>fileno<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token comment"># print characters at indices 5 through 10</span>
    <span class="token keyword">print</span> mm<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>

    <span class="token comment"># print the line starting from mm's current position</span>
    <span class="token keyword">print</span> mm<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># write a character to the 5th index</span>
    mm<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'a'</span>

    <span class="token comment"># return mm's position to the beginning of the file</span>
    mm<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token comment"># close the mmap object</span>
    mm<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="copying-contents-of-one-file-to-a-different-file"><a href="#copying-contents-of-one-file-to-a-different-file" class="header-anchor">#</a> Copying contents of one file to a different file</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>input_file<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> in_file<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span>output_file<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_file<span class="token punctuation">:</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> in_file<span class="token punctuation">:</span>
        out_file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>line<span class="token punctuation">)</span>

</code></pre></div><ul><li>Using the <code>shutil</code> module:</li></ul> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> shutil
shutil<span class="token punctuation">.</span>copyfile<span class="token punctuation">(</span>src<span class="token punctuation">,</span> dst<span class="token punctuation">)</span>

</code></pre></div><h2 id="copy-a-directory-tree"><a href="#copy-a-directory-tree" class="header-anchor">#</a> Copy a directory tree</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> shutil
source<span class="token operator">=</span><span class="token string">'//192.168.1.2/Daily Reports'</span>
destination<span class="token operator">=</span><span class="token string">'D:\\Reports\\Today'</span>
shutil<span class="token punctuation">.</span>copytree<span class="token punctuation">(</span>source<span class="token punctuation">,</span> destination<span class="token punctuation">)</span>  

</code></pre></div><p>The destination directory <strong>must not exist</strong> already.</p> <h2 id="read-a-file-between-a-range-of-lines"><a href="#read-a-file-between-a-range-of-lines" class="header-anchor">#</a> Read a file between a range of lines</h2> <p>So let's suppose you want to iterate only between some specific lines of a file</p> <p>You can make use of <code>itertools</code> for that</p> <p>This will read through the lines 13 to 20 as in python indexing starts from 0. So line number 1 is indexed as 0</p> <p>As can also read some extra lines by making use of the <code>next()</code> keyword here.</p> <p>And when you are using the file object as an iterable, please don't use the <code>readline()</code> statement here as the two techniques of traversing a file are not to be mixed together</p> <h2 id="replacing-text-in-a-file"><a href="#replacing-text-in-a-file" class="header-anchor">#</a> Replacing text in a file</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> fileinput

replacements <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Search1'</span><span class="token punctuation">:</span> <span class="token string">'Replace1'</span><span class="token punctuation">,</span>
                <span class="token string">'Search2'</span><span class="token punctuation">:</span> <span class="token string">'Replace2'</span><span class="token punctuation">}</span>

<span class="token keyword">for</span> line <span class="token keyword">in</span> fileinput<span class="token punctuation">.</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'filename.txt'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> search_for <span class="token keyword">in</span> replacements<span class="token punctuation">:</span>
        replace_with <span class="token operator">=</span> replacements<span class="token punctuation">[</span>search_for<span class="token punctuation">]</span>
        line <span class="token operator">=</span> line<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>search_for<span class="token punctuation">,</span> replace_with<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="checking-if-a-file-is-empty"><a href="#checking-if-a-file-is-empty" class="header-anchor">#</a> Checking if a file is empty</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> os
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>stat<span class="token punctuation">(</span>path_to_file<span class="token punctuation">)</span><span class="token punctuation">.</span>st_size <span class="token operator">==</span> <span class="token number">0</span>

</code></pre></div><p>or</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> os    
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getsize<span class="token punctuation">(</span>path_to_file<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span>

</code></pre></div><p>However, both will throw an exception if the file does not exist. To avoid having to catch such an error, do this:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> os
<span class="token keyword">def</span> <span class="token function">is_empty_file</span><span class="token punctuation">(</span>fpath<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">return</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>fpath<span class="token punctuation">)</span> <span class="token keyword">and</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getsize<span class="token punctuation">(</span>fpath<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span>

</code></pre></div><p>which will return a <code>bool</code> value.</p> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>file_object = open(filename [, access_mode][, buffering])</li></ul> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td>filename</td> <td>the path to your file or, if the file is in the working directory, the filename of your file</td></tr> <tr><td>access_mode</td> <td>a string value that determines how the file is opened</td></tr> <tr><td>buffering</td> <td>an integer value used for optional line buffering</td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <h3 id="avoiding-the-cross-platform-encoding-hell"><a href="#avoiding-the-cross-platform-encoding-hell" class="header-anchor">#</a> Avoiding the cross-platform Encoding Hell</h3> <p>When using Python's built-in <code>open()</code>, it is best-practice to always pass the <code>encoding</code> argument, if you intend your code to be run cross-platform.
The Reason for this, is that a system's default encoding differs from platform to platform.</p> <p>While <code>linux</code> systems do indeed use <code>utf-8</code> as default, this is <strong><strong>not</strong></strong> necessarily true for MAC and Windows.</p> <p>To check a system's default encoding, try this:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sys
sys<span class="token punctuation">.</span>getdefaultencoding<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>from any python interpreter.</p> <p>Hence, it is wise to always sepcify an encoding, to make sure the strings you're working with are encoded as what you think they are, ensuring cross-platform compatiblity.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'somefile.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'UTF-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/python/files-folders-i-o.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/python/basic-input-and-output.html" class="prev">
        Basic Input and Output
      </a></span> <span class="next"><a href="/python/os-path.html">
        os.path
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2704.dde18c92.js" defer></script>
  </body>
</html>
