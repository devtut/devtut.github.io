<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Perl - Subroutines</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Creating subroutines, Subroutines, Subroutine arguments are passed by reference (except those in signatures)">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Perl - Subroutines">
    <meta property="og:description" content="Creating subroutines, Subroutines, Subroutine arguments are passed by reference (except those in signatures)">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/perl/subroutines.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Perl - Subroutines">
    <meta name="twitter:description" content="Creating subroutines, Subroutines, Subroutine arguments are passed by reference (except those in signatures)">
    <meta name="twitter:url" content="/perl/subroutines.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2411.ff5c3fa0.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Perl</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/perl/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/perl/getting-started-with-perl-language.html" class="sidebar-link">Getting started with Perl Language</a></li><li><a href="/perl/comments.html" class="sidebar-link">Comments</a></li><li><a href="/perl/variables.html" class="sidebar-link">Variables</a></li><li><a href="/perl/interpolation-in-perl.html" class="sidebar-link">Interpolation in Perl</a></li><li><a href="/perl/true-and-false.html" class="sidebar-link">True and false</a></li><li><a href="/perl/dates-and-time.html" class="sidebar-link">Dates and Time</a></li><li><a href="/perl/control-statements.html" class="sidebar-link">Control Statements</a></li><li><a href="/perl/subroutines.html" aria-current="page" class="active sidebar-link">Subroutines</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/perl/subroutines.html#creating-subroutines" class="sidebar-link">Creating subroutines</a></li><li class="sidebar-sub-header"><a href="/perl/subroutines.html#subroutines-2" class="sidebar-link">Subroutines</a></li><li class="sidebar-sub-header"><a href="/perl/subroutines.html#subroutine-arguments-are-passed-by-reference-except-those-in-signatures" class="sidebar-link">Subroutine arguments are passed by reference (except those in signatures)</a></li></ul></li><li><a href="/perl/debug-output.html" class="sidebar-link">Debug Output</a></li><li><a href="/perl/lists.html" class="sidebar-link">Lists</a></li><li><a href="/perl/sorting.html" class="sidebar-link">Sorting</a></li><li><a href="/perl/file-i-o-reading-and-writing-files.html" class="sidebar-link">File I/O (reading and writing files)</a></li><li><a href="/perl/reading-a-file-s-content-into-a-variable.html" class="sidebar-link">Reading a file's content into a variable</a></li><li><a href="/perl/strings-and-quoting-methods.html" class="sidebar-link">Strings and quoting methods</a></li><li><a href="/perl/split-a-string-on-unquoted-separators.html" class="sidebar-link">Split a string on unquoted separators</a></li><li><a href="/perl/object-oriented-perl.html" class="sidebar-link">Object-oriented Perl</a></li><li><a href="/perl/exception-handling.html" class="sidebar-link">Exception handling</a></li><li><a href="/perl/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/perl/xml-parsing.html" class="sidebar-link">XML Parsing</a></li><li><a href="/perl/unicode.html" class="sidebar-link">Unicode</a></li><li><a href="/perl/perl-one-liners.html" class="sidebar-link">Perl one-liners</a></li><li><a href="/perl/randomness.html" class="sidebar-link">Randomness</a></li><li><a href="/perl/special-variables.html" class="sidebar-link">Special variables</a></li><li><a href="/perl/dates-and-time.html" class="sidebar-link">Dates and Time</a></li><li><a href="/perl/packages-and-modules.html" class="sidebar-link">Packages and modules</a></li><li><a href="/perl/install-perl-modules-via-cpan.html" class="sidebar-link">Install Perl modules via CPAN</a></li><li><a href="/perl/easy-way-to-check-installed-modules-on-mac-and-ubuntu.html" class="sidebar-link">Easy way to check installed modules on Mac and Ubuntu</a></li><li><a href="/perl/pack-and-unpack.html" class="sidebar-link">Pack and unpack</a></li><li><a href="/perl/perl-commands-for-windows-excel-with-win32-ole-module.html" class="sidebar-link">Perl commands for Windows Excel with Win32::OLE module</a></li><li><a href="/perl/simple-interaction-with-database-via-dbi-module.html" class="sidebar-link">Simple interaction with database via DBI module</a></li><li><a href="/perl/perl-testing.html" class="sidebar-link">Perl Testing</a></li><li><a href="/perl/dancer.html" class="sidebar-link">Dancer</a></li><li><a href="/perl/attributed-text.html" class="sidebar-link">Attributed Text</a></li><li><a href="/perl/gui-applications-in-perl.html" class="sidebar-link">GUI Applications in Perl</a></li><li><a href="/perl/memory-usage-optimization.html" class="sidebar-link">Memory usage optimization</a></li><li><a href="/perl/perl-script-debugging.html" class="sidebar-link">Perl script debugging</a></li><li><a href="/perl/perlbrew.html" class="sidebar-link">Perlbrew</a></li><li><a href="/perl/installation-of-perl.html" class="sidebar-link">Installation of Perl</a></li><li><a href="/perl/compile-perl-cpan-module-sapnwrfc-from-source-code.html" class="sidebar-link">Compile Perl cpan module sapnwrfc from source code</a></li><li><a href="/perl/best-practices.html" class="sidebar-link">Best Practices</a></li><li><a href="/perl/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="subroutines"><a href="#subroutines" class="header-anchor">#</a> Subroutines</h1> <h2 id="creating-subroutines"><a href="#creating-subroutines" class="header-anchor">#</a> Creating subroutines</h2> <p>Subroutines are created by using the keyword <code>sub</code> followed by an identifier and a code block enclosed in braces.</p> <p>You can access the arguments by using the special variable <code>@_</code>, which contains all arguments as an array.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token function"><span class="token keyword">sub</span> function_name</span> <span class="token punctuation">{</span>
    <span class="token keyword">my</span> <span class="token punctuation">(</span><span class="token variable">$arg1</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span><span class="token punctuation">,</span> <span class="token variable">@more_args</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token variable">@_</span><span class="token punctuation">;</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Since the function <code>shift</code> defaults to shifting <code>@_</code> when used inside a subroutine, it's a common pattern to extract the arguments sequentially into local variables at the beginning of a subroutine:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token function"><span class="token keyword">sub</span> function_name</span> <span class="token punctuation">{</span>
    <span class="token keyword">my</span> <span class="token variable">$arg1</span> <span class="token operator">=</span> shift<span class="token punctuation">;</span>
    <span class="token keyword">my</span> <span class="token variable">$arg2</span> <span class="token operator">=</span> shift<span class="token punctuation">;</span>
    <span class="token keyword">my</span> <span class="token variable">@more_args</span> <span class="token operator">=</span> <span class="token variable">@_</span><span class="token punctuation">;</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span>

<span class="token comment"># emulate named parameters (instead of positional)</span>
<span class="token function"><span class="token keyword">sub</span> function_name</span> <span class="token punctuation">{</span>
    <span class="token keyword">my</span> <span class="token variable">%args</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arg1 <span class="token operator">=&gt;</span> <span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token variable">@_</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">my</span> <span class="token variable">$arg1</span> <span class="token operator">=</span> <span class="token keyword">delete</span> <span class="token variable">$args</span><span class="token punctuation">{</span>arg1<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">my</span> <span class="token variable">$arg2</span> <span class="token operator">=</span> <span class="token keyword">delete</span> <span class="token variable">$args</span><span class="token punctuation">{</span>arg2<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span>

<span class="token keyword">sub</span> <span class="token punctuation">{</span>
    <span class="token keyword">my</span> <span class="token variable">$arg1</span> <span class="token operator">=</span> shift<span class="token punctuation">;</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token variable">$arg</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Alternatively, the experimental feature <code>&quot;signatures&quot;</code> can be used to unpack parameters, which are passed by value (<strong>not</strong> by reference).</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> feature <span class="token string">&quot;signatures&quot;</span><span class="token punctuation">;</span>

<span class="token function"><span class="token keyword">sub</span> function_name</span><span class="token punctuation">(</span><span class="token variable">$arg1</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span><span class="token punctuation">,</span> <span class="token variable">@more_args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Default values can be used for the parameters.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> feature <span class="token string">&quot;signatures&quot;</span><span class="token punctuation">;</span>

<span class="token function"><span class="token keyword">sub</span> function_name</span><span class="token punctuation">(</span><span class="token variable">$arg1</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>You can use any expression to give a default value to a parameter – including other parameters.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token function"><span class="token keyword">sub</span> function_name</span><span class="token punctuation">(</span><span class="token variable">$arg1</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span><span class="token operator">=</span><span class="token variable">$arg1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Note that you can't reference parameters which are defined after the current parameter – hence the following code doesn't work quite as expected.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token function"><span class="token keyword">sub</span> function_name</span><span class="token punctuation">(</span><span class="token variable">$arg1</span><span class="token operator">=</span><span class="token variable">$arg2</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">print</span> <span class="token variable">$arg1</span><span class="token punctuation">;</span>  <span class="token comment"># =&gt; &lt;nothing&gt;</span>
    <span class="token keyword">print</span> <span class="token variable">$arg2</span><span class="token punctuation">;</span>  <span class="token comment"># =&gt; 1</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="subroutines-2"><a href="#subroutines-2" class="header-anchor">#</a> Subroutines</h2> <p>Subroutines hold code. Unless specified otherwise, they are globally defined.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># Functions do not (have to) specify their argument list</span>
<span class="token function"><span class="token keyword">sub</span> returns_one</span> <span class="token punctuation">{</span>
  <span class="token comment"># Functions return the value of the last expression by default</span>
  <span class="token comment"># The return keyword here is unnecessary, but helps readability.</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># Its arguments are available in @_, however</span>
<span class="token function"><span class="token keyword">sub</span> sum</span> <span class="token punctuation">{</span>
  <span class="token keyword">my</span> <span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token keyword">my</span> <span class="token variable">$value</span> <span class="token punctuation">(</span><span class="token variable">@_</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$ret</span> <span class="token operator">+=</span> <span class="token variable">$value</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token variable">$ret</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># Perl makes an effort to make parens around argument list optional</span>
<span class="token keyword">say</span> sum <span class="token number">1</span><span class="token operator">..</span><span class="token number">3</span><span class="token punctuation">;</span>     <span class="token comment"># 6</span>

<span class="token comment"># If you treat functions as variables, the &amp; sigil is mandatory.</span>
<span class="token keyword">say</span> defined <span class="token variable">&amp;sum</span><span class="token punctuation">;</span> <span class="token comment"># 1</span>

</code></pre></div><p><a href="http://learn.perl.org/docs/keywords.html" target="_blank" rel="noopener noreferrer">Some builtins<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> such as <code>print</code> or <code>say</code> are keywords, not functions, so e.g. <code>&amp;say</code> is undefined. It also does mean that you can define them, but you will have to specify the package name to actually call them</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># This defines the function under the default package, 'main'</span>
<span class="token function"><span class="token keyword">sub</span> say</span> <span class="token punctuation">{</span>
  <span class="token comment"># This is instead the say keyword</span>
  <span class="token keyword">say</span> <span class="token string">&quot;I say, @_&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># ...so you can call it like this: </span>
main<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">say</span><span class="token punctuation">(</span><span class="token string">'wow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># I say, wow.</span>

</code></pre></div><p>Since Perl 5.18, you can also have non-global functions:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> feature <span class="token string">'lexical_subs'</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$value</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
  <span class="token comment"># Nasty code ahead</span>
  <span class="token keyword">my</span> <span class="token function"><span class="token keyword">sub</span> prod</span> <span class="token punctuation">{</span>
    <span class="token keyword">my</span> <span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token variable">$ret</span> <span class="token operator">*=</span> <span class="token variable">$_</span> <span class="token keyword">for</span> <span class="token variable">@_</span><span class="token punctuation">;</span>
    <span class="token variable">$ret</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token variable">$value</span> <span class="token operator">=</span> prod <span class="token number">1</span><span class="token operator">..</span><span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment"># 720 </span>
  <span class="token keyword">say</span> defined <span class="token variable">&amp;prod</span><span class="token punctuation">;</span> <span class="token comment"># 1</span>
<span class="token punctuation">}</span>
<span class="token keyword">say</span> defined <span class="token variable">&amp;prod</span><span class="token punctuation">;</span> <span class="token comment"># 0</span>

</code></pre></div><p>Since 5.20, you can also have named parameters.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> feature <span class="token string">'signatures'</span><span class="token punctuation">;</span>
<span class="token function"><span class="token keyword">sub</span> greet</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">say</span> <span class="token string">&quot;Hello, $name&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>This should <strong>not</strong> be confused with prototypes, a facility Perl has to let you define functions that behave like built-ins. Function prototypes must be visible at compile time and its effects can be ignored by specifying the <code>&amp;</code> sigil. Prototypes are generally considered to be an advanced feature that is best used with great care.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># This prototype makes it a compilation error to call this function with anything </span>
<span class="token comment"># that isn't an array. Additionally, arrays are automatically turned into arrayrefs</span>
<span class="token function"><span class="token keyword">sub</span> receives_arrayrefs</span><span class="token punctuation">(</span><span class="token operator">\</span><span class="token variable">@\</span><span class="token variable">@)</span> <span class="token punctuation">{</span>
   <span class="token keyword">my</span> <span class="token variable">$x</span> <span class="token operator">=</span> shift<span class="token punctuation">;</span>
   <span class="token keyword">my</span> $<span class="token regex">y = shift;
}

my @a = (1..3);
my @b =</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
receives_arrayrefs<span class="token punctuation">(</span><span class="token variable">@a</span><span class="token punctuation">,</span> <span class="token variable">@b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment"># okay,   $x = \@a, $y = \@b, @_ = ();</span>
receives_arrayrefs<span class="token punctuation">(</span><span class="token operator">\</span><span class="token variable">@a</span><span class="token punctuation">,</span> <span class="token operator">\</span><span class="token variable">@b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment"># compilation error, &quot;Type … must be array …&quot;</span>
BEGIN <span class="token punctuation">{</span> receives_arrayrefs<span class="token punctuation">(</span><span class="token operator">\</span><span class="token variable">@a</span><span class="token punctuation">,</span> <span class="token operator">\</span><span class="token variable">@b</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment"># Specify the sigil to ignore the prototypes. </span>
<span class="token variable">&amp;receives_arrayrefs</span><span class="token punctuation">(</span><span class="token operator">\</span><span class="token variable">@a</span><span class="token punctuation">,</span> <span class="token operator">\</span><span class="token variable">@b</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># okay,   $x = \@a, $y = \@b, @_ = ();</span>
<span class="token variable">&amp;receives_arrayrefs</span><span class="token punctuation">(</span><span class="token variable">@a</span><span class="token punctuation">,</span> <span class="token variable">@b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment"># ok, but $x = 1,   $y = 2,   @_ = (3,1,2,3,4);</span>

</code></pre></div><h2 id="subroutine-arguments-are-passed-by-reference-except-those-in-signatures"><a href="#subroutine-arguments-are-passed-by-reference-except-those-in-signatures" class="header-anchor">#</a> Subroutine arguments are passed by reference (except those in signatures)</h2> <p>Subroutine arguments in Perl are passed by reference, unless they are in the signature. This means that the members of the <code>@_</code> array inside the sub are just <strong>aliases</strong> to the actual arguments. In the following example, <code>$text</code> in the main program is left modified after the subroutine call because <code>$_[0]</code> inside the sub is actually just a different name for the same variable. The second invocation throws an error because a string literal is not a variable and therefore can't be modified.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> feature <span class="token string">'say'</span><span class="token punctuation">;</span>

<span class="token function"><span class="token keyword">sub</span> edit</span> <span class="token punctuation">{</span>
    <span class="token variable">$_</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=~</span> <span class="token regex">s/world/sub/</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">my</span> <span class="token variable">$text</span> <span class="token operator">=</span> <span class="token string">&quot;Hello, world!&quot;</span><span class="token punctuation">;</span>
edit<span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">say</span> <span class="token variable">$text</span><span class="token punctuation">;</span>      <span class="token comment"># Hello, sub!</span>

edit<span class="token punctuation">(</span><span class="token string">&quot;Hello, world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># Error: Modification of a read-only value attempted</span>

</code></pre></div><p>To avoid clobbering your caller's variables it is therefore important to copy <code>@_</code> to locally scoped variables (<code>my ...</code>) as described under &quot;Creating subroutines&quot;.</p> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>Subroutines get their arguments to magic variable called  <code>@_</code>. While it doesn't have to be unpacked, it's recommended, as it helps readability, and prevents accidental changes as arguments of <code>@_</code> are passed by reference (can be modified).</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/perl/subroutines.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/perl/control-statements.html" class="prev">
        Control Statements
      </a></span> <span class="next"><a href="/perl/debug-output.html">
        Debug Output
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2411.ff5c3fa0.js" defer></script>
  </body>
</html>
