<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Perl - Best Practices</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Using Perl::Critic">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Perl - Best Practices">
    <meta property="og:description" content="Using Perl::Critic">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/perl/best-practices.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Perl - Best Practices">
    <meta name="twitter:description" content="Using Perl::Critic">
    <meta name="twitter:url" content="/perl/best-practices.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2377.cfc7a8bf.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Perl</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/perl/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/perl/getting-started-with-perl-language.html" class="sidebar-link">Getting started with Perl Language</a></li><li><a href="/perl/comments.html" class="sidebar-link">Comments</a></li><li><a href="/perl/variables.html" class="sidebar-link">Variables</a></li><li><a href="/perl/interpolation-in-perl.html" class="sidebar-link">Interpolation in Perl</a></li><li><a href="/perl/true-and-false.html" class="sidebar-link">True and false</a></li><li><a href="/perl/dates-and-time.html" class="sidebar-link">Dates and Time</a></li><li><a href="/perl/control-statements.html" class="sidebar-link">Control Statements</a></li><li><a href="/perl/subroutines.html" class="sidebar-link">Subroutines</a></li><li><a href="/perl/debug-output.html" class="sidebar-link">Debug Output</a></li><li><a href="/perl/lists.html" class="sidebar-link">Lists</a></li><li><a href="/perl/sorting.html" class="sidebar-link">Sorting</a></li><li><a href="/perl/file-i-o-reading-and-writing-files.html" class="sidebar-link">File I/O (reading and writing files)</a></li><li><a href="/perl/reading-a-file-s-content-into-a-variable.html" class="sidebar-link">Reading a file's content into a variable</a></li><li><a href="/perl/strings-and-quoting-methods.html" class="sidebar-link">Strings and quoting methods</a></li><li><a href="/perl/split-a-string-on-unquoted-separators.html" class="sidebar-link">Split a string on unquoted separators</a></li><li><a href="/perl/object-oriented-perl.html" class="sidebar-link">Object-oriented Perl</a></li><li><a href="/perl/exception-handling.html" class="sidebar-link">Exception handling</a></li><li><a href="/perl/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/perl/xml-parsing.html" class="sidebar-link">XML Parsing</a></li><li><a href="/perl/unicode.html" class="sidebar-link">Unicode</a></li><li><a href="/perl/perl-one-liners.html" class="sidebar-link">Perl one-liners</a></li><li><a href="/perl/randomness.html" class="sidebar-link">Randomness</a></li><li><a href="/perl/special-variables.html" class="sidebar-link">Special variables</a></li><li><a href="/perl/dates-and-time.html" class="sidebar-link">Dates and Time</a></li><li><a href="/perl/packages-and-modules.html" class="sidebar-link">Packages and modules</a></li><li><a href="/perl/install-perl-modules-via-cpan.html" class="sidebar-link">Install Perl modules via CPAN</a></li><li><a href="/perl/easy-way-to-check-installed-modules-on-mac-and-ubuntu.html" class="sidebar-link">Easy way to check installed modules on Mac and Ubuntu</a></li><li><a href="/perl/pack-and-unpack.html" class="sidebar-link">Pack and unpack</a></li><li><a href="/perl/perl-commands-for-windows-excel-with-win32-ole-module.html" class="sidebar-link">Perl commands for Windows Excel with Win32::OLE module</a></li><li><a href="/perl/simple-interaction-with-database-via-dbi-module.html" class="sidebar-link">Simple interaction with database via DBI module</a></li><li><a href="/perl/perl-testing.html" class="sidebar-link">Perl Testing</a></li><li><a href="/perl/dancer.html" class="sidebar-link">Dancer</a></li><li><a href="/perl/attributed-text.html" class="sidebar-link">Attributed Text</a></li><li><a href="/perl/gui-applications-in-perl.html" class="sidebar-link">GUI Applications in Perl</a></li><li><a href="/perl/memory-usage-optimization.html" class="sidebar-link">Memory usage optimization</a></li><li><a href="/perl/perl-script-debugging.html" class="sidebar-link">Perl script debugging</a></li><li><a href="/perl/perlbrew.html" class="sidebar-link">Perlbrew</a></li><li><a href="/perl/installation-of-perl.html" class="sidebar-link">Installation of Perl</a></li><li><a href="/perl/compile-perl-cpan-module-sapnwrfc-from-source-code.html" class="sidebar-link">Compile Perl cpan module sapnwrfc from source code</a></li><li><a href="/perl/best-practices.html" aria-current="page" class="active sidebar-link">Best Practices</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/perl/best-practices.html#using-perl-critic" class="sidebar-link">Using Perl::Critic</a></li></ul></li><li><a href="/perl/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="best-practices"><a href="#best-practices" class="header-anchor">#</a> Best Practices</h1> <h2 id="using-perl-critic"><a href="#using-perl-critic" class="header-anchor">#</a> Using Perl::Critic</h2> <p>If you'd like to start implementing best practices, for yourself or your team, then <a href="https://metacpan.org/pod/Perl::Critic" target="_blank" rel="noopener noreferrer">Perl::Critic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is the best place to start. The module is based on the <strong><a href="http://shop.oreilly.com/product/9780596001735.do" target="_blank" rel="noopener noreferrer">Perl Best Practices<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> book by Damien Conway and does a fairly good job implementing the suggestions made therein.</p> <blockquote></blockquote> <p><strong>Note:</strong> <strong>I should mention (and Conway himself says in the book) that these are suggestions. I've found the book provides solid reasoning in most cases, though I certainly don't agree with all of them. The important thing to remember is that, whatever practices you decide to adopt, you remain consistent. The more predictable your code is, the easier it will be to maintain.</strong></p> <p>You can also try out Perl::Critic through your browser at <a href="http://perlcritic.com/" target="_blank" rel="noopener noreferrer">perlcritic.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h3> <div class="language-perl extra-class"><pre class="language-perl"><code>cpan Perl<span class="token punctuation">:</span><span class="token punctuation">:</span>Critic

</code></pre></div><p>This will install the basic ruleset and a <strong>perlcritic</strong> script that can be called from the command line.</p> <h3 id="basic-usage"><a href="#basic-usage" class="header-anchor">#</a> Basic Usage</h3> <p>The <a href="https://metacpan.org/pod/distribution/Perl-Critic/bin/perlcritic" target="_blank" rel="noopener noreferrer">CPAN doc for perlcritic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> contains full documentation, so I will only be going over the most common use cases to get you started. Basic usage is to simply call perlcritic on the file:</p> <div class="language- extra-class"><pre class="language-text"><code>
perlcritic -1 /path/to/script.pl

</code></pre></div><p>perlcritic works both on scripts and on modules. The <strong>-1</strong> refers to the severity level of the rules you want to run against the script. There are five levels that correspond to how much Perl::Critic will pick apart your code.</p> <p><strong>-5</strong> is the most gentle and will only warn about potentially dangerous problems that could cause unexpected results. <strong>-1</strong> is the most brutal and will complain about things as small as your code being tidy or not. In my experience, keeping code compliant with level 3 is good enough to keep out of danger without getting too persnickety.</p> <p>By default, any failures will list the reason and severity the rule triggers on:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>perlcritic <span class="token operator">-</span><span class="token number">3</span> <span class="token operator">--</span>verbose <span class="token number">8</span> <span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">/</span>script<span class="token operator">.</span>pl

Debugging module loaded at line <span class="token number">16</span><span class="token punctuation">,</span> column <span class="token number">1</span><span class="token operator">.</span>  You<span class="token string">'ve loaded Data::Dumper, which probably shouln'</span>t be loaded in production<span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
Private subroutine<span class="token operator">/</span>method <span class="token string">'_sub_name'</span> declared but <span class="token operator">not</span> used at line <span class="token number">58</span><span class="token punctuation">,</span> column <span class="token number">1</span><span class="token operator">.</span>  Eliminate dead code<span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
Backtick operator used at line <span class="token number">230</span><span class="token punctuation">,</span> column <span class="token number">37</span><span class="token operator">.</span>  Use IPC<span class="token punctuation">:</span><span class="token punctuation">:</span>Open3 instead<span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
Backtick operator used at line <span class="token number">327</span><span class="token punctuation">,</span> column <span class="token number">22</span><span class="token operator">.</span>  Use IPC<span class="token punctuation">:</span><span class="token punctuation">:</span>Open3 instead<span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="viewing-policies"><a href="#viewing-policies" class="header-anchor">#</a> Viewing Policies</h3> <p>You can quickly see which rules are being triggered and why by utilizing perlcritic's <strong>--verbose</strong> option:</p> <p>Setting the level to 8 will show you the rule that triggered a warning:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>perlcritic <span class="token operator">-</span><span class="token number">3</span> <span class="token operator">--</span>verbose <span class="token number">8</span> <span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">/</span>script<span class="token operator">.</span>pl

<span class="token punctuation">[</span>Bangs<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitDebuggingModules<span class="token punctuation">]</span> Debugging module loaded at line <span class="token number">16</span><span class="token punctuation">,</span> column <span class="token number">1</span><span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>Subroutines<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitUnusedPrivateSubroutines<span class="token punctuation">]</span> Private subroutine<span class="token operator">/</span>method <span class="token string">'_sub_name'</span> declared but <span class="token operator">not</span> used at line <span class="token number">58</span><span class="token punctuation">,</span> column <span class="token number">1</span><span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>InputOutput<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitBacktickOperators<span class="token punctuation">]</span> Backtick operator used at line <span class="token number">230</span><span class="token punctuation">,</span> column <span class="token number">37</span><span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>InputOutput<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitBacktickOperators<span class="token punctuation">]</span> Backtick operator used at line <span class="token number">327</span><span class="token punctuation">,</span> column <span class="token number">22</span><span class="token operator">.</span>  <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>

</code></pre></div><p>While a level of 11 will show the specific reasons why the rule exists:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>perlcritic <span class="token operator">-</span><span class="token number">3</span> <span class="token operator">--</span>verbose <span class="token number">11</span> <span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">/</span>script<span class="token operator">.</span>pl

Debugging module loaded at line <span class="token number">16</span><span class="token punctuation">,</span> near <span class="token string">'use Data::Dumper;'</span><span class="token operator">.</span>
  Bangs<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitDebuggingModules <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
    This policy prohibits loading common debugging modules like the
    Data<span class="token punctuation">:</span><span class="token punctuation">:</span>Dumper manpage<span class="token operator">.</span>

    While such modules are incredibly useful during development <span class="token operator">and</span>
    debugging<span class="token punctuation">,</span> they should probably <span class="token operator">not</span> be loaded in production <span class="token keyword">use</span><span class="token operator">.</span> If this
    policy is violated<span class="token punctuation">,</span> it probably means you forgot to remove a <span class="token string">`use
    Data::Dumper;' line that you had added when you were debugging.
Private subroutine/method '_svn_revisions_differ' declared but not used at line 58, near 'sub _sub_name {'.
  Subroutines::ProhibitUnusedPrivateSubroutines (Severity: 3)
    By convention Perl authors (like authors in many other languages)
    indicate private methods and variables by inserting a leading underscore
    before the identifier. This policy catches such subroutines which are
    not used in the file which declares them.

    This module defines a 'use' of a subroutine as a subroutine or method
    call to it (other than from inside the subroutine itself), a reference
    to it (i.e. `</span><span class="token keyword">my</span> <span class="token variable">$foo</span> <span class="token operator">=</span> <span class="token operator">\</span><span class="token variable">&amp;_foo</span><span class="token string">'), a `goto'</span> to it outside the subroutine
    itself <span class="token punctuation">(</span>i<span class="token operator">.</span>e<span class="token operator">.</span> <span class="token string">`goto &amp;_foo'), or the use of the subroutine's name as an
    even-numbered argument to `</span><span class="token keyword">use</span> overload'<span class="token operator">.</span>
Backtick operator used at line <span class="token number">230</span><span class="token punctuation">,</span> near <span class="token string">'my $filesystem_diff = join q{}, `diff $trunk_checkout $staging_checkout`;'</span><span class="token operator">.</span>
  InputOutput<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitBacktickOperators <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
    Backticks are super<span class="token operator">-</span>convenient<span class="token punctuation">,</span> especially <span class="token keyword">for</span> CGI programs<span class="token punctuation">,</span> but I find
    that they make a lot of noise by filling up STDERR with messages <span class="token keyword">when</span>
    they fail<span class="token operator">.</span> I think its better to <span class="token keyword">use</span> IPC<span class="token punctuation">:</span><span class="token punctuation">:</span>Open3 to trap all the output
    <span class="token operator">and</span> let the application decide what to <span class="token keyword">do</span> with it<span class="token operator">.</span>

        <span class="token keyword">use</span> IPC<span class="token punctuation">:</span><span class="token punctuation">:</span>Open3 <span class="token string">'open3'</span><span class="token punctuation">;</span>
        <span class="token variable">$SIG</span><span class="token punctuation">{</span>CHLD<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">'IGNORE'</span><span class="token punctuation">;</span>

        <span class="token variable">@output</span> <span class="token operator">=</span> <span class="token string">`some_command`</span><span class="token punctuation">;</span>                      <span class="token comment">#not ok</span>

        <span class="token keyword">my</span> <span class="token punctuation">(</span><span class="token variable">$writer</span><span class="token punctuation">,</span> <span class="token variable">$reader</span><span class="token punctuation">,</span> <span class="token variable">$err</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        open3<span class="token punctuation">(</span><span class="token variable">$writer</span><span class="token punctuation">,</span> <span class="token variable">$reader</span><span class="token punctuation">,</span> <span class="token variable">$err</span><span class="token punctuation">,</span> <span class="token string">'some_command'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#ok;</span>
        <span class="token variable">@output</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token variable">$reader</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">#Output here</span>
        <span class="token variable">@errors</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token variable">$err</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>     <span class="token comment">#Errors here, instead of the console</span>
Backtick operator used at line <span class="token number">327</span><span class="token punctuation">,</span> near <span class="token string">'my $output = `$cmd`;'</span><span class="token operator">.</span>
  InputOutput<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitBacktickOperators <span class="token punctuation">(</span>Severity<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
    Backticks are super<span class="token operator">-</span>convenient<span class="token punctuation">,</span> especially <span class="token keyword">for</span> CGI programs<span class="token punctuation">,</span> but I find
    that they make a lot of noise by filling up STDERR with messages <span class="token keyword">when</span>
    they fail<span class="token operator">.</span> I think its better to <span class="token keyword">use</span> IPC<span class="token punctuation">:</span><span class="token punctuation">:</span>Open3 to trap all the output
    <span class="token operator">and</span> let the application decide what to <span class="token keyword">do</span> with it<span class="token operator">.</span>

        <span class="token keyword">use</span> IPC<span class="token punctuation">:</span><span class="token punctuation">:</span>Open3 <span class="token string">'open3'</span><span class="token punctuation">;</span>
        <span class="token variable">$SIG</span><span class="token punctuation">{</span>CHLD<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">'IGNORE'</span><span class="token punctuation">;</span>

        <span class="token variable">@output</span> <span class="token operator">=</span> <span class="token string">`some_command`</span><span class="token punctuation">;</span>                      <span class="token comment">#not ok</span>

        <span class="token keyword">my</span> <span class="token punctuation">(</span><span class="token variable">$writer</span><span class="token punctuation">,</span> <span class="token variable">$reader</span><span class="token punctuation">,</span> <span class="token variable">$err</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        open3<span class="token punctuation">(</span><span class="token variable">$writer</span><span class="token punctuation">,</span> <span class="token variable">$reader</span><span class="token punctuation">,</span> <span class="token variable">$err</span><span class="token punctuation">,</span> <span class="token string">'some_command'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#ok;</span>
        <span class="token variable">@output</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token variable">$reader</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">#Output here</span>
        <span class="token variable">@errors</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token variable">$err</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>     <span class="token comment">#Errors here, instead of the console</span>

</code></pre></div><h3 id="ignoring-code"><a href="#ignoring-code" class="header-anchor">#</a> Ignoring Code</h3> <p>There will be times when you can't comply with a Perl::Critic policy. In those cases, you can wrap special comments, &quot;<strong>## use critic()</strong>&quot; and &quot;<strong>## no critic</strong>&quot;, around your code to make Perl::Critic ignore them. Simply add the rules you want to ignore in the parentheses (multiples can be separated by a comma).</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment">##no critic qw(InputOutput::ProhibitBacktickOperator)</span>
<span class="token keyword">my</span> <span class="token variable">$filesystem_diff</span> <span class="token operator">=</span> join <span class="token string">q{}</span><span class="token punctuation">,</span> <span class="token string">`diff $trunk_checkout $staging_checkout`</span><span class="token punctuation">;</span>
<span class="token comment">## use critic</span>

</code></pre></div><p>Make sure to wrap the entire code block or Critic may not recognize the ignore statement.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment">## no critic (Subroutines::ProhibitExcessComplexity)</span>
<span class="token function"><span class="token keyword">sub</span> no_time_to_refactor_this</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
<span class="token comment">## use critic</span>

</code></pre></div><p>Note that there are certain policies that are run on the document level and cannot be exempted this way. However, they can be turned off...</p> <h3 id="creating-permanent-exceptions"><a href="#creating-permanent-exceptions" class="header-anchor">#</a> Creating Permanent Exceptions</h3> <p>Using ## no critic() is nice, but as you start to adopt coding standards, you will likely want to make permanent exceptions to certain rules. You can do this by creating a <strong>.perlcriticrc</strong> configuration file.</p> <p>This file will allow you to customize not only which policies are run, but how they are run. Using it is as simple as placing the file in your home directory (in Linux, unsure if it's the same place on Windows). Or, you can specify the config file when running the command using the <strong>--profile</strong> option:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>perlcritic <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">--</span>profile<span class="token operator">=</span><span class="token operator">/</span>path<span class="token regex">/to/</span><span class="token operator">.</span>perlcriticrc <span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">/</span>script<span class="token operator">.</span>pl

</code></pre></div><p>Again, the <a href="https://metacpan.org/pod/distribution/Perl-Critic/bin/perlcritic" target="_blank" rel="noopener noreferrer">perlcritic CPAN page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has a full list of these options. I will list some examples from my own config file:</p> <p>Apply basic settings:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment">#very very harsh</span>
severity <span class="token operator">=</span> <span class="token number">1</span>
color<span class="token operator">-</span>severity<span class="token operator">-</span>medium <span class="token operator">=</span> bold yellow
color<span class="token operator">-</span>severity<span class="token operator">-</span>low <span class="token operator">=</span> yellow
color<span class="token operator">-</span>severity<span class="token operator">-</span>lowest <span class="token operator">=</span> bold blue

</code></pre></div><p>Disable a rule (note the dash in front of the policy name):</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># do not require version control numbers</span>
<span class="token punctuation">[</span><span class="token operator">-</span>Miscellanea<span class="token punctuation">:</span><span class="token punctuation">:</span>RequireRcsKeywords<span class="token punctuation">]</span>

<span class="token comment"># pod spelling is too over-zealous, disabling</span>
<span class="token punctuation">[</span><span class="token operator">-</span>Documentation<span class="token punctuation">:</span><span class="token punctuation">:</span>PodSpelling<span class="token punctuation">]</span>

</code></pre></div><p>Modifying a rule:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># do not require checking for print failure ( false positives for printing to stdout, not filehandle )</span>
<span class="token punctuation">[</span>InputOutput<span class="token punctuation">:</span><span class="token punctuation">:</span>RequireCheckedSyscalls<span class="token punctuation">]</span>
    functions <span class="token operator">=</span> open close

<span class="token comment"># Allow specific unused subroutines for moose builders</span>
<span class="token punctuation">[</span>Subroutines<span class="token punctuation">:</span><span class="token punctuation">:</span>ProhibitUnusedPrivateSubroutines<span class="token punctuation">]</span>
private_name_regex <span class="token operator">=</span> <span class="token filehandle symbol">_</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span>build_<span class="token punctuation">)</span><span class="token operator">\</span>w<span class="token operator">+</span>

</code></pre></div><h3 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h3> <p>Properly utilized, Perl::Critic can be an invaluable tool to help teams keep their coding consistent and easily maintainable no matter what best practice policies you employ.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/perl/best-practices.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/perl/compile-perl-cpan-module-sapnwrfc-from-source-code.html" class="prev">
        Compile Perl cpan module sapnwrfc from source code
      </a></span> <span class="next"><a href="/perl/contributors.html">
        The Contributors
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2377.cfc7a8bf.js" defer></script>
  </body>
</html>
