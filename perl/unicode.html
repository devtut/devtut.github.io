<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Perl - Unicode</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="The utf8 pragma: using Unicode in your sources, Create filenames, Read filenames, Command line switches for one-liners, Standard I/O, File handles, Handling invalid UTF-8">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Perl - Unicode">
    <meta property="og:description" content="The utf8 pragma: using Unicode in your sources, Create filenames, Read filenames, Command line switches for one-liners, Standard I/O, File handles, Handling invalid UTF-8">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/perl/unicode.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Perl - Unicode">
    <meta name="twitter:description" content="The utf8 pragma: using Unicode in your sources, Create filenames, Read filenames, Command line switches for one-liners, Standard I/O, File handles, Handling invalid UTF-8">
    <meta name="twitter:url" content="/perl/unicode.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2413.bb1f236f.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Perl</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/perl/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/perl/getting-started-with-perl-language.html" class="sidebar-link">Getting started with Perl Language</a></li><li><a href="/perl/comments.html" class="sidebar-link">Comments</a></li><li><a href="/perl/variables.html" class="sidebar-link">Variables</a></li><li><a href="/perl/interpolation-in-perl.html" class="sidebar-link">Interpolation in Perl</a></li><li><a href="/perl/true-and-false.html" class="sidebar-link">True and false</a></li><li><a href="/perl/dates-and-time.html" class="sidebar-link">Dates and Time</a></li><li><a href="/perl/control-statements.html" class="sidebar-link">Control Statements</a></li><li><a href="/perl/subroutines.html" class="sidebar-link">Subroutines</a></li><li><a href="/perl/debug-output.html" class="sidebar-link">Debug Output</a></li><li><a href="/perl/lists.html" class="sidebar-link">Lists</a></li><li><a href="/perl/sorting.html" class="sidebar-link">Sorting</a></li><li><a href="/perl/file-i-o-reading-and-writing-files.html" class="sidebar-link">File I/O (reading and writing files)</a></li><li><a href="/perl/reading-a-file-s-content-into-a-variable.html" class="sidebar-link">Reading a file's content into a variable</a></li><li><a href="/perl/strings-and-quoting-methods.html" class="sidebar-link">Strings and quoting methods</a></li><li><a href="/perl/split-a-string-on-unquoted-separators.html" class="sidebar-link">Split a string on unquoted separators</a></li><li><a href="/perl/object-oriented-perl.html" class="sidebar-link">Object-oriented Perl</a></li><li><a href="/perl/exception-handling.html" class="sidebar-link">Exception handling</a></li><li><a href="/perl/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/perl/xml-parsing.html" class="sidebar-link">XML Parsing</a></li><li><a href="/perl/unicode.html" aria-current="page" class="active sidebar-link">Unicode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/perl/unicode.html#the-utf8-pragma-using-unicode-in-your-sources" class="sidebar-link">The utf8 pragma: using Unicode in your sources</a></li><li class="sidebar-sub-header"><a href="/perl/unicode.html#create-filenames" class="sidebar-link">Create filenames</a></li><li class="sidebar-sub-header"><a href="/perl/unicode.html#read-filenames" class="sidebar-link">Read filenames</a></li><li class="sidebar-sub-header"><a href="/perl/unicode.html#command-line-switches-for-one-liners" class="sidebar-link">Command line switches for one-liners</a></li><li class="sidebar-sub-header"><a href="/perl/unicode.html#standard-i-o-2" class="sidebar-link">Standard I/O</a></li><li class="sidebar-sub-header"><a href="/perl/unicode.html#file-handles" class="sidebar-link">File handles</a></li><li class="sidebar-sub-header"><a href="/perl/unicode.html#handling-invalid-utf-8" class="sidebar-link">Handling invalid UTF-8</a></li></ul></li><li><a href="/perl/perl-one-liners.html" class="sidebar-link">Perl one-liners</a></li><li><a href="/perl/randomness.html" class="sidebar-link">Randomness</a></li><li><a href="/perl/special-variables.html" class="sidebar-link">Special variables</a></li><li><a href="/perl/dates-and-time.html" class="sidebar-link">Dates and Time</a></li><li><a href="/perl/packages-and-modules.html" class="sidebar-link">Packages and modules</a></li><li><a href="/perl/install-perl-modules-via-cpan.html" class="sidebar-link">Install Perl modules via CPAN</a></li><li><a href="/perl/easy-way-to-check-installed-modules-on-mac-and-ubuntu.html" class="sidebar-link">Easy way to check installed modules on Mac and Ubuntu</a></li><li><a href="/perl/pack-and-unpack.html" class="sidebar-link">Pack and unpack</a></li><li><a href="/perl/perl-commands-for-windows-excel-with-win32-ole-module.html" class="sidebar-link">Perl commands for Windows Excel with Win32::OLE module</a></li><li><a href="/perl/simple-interaction-with-database-via-dbi-module.html" class="sidebar-link">Simple interaction with database via DBI module</a></li><li><a href="/perl/perl-testing.html" class="sidebar-link">Perl Testing</a></li><li><a href="/perl/dancer.html" class="sidebar-link">Dancer</a></li><li><a href="/perl/attributed-text.html" class="sidebar-link">Attributed Text</a></li><li><a href="/perl/gui-applications-in-perl.html" class="sidebar-link">GUI Applications in Perl</a></li><li><a href="/perl/memory-usage-optimization.html" class="sidebar-link">Memory usage optimization</a></li><li><a href="/perl/perl-script-debugging.html" class="sidebar-link">Perl script debugging</a></li><li><a href="/perl/perlbrew.html" class="sidebar-link">Perlbrew</a></li><li><a href="/perl/installation-of-perl.html" class="sidebar-link">Installation of Perl</a></li><li><a href="/perl/compile-perl-cpan-module-sapnwrfc-from-source-code.html" class="sidebar-link">Compile Perl cpan module sapnwrfc from source code</a></li><li><a href="/perl/best-practices.html" class="sidebar-link">Best Practices</a></li><li><a href="/perl/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="unicode"><a href="#unicode" class="header-anchor">#</a> Unicode</h1> <h2 id="the-utf8-pragma-using-unicode-in-your-sources"><a href="#the-utf8-pragma-using-unicode-in-your-sources" class="header-anchor">#</a> The utf8 pragma: using Unicode in your sources</h2> <p>The <a href="http://perldoc.perl.org/utf8.html" target="_blank" rel="noopener noreferrer"><code>utf8</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> pragma indicates that the source code will be interpreted as UTF-8. Of course, this will only work if your text editor is also saving the source as UTF-8 encoded.</p> <p>Now, string literals can contain arbitrary Unicode characters; identifiers can also contain Unicode but only word-like characters (see <a href="http://perldoc.perl.org/perldata.html#Identifier-parsing" target="_blank" rel="noopener noreferrer">perldata<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="http://perldoc.perl.org/perlrecharclass.html#Backslash-sequences" target="_blank" rel="noopener noreferrer">perlrecharclass<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more information):</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> utf8<span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$var1</span> <span class="token operator">=</span> <span class="token string">'§я§©😄'</span><span class="token punctuation">;</span>      <span class="token comment"># works fine</span>
<span class="token keyword">my</span> $я <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>                <span class="token comment"># works since я is a word (matches \w) character</span>
<span class="token keyword">my</span> <span class="token variable">$p</span>§<span class="token number">2</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>              <span class="token comment"># does not work since § is not a word character.</span>
<span class="token keyword">say</span> <span class="token string">&quot;ya&quot;</span> <span class="token keyword">if</span> <span class="token variable">$var1</span> <span class="token operator">=~</span> <span class="token regex">/я§/</span><span class="token punctuation">;</span> <span class="token comment"># works fine (prints &quot;ya&quot;)</span>

</code></pre></div><p><strong>Note</strong>: When printing text to the terminal, make sure it supports UTF-8.*</p> <p>There may be complex and counter-intuitive relationships between output and source encoding. Running on a UTF-8 terminal, you may find that adding the <code>utf8</code> pragma seems to break things:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>$ perl <span class="token operator">-e</span> <span class="token string">'print &quot;Møøse\n&quot;'</span>
Møøse
$ perl <span class="token operator">-</span>Mutf8 <span class="token operator">-e</span> <span class="token string">'print &quot;Møøse\n&quot;'</span>
M��se
$ perl <span class="token operator">-</span>Mutf8 <span class="token operator">-</span>CO <span class="token operator">-e</span> <span class="token string">'print &quot;Møøse\n&quot;'</span>
Møøse

</code></pre></div><p>In the first case, Perl treats the string as raw bytes and prints them like that. As these bytes happen to be valid UTF-8, they look correct even though Perl doesn't really know what characters they are (e.g. <code>length(&quot;Møøse&quot;)</code> will return 7, not 5). Once you add <code>-Mutf8</code>, Perl correctly decodes the UTF-8 source to characters, but output is in Latin-1 mode by default and printing Latin-1 to a UTF-8 terminal doesn't work. Only when you switch <code>STDOUT</code> to UTF-8 using <code>-CO</code> will the output be correct.</p> <p><code>use utf8</code> doesn't affect standard I/O encoding nor file handles!</p> <h2 id="create-filenames"><a href="#create-filenames" class="header-anchor">#</a> Create filenames</h2> <p>The following examples use the UTF-8 encoding to represent filenames (and directory names) on disk. If you want to use another encoding, you should use <a href="https://metacpan.org/pod/Encode#encode" target="_blank" rel="noopener noreferrer"><code>Encode::encode(...)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> <span class="token vstring string">v5.14</span><span class="token punctuation">;</span>
<span class="token comment"># Make Perl recognize UTF-8 encoded characters in literal strings.</span>
<span class="token comment"># For this to work: Make sure your text-editor is using UTF-8, so</span>
<span class="token comment"># that bytes on disk are really UTF-8 encoded.</span>
<span class="token keyword">use</span> utf8<span class="token punctuation">;</span>

<span class="token comment"># Ensure that possible error messages printed to screen are converted to UTF-8.</span>
<span class="token comment"># For this to work: Check that your terminal emulator is using UTF-8.</span>
binmode STDOUT<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>
binmode STDERR<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>
    
<span class="token keyword">my</span> <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'æ€'</span><span class="token punctuation">;</span> <span class="token comment"># $filename is now an internally UTF-8 encoded string. </span>

<span class="token comment"># Note: in the following it is assumed that $filename has the internal UTF-8</span>
<span class="token comment">#  flag set, if $filename is pure ASCII, it will also work since its encoding</span>
<span class="token comment">#  overlaps with UTF-8. However, if it has another encoding like extended ASCII,</span>
<span class="token comment">#  $filename will be written with that encoding and not UTF-8. </span>
<span class="token comment"># Note: it is not necessary to encode $filename as UTF-8 here</span>
<span class="token comment">#  since Perl is using UTF-8 as its internal encoding of $filename already</span>

<span class="token comment"># Example1  -- using open()</span>
open <span class="token punctuation">(</span> <span class="token keyword">my</span> <span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token string">'&gt;'</span><span class="token punctuation">,</span> <span class="token variable">$filename</span> <span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token keyword">die</span> <span class="token string">&quot;Could not open '$filename': $!&quot;</span><span class="token punctuation">;</span>
close <span class="token variable">$fh</span><span class="token punctuation">;</span>

<span class="token comment"># Example2 -- using qx() and touch</span>
<span class="token string">qx{touch $filename}</span><span class="token punctuation">;</span>

<span class="token comment"># Example3 -- using system() and touch</span>
system <span class="token string">'touch'</span><span class="token punctuation">,</span> <span class="token variable">$filename</span><span class="token punctuation">;</span>

<span class="token comment"># Example4 -- using File::Touch</span>
<span class="token keyword">use</span> File<span class="token punctuation">:</span><span class="token punctuation">:</span>Touch<span class="token punctuation">;</span>
<span class="token keyword">eval</span> <span class="token punctuation">{</span> touch<span class="token punctuation">(</span> <span class="token variable">$filename</span> <span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">die</span> <span class="token string">&quot;Could not create file '$filename': $!&quot;</span> <span class="token keyword">if</span> <span class="token variable">$@</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="read-filenames"><a href="#read-filenames" class="header-anchor">#</a> Read filenames</h2> <p>Perl does not attempt to decode filenames returned by builtin functions or modules. Such strings representing filenames should always be decoded explicitly, in order for Perl to recognize them as Unicode.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> <span class="token vstring string">v5.14</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> Encode <span class="token string">qw(decode_utf8)</span><span class="token punctuation">;</span>

<span class="token comment"># Ensure that possible error messages printed to screen are converted to UTF-8.</span>
<span class="token comment"># For this to work: Check that you terminal emulator is using UTF-8.</span>
binmode STDOUT<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>
binmode STDERR<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>

<span class="token comment"># Example1  -- using readdir()</span>
<span class="token keyword">my</span> <span class="token variable">$dir</span> <span class="token operator">=</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
opendir<span class="token punctuation">(</span><span class="token keyword">my</span> <span class="token variable">$dh</span><span class="token punctuation">,</span> <span class="token variable">$dir</span><span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token keyword">die</span> <span class="token string">&quot;Could not open directory '$dir': $!&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">my</span> <span class="token variable">$filename</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span>readdir <span class="token variable">$dh</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment"># Do something with $filename</span>
<span class="token punctuation">}</span>
close <span class="token variable">$dh</span><span class="token punctuation">;</span>

<span class="token comment"># Example2  -- using getcwd()</span>
<span class="token keyword">use</span> Cwd <span class="token string">qw(getcwd)</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$dir</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span> getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># Example3  -- using abs2rel()</span>
<span class="token keyword">use</span> File<span class="token punctuation">:</span><span class="token punctuation">:</span>Spec<span class="token punctuation">;</span>
<span class="token keyword">use</span> utf8<span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$base</span> <span class="token operator">=</span> <span class="token string">'ø'</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token string">&quot;$base/b/æ&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$relpath</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span> File<span class="token punctuation">:</span><span class="token punctuation">:</span>Spec<span class="token operator">-&gt;</span>abs2rel<span class="token punctuation">(</span> <span class="token variable">$path</span><span class="token punctuation">,</span> <span class="token variable">$base</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># Note: If you omit $base, you need to encode $path first:</span>
<span class="token keyword">use</span> Encode <span class="token string">qw(encode_utf8)</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$relpath</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span> File<span class="token punctuation">:</span><span class="token punctuation">:</span>Spec<span class="token operator">-&gt;</span>abs2rel<span class="token punctuation">(</span> encode_utf8<span class="token punctuation">(</span> <span class="token variable">$path</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># Example4  -- using File::Find::Rule (part1 matching a filename)</span>
<span class="token keyword">use</span> File<span class="token punctuation">:</span><span class="token punctuation">:</span>Find<span class="token punctuation">:</span><span class="token punctuation">:</span>Rule<span class="token punctuation">;</span>
<span class="token keyword">use</span> utf8<span class="token punctuation">;</span>
<span class="token keyword">use</span> Encode <span class="token string">qw(encode_utf8)</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'æ'</span><span class="token punctuation">;</span>
<span class="token comment"># File::Find::Rule needs $filename to be encoded</span>
<span class="token keyword">my</span> <span class="token variable">@files</span> <span class="token operator">=</span> File<span class="token punctuation">:</span><span class="token punctuation">:</span>Find<span class="token punctuation">:</span><span class="token punctuation">:</span>Rule<span class="token operator">-&gt;</span>new<span class="token operator">-&gt;</span>name<span class="token punctuation">(</span> encode_utf8<span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">-&gt;</span>in<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$_</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span> <span class="token variable">$_</span> <span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token variable">@files</span><span class="token punctuation">;</span>

<span class="token comment"># Example5  -- using File::Find::Rule (part2 matching a regular expression)</span>
<span class="token keyword">use</span> File<span class="token punctuation">:</span><span class="token punctuation">:</span>Find<span class="token punctuation">:</span><span class="token punctuation">:</span>Rule<span class="token punctuation">;</span>
<span class="token keyword">use</span> utf8<span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$pat</span> <span class="token operator">=</span> <span class="token string">'[æ].$'</span><span class="token punctuation">;</span> <span class="token comment"># Unicode pattern</span>
<span class="token comment"># Note: In this case:  File::Find::Rule-&gt;new-&gt;name( qr/$pat/ )-&gt;in('.')</span>
<span class="token comment">#  will not work since $pat is Unicode and filenames are bytes</span>
<span class="token comment">#  Also encoding $pat first will not work correctly</span>
<span class="token keyword">my</span> <span class="token variable">@files</span><span class="token punctuation">;</span>
File<span class="token punctuation">:</span><span class="token punctuation">:</span>Find<span class="token punctuation">:</span><span class="token punctuation">:</span>Rule<span class="token operator">-&gt;</span>new<span class="token operator">-&gt;</span>exec<span class="token punctuation">(</span> <span class="token keyword">sub</span> <span class="token punctuation">{</span> wanted<span class="token punctuation">(</span> <span class="token variable">$pat</span><span class="token punctuation">,</span> <span class="token operator">\</span><span class="token variable">@files</span> <span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token operator">-&gt;</span>in<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$_</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span> <span class="token variable">$_</span> <span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token variable">@files</span><span class="token punctuation">;</span>
<span class="token function"><span class="token keyword">sub</span> wanted</span> <span class="token punctuation">{</span>
    <span class="token keyword">my</span> <span class="token punctuation">(</span> <span class="token variable">$pat</span><span class="token punctuation">,</span> <span class="token variable">$files</span> <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token variable">@_</span><span class="token punctuation">;</span>
    <span class="token keyword">my</span> <span class="token variable">$name</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span> <span class="token variable">$_</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">my</span> <span class="token variable">$full_name</span> <span class="token operator">=</span> decode_utf8<span class="token punctuation">(</span> <span class="token variable">$File::Find::name</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    push <span class="token variable">@$files</span><span class="token punctuation">,</span> <span class="token variable">$full_name</span> <span class="token keyword">if</span> <span class="token variable">$name</span> <span class="token operator">=~</span> <span class="token regex">/$pat/</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Note: if you are concerned about invalid UTF-8 in the filenames, the use of <code>decode_utf8( ... )</code> in the above examples should probably be replaced by <code>decode( 'utf-8', ... )</code>. This is because <code>decode_utf8( ... )</code> is a synonym for <code>decode( 'utf8', ... )</code> and there is a difference between the encodings <code>utf-8</code> and <code>utf8</code> (see <a href="http://stackoverflow.com/documentation/perl/4375/unicode&amp;a=remarks" target="_blank" rel="noopener noreferrer">Remarks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> below for more information) where <code>utf-8</code> is more strict on what is acceptable than <code>utf8</code>.</p> <h2 id="command-line-switches-for-one-liners"><a href="#command-line-switches-for-one-liners" class="header-anchor">#</a> Command line switches for one-liners</h2> <h3 id="enable-utf8-pragma"><a href="#enable-utf8-pragma" class="header-anchor">#</a> Enable utf8 pragma</h3> <p>In order to enable <code>utf8</code> pragma in one-liner, perl interpreter should be called with <code>-Mutf8</code> option:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>perl <span class="token operator">-</span>Mutf8 <span class="token operator">-</span>E <span class="token string">'my $人 = &quot;human&quot;; say $人'</span>

</code></pre></div><h3 id="unicode-handling-with-c-switch"><a href="#unicode-handling-with-c-switch" class="header-anchor">#</a> Unicode handling with -C switch</h3> <p>The <code>-C</code> command line flag lets you control Unicode features. It can be followed by a list of option letters.</p> <h3 id="standard-i-o"><a href="#standard-i-o" class="header-anchor">#</a> Standard I/O</h3> <ul><li><code>I</code> - <code>STDIN</code> will be in <strong>UTF-8</strong></li> <li><code>O</code> - <code>STDOUT</code> will be in <strong>UTF-8</strong></li> <li><code>E</code> - <code>STDERR</code> will be in <strong>UTF-8</strong></li> <li><code>S</code> - shorthand for <code>IOE</code>, standard I/O streams will be in <strong>UTF-8</strong></li></ul> <div class="language-perl extra-class"><pre class="language-perl"><code>echo <span class="token string">&quot;Ματαιότης ματαιοτήτων&quot;</span> <span class="token operator">|</span> perl <span class="token operator">-</span>CS <span class="token operator">-</span>Mutf8 <span class="token operator">-</span>nE <span class="token string">'say &quot;ok&quot; if /Ματαιότης/'</span>

</code></pre></div><h3 id="script-s-arguments"><a href="#script-s-arguments" class="header-anchor">#</a> Script's arguments</h3> <ul><li><code>A</code> - treats <code>@ARGV</code> as an array of <strong>UTF-8</strong> encoded strings</li></ul> <div class="language-perl extra-class"><pre class="language-perl"><code>perl <span class="token operator">-</span>CA <span class="token operator">-</span>Mutf8 <span class="token operator">-</span>E <span class="token string">'my $arg = shift; say &quot;anteater&quot; if $arg eq &quot;муравьед&quot;'</span> муравьед

</code></pre></div><h3 id="default-perlio-layer"><a href="#default-perlio-layer" class="header-anchor">#</a> Default PerlIO layer</h3> <ul><li><code>i</code> - <strong>UTF-8</strong> is the default PerlIO layer for input streams</li> <li><code>o</code> - <strong>UTF-8</strong> is the default PerlIO layer for output streams</li> <li><code>D</code> - shorthand for <code>io</code></li></ul> <div class="language-perl extra-class"><pre class="language-perl"><code>perl <span class="token operator">-</span>CD <span class="token operator">-</span>Mutf8 <span class="token operator">-e</span> <span class="token string">'open my $fh, &quot;&gt;&quot;, &quot;utf8.txt&quot; or die $!; print $fh &quot;개미 조심해&quot;'</span>

</code></pre></div><p><code>-M</code> and <code>-C</code> switches may be combined:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>perl <span class="token operator">-</span>CASD <span class="token operator">-</span>Mutf8 <span class="token operator">-</span>E <span class="token string">'say &quot;Ματαιότης ματαιοτήτων\n&quot;'</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="standard-i-o-2"><a href="#standard-i-o-2" class="header-anchor">#</a> Standard I/O</h2> <p>The encoding to be used for the standard I/O filehandles (<code>STDIN</code>, <code>STDOUT</code>, and <code>STDERR</code>), can be set separately for each handle using <a href="http://perldoc.perl.org/functions/binmode.html" target="_blank" rel="noopener noreferrer"><code>binmode</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>binmode STDIN<span class="token punctuation">,</span> <span class="token string">':encoding(utf-8)'</span><span class="token punctuation">;</span>
binmode STDOUT<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>
binmode STDERR<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>

</code></pre></div><p>Note: when reading one would in general prefer <code>:encoding(utf-8)</code> over <code>:utf8</code>, see <a href="http://stackoverflow.com/documentation/perl/4375/unicode&amp;a=remarks" target="_blank" rel="noopener noreferrer">Remarks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more information.</p> <p>Alternatively, you can use the <a href="http://perldoc.perl.org/open.html" target="_blank" rel="noopener noreferrer"><code>open</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> pragma.</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># Setup such that all subsequently opened input streams will use ':encoding(utf-8)'</span>
<span class="token comment"># and all subsequently opened output streams will use ':utf8'</span>
<span class="token comment"># by default</span>
<span class="token keyword">use</span> open <span class="token punctuation">(</span>IN <span class="token operator">=&gt;</span> <span class="token string">':encoding(utf-8)'</span><span class="token punctuation">,</span> OUT <span class="token operator">=&gt;</span> <span class="token string">':utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># Make the (already opened) standard file handles inherit the setting </span>
<span class="token comment"># given by the IO settings for the open pragma</span>
<span class="token keyword">use</span> open <span class="token punctuation">(</span> <span class="token punctuation">:</span>std <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># Now, STDIN has been converted to ':encoding(utf-8)', and </span>
<span class="token comment"># STDOUT and STDERR have ':utf8'</span>

</code></pre></div><p>Alternatively, to set all filehandles (both those yet to be opened and also the standard ones) to use <code>:encoding(utf-8)</code>:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> open qw<span class="token punctuation">(</span> <span class="token punctuation">:</span>encoding<span class="token punctuation">(</span>utf<span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>std <span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="file-handles"><a href="#file-handles" class="header-anchor">#</a> File handles</h2> <h3 id="setting-encoding-with-open"><a href="#setting-encoding-with-open" class="header-anchor">#</a> Setting encoding with open()</h3> <p>When opening a text file, you may specify it's encoding explicitly with a three-argument <a href="http://perldoc.perl.org/functions/open.html" target="_blank" rel="noopener noreferrer"><code>open()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. This en-/decoder attached to a file handle is called an &quot;I/O layer&quot;:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">my</span> <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'/path/to/file'</span><span class="token punctuation">;</span>
open <span class="token keyword">my</span> <span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token string">'&lt;:encoding(utf-8)'</span><span class="token punctuation">,</span> <span class="token variable">$filename</span> <span class="token operator">or</span> <span class="token keyword">die</span> <span class="token string">&quot;Failed to open $filename: $!&quot;</span><span class="token punctuation">;</span>

</code></pre></div><p>See <a href="http://stackoverflow.com/documentation/perl/4375/unicode&amp;a=remarks" target="_blank" rel="noopener noreferrer">Remarks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for a discussion of the differences between <code>:utf8</code> and <code>:encoding(utf-8)</code>.</p> <h3 id="setting-encoding-with-binmode"><a href="#setting-encoding-with-binmode" class="header-anchor">#</a> Setting encoding with binmode()</h3> <p>Alternatively, you may use binmode() to set the encoding for individual file handle:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">my</span> <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'/path/to/file'</span><span class="token punctuation">;</span>
open <span class="token keyword">my</span> <span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token variable">$filename</span> <span class="token operator">or</span> <span class="token keyword">die</span> <span class="token string">&quot;Failed to open $filename: $!&quot;</span><span class="token punctuation">;</span>
binmode <span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token string">':encoding(utf-8)'</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="open-pragma"><a href="#open-pragma" class="header-anchor">#</a> open pragma</h3> <p>To avoid setting encoding for each file handle separately, you may use the <a href="http://perldoc.perl.org/open.html" target="_blank" rel="noopener noreferrer"><code>open</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> pragma to set a default I/O layer used by all subsequent calls to the <code>open()</code> function and similar operators within the lexical scope of this pragma:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># Set input streams to ':encoding(utf-8)' and output streams to ':utf8'</span>
<span class="token keyword">use</span> open <span class="token punctuation">(</span>IN <span class="token operator">=&gt;</span> <span class="token string">':encoding(utf-8)'</span><span class="token punctuation">,</span> OUT <span class="token operator">=&gt;</span> <span class="token string">':utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># Or to set all input and output streams to ':encoding(utf-8)'</span>
<span class="token keyword">use</span> open <span class="token string">':encoding(utf-8)'</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="setting-encoding-with-command-line-c-flag"><a href="#setting-encoding-with-command-line-c-flag" class="header-anchor">#</a> Setting encoding with command line -C flag</h3> <p>Finally, it is also possible to run the perl interpreter with a <code>-CD</code> flag that applies UTF-8 as the default I/O layer. However, this option should be avoided since it relies on specific user behaviour which cannot be predicted nor controlled.</p> <h2 id="handling-invalid-utf-8"><a href="#handling-invalid-utf-8" class="header-anchor">#</a> Handling invalid UTF-8</h2> <h3 id="reading-invalid-utf-8"><a href="#reading-invalid-utf-8" class="header-anchor">#</a> Reading invalid UTF-8</h3> <p>When reading UTF-8 encoded data, it is important to be aware of the fact the UTF-8 encoded data can be invalid or malformed. Such data should usually not be accepted by your program (unless you know what you are doing). When unexpectedly encountering malformed data, different actions can be considered:</p> <ul><li>Print stacktrace or error message, and abort program gracefully, or</li> <li>Insert a substitution character at the place where the malformed byte sequence appeared, print a warning message to STDERR and continue reading as nothing happened.</li></ul> <p>By default, Perl will <a href="http://perldoc.perl.org/functions/warn.html" target="_blank" rel="noopener noreferrer"><code>warn</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> you about encoding glitches, but it will not abort your program.
You can make your program abort by making UTF-8 warnings fatal, but be aware of the caveats in <a href="http://perldoc.perl.org/warnings.html#Fatal-Warnings" target="_blank" rel="noopener noreferrer">Fatal Warnings<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The following example writes 3 bytes in encoding ISO 8859-1 to disk. It then tries to read the bytes back again as UTF-8 encoded data. One of the bytes, <code>0xE5</code>, is an invalid UTF-8 one byte sequence:</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token keyword">use</span> strict<span class="token punctuation">;</span>
<span class="token keyword">use</span> warnings<span class="token punctuation">;</span>
<span class="token keyword">use</span> warnings FATAL <span class="token operator">=&gt;</span> <span class="token string">'utf8'</span><span class="token punctuation">;</span>

binmode STDOUT<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>
binmode STDERR<span class="token punctuation">,</span> <span class="token string">':utf8'</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$bytes</span> <span class="token operator">=</span> <span class="token string">&quot;\x{61}\x{E5}\x{61}&quot;</span><span class="token punctuation">;</span>  <span class="token comment"># 3 bytes in iso 8859-1: aåa</span>
<span class="token keyword">my</span> <span class="token variable">$fn</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>
open <span class="token punctuation">(</span> <span class="token keyword">my</span> <span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token string">'&gt;:raw'</span><span class="token punctuation">,</span> <span class="token variable">$fn</span> <span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token keyword">die</span> <span class="token string">&quot;Could not open file '$fn': $!&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">print</span> <span class="token variable">$fh</span> <span class="token variable">$bytes</span><span class="token punctuation">;</span>
close <span class="token variable">$fh</span><span class="token punctuation">;</span>
open <span class="token punctuation">(</span> <span class="token variable">$fh</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;:encoding(utf-8)&quot;</span><span class="token punctuation">,</span> <span class="token variable">$fn</span> <span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token keyword">die</span> <span class="token string">&quot;Could not open file '$fn': $!&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">my</span> <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token keyword">do</span> <span class="token punctuation">{</span> <span class="token keyword">local</span> <span class="token variable">$/</span><span class="token punctuation">;</span> <span class="token operator">&lt;</span><span class="token variable">$fh</span><span class="token operator">&gt;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
close <span class="token variable">$fh</span><span class="token punctuation">;</span>
<span class="token keyword">print</span> <span class="token string">&quot;Read string: '$str'\n&quot;</span><span class="token punctuation">;</span>

</code></pre></div><p>The program will abort with a fatal warning:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>utf8 <span class="token string">&quot;\xE5&quot;</span> does <span class="token operator">not</span> map to Unicode at <span class="token operator">.</span><span class="token operator">/</span>test<span class="token operator">.</span>pl line <span class="token number">10</span><span class="token operator">.</span>

</code></pre></div><p>Line 10 is here the second last line, and the error occurs in the part of the line with <code>&lt;$fh&gt;</code> when trying to read a line from the file.</p> <p>If you don't make warnings fatal in the above program, Perl will still print the warning. However, in this case it will try to recover from the malformed byte <code>0xE5</code> by inserting the four characters <code>\xE5</code> into the stream, and then continue with the next byte. As a result, the program will print:</p> <div class="language-perl extra-class"><pre class="language-perl"><code>Read string<span class="token punctuation">:</span> <span class="token string">'a\xE5a'</span>

</code></pre></div><h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <h3 id="a-warning-on-filename-encoding"><a href="#a-warning-on-filename-encoding" class="header-anchor">#</a> A Warning on Filename Encoding</h3> <p>It should be worth mentioning that Filename Encoding is not only <strong>platform</strong> specific but also <strong>filesystem</strong> specific.</p> <p>It is never <strong>entirely</strong> safe to assume (but often usually is) that just because you can encode and write to a given filename, that when you later try to open that same filename for reading, it will still be called the same thing.</p> <p>For instance, if you write to a filesystem such as <code>FAT16</code> which doesn't support unicode, your filenames might silently get translated into ASCII-compatible forms.</p> <p>But it is even <strong>less</strong> safe to assume that a file you can create, read and write to by explicit naming will be called the same thing when queried through other calls, for instance, <code>readdir</code> might return different bytes for your filename than you specified to <code>open</code>.</p> <p>On some systems such as VAX, you can't even always assume that <code>readdir</code> will return the same filename you specified with <code>open</code> for filenames as simple as <code>foo.bar</code>, because filename <strong>extensions</strong> can be mangled by the OS.</p> <p>Also, on UNIX, there is a very liberal set of legal characters for filenames that the OS permits, excluding only <code>/</code> and <code>\0</code>, where as on Windows, there are specific ranges of characters that are forbidden in filenames and will cause errors.</p> <p><strong>Exercise much caution here, avoid fancy tricks with filenames if you have a choice</strong>, and always have tests to make sure any fancy tricks you <strong>do</strong> use are consistent.</p> <p><strong>Exercise doubly as much caution</strong> if you're writing code intended to be run on platforms outside your control, such as if you're writing code that is intended for <code>CPAN</code>, and assume at least 5% of your user base will be stuck using some ancient or broken technology, either by choice, by accident, or by powers outside their control, and that these will conspire to create bugs for them.</p> <h3 id="encoding-utf8-vs-utf8"><a href="#encoding-utf8-vs-utf8" class="header-anchor">#</a> :encoding(utf8) vs :utf8</h3> <p>Since UTF-8 is one of the internal formats for representation of strings in Perl, the encoding/decoding step may often be skipped. Instead of <code>:encoding(utf-8)</code>, you can simply use <code>:utf8</code>, if your data is already in UTF-8. <code>:utf8</code> can be used safely with output streams, whereas for input stream it can be dangerous, because it causes internal inconsistency when you have invalid byte sequences. Also, using <code>:utf8</code> for input may result in security breaches, so the use of <code>:encoding(utf-8)</code> is advisable.</p> <p>More details: <a href="http://perldoc.perl.org/perlunifaq.html#What-is-the-difference-between-%3aencoding-and-%3autf8%3f" target="_blank" rel="noopener noreferrer">What is the difference between :encoding and :utf8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="utf-8-vs-utf8-vs-utf8"><a href="#utf-8-vs-utf8-vs-utf8" class="header-anchor">#</a> UTF-8 vs utf8 vs UTF8</h3> <p>As of Perl <code>v5.8.7</code>, <code>&quot;UTF-8&quot;</code> (with dash) means UTF-8 in its strict and security-conscious form, whereas <code>&quot;utf8&quot;</code> means UTF-8 in its liberal and loose form.</p> <p>For example, <code>&quot;utf8&quot;</code> can be used for code points that don't exist in Unicode, like <code>0xFFFFFFFF</code>. Correspondingly, invalid UTF-8 byte sequences like <code>&quot;\x{FE}\x{83}\x{BF}\x{BF}\x{BF}\x{BF}\x{BF}&quot;</code> will decode into an invalid Unicode (but valid Perl) codepoint (<code>0xFFFFFFFF</code>) when using <code>&quot;utf8&quot;</code>, whereas the <code>&quot;UTF-8&quot;</code> encoding would not allow decoding to codepoints outside the range of valid Unicode and  would give you a substitution character (<code>0xFFFD</code>) instead.</p> <p>Since encoding names are case insensitive, <code>&quot;UTF8&quot;</code> is the same as <code>&quot;utf8&quot;</code> (i.e. <strong>non-strict</strong> variant).</p> <p>More details: <a href="http://perldoc.perl.org/Encode.html#UTF-8-vs.-utf8-vs.-UTF8" target="_blank" rel="noopener noreferrer">UTF-8 vs. utf8 vs. UTF8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="more-reading"><a href="#more-reading" class="header-anchor">#</a> More Reading</h3> <p>Details about Perl's Unicode handling is described in more detail in the following sources:</p> <ul><li><a href="https://metacpan.org/pod/perlunicode" target="_blank" rel="noopener noreferrer">perlunicode<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://metacpan.org/pod/distribution/perl/pod/perlunitut.pod" target="_blank" rel="noopener noreferrer">perlunitut<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://metacpan.org/pod/distribution/perl/pod/perluniintro.pod" target="_blank" rel="noopener noreferrer">perluniintro<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://metacpan.org/pod/distribution/perl/pod/perlunifaq.pod" target="_blank" rel="noopener noreferrer">perlunifaq<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://metacpan.org/pod/distribution/perl/pod/perlunicook.pod" target="_blank" rel="noopener noreferrer">perlunicook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://perldoc.perl.org/utf8.html" target="_blank" rel="noopener noreferrer">utf8 pragma<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://perldoc.perl.org/feature.html#The-%27unicode_strings%27-feature" target="_blank" rel="noopener noreferrer">unicode_strings feature<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://perldoc.perl.org/open.html" target="_blank" rel="noopener noreferrer">open pragma<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://perldoc.perl.org/PerlIO.html" target="_blank" rel="noopener noreferrer">PerlIO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://perldoc.perl.org/PerlIO/encoding.html" target="_blank" rel="noopener noreferrer">PerlIO::encoding<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://perldoc.perl.org/functions/open.html" target="_blank" rel="noopener noreferrer">open function<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://metacpan.org/pod/Encode" target="_blank" rel="noopener noreferrer">Encode<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://perldoc.perl.org/perlrun.html#Command-Switches" target="_blank" rel="noopener noreferrer">perlrun - command line switches<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://shop.oreilly.com/product/9780596004927.do" target="_blank" rel="noopener noreferrer">Chapter 6, Programming Perl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Posts from stackoverflow.com (caveat: might not be up-to-date):</p> <ul><li><a href="http://stackoverflow.com/q/6162484/2173773" target="_blank" rel="noopener noreferrer">Why does modern Perl avoid UTF-8 by default?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Youtube videos:</p> <ul><li><a href="https://www.youtube.com/watch?v=TmTeXcEixEg" target="_blank" rel="noopener noreferrer">A Million Billion Squiggly Characters<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> by Ricardo Signes at YAPC NA 2016.</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/perl/unicode.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/perl/xml-parsing.html" class="prev">
        XML Parsing
      </a></span> <span class="next"><a href="/perl/perl-one-liners.html">
        Perl one-liners
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2413.bb1f236f.js" defer></script>
  </body>
</html>
