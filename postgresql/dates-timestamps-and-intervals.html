<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PostgreSQL - Dates, Timestamps, and Intervals</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Cast a timestamp or interval to a string, SELECT the last day of month, Count the number of records per week">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PostgreSQL - Dates, Timestamps, and Intervals">
    <meta property="og:description" content="Cast a timestamp or interval to a string, SELECT the last day of month, Count the number of records per week">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/postgresql/dates-timestamps-and-intervals.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PostgreSQL - Dates, Timestamps, and Intervals">
    <meta name="twitter:description" content="Cast a timestamp or interval to a string, SELECT the last day of month, Count the number of records per week">
    <meta name="twitter:url" content="/postgresql/dates-timestamps-and-intervals.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2548.380a36b2.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PostgreSQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/postgresql/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/postgresql/getting-started-with-postgresql.html" class="sidebar-link">Getting started with postgresql</a></li><li><a href="/postgresql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/postgresql/dates-timestamps-and-intervals.html" aria-current="page" class="active sidebar-link">Dates, Timestamps, and Intervals</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/postgresql/dates-timestamps-and-intervals.html#cast-a-timestamp-or-interval-to-a-string" class="sidebar-link">Cast a timestamp or interval to a string</a></li><li class="sidebar-sub-header"><a href="/postgresql/dates-timestamps-and-intervals.html#select-the-last-day-of-month" class="sidebar-link">SELECT the last day of month</a></li><li class="sidebar-sub-header"><a href="/postgresql/dates-timestamps-and-intervals.html#count-the-number-of-records-per-week" class="sidebar-link">Count the number of records per week</a></li></ul></li><li><a href="/postgresql/table-creation.html" class="sidebar-link">Table Creation</a></li><li><a href="/postgresql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/postgresql/find-string-length-character-length.html" class="sidebar-link">Find String Length / Character Length</a></li><li><a href="/postgresql/coalesce.html" class="sidebar-link">COALESCE</a></li><li><a href="/postgresql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/postgresql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/postgresql/json-support.html" class="sidebar-link">JSON Support</a></li><li><a href="/postgresql/aggregate-functions.html" class="sidebar-link">Aggregate Functions</a></li><li><a href="/postgresql/common-table-expressions-with.html" class="sidebar-link">Common Table Expressions (WITH)</a></li><li><a href="/postgresql/window-functions.html" class="sidebar-link">Window Functions</a></li><li><a href="/postgresql/recursive-queries.html" class="sidebar-link">Recursive queries</a></li><li><a href="/postgresql/programming-with-pl-pgsql.html" class="sidebar-link">Programming with PL/pgSQL</a></li><li><a href="/postgresql/inheritance.html" class="sidebar-link">Inheritance</a></li><li><a href="/postgresql/export-postgresql-database-table-header-and-data-to-csv-file.html" class="sidebar-link">Export PostgreSQL database table header and data to CSV file</a></li><li><a href="/postgresql/triggers-and-trigger-functions.html" class="sidebar-link">Triggers and Trigger Functions</a></li><li><a href="/postgresql/event-triggers.html" class="sidebar-link">Event Triggers</a></li><li><a href="/postgresql/role-management.html" class="sidebar-link">Role Management</a></li><li><a href="/postgresql/postgres-cryptographic-functions.html" class="sidebar-link">Postgres cryptographic functions</a></li><li><a href="/postgresql/comments-in-postgresql.html" class="sidebar-link">Comments in postgresql</a></li><li><a href="/postgresql/backup-and-restore.html" class="sidebar-link">Backup and Restore</a></li><li><a href="/postgresql/backup-script-for-a-production-db.html" class="sidebar-link">Backup script for a production DB</a></li><li><a href="/postgresql/accessing-data-programmatically.html" class="sidebar-link">Accessing Data Programmatically</a></li><li><a href="/postgresql/connect-to-postgresql-from-java.html" class="sidebar-link">Connect to PostgreSQL from Java</a></li><li><a href="/postgresql/postgresql-high-availability.html" class="sidebar-link">PostgreSQL High Availability</a></li><li><a href="/postgresql/extension-dblink-and-postgres-fdw.html" class="sidebar-link">EXTENSION dblink and postgres_fdw</a></li><li><a href="/postgresql/postgres-tip-and-tricks.html" class="sidebar-link">Postgres Tip and Tricks</a></li><li><a href="/postgresql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dates-timestamps-and-intervals"><a href="#dates-timestamps-and-intervals" class="header-anchor">#</a> Dates, Timestamps, and Intervals</h1> <h2 id="cast-a-timestamp-or-interval-to-a-string"><a href="#cast-a-timestamp-or-interval-to-a-string" class="header-anchor">#</a> Cast a timestamp or interval to a string</h2> <p>You can convert a <code>timestamp</code> or <code>interval</code> value to a string with the <code>to_char()</code> function:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> to_char<span class="token punctuation">(</span><span class="token string">'2016-08-12 16:40:32'</span>::<span class="token keyword">timestamp</span><span class="token punctuation">,</span> <span class="token string">'DD Mon YYYY HH:MI:SSPM'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This statement will produce the string &quot;12 Aug 2016 04:40:32PM&quot;. The formatting string can be modified in many different ways; the full list of template patterns can be found <a href="https://www.postgresql.org/docs/current/static/functions-formatting.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Note that you can also insert plain text into the formatting string and you can use the template patterns in any order:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> to_char<span class="token punctuation">(</span><span class="token string">'2016-08-12 16:40:32'</span>::<span class="token keyword">timestamp</span><span class="token punctuation">,</span> 
               <span class="token string">'&quot;Today is &quot;FMDay&quot;, the &quot;DDth&quot; day of the month of &quot;FMMonth&quot; of &quot;YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This will produce the string &quot;Today is Saturday, the 12th day of the month of August of 2016&quot;. You should keep in mind, though, that any template patterns - even the single letter ones like &quot;I&quot;, &quot;D&quot;, &quot;W&quot; - are converted, unless the plain text is in double quotes. As a safety measure, you should put all plain text in double quotes, as done above.</p> <p>You can localize the string to your language of choice (day and month names) by using the TM (translation mode) modifier. This option uses the localization setting of the server running PostgreSQL or the client connecting to it.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> to_char<span class="token punctuation">(</span><span class="token string">'2016-08-12 16:40:32'</span>::<span class="token keyword">timestamp</span><span class="token punctuation">,</span> <span class="token string">'TMDay, DD&quot; de &quot;TMMonth&quot; del año &quot;YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>With a Spanish locale setting this produces &quot;Sábado, 12 de Agosto del año 2016&quot;.</p> <h2 id="select-the-last-day-of-month"><a href="#select-the-last-day-of-month" class="header-anchor">#</a> SELECT the last day of month</h2> <p>You can select the last day of month.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token punctuation">(</span>date_trunc<span class="token punctuation">(</span><span class="token string">'MONTH'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'201608'</span><span class="token operator">||</span><span class="token string">'01'</span><span class="token punctuation">)</span>::<span class="token keyword">date</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">INTERVAL</span> <span class="token string">'1 MONTH - 1 day'</span><span class="token punctuation">)</span>::<span class="token keyword">DATE</span><span class="token punctuation">;</span> 

</code></pre></div><p><code>201608</code> is replaceable with a variable.</p> <h2 id="count-the-number-of-records-per-week"><a href="#count-the-number-of-records-per-week" class="header-anchor">#</a> Count the number of records per week</h2> <p>SELECT date_trunc('week', &lt;&gt;) AS &quot;Week&quot; , count(*)
FROM &lt;&gt;
GROUP BY 1
ORDER BY 1;</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/postgresql/dates-timestamps-and-intervals.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/postgresql/data-types.html" class="prev">
        Data Types
      </a></span> <span class="next"><a href="/postgresql/table-creation.html">
        Table Creation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2548.380a36b2.js" defer></script>
  </body>
</html>
