<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PostgreSQL - Role Management</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Create a user with a password, Create Role and matching database, Grant and Revoke Privileges., Alter default search_path of user, Grant access privileges on objects created in the future., Create Read Only User">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="PostgreSQL - Role Management">
    <meta property="og:description" content="Create a user with a password, Create Role and matching database, Grant and Revoke Privileges., Alter default search_path of user, Grant access privileges on objects created in the future., Create Read Only User">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/postgresql/role-management.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="PostgreSQL - Role Management">
    <meta name="twitter:description" content="Create a user with a password, Create Role and matching database, Grant and Revoke Privileges., Alter default search_path of user, Grant access privileges on objects created in the future., Create Read Only User">
    <meta name="twitter:url" content="/postgresql/role-management.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2562.4ee263bb.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>PostgreSQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/postgresql/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/postgresql/getting-started-with-postgresql.html" class="sidebar-link">Getting started with postgresql</a></li><li><a href="/postgresql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/postgresql/dates-timestamps-and-intervals.html" class="sidebar-link">Dates, Timestamps, and Intervals</a></li><li><a href="/postgresql/table-creation.html" class="sidebar-link">Table Creation</a></li><li><a href="/postgresql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/postgresql/find-string-length-character-length.html" class="sidebar-link">Find String Length / Character Length</a></li><li><a href="/postgresql/coalesce.html" class="sidebar-link">COALESCE</a></li><li><a href="/postgresql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/postgresql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/postgresql/json-support.html" class="sidebar-link">JSON Support</a></li><li><a href="/postgresql/aggregate-functions.html" class="sidebar-link">Aggregate Functions</a></li><li><a href="/postgresql/common-table-expressions-with.html" class="sidebar-link">Common Table Expressions (WITH)</a></li><li><a href="/postgresql/window-functions.html" class="sidebar-link">Window Functions</a></li><li><a href="/postgresql/recursive-queries.html" class="sidebar-link">Recursive queries</a></li><li><a href="/postgresql/programming-with-pl-pgsql.html" class="sidebar-link">Programming with PL/pgSQL</a></li><li><a href="/postgresql/inheritance.html" class="sidebar-link">Inheritance</a></li><li><a href="/postgresql/export-postgresql-database-table-header-and-data-to-csv-file.html" class="sidebar-link">Export PostgreSQL database table header and data to CSV file</a></li><li><a href="/postgresql/triggers-and-trigger-functions.html" class="sidebar-link">Triggers and Trigger Functions</a></li><li><a href="/postgresql/event-triggers.html" class="sidebar-link">Event Triggers</a></li><li><a href="/postgresql/role-management.html" aria-current="page" class="active sidebar-link">Role Management</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/postgresql/role-management.html#create-a-user-with-a-password" class="sidebar-link">Create a user with a password</a></li><li class="sidebar-sub-header"><a href="/postgresql/role-management.html#create-role-and-matching-database" class="sidebar-link">Create Role and matching database</a></li><li class="sidebar-sub-header"><a href="/postgresql/role-management.html#grant-and-revoke-privileges" class="sidebar-link">Grant and Revoke Privileges.</a></li><li class="sidebar-sub-header"><a href="/postgresql/role-management.html#alter-default-search-path-of-user" class="sidebar-link">Alter default search_path of user</a></li><li class="sidebar-sub-header"><a href="/postgresql/role-management.html#grant-access-privileges-on-objects-created-in-the-future" class="sidebar-link">Grant access privileges on objects created in the future.</a></li><li class="sidebar-sub-header"><a href="/postgresql/role-management.html#create-read-only-user" class="sidebar-link">Create Read Only User</a></li></ul></li><li><a href="/postgresql/postgres-cryptographic-functions.html" class="sidebar-link">Postgres cryptographic functions</a></li><li><a href="/postgresql/comments-in-postgresql.html" class="sidebar-link">Comments in postgresql</a></li><li><a href="/postgresql/backup-and-restore.html" class="sidebar-link">Backup and Restore</a></li><li><a href="/postgresql/backup-script-for-a-production-db.html" class="sidebar-link">Backup script for a production DB</a></li><li><a href="/postgresql/accessing-data-programmatically.html" class="sidebar-link">Accessing Data Programmatically</a></li><li><a href="/postgresql/connect-to-postgresql-from-java.html" class="sidebar-link">Connect to PostgreSQL from Java</a></li><li><a href="/postgresql/postgresql-high-availability.html" class="sidebar-link">PostgreSQL High Availability</a></li><li><a href="/postgresql/extension-dblink-and-postgres-fdw.html" class="sidebar-link">EXTENSION dblink and postgres_fdw</a></li><li><a href="/postgresql/postgres-tip-and-tricks.html" class="sidebar-link">Postgres Tip and Tricks</a></li><li><a href="/postgresql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="role-management"><a href="#role-management" class="header-anchor">#</a> Role Management</h1> <h2 id="create-a-user-with-a-password"><a href="#create-a-user-with-a-password" class="header-anchor">#</a> Create a user with a password</h2> <p>Generally you should avoid using the default database role (often <code>postgres</code>) in your application. You should instead create a user with lower levels of privileges. Here we make one called <code>niceusername</code> and give it a password <code>very-strong-password</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> ROLE niceusername <span class="token keyword">with</span> PASSWORD <span class="token string">'very-strong-password'</span> LOGIN<span class="token punctuation">;</span>

</code></pre></div><p>The problem with that is that queries typed into the <code>psql</code> console get saved in a history file <code>.psql_history</code> in the user's home directory and may as well be logged to the PostgreSQL database server log, thus exposing the password.</p> <p>To avoid this, use the <code>\password</code> command to set the user password. If the user issuing the command is a superuser, the current password will not be asked. (Must be superuser to alter passwords of superusers)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> ROLE niceusername <span class="token keyword">with</span> LOGIN<span class="token punctuation">;</span>
\password niceusername

</code></pre></div><h2 id="create-role-and-matching-database"><a href="#create-role-and-matching-database" class="header-anchor">#</a> Create Role and matching database</h2> <p>To support a given application, you often create a new role and database to match.</p> <p>The shell commands to run would be these:</p> <div class="language-sql extra-class"><pre class="language-sql"><code>$ createuser <span class="token operator">-</span>P blogger
Enter password <span class="token keyword">for</span> the new role: <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
Enter it again: <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>

$ createdb <span class="token operator">-</span>O blogger blogger

</code></pre></div><p>This assumes that <code>pg_hba.conf</code> has been properly configured, which probably looks like this:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># TYPE  DATABASE        USER            ADDRESS                 METHOD</span>
host    sameuser        <span class="token keyword">all</span>             localhost               md5
<span class="token keyword">local</span>   sameuser        <span class="token keyword">all</span>                                     md5

</code></pre></div><h2 id="grant-and-revoke-privileges"><a href="#grant-and-revoke-privileges" class="header-anchor">#</a> Grant and Revoke Privileges.</h2> <p>Suppose, that we have three users :</p> <ol><li>The Administrator of the database &gt; admin</li> <li>The application with a full access for her data &gt; read_write</li> <li>The read only access &gt; read_only</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">--ACCESS DB</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">CONNECT</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> nova <span class="token keyword">FROM</span> <span class="token keyword">PUBLIC</span><span class="token punctuation">;</span>
<span class="token keyword">GRANT</span>  <span class="token keyword">CONNECT</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> nova  <span class="token keyword">TO</span> <span class="token keyword">user</span><span class="token punctuation">;</span>

</code></pre></div><p>With the above queries, untrusted users can no longer connect to the database.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">--ACCESS SCHEMA</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">ALL</span>     <span class="token keyword">ON</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">FROM</span> <span class="token keyword">PUBLIC</span><span class="token punctuation">;</span>
<span class="token keyword">GRANT</span>  <span class="token keyword">USAGE</span>   <span class="token keyword">ON</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span>  <span class="token keyword">TO</span> <span class="token keyword">user</span><span class="token punctuation">;</span>

</code></pre></div><p>The next set of queries revoke all privileges from unauthenticated users and provide limited set of privileges for the <code>read_write</code> user.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">--ACCESS TABLES</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">FROM</span> <span class="token keyword">PUBLIC</span> <span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span>                         <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> read_only <span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">DELETE</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> read_write <span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span>                            <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> admin <span class="token punctuation">;</span>

<span class="token comment">--ACCESS SEQUENCES</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">ALL</span>   <span class="token keyword">ON</span> <span class="token keyword">ALL</span> SEQUENCES <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">FROM</span> <span class="token keyword">PUBLIC</span><span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> SEQUENCES <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> read_only<span class="token punctuation">;</span> <span class="token comment">-- allows the use of CURRVAL</span>
<span class="token keyword">GRANT</span> <span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> SEQUENCES <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> read_write<span class="token punctuation">;</span> <span class="token comment">-- allows the use of NEXTVAL and SETVAL</span>
<span class="token keyword">GRANT</span> <span class="token keyword">USAGE</span>  <span class="token keyword">ON</span> <span class="token keyword">ALL</span> SEQUENCES <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> read_write<span class="token punctuation">;</span> <span class="token comment">-- allows the use of CURRVAL and NEXTVAL</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span>    <span class="token keyword">ON</span> <span class="token keyword">ALL</span> SEQUENCES <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> admin<span class="token punctuation">;</span>

</code></pre></div><h2 id="alter-default-search-path-of-user"><a href="#alter-default-search-path-of-user" class="header-anchor">#</a> Alter default search_path of user</h2> <p>With the below commands, user's default search_path can be set.</p> <ol><li>Check search path before set default schema.</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code>postgres<span class="token operator">=</span><span class="token comment"># \c postgres user1</span>
You are now connected <span class="token keyword">to</span> <span class="token keyword">database</span> <span class="token string">&quot;postgres&quot;</span> <span class="token keyword">as</span> <span class="token keyword">user</span> <span class="token string">&quot;user1&quot;</span><span class="token punctuation">.</span>
postgres<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> search_path<span class="token punctuation">;</span>
  search_path   
<span class="token comment">----------------</span>
 <span class="token string">&quot;$user&quot;</span><span class="token punctuation">,</span><span class="token keyword">public</span>
<span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">row</span><span class="token punctuation">)</span>

</code></pre></div><ol><li>Set <code>search_path</code> with <code>alter user</code> command to append a new schema <code>my_schema</code></li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code>postgres<span class="token operator">=</span><span class="token operator">&gt;</span> \c postgres postgres
You are now connected <span class="token keyword">to</span> <span class="token keyword">database</span> <span class="token string">&quot;postgres&quot;</span> <span class="token keyword">as</span> <span class="token keyword">user</span> <span class="token string">&quot;postgres&quot;</span><span class="token punctuation">.</span>
postgres<span class="token operator">=</span><span class="token comment"># alter user user1 set search_path='my_schema, &quot;$user&quot;, public';</span>
<span class="token keyword">ALTER</span> ROLE

</code></pre></div><ol><li>Check result after execution.</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code>postgres<span class="token operator">=</span><span class="token comment"># \c postgres user1</span>
Password <span class="token keyword">for</span> <span class="token keyword">user</span> user1: 
You are now connected <span class="token keyword">to</span> <span class="token keyword">database</span> <span class="token string">&quot;postgres&quot;</span> <span class="token keyword">as</span> <span class="token keyword">user</span> <span class="token string">&quot;user1&quot;</span><span class="token punctuation">.</span>
postgres<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> search_path<span class="token punctuation">;</span>
 search_path 
<span class="token comment">-------------</span>
 my_schema<span class="token punctuation">,</span> <span class="token string">&quot;$user&quot;</span><span class="token punctuation">,</span> <span class="token keyword">public</span>
<span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">row</span><span class="token punctuation">)</span>

</code></pre></div><p>Alternative:</p> <div class="language-sql extra-class"><pre class="language-sql"><code>postgres<span class="token operator">=</span><span class="token comment"># set role user1;</span>
postgres<span class="token operator">=</span><span class="token comment"># show search_path;</span>
 search_path 
<span class="token comment">-------------</span>
 my_schema<span class="token punctuation">,</span> <span class="token string">&quot;$user&quot;</span><span class="token punctuation">,</span> <span class="token keyword">public</span>
<span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">row</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="grant-access-privileges-on-objects-created-in-the-future"><a href="#grant-access-privileges-on-objects-created-in-the-future" class="header-anchor">#</a> Grant access privileges on objects created in the future.</h2> <p>Suppose, that we have <code>three users</code> :</p> <ol><li>The Administrator of the database &gt; <code>admin</code></li> <li>The application with a full access for her data &gt; <code>read_write</code></li> <li>The read only access &gt; <code>read_only</code></li></ol> <p>With below queries, you can set access privileges on objects created in the future in specified schema.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">PRIVILEGES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> myschema <span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span>                      <span class="token keyword">ON</span> <span class="token keyword">TABLES</span> <span class="token keyword">TO</span> read_only<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">PRIVILEGES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> myschema <span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span><span class="token keyword">INSERT</span><span class="token punctuation">,</span><span class="token keyword">DELETE</span><span class="token punctuation">,</span><span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> <span class="token keyword">TABLES</span> <span class="token keyword">TO</span> read_write<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">PRIVILEGES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> myschema <span class="token keyword">GRANT</span> <span class="token keyword">ALL</span>                         <span class="token keyword">ON</span> <span class="token keyword">TABLES</span> <span class="token keyword">TO</span> admin<span class="token punctuation">;</span>

</code></pre></div><p>Or, you can set access privileges on objects created in the future by specified user.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">FOR</span> ROLE admin <span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span>  <span class="token keyword">ON</span> <span class="token keyword">TABLES</span> <span class="token keyword">TO</span> read_only<span class="token punctuation">;</span>

</code></pre></div><h2 id="create-read-only-user"><a href="#create-read-only-user" class="header-anchor">#</a> Create Read Only User</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> readonly <span class="token keyword">WITH</span> ENCRYPTED PASSWORD <span class="token string">'yourpassword'</span><span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">CONNECT</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span> <span class="token keyword">to</span> readonly<span class="token punctuation">;</span>

<span class="token keyword">GRANT</span> <span class="token keyword">USAGE</span> <span class="token keyword">ON</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">to</span> readonly<span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> SEQUENCES <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> readonly<span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> readonly<span class="token punctuation">;</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <li>
`CREATE ROLE name [ [ WITH ] option [ ... ] ]`
</li> <li>
`CREATE USER name [ [ WITH ] option [ ... ] ]`
</li> <li>
`where option can be: SUPERUSER | NOSUPERUSER | CREATEDB | NOCREATEDB | CREATEROLE | NOCREATEROLE | CREATEUSER | NOCREATEUSER | INHERIT | NOINHERIT | LOGIN | NOLOGIN | CONNECTION LIMIT connlimit | [ ENCRYPTED | UNENCRYPTED ] PASSWORD 'password' | VALID UNTIL 'timestamp' | IN ROLE role_name [, ...] | IN GROUP role_name [, ...] | ROLE role_name [, ...] | ADMIN role_name [, ...] | USER role_name [, ...] | SYSID uid`
</li></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/postgresql/role-management.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/postgresql/event-triggers.html" class="prev">
        Event Triggers
      </a></span> <span class="next"><a href="/postgresql/postgres-cryptographic-functions.html">
        Postgres cryptographic functions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2562.4ee263bb.js" defer></script>
  </body>
</html>
