<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL - Handling Time Zones</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Retrieve the current date and time in a particular time zone., Convert a stored `DATE` or `DATETIME` value to another time zone., Retrieve stored `TIMESTAMP` values in a particular time zone, What is my server's local time zone setting?, What time_zone values are available in my server?">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="MySQL - Handling Time Zones">
    <meta property="og:description" content="Retrieve the current date and time in a particular time zone., Convert a stored `DATE` or `DATETIME` value to another time zone., Retrieve stored `TIMESTAMP` values in a particular time zone, What is my server's local time zone setting?, What time_zone values are available in my server?">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/mysql/handling-time-zones.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="MySQL - Handling Time Zones">
    <meta name="twitter:description" content="Retrieve the current date and time in a particular time zone., Convert a stored `DATE` or `DATETIME` value to another time zone., Retrieve stored `TIMESTAMP` values in a particular time zone, What is my server's local time zone setting?, What time_zone values are available in my server?">
    <meta name="twitter:url" content="/mysql/handling-time-zones.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2116.2aecd8f7.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/mysql/getting-started-with-mysql.html" class="sidebar-link">Getting started with MySQL</a></li><li><a href="/mysql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/mysql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/mysql/backticks.html" class="sidebar-link">Backticks</a></li><li><a href="/mysql/null.html" class="sidebar-link">NULL</a></li><li><a href="/mysql/limit-and-offset.html" class="sidebar-link">Limit and Offset</a></li><li><a href="/mysql/creating-databases.html" class="sidebar-link">Creating databases</a></li><li><a href="/mysql/using-variables.html" class="sidebar-link">Using Variables</a></li><li><a href="/mysql/comment-mysql.html" class="sidebar-link">Comment Mysql</a></li><li><a href="/mysql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/mysql/delete.html" class="sidebar-link">DELETE</a></li><li><a href="/mysql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/mysql/order-by.html" class="sidebar-link">ORDER BY</a></li><li><a href="/mysql/group-by.html" class="sidebar-link">Group By</a></li><li><a href="/mysql/error-1055-only-full-group-by-something-is-not-in-group-by-clause.html" class="sidebar-link">Error 1055: ONLYFULLGROUP_BY: something  is not in GROUP BY clause ...</a></li><li><a href="/mysql/joins.html" class="sidebar-link">Joins</a></li><li><a href="/mysql/joins-join-3-table-with-the-same-name-of-id.html" class="sidebar-link">JOINS: Join 3 table with the same name of id.</a></li><li><a href="/mysql/union.html" class="sidebar-link">UNION</a></li><li><a href="/mysql/arithmetic.html" class="sidebar-link">Arithmetic</a></li><li><a href="/mysql/string-operations.html" class="sidebar-link">String operations</a></li><li><a href="/mysql/date-and-time-operations.html" class="sidebar-link">Date and Time Operations</a></li><li><a href="/mysql/handling-time-zones.html" aria-current="page" class="active sidebar-link">Handling Time Zones</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/handling-time-zones.html#retrieve-the-current-date-and-time-in-a-particular-time-zone" class="sidebar-link">Retrieve the current date and time in a particular time zone.</a></li><li class="sidebar-sub-header"><a href="/mysql/handling-time-zones.html#convert-a-stored-date-or-datetime-value-to-another-time-zone" class="sidebar-link">Convert a stored DATE or DATETIME value to another time zone.</a></li><li class="sidebar-sub-header"><a href="/mysql/handling-time-zones.html#retrieve-stored-timestamp-values-in-a-particular-time-zone" class="sidebar-link">Retrieve stored TIMESTAMP values in a particular time zone</a></li><li class="sidebar-sub-header"><a href="/mysql/handling-time-zones.html#what-is-my-server-s-local-time-zone-setting" class="sidebar-link">What is my server's local time zone setting?</a></li><li class="sidebar-sub-header"><a href="/mysql/handling-time-zones.html#what-time-zone-values-are-available-in-my-server" class="sidebar-link">What time_zone values are available in my server?</a></li></ul></li><li><a href="/mysql/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/mysql/view.html" class="sidebar-link">VIEW</a></li><li><a href="/mysql/table-creation.html" class="sidebar-link">Table Creation</a></li><li><a href="/mysql/alter-table.html" class="sidebar-link">ALTER TABLE</a></li><li><a href="/mysql/drop-table.html" class="sidebar-link">Drop Table</a></li><li><a href="/mysql/mysql-lock-table.html" class="sidebar-link">MySQL LOCK TABLE</a></li><li><a href="/mysql/error-codes.html" class="sidebar-link">Error codes</a></li><li><a href="/mysql/stored-routines-procedures-and-functions.html" class="sidebar-link">Stored routines (procedures and functions)</a></li><li><a href="/mysql/indexes-and-keys.html" class="sidebar-link">Indexes and Keys</a></li><li><a href="/mysql/full-text-search.html" class="sidebar-link">Full-Text search</a></li><li><a href="/mysql/prepare-statements.html" class="sidebar-link">PREPARE Statements</a></li><li><a href="/mysql/json.html" class="sidebar-link">JSON</a></li><li><a href="/mysql/extract-values-from-json-type.html" class="sidebar-link">Extract values from JSON type</a></li><li><a href="/mysql/mysql-admin.html" class="sidebar-link">MySQL Admin</a></li><li><a href="/mysql/triggers.html" class="sidebar-link">TRIGGERS</a></li><li><a href="/mysql/configuration-and-tuning.html" class="sidebar-link">Configuration and tuning</a></li><li><a href="/mysql/events.html" class="sidebar-link">Events</a></li><li><a href="/mysql/enum.html" class="sidebar-link">ENUM</a></li><li><a href="/mysql/install-mysql-container-with-docker-compose.html" class="sidebar-link">Install Mysql container with Docker-Compose</a></li><li><a href="/mysql/character-sets-and-collations.html" class="sidebar-link">Character Sets and Collations</a></li><li><a href="/mysql/myisam-engine.html" class="sidebar-link">MyISAM Engine</a></li><li><a href="/mysql/converting-from-myisam-to-innodb.html" class="sidebar-link">Converting from MyISAM to InnoDB</a></li><li><a href="/mysql/transaction.html" class="sidebar-link">Transaction</a></li><li><a href="/mysql/log-files.html" class="sidebar-link">Log files</a></li><li><a href="/mysql/clustering.html" class="sidebar-link">Clustering</a></li><li><a href="/mysql/partitioning.html" class="sidebar-link">Partitioning</a></li><li><a href="/mysql/replication.html" class="sidebar-link">Replication</a></li><li><a href="/mysql/backup-using-mysqldump.html" class="sidebar-link">Backup using mysqldump</a></li><li><a href="/mysql/mysqlimport.html" class="sidebar-link">mysqlimport</a></li><li><a href="/mysql/load-data-infile.html" class="sidebar-link">LOAD DATA INFILE</a></li><li><a href="/mysql/mysql-unions.html" class="sidebar-link">MySQL Unions</a></li><li><a href="/mysql/mysql-client.html" class="sidebar-link">MySQL client</a></li><li><a href="/mysql/temporary-tables.html" class="sidebar-link">Temporary Tables</a></li><li><a href="/mysql/customize-ps1.html" class="sidebar-link">Customize PS1</a></li><li><a href="/mysql/dealing-with-sparse-or-missing-data.html" class="sidebar-link">Dealing with sparse or missing data</a></li><li><a href="/mysql/connecting-with-utf-8-using-various-programming-language.html" class="sidebar-link">Connecting with UTF-8 Using Various Programming language.</a></li><li><a href="/mysql/time-with-subsecond-precision.html" class="sidebar-link">Time with subsecond precision</a></li><li><a href="/mysql/one-to-many.html" class="sidebar-link">One to Many</a></li><li><a href="/mysql/many-to-many-mapping-table.html" class="sidebar-link">Many-to-many Mapping table</a></li><li><a href="/mysql/pivot-queries.html" class="sidebar-link">Pivot queries</a></li><li><a href="/mysql/dynamic-un-pivot-table-using-prepared-statement.html" class="sidebar-link">Dynamic Un-Pivot Table using Prepared Statement</a></li><li><a href="/mysql/server-information.html" class="sidebar-link">Server Information</a></li><li><a href="/mysql/ssl-connection-setup.html" class="sidebar-link">SSL Connection Setup</a></li><li><a href="/mysql/create-new-user.html" class="sidebar-link">Create New User</a></li><li><a href="/mysql/security-via-grants.html" class="sidebar-link">Security via GRANTs</a></li><li><a href="/mysql/change-password.html" class="sidebar-link">Change Password</a></li><li><a href="/mysql/recover-and-reset-the-default-root-password-for-mysql-5-7.html" class="sidebar-link">Recover and reset the default root password for MySQL 5.7+</a></li><li><a href="/mysql/recover-from-lost-root-password.html" class="sidebar-link">Recover from lost root password</a></li><li><a href="/mysql/mysql-performance-tips.html" class="sidebar-link">Mysql Performance Tips</a></li><li><a href="/mysql/performance-tuning.html" class="sidebar-link">Performance Tuning</a></li><li><a href="/mysql/reserved-words.html" class="sidebar-link">Reserved Words</a></li><li><a href="/mysql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="handling-time-zones"><a href="#handling-time-zones" class="header-anchor">#</a> Handling Time Zones</h1> <h2 id="retrieve-the-current-date-and-time-in-a-particular-time-zone"><a href="#retrieve-the-current-date-and-time-in-a-particular-time-zone" class="header-anchor">#</a> Retrieve the current date and time in a particular time zone.</h2> <p>This fetches the value of <code>NOW()</code> in local time, in India Standard Time, and then again in UTC.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> time_zone<span class="token operator">=</span><span class="token string">'Asia/Kolkata'</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> time_zone<span class="token operator">=</span><span class="token string">'UTC'</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="convert-a-stored-date-or-datetime-value-to-another-time-zone"><a href="#convert-a-stored-date-or-datetime-value-to-another-time-zone" class="header-anchor">#</a> Convert a stored <code>DATE</code> or <code>DATETIME</code> value to another time zone.</h2> <p>If you have a stored <code>DATE</code> or <code>DATETIME</code> (in a column somewhere) it was stored with respect to some time zone, but in MySQL the time zone is <strong>not</strong> stored with the value.  So, if you want to convert it to another time zone, you can, but you must know the original time zone. Using <code>CONVERT_TZ()</code> does the conversion.  This example shows rows sold in California in local time.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONVERT_TZ<span class="token punctuation">(</span>date_sold<span class="token punctuation">,</span><span class="token string">'UTC'</span><span class="token punctuation">,</span><span class="token string">'America/Los_Angeles'</span><span class="token punctuation">)</span> date_sold_local
  <span class="token keyword">FROM</span> sales
 <span class="token keyword">WHERE</span> state_sold <span class="token operator">=</span> <span class="token string">'CA'</span>

</code></pre></div><h2 id="retrieve-stored-timestamp-values-in-a-particular-time-zone"><a href="#retrieve-stored-timestamp-values-in-a-particular-time-zone" class="header-anchor">#</a> Retrieve stored <code>TIMESTAMP</code> values in a particular time zone</h2> <p>This is really easy. All <code>TIMESTAMP</code> values are stored in universal time, and always converted to the present <code>time_zone</code> setting whenever they are rendered.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token keyword">SESSION</span> time_zone<span class="token operator">=</span><span class="token string">'America/Los_Angeles'</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> timestamp_sold
  <span class="token keyword">FROM</span> sales
 <span class="token keyword">WHERE</span> state_sold <span class="token operator">=</span> <span class="token string">'CA'</span>

</code></pre></div><p>Why is this? <code>TIMESTAMP</code> values are based on the venerable <a href="https://en.wikipedia.org/wiki/Unix_time" target="_blank" rel="noopener noreferrer">UNIX <code>time_t</code> data type<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Those UNIX timestamps are stored as a number of seconds since <code>1970-01-01 00:00:00</code> UTC.</p> <p><strong>Notice</strong> <code>TIMESTAMP</code> values are stored in universal time. <code>DATE</code> and <code>DATETIME</code> values are stored in whatever local time was in effect when they were stored.</p> <h2 id="what-is-my-server-s-local-time-zone-setting"><a href="#what-is-my-server-s-local-time-zone-setting" class="header-anchor">#</a> What is my server's local time zone setting?</h2> <p>Each server has a default global time_zone setting, configured by the owner of the server machine. You can find out the current time zone setting this way:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@time_zone</span>

</code></pre></div><p>Unfortunately, that usually yields the value <code>SYSTEM</code>, meaning the MySQL time is governed by the server OS's time zone setting.</p> <p>This sequence of queries (yes, <a href="https://en.wikipedia.org/wiki/Kludge#Computer_science" target="_blank" rel="noopener noreferrer">it's a hack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) gives you back the offset in minutes between the server's time zone setting and UTC.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> <span class="token keyword">TABLE</span> times <span class="token punctuation">(</span>dt <span class="token keyword">DATETIME</span><span class="token punctuation">,</span> ts <span class="token keyword">TIMESTAMP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> time_zone <span class="token operator">=</span> <span class="token string">'UTC'</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> times <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> time_zone <span class="token operator">=</span> <span class="token string">'SYSTEM'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> dt<span class="token punctuation">,</span> ts<span class="token punctuation">,</span> TIMESTAMPDIFF<span class="token punctuation">(</span><span class="token keyword">MINUTE</span><span class="token punctuation">,</span> dt<span class="token punctuation">,</span> ts<span class="token punctuation">)</span><span class="token keyword">offset</span> <span class="token keyword">FROM</span> times<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TEMPORARY</span> <span class="token keyword">TABLE</span> times<span class="token punctuation">;</span>

</code></pre></div><p>How does this work? The two columns in the temporary table with different data types is the clue.  <code>DATETIME</code> data types are always stored in local time in tables, and <code>TIMESTAMP</code>s in UTC.  So the <code>INSERT</code> statement, performed when the time_zone is set to UTC, stores two identical date / time values.</p> <p>Then, the SELECT statement, is done when the time_zone is set to server local time. <code>TIMESTAMP</code>s are always translated from their stored UTC form to local time in SELECT statements.  <code>DATETIME</code>s are not. So the <a href="https://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html#function_timestampdiff" target="_blank" rel="noopener noreferrer"><code>TIMESTAMPDIFF(MINUTE...)</code> operation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> computes the difference between local and universal time.</p> <h2 id="what-time-zone-values-are-available-in-my-server"><a href="#what-time-zone-values-are-available-in-my-server" class="header-anchor">#</a> What time_zone values are available in my server?</h2> <p>To get a list of possible time_zone values in your MySQL server instance, use this command.</p> <div class="language- extra-class"><pre class="language-text"><code>
SELECT mysql.time_zone_name.name

</code></pre></div><p>Ordinarily, this shows the <a href="https://www.iana.org/time-zones" target="_blank" rel="noopener noreferrer">ZoneInfo list of time zones<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> maintained by Paul Eggert at the <a href="https://www.iana.org/" target="_blank" rel="noopener noreferrer">Internet Assigned Numbers Authority<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Worldwide there are appproximately 600 time zones.</p> <p>Unix-like operating systems (Linux distributions, BSD distributions, and modern Mac OS distributions, for example) receive routine updates. Installing these updates on an operating system lets the MySQL instances running there track the changes in time zone and daylight / standard time changeovers.</p> <p>If you get a much shorter list of time zone names, your server is either incompletely configured or running on Windows.  <a href="https://dev.mysql.com/doc/refman/5.7/en/time-zone-support.html" target="_blank" rel="noopener noreferrer">Here are instructions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for your server administrator to install and maintain the ZoneInfo list.</p> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>When you need to handle time information for a worldwide user base in MySQL, use the TIMESTAMP data type in your tables.</p> <p>For each user, store a user-preference timezone column. VARCHAR(64) is a good data type for that column. When a user registers to use your system, ask for the time zone value. Mine is Atlantic Time, <code>America/Edmonton</code>. Yours might or might not be <code>Asia/Kolkata</code> or <code>Australia/NSW</code>. For a user interface for this user-preference setting, the WordPress.org software has a good example.</p> <p>Finally, whenever you establish a connection from your host program (Java, php, whatever) to your DBMS on behalf of a user, issue the SQL command</p> <div class="language- extra-class"><pre class="language-text"><code>
SET SESSION time_zone='(whatever tz string the user gave you)'

</code></pre></div><p>before you handle any user data involving times. Then all the <code>TIMESTAMP</code> times you have install will render in the user's local time.</p> <p>This will cause all times going in to your tables to be converted to UTC, and all times coming out to be translated to local. It works properly for NOW() and CURDATE(). Again, you must use TIMESTAMP and not DATETIME or DATE data types for this.</p> <p>Make sure your server OS and default MySQL time zones are set to UTC. If you don't do this before you start loading information into your database, it will be almost impossible to fix. If you use a vendor to run MySQL, insist they get this right.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/mysql/handling-time-zones.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mysql/date-and-time-operations.html" class="prev">
        Date and Time Operations
      </a></span> <span class="next"><a href="/mysql/regular-expressions.html">
        Regular Expressions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2116.2aecd8f7.js" defer></script>
  </body>
</html>
