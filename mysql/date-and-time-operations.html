<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL - Date and Time Operations</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Date arithmetic, SYSDATE(), NOW(), CURDATE(), Now(), Testing against a date range, Extract Date from Given Date or DateTime Expression, Using an index for a date and time lookup">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="MySQL - Date and Time Operations">
    <meta property="og:description" content="Date arithmetic, SYSDATE(), NOW(), CURDATE(), Now(), Testing against a date range, Extract Date from Given Date or DateTime Expression, Using an index for a date and time lookup">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/mysql/date-and-time-operations.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="MySQL - Date and Time Operations">
    <meta name="twitter:description" content="Date arithmetic, SYSDATE(), NOW(), CURDATE(), Now(), Testing against a date range, Extract Date from Given Date or DateTime Expression, Using an index for a date and time lookup">
    <meta name="twitter:url" content="/mysql/date-and-time-operations.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2103.be002ec9.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/mysql/getting-started-with-mysql.html" class="sidebar-link">Getting started with MySQL</a></li><li><a href="/mysql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/mysql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/mysql/backticks.html" class="sidebar-link">Backticks</a></li><li><a href="/mysql/null.html" class="sidebar-link">NULL</a></li><li><a href="/mysql/limit-and-offset.html" class="sidebar-link">Limit and Offset</a></li><li><a href="/mysql/creating-databases.html" class="sidebar-link">Creating databases</a></li><li><a href="/mysql/using-variables.html" class="sidebar-link">Using Variables</a></li><li><a href="/mysql/comment-mysql.html" class="sidebar-link">Comment Mysql</a></li><li><a href="/mysql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/mysql/delete.html" class="sidebar-link">DELETE</a></li><li><a href="/mysql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/mysql/order-by.html" class="sidebar-link">ORDER BY</a></li><li><a href="/mysql/group-by.html" class="sidebar-link">Group By</a></li><li><a href="/mysql/error-1055-only-full-group-by-something-is-not-in-group-by-clause.html" class="sidebar-link">Error 1055: ONLYFULLGROUP_BY: something  is not in GROUP BY clause ...</a></li><li><a href="/mysql/joins.html" class="sidebar-link">Joins</a></li><li><a href="/mysql/joins-join-3-table-with-the-same-name-of-id.html" class="sidebar-link">JOINS: Join 3 table with the same name of id.</a></li><li><a href="/mysql/union.html" class="sidebar-link">UNION</a></li><li><a href="/mysql/arithmetic.html" class="sidebar-link">Arithmetic</a></li><li><a href="/mysql/string-operations.html" class="sidebar-link">String operations</a></li><li><a href="/mysql/date-and-time-operations.html" aria-current="page" class="active sidebar-link">Date and Time Operations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/date-and-time-operations.html#date-arithmetic" class="sidebar-link">Date arithmetic</a></li><li class="sidebar-sub-header"><a href="/mysql/date-and-time-operations.html#sysdate-now-curdate" class="sidebar-link">SYSDATE(), NOW(), CURDATE()</a></li><li class="sidebar-sub-header"><a href="/mysql/date-and-time-operations.html#now" class="sidebar-link">Now()</a></li><li class="sidebar-sub-header"><a href="/mysql/date-and-time-operations.html#testing-against-a-date-range" class="sidebar-link">Testing against a date range</a></li><li class="sidebar-sub-header"><a href="/mysql/date-and-time-operations.html#extract-date-from-given-date-or-datetime-expression" class="sidebar-link">Extract Date from Given Date or DateTime Expression</a></li><li class="sidebar-sub-header"><a href="/mysql/date-and-time-operations.html#using-an-index-for-a-date-and-time-lookup" class="sidebar-link">Using an index for a date and time lookup</a></li></ul></li><li><a href="/mysql/handling-time-zones.html" class="sidebar-link">Handling Time Zones</a></li><li><a href="/mysql/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/mysql/view.html" class="sidebar-link">VIEW</a></li><li><a href="/mysql/table-creation.html" class="sidebar-link">Table Creation</a></li><li><a href="/mysql/alter-table.html" class="sidebar-link">ALTER TABLE</a></li><li><a href="/mysql/drop-table.html" class="sidebar-link">Drop Table</a></li><li><a href="/mysql/mysql-lock-table.html" class="sidebar-link">MySQL LOCK TABLE</a></li><li><a href="/mysql/error-codes.html" class="sidebar-link">Error codes</a></li><li><a href="/mysql/stored-routines-procedures-and-functions.html" class="sidebar-link">Stored routines (procedures and functions)</a></li><li><a href="/mysql/indexes-and-keys.html" class="sidebar-link">Indexes and Keys</a></li><li><a href="/mysql/full-text-search.html" class="sidebar-link">Full-Text search</a></li><li><a href="/mysql/prepare-statements.html" class="sidebar-link">PREPARE Statements</a></li><li><a href="/mysql/json.html" class="sidebar-link">JSON</a></li><li><a href="/mysql/extract-values-from-json-type.html" class="sidebar-link">Extract values from JSON type</a></li><li><a href="/mysql/mysql-admin.html" class="sidebar-link">MySQL Admin</a></li><li><a href="/mysql/triggers.html" class="sidebar-link">TRIGGERS</a></li><li><a href="/mysql/configuration-and-tuning.html" class="sidebar-link">Configuration and tuning</a></li><li><a href="/mysql/events.html" class="sidebar-link">Events</a></li><li><a href="/mysql/enum.html" class="sidebar-link">ENUM</a></li><li><a href="/mysql/install-mysql-container-with-docker-compose.html" class="sidebar-link">Install Mysql container with Docker-Compose</a></li><li><a href="/mysql/character-sets-and-collations.html" class="sidebar-link">Character Sets and Collations</a></li><li><a href="/mysql/myisam-engine.html" class="sidebar-link">MyISAM Engine</a></li><li><a href="/mysql/converting-from-myisam-to-innodb.html" class="sidebar-link">Converting from MyISAM to InnoDB</a></li><li><a href="/mysql/transaction.html" class="sidebar-link">Transaction</a></li><li><a href="/mysql/log-files.html" class="sidebar-link">Log files</a></li><li><a href="/mysql/clustering.html" class="sidebar-link">Clustering</a></li><li><a href="/mysql/partitioning.html" class="sidebar-link">Partitioning</a></li><li><a href="/mysql/replication.html" class="sidebar-link">Replication</a></li><li><a href="/mysql/backup-using-mysqldump.html" class="sidebar-link">Backup using mysqldump</a></li><li><a href="/mysql/mysqlimport.html" class="sidebar-link">mysqlimport</a></li><li><a href="/mysql/load-data-infile.html" class="sidebar-link">LOAD DATA INFILE</a></li><li><a href="/mysql/mysql-unions.html" class="sidebar-link">MySQL Unions</a></li><li><a href="/mysql/mysql-client.html" class="sidebar-link">MySQL client</a></li><li><a href="/mysql/temporary-tables.html" class="sidebar-link">Temporary Tables</a></li><li><a href="/mysql/customize-ps1.html" class="sidebar-link">Customize PS1</a></li><li><a href="/mysql/dealing-with-sparse-or-missing-data.html" class="sidebar-link">Dealing with sparse or missing data</a></li><li><a href="/mysql/connecting-with-utf-8-using-various-programming-language.html" class="sidebar-link">Connecting with UTF-8 Using Various Programming language.</a></li><li><a href="/mysql/time-with-subsecond-precision.html" class="sidebar-link">Time with subsecond precision</a></li><li><a href="/mysql/one-to-many.html" class="sidebar-link">One to Many</a></li><li><a href="/mysql/many-to-many-mapping-table.html" class="sidebar-link">Many-to-many Mapping table</a></li><li><a href="/mysql/pivot-queries.html" class="sidebar-link">Pivot queries</a></li><li><a href="/mysql/dynamic-un-pivot-table-using-prepared-statement.html" class="sidebar-link">Dynamic Un-Pivot Table using Prepared Statement</a></li><li><a href="/mysql/server-information.html" class="sidebar-link">Server Information</a></li><li><a href="/mysql/ssl-connection-setup.html" class="sidebar-link">SSL Connection Setup</a></li><li><a href="/mysql/create-new-user.html" class="sidebar-link">Create New User</a></li><li><a href="/mysql/security-via-grants.html" class="sidebar-link">Security via GRANTs</a></li><li><a href="/mysql/change-password.html" class="sidebar-link">Change Password</a></li><li><a href="/mysql/recover-and-reset-the-default-root-password-for-mysql-5-7.html" class="sidebar-link">Recover and reset the default root password for MySQL 5.7+</a></li><li><a href="/mysql/recover-from-lost-root-password.html" class="sidebar-link">Recover from lost root password</a></li><li><a href="/mysql/mysql-performance-tips.html" class="sidebar-link">Mysql Performance Tips</a></li><li><a href="/mysql/performance-tuning.html" class="sidebar-link">Performance Tuning</a></li><li><a href="/mysql/reserved-words.html" class="sidebar-link">Reserved Words</a></li><li><a href="/mysql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="date-and-time-operations"><a href="#date-and-time-operations" class="header-anchor">#</a> Date and Time Operations</h1> <h2 id="date-arithmetic"><a href="#date-arithmetic" class="header-anchor">#</a> Date arithmetic</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">INTERVAL</span> <span class="token number">1</span> <span class="token keyword">DAY</span>  <span class="token comment">-- This time tomorrow</span>

CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">INTERVAL</span> <span class="token number">4</span> <span class="token keyword">DAY</span> <span class="token comment">-- Midnight 4 mornings ago</span>

</code></pre></div><p>Show the mysql questions stored that were
asked 3 to 10 hours ago (180 to 600 minutes ago):</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> qId<span class="token punctuation">,</span>askDate<span class="token punctuation">,</span>minuteDiff  
<span class="token keyword">FROM</span> 
<span class="token punctuation">(</span>   <span class="token keyword">SELECT</span> qId<span class="token punctuation">,</span>askDate<span class="token punctuation">,</span>
    TIMESTAMPDIFF<span class="token punctuation">(</span><span class="token keyword">MINUTE</span><span class="token punctuation">,</span>askDate<span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> minuteDiff 
    <span class="token keyword">FROM</span> questions_mysql 
<span class="token punctuation">)</span> xDerived 
<span class="token keyword">WHERE</span> minuteDiff <span class="token operator">BETWEEN</span> <span class="token number">180</span> <span class="token operator">AND</span> <span class="token number">600</span> 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> qId <span class="token keyword">DESC</span> 
<span class="token keyword">LIMIT</span> <span class="token number">50</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">----------+---------------------+------------+</span>
<span class="token operator">|</span> qId      <span class="token operator">|</span> askDate             <span class="token operator">|</span> minuteDiff <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+---------------------+------------+</span>
<span class="token operator">|</span> <span class="token number">38546828</span> <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">22</span>:<span class="token number">06</span>:<span class="token number">50</span> <span class="token operator">|</span>        <span class="token number">182</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">38546733</span> <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">21</span>:<span class="token number">53</span>:<span class="token number">26</span> <span class="token operator">|</span>        <span class="token number">195</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">38546707</span> <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">21</span>:<span class="token number">48</span>:<span class="token number">46</span> <span class="token operator">|</span>        <span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">38546687</span> <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">21</span>:<span class="token number">45</span>:<span class="token number">26</span> <span class="token operator">|</span>        <span class="token number">203</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>      <span class="token operator">|</span>                     <span class="token operator">|</span>            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+---------------------+------------+</span>

</code></pre></div><p>MySQL manual pages for <a href="https://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html#function_timestampdiff" target="_blank" rel="noopener noreferrer"><code>TIMESTAMPDIFF()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><strong>Beware</strong> Do not try to use expressions like <code>CURDATE() + 1</code> for date arithmetic in MySQL. They don't return what you expect, especially if you're accustomed to the Oracle database product. Use <code>CURDATE() + INTERVAL 1 DAY</code> instead.</p> <h2 id="sysdate-now-curdate"><a href="#sysdate-now-curdate" class="header-anchor">#</a> SYSDATE(), NOW(), CURDATE()</h2> <div class="language- extra-class"><pre class="language-text"><code>
 SELECT SYSDATE();

</code></pre></div><p>This function returns the current date and time as a value in <code>'YYYY-MM-DD HH:MM:SS'</code> or <code>YYYYMMDDHHMMSS</code> format, depending on whether the function is used in a string or numeric context. It returns the date and time in the current time zone.</p> <div class="language- extra-class"><pre class="language-text"><code>
 SELECT NOW();

</code></pre></div><p>This function is a synonym for <code>SYSDATE()</code>.</p> <div class="language- extra-class"><pre class="language-text"><code>
 SELECT CURDATE();

</code></pre></div><p>This function returns the current date, without any time,  as a value in <code>'YYYY-MM-DD'</code> or <code>YYYYMMDD</code> format, depending on whether the function is used in a string or numeric context. It returns the date in the current time zone.</p> <h2 id="now"><a href="#now" class="header-anchor">#</a> Now()</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">Select</span> <span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Shows the current server date and time.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">Update</span> <span class="token punctuation">`</span>footable<span class="token punctuation">`</span> <span class="token keyword">set</span> mydatefield <span class="token operator">=</span> <span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This will update the field <code>mydatefield</code> with current server date and time in server's configured timezone, e.g.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token string">'2016-07-21 12:00:00'</span>

</code></pre></div><h2 id="testing-against-a-date-range"><a href="#testing-against-a-date-range" class="header-anchor">#</a> Testing against a date range</h2> <p>Although it is very tempting to use <code>BETWEEN</code> ... <code>AND</code> ... for a date range, it is problematical.  Instead, this pattern avoids most problems:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WHERE</span> x <span class="token operator">&gt;=</span> <span class="token string">'2016-02-25'</span>
  <span class="token operator">AND</span> x  <span class="token operator">&lt;</span> <span class="token string">'2016-02-25'</span> <span class="token operator">+</span> <span class="token keyword">INTERVAL</span> <span class="token number">5</span> <span class="token keyword">DAY</span>

</code></pre></div><p>Advantages:</p> <ul><li><code>BETWEEN</code> is 'inclusive' thereby including the final date or second.</li> <li><code>23:59:59</code> is clumsy and wrong if you have microsecond resolution on a <code>DATETIME</code>.</li> <li>This pattern avoid dealing with leap years and other data calculations.</li> <li>It works whether <code>x</code> is <code>DATE</code>, <code>DATETIME</code> or <code>TIMESTAMP</code>.</li></ul> <h2 id="extract-date-from-given-date-or-datetime-expression"><a href="#extract-date-from-given-date-or-datetime-expression" class="header-anchor">#</a> Extract Date from Given Date or DateTime Expression</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DATE</span><span class="token punctuation">(</span><span class="token string">'2003-12-31 01:02:03'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The output will be:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token number">2003</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">31</span>

</code></pre></div><h2 id="using-an-index-for-a-date-and-time-lookup"><a href="#using-an-index-for-a-date-and-time-lookup" class="header-anchor">#</a> Using an index for a date and time lookup</h2> <p>Many real-world database tables have many rows with <code>DATETIME</code> OR <code>TIMESTAMP</code> column values spanning a lot of time, including years or even decades. Often it's necessary to use a <code>WHERE</code> clause to retrieve some subset of that timespan. For example, we might want to retrieve rows for the date 1-September-2016 from a table.</p> <p>An inefficient way to do that is this:</p> <div class="language- extra-class"><pre class="language-text"><code>
WHERE DATE(x) = '2016-09-01'   /* slow! */

</code></pre></div><p>It's inefficient because it applies a function -- <code>DATE()</code> -- to the values of a column. That means MySQL must examine each value of <code>x</code>, and an index cannot be used.</p> <p>A better way to do the operation is this</p> <div class="language- extra-class"><pre class="language-text"><code>
WHERE x &gt;= '2016-09-01'
   AND x &lt;  '2016-09-01' + INTERVAL 1 DAY

</code></pre></div><p>This selects a range of values of <code>x</code> lying anywhere on the day in question, up until but <strong>not including</strong> (hence <code>&lt;</code>) midnight on the next day.</p> <p>If the table has an index on the <code>x</code> column, then the database server can perform a range scan on the index. That means it can quickly find the first relevant value of x, and then scan the index sequentially until it finds the last relevant value. An index range scan is much more efficient than the full table scan required by <code>DATE(x) = '2016-09-01</code>.</p> <p>Don't be tempted to use this, even though it looks more efficient.</p> <div class="language- extra-class"><pre class="language-text"><code>
 WHERE x BETWEEN '2016-09-01' AND '2016-09-01' + INTERVAL 1 DAY  /*  wrong! */

</code></pre></div><p>It has the same efficiency as the range scan, but it will select rows with values of <code>x</code> falling exactly at midnight on 2-Sept-2016, which is not what you want.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/mysql/date-and-time-operations.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mysql/string-operations.html" class="prev">
        String operations
      </a></span> <span class="next"><a href="/mysql/handling-time-zones.html">
        Handling Time Zones
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2103.be002ec9.js" defer></script>
  </body>
</html>
