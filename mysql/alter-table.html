<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL - ALTER TABLE</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Changing storage engine; rebuild table; change file_per_table, ALTER COLUMN OF TABLE, Change auto-increment value, Renaming a MySQL table, ALTER table add INDEX, Changing the type of a primary key column, Change column definition, Renaming a MySQL database, Swapping the names of two MySQL databases, Renaming a column in a MySQL table">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="MySQL - ALTER TABLE">
    <meta property="og:description" content="Changing storage engine; rebuild table; change file_per_table, ALTER COLUMN OF TABLE, Change auto-increment value, Renaming a MySQL table, ALTER table add INDEX, Changing the type of a primary key column, Change column definition, Renaming a MySQL database, Swapping the names of two MySQL databases, Renaming a column in a MySQL table">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/mysql/alter-table.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="MySQL - ALTER TABLE">
    <meta name="twitter:description" content="Changing storage engine; rebuild table; change file_per_table, ALTER COLUMN OF TABLE, Change auto-increment value, Renaming a MySQL table, ALTER table add INDEX, Changing the type of a primary key column, Change column definition, Renaming a MySQL database, Swapping the names of two MySQL databases, Renaming a column in a MySQL table">
    <meta name="twitter:url" content="/mysql/alter-table.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2087.292f2822.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/mysql/getting-started-with-mysql.html" class="sidebar-link">Getting started with MySQL</a></li><li><a href="/mysql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/mysql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/mysql/backticks.html" class="sidebar-link">Backticks</a></li><li><a href="/mysql/null.html" class="sidebar-link">NULL</a></li><li><a href="/mysql/limit-and-offset.html" class="sidebar-link">Limit and Offset</a></li><li><a href="/mysql/creating-databases.html" class="sidebar-link">Creating databases</a></li><li><a href="/mysql/using-variables.html" class="sidebar-link">Using Variables</a></li><li><a href="/mysql/comment-mysql.html" class="sidebar-link">Comment Mysql</a></li><li><a href="/mysql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/mysql/delete.html" class="sidebar-link">DELETE</a></li><li><a href="/mysql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/mysql/order-by.html" class="sidebar-link">ORDER BY</a></li><li><a href="/mysql/group-by.html" class="sidebar-link">Group By</a></li><li><a href="/mysql/error-1055-only-full-group-by-something-is-not-in-group-by-clause.html" class="sidebar-link">Error 1055: ONLYFULLGROUP_BY: something  is not in GROUP BY clause ...</a></li><li><a href="/mysql/joins.html" class="sidebar-link">Joins</a></li><li><a href="/mysql/joins-join-3-table-with-the-same-name-of-id.html" class="sidebar-link">JOINS: Join 3 table with the same name of id.</a></li><li><a href="/mysql/union.html" class="sidebar-link">UNION</a></li><li><a href="/mysql/arithmetic.html" class="sidebar-link">Arithmetic</a></li><li><a href="/mysql/string-operations.html" class="sidebar-link">String operations</a></li><li><a href="/mysql/date-and-time-operations.html" class="sidebar-link">Date and Time Operations</a></li><li><a href="/mysql/handling-time-zones.html" class="sidebar-link">Handling Time Zones</a></li><li><a href="/mysql/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/mysql/view.html" class="sidebar-link">VIEW</a></li><li><a href="/mysql/table-creation.html" class="sidebar-link">Table Creation</a></li><li><a href="/mysql/alter-table.html" aria-current="page" class="active sidebar-link">ALTER TABLE</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#changing-storage-engine-rebuild-table-change-file-per-table" class="sidebar-link">Changing storage engine; rebuild table; change filepertable</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#alter-column-of-table" class="sidebar-link">ALTER COLUMN OF TABLE</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#change-auto-increment-value" class="sidebar-link">Change auto-increment value</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#renaming-a-mysql-table" class="sidebar-link">Renaming a MySQL table</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#alter-table-add-index" class="sidebar-link">ALTER table add INDEX</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#changing-the-type-of-a-primary-key-column" class="sidebar-link">Changing the type of a primary key column</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#change-column-definition" class="sidebar-link">Change column definition</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#renaming-a-mysql-database" class="sidebar-link">Renaming a MySQL database</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#swapping-the-names-of-two-mysql-databases" class="sidebar-link">Swapping the names of two MySQL databases</a></li><li class="sidebar-sub-header"><a href="/mysql/alter-table.html#renaming-a-column-in-a-mysql-table" class="sidebar-link">Renaming a column in a MySQL table</a></li></ul></li><li><a href="/mysql/drop-table.html" class="sidebar-link">Drop Table</a></li><li><a href="/mysql/mysql-lock-table.html" class="sidebar-link">MySQL LOCK TABLE</a></li><li><a href="/mysql/error-codes.html" class="sidebar-link">Error codes</a></li><li><a href="/mysql/stored-routines-procedures-and-functions.html" class="sidebar-link">Stored routines (procedures and functions)</a></li><li><a href="/mysql/indexes-and-keys.html" class="sidebar-link">Indexes and Keys</a></li><li><a href="/mysql/full-text-search.html" class="sidebar-link">Full-Text search</a></li><li><a href="/mysql/prepare-statements.html" class="sidebar-link">PREPARE Statements</a></li><li><a href="/mysql/json.html" class="sidebar-link">JSON</a></li><li><a href="/mysql/extract-values-from-json-type.html" class="sidebar-link">Extract values from JSON type</a></li><li><a href="/mysql/mysql-admin.html" class="sidebar-link">MySQL Admin</a></li><li><a href="/mysql/triggers.html" class="sidebar-link">TRIGGERS</a></li><li><a href="/mysql/configuration-and-tuning.html" class="sidebar-link">Configuration and tuning</a></li><li><a href="/mysql/events.html" class="sidebar-link">Events</a></li><li><a href="/mysql/enum.html" class="sidebar-link">ENUM</a></li><li><a href="/mysql/install-mysql-container-with-docker-compose.html" class="sidebar-link">Install Mysql container with Docker-Compose</a></li><li><a href="/mysql/character-sets-and-collations.html" class="sidebar-link">Character Sets and Collations</a></li><li><a href="/mysql/myisam-engine.html" class="sidebar-link">MyISAM Engine</a></li><li><a href="/mysql/converting-from-myisam-to-innodb.html" class="sidebar-link">Converting from MyISAM to InnoDB</a></li><li><a href="/mysql/transaction.html" class="sidebar-link">Transaction</a></li><li><a href="/mysql/log-files.html" class="sidebar-link">Log files</a></li><li><a href="/mysql/clustering.html" class="sidebar-link">Clustering</a></li><li><a href="/mysql/partitioning.html" class="sidebar-link">Partitioning</a></li><li><a href="/mysql/replication.html" class="sidebar-link">Replication</a></li><li><a href="/mysql/backup-using-mysqldump.html" class="sidebar-link">Backup using mysqldump</a></li><li><a href="/mysql/mysqlimport.html" class="sidebar-link">mysqlimport</a></li><li><a href="/mysql/load-data-infile.html" class="sidebar-link">LOAD DATA INFILE</a></li><li><a href="/mysql/mysql-unions.html" class="sidebar-link">MySQL Unions</a></li><li><a href="/mysql/mysql-client.html" class="sidebar-link">MySQL client</a></li><li><a href="/mysql/temporary-tables.html" class="sidebar-link">Temporary Tables</a></li><li><a href="/mysql/customize-ps1.html" class="sidebar-link">Customize PS1</a></li><li><a href="/mysql/dealing-with-sparse-or-missing-data.html" class="sidebar-link">Dealing with sparse or missing data</a></li><li><a href="/mysql/connecting-with-utf-8-using-various-programming-language.html" class="sidebar-link">Connecting with UTF-8 Using Various Programming language.</a></li><li><a href="/mysql/time-with-subsecond-precision.html" class="sidebar-link">Time with subsecond precision</a></li><li><a href="/mysql/one-to-many.html" class="sidebar-link">One to Many</a></li><li><a href="/mysql/many-to-many-mapping-table.html" class="sidebar-link">Many-to-many Mapping table</a></li><li><a href="/mysql/pivot-queries.html" class="sidebar-link">Pivot queries</a></li><li><a href="/mysql/dynamic-un-pivot-table-using-prepared-statement.html" class="sidebar-link">Dynamic Un-Pivot Table using Prepared Statement</a></li><li><a href="/mysql/server-information.html" class="sidebar-link">Server Information</a></li><li><a href="/mysql/ssl-connection-setup.html" class="sidebar-link">SSL Connection Setup</a></li><li><a href="/mysql/create-new-user.html" class="sidebar-link">Create New User</a></li><li><a href="/mysql/security-via-grants.html" class="sidebar-link">Security via GRANTs</a></li><li><a href="/mysql/change-password.html" class="sidebar-link">Change Password</a></li><li><a href="/mysql/recover-and-reset-the-default-root-password-for-mysql-5-7.html" class="sidebar-link">Recover and reset the default root password for MySQL 5.7+</a></li><li><a href="/mysql/recover-from-lost-root-password.html" class="sidebar-link">Recover from lost root password</a></li><li><a href="/mysql/mysql-performance-tips.html" class="sidebar-link">Mysql Performance Tips</a></li><li><a href="/mysql/performance-tuning.html" class="sidebar-link">Performance Tuning</a></li><li><a href="/mysql/reserved-words.html" class="sidebar-link">Reserved Words</a></li><li><a href="/mysql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="alter-table"><a href="#alter-table" class="header-anchor">#</a> ALTER TABLE</h1> <h2 id="changing-storage-engine-rebuild-table-change-file-per-table"><a href="#changing-storage-engine-rebuild-table-change-file-per-table" class="header-anchor">#</a> Changing storage engine; rebuild table; change file_per_table</h2> <p>For example, if <code>t1</code> is currently not an InnoDB table, this statement changes its storage engine to InnoDB:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t1 <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span><span class="token punctuation">;</span>

</code></pre></div><p>If the table is already InnoDB, this will rebuild the table and its indexes and have an effect similar to <code>OPTIMIZE TABLE</code>.  You may gain some disk space improvement.</p> <p>If the value of <code>innodb_file_per_table</code> is currently different than the value in effect when <code>t1</code> was built, this will convert to (or from) file_per_table.</p> <h2 id="alter-column-of-table"><a href="#alter-column-of-table" class="header-anchor">#</a> ALTER COLUMN OF TABLE</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> stackoverflow<span class="token punctuation">;</span>

<span class="token keyword">USE</span> stackoverflow<span class="token punctuation">;</span>

<span class="token keyword">Create</span> <span class="token keyword">table</span> stack<span class="token punctuation">(</span>
    id_user <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stack <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> submit <span class="token keyword">date</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span> <span class="token comment">-- add new column</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stack <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> submit<span class="token punctuation">;</span> <span class="token comment">-- drop column</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stack <span class="token keyword">MODIFY</span> submit <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span> <span class="token comment">-- modify type column</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stack CHANGE submit submit_date <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span> <span class="token comment">-- change type and name of column</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stack <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> mod_id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AFTER</span> id_user<span class="token punctuation">;</span> <span class="token comment">-- add new column after existing column</span>

</code></pre></div><h2 id="change-auto-increment-value"><a href="#change-auto-increment-value" class="header-anchor">#</a> Change auto-increment value</h2> <p>Changing an auto-increment value is useful when you don't want a gap in an AUTO_INCREMENT column after a massive deletion.</p> <p>For example, you got a lot of unwanted (advertisement) rows posted in your table, you deleted them, and you want to fix the gap in auto-increment values. Assume the MAX value of AUTO_INCREMENT column is 100 now. You can use the following to fix the auto-increment value.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> your_table_name <span class="token keyword">AUTO_INCREMENT</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="renaming-a-mysql-table"><a href="#renaming-a-mysql-table" class="header-anchor">#</a> Renaming a MySQL table</h2> <p>Renaming a table can be done in a single command:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">RENAME</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span><span class="token operator">&lt;</span>old name<span class="token operator">&gt;</span><span class="token punctuation">`</span> <span class="token keyword">TO</span> <span class="token punctuation">`</span><span class="token operator">&lt;</span>new name<span class="token operator">&gt;</span><span class="token punctuation">`</span><span class="token punctuation">;</span>

</code></pre></div><p>The following syntax does exactly the same:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span><span class="token operator">&lt;</span>old name<span class="token operator">&gt;</span><span class="token punctuation">`</span> <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> <span class="token punctuation">`</span><span class="token operator">&lt;</span>new name<span class="token operator">&gt;</span><span class="token punctuation">`</span><span class="token punctuation">;</span>

</code></pre></div><p>If renaming a temporary table, the <code>ALTER TABLE</code> version of the syntax must be used.</p> <p><strong>Steps:</strong></p> <ol><li>Replace <code>&lt;old name&gt;</code> and <code>&lt;new name&gt;</code> in the line above with the relevant values. <strong>Note: If the table is being moved to a different database, the <code>dbname</code>.<code>tablename</code> syntax can be used for <code>&lt;old name&gt;</code> and/or <code>&lt;new name&gt;</code>.</strong></li> <li>Execute it on the relevant database in the MySQL command line or a client such as MySQL Workbench. <strong>Note: The user must have ALTER and DROP privileges on the old table and CREATE and INSERT on the new one.</strong></li></ol> <h2 id="alter-table-add-index"><a href="#alter-table-add-index" class="header-anchor">#</a> ALTER table add INDEX</h2> <p>To improve performance one might want to add indexes to columns</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> TABLE_NAME <span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> <span class="token punctuation">`</span>index_name<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>column_name<span class="token punctuation">`</span><span class="token punctuation">)</span>

</code></pre></div><p>altering to add composite (multiple column) indexes</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> TABLE_NAME <span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> <span class="token punctuation">`</span>index_name<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>col1<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>col2<span class="token punctuation">`</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="changing-the-type-of-a-primary-key-column"><a href="#changing-the-type-of-a-primary-key-column" class="header-anchor">#</a> Changing the type of a primary key column</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> fish_data<span class="token punctuation">.</span>fish <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> fish_data<span class="token punctuation">.</span>fish <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> fish_id <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>

</code></pre></div><p>An attempt to modify the type of this column without first dropping the primary key would result in an error.</p> <h2 id="change-column-definition"><a href="#change-column-definition" class="header-anchor">#</a> Change column definition</h2> <p>The change the definition of a db column, the query below can be used for example, if we have this db schema</p> <div class="language-sql extra-class"><pre class="language-sql"><code>users <span class="token punctuation">(</span>
    firstname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    lastname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    age <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

</code></pre></div><p>To change the type of <code>age</code> column from <code>char</code> to <code>int</code>, we use the query below:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> users CHANGE age age <span class="token keyword">tinyint</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

</code></pre></div><p>General format is:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name CHANGE column_name new_column_definition

</code></pre></div><h2 id="renaming-a-mysql-database"><a href="#renaming-a-mysql-database" class="header-anchor">#</a> Renaming a MySQL database</h2> <p>There is no single command to rename a MySQL database but a simple workaround can be used to achieve this by backing up and restoring:</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token operator">&lt;</span>new name<span class="token operator">&gt;</span>
mysqldump <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token comment">--routines &lt;old name&gt; | mysql -uroot -pmypassword &lt;new name&gt;</span>
mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">drop</span> <span class="token operator">&lt;</span>old name<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Steps:</strong></p> <ol><li>Copy the lines above into a text editor.</li> <li>Replace all references to <code>&lt;old name&gt;</code>, <code>&lt;new name&gt;</code> and <code>&lt;password&gt;</code> (+ optionally <code>root</code> to use a different user) with the relevant values.</li> <li>Execute one by one on the command line (assuming the MySQL &quot;bin&quot; folder is in the path and entering &quot;y&quot; when prompted).</li></ol> <p><strong>Alternative Steps:</strong></p> <p>Rename (move) each table from one db to the other.  Do this for each table:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">RENAME</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span><span class="token operator">&lt;</span>old db<span class="token operator">&gt;</span><span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span><span class="token operator">&lt;</span>name<span class="token operator">&gt;</span><span class="token punctuation">`</span> <span class="token keyword">TO</span>  <span class="token punctuation">`</span><span class="token operator">&lt;</span>new db<span class="token operator">&gt;</span><span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span><span class="token operator">&lt;</span>name<span class="token operator">&gt;</span><span class="token punctuation">`</span><span class="token punctuation">;</span>

</code></pre></div><p>You can create those statements by doing something like</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'RENAME TABLE old_db.'</span><span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> <span class="token string">' TO '</span><span class="token punctuation">,</span>
                           <span class="token string">'new_db.'</span><span class="token punctuation">,</span> table_name<span class="token punctuation">)</span>
    <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">TABLES</span>
    <span class="token keyword">WHERE</span> table_schema <span class="token operator">=</span> <span class="token string">'old_db'</span><span class="token punctuation">;</span>

</code></pre></div><p>Warning. Do not attempt to do any sort of table or database by simply moving files around on the filesystem.  This worked fine in the old days of just MyISAM, but in the new days of InnoDB and tablespaces, it won't work.  Especially when the &quot;Data Dictionary&quot; is moved from the filesystem into system InnoDB tables, probably in the next major release.  Moving (as opposed to just <code>DROPping</code>) a <code>PARTITION</code> of an InnoDB table requires using &quot;transportable tablespaces&quot;.  In the near future, there won't even be a file to reach for.</p> <h2 id="swapping-the-names-of-two-mysql-databases"><a href="#swapping-the-names-of-two-mysql-databases" class="header-anchor">#</a> Swapping the names of two MySQL databases</h2> <p>The following commands can be used to swap the names of two MySQL databases (<code>&lt;db1&gt;</code> and <code>&lt;db2&gt;</code>):</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">create</span> swaptemp
mysqldump <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token comment">--routines &lt;db1&gt; | mysql -uroot -p&lt;password&gt; swaptemp</span>
mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">drop</span> <span class="token operator">&lt;</span>db1<span class="token operator">&gt;</span>
mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token operator">&lt;</span>db1<span class="token operator">&gt;</span>
mysqldump <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token comment">--routines &lt;db2&gt; | mysql -uroot -p&lt;password&gt; &lt;db1&gt;</span>
mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">drop</span> <span class="token operator">&lt;</span>db2<span class="token operator">&gt;</span>
mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token operator">&lt;</span>db2<span class="token operator">&gt;</span>
mysqldump <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token comment">--routines swaptemp | mysql -uroot -p&lt;password&gt; &lt;db2&gt;</span>
mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token keyword">drop</span> swaptemp

</code></pre></div><p><strong>Steps:</strong></p> <ol><li>Copy the lines above into a text editor.</li> <li>Replace all references to <code>&lt;db1&gt;</code>, <code>&lt;db2&gt;</code> and <code>&lt;password&gt;</code> (+ optionally <code>root</code> to use a different user) with the relevant values.</li> <li>Execute one by one on the command line (assuming the MySQL &quot;bin&quot; folder is in the path and entering &quot;y&quot; when prompted).</li></ol> <h2 id="renaming-a-column-in-a-mysql-table"><a href="#renaming-a-column-in-a-mysql-table" class="header-anchor">#</a> Renaming a column in a MySQL table</h2> <p>Renaming a column can be done in a single statement but as well as the new name, the &quot;column definition&quot; (i.e. its data type and other optional properties such as nullability, auto incrementing etc.) must also be specified.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span><span class="token operator">&lt;</span><span class="token keyword">table</span> name<span class="token operator">&gt;</span><span class="token punctuation">`</span> CHANGE <span class="token punctuation">`</span><span class="token operator">&lt;</span>old name<span class="token operator">&gt;</span><span class="token punctuation">`</span> <span class="token punctuation">`</span><span class="token operator">&lt;</span>new name<span class="token operator">&gt;</span><span class="token punctuation">`</span> <span class="token operator">&lt;</span><span class="token keyword">column</span> definition<span class="token operator">&gt;</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>Steps:</strong></p> <ol><li>Open the MySQL command line or a client such as MySQL Workbench.</li> <li>Run the following statement: <code>SHOW CREATE TABLE &lt;table name&gt;;</code> (replacing <code>&lt;table name&gt;</code> with the relevant value).</li> <li>Make a note of the entire column definition for the column to be renamed <strong>(i.e. everything that appears after the name of the column but before the comma separating it from the next column name)</strong>.</li> <li>Replace <code>&lt;old name&gt;</code>, <code>&lt;new name&gt;</code> and <code>&lt;column definition&gt;</code> in the line above with the relevant values and then execute it.</li></ol> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>ALTER [IGNORE] TABLE tbl_name [<strong>alter_specification</strong> [, alter_specification] ...] [partition_options]</li></ul> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <div class="language- extra-class"><pre class="language-text"><code>
   alter_specification: table_options
      | ADD [COLUMN] col_name column_definition [FIRST | AFTER col_name ]
      | ADD [COLUMN] (col_name column_definition,...)
      | ADD {INDEX|KEY} [index_name] [index_type] (index_col_name,...) [index_option] ...
      | ADD [CONSTRAINT [symbol]] PRIMARY KEY [index_type] (index_col_name,...) [index_option] ...
      | ADD [CONSTRAINT [symbol]] UNIQUE [INDEX|KEY] [index_name] [index_type] (index_col_name,...) [index_option] ...
      | ADD FULLTEXT [INDEX|KEY] [index_name] (index_col_name,...) [index_option] ...
      | ADD SPATIAL [INDEX|KEY] [index_name] (index_col_name,...) [index_option] ...
      | ADD [CONSTRAINT [symbol]] FOREIGN KEY [index_name] (index_col_name,...) reference_definition
      | ALGORITHM [=] {DEFAULT|INPLACE|COPY}
      | ALTER [COLUMN] col_name {SET DEFAULT literal | DROP DEFAULT}
      | CHANGE [COLUMN] old_col_name new_col_name column_definition [FIRST|AFTER col_name]
      | LOCK [=] {DEFAULT|NONE|SHARED|EXCLUSIVE}
      | MODIFY [COLUMN] col_name column_definition [FIRST | AFTER col_name]
      | DROP [COLUMN] col_name
      | DROP PRIMARY KEY
      | DROP {INDEX|KEY} index_name
      | DROP FOREIGN KEY fk_symbol
      | DISABLE KEYS
      | ENABLE KEYS
      | RENAME [TO|AS] new_tbl_name
      | RENAME {INDEX|KEY} old_index_name TO new_index_name
      | ORDER BY col_name [, col_name] ...
      | CONVERT TO CHARACTER SET charset_name [COLLATE collation_name]
      | [DEFAULT] CHARACTER SET [=] charset_name [COLLATE [=] collation_name]
      | DISCARD TABLESPACE
      | IMPORT TABLESPACE
      | FORCE
      | {WITHOUT|WITH} VALIDATION
      | ADD PARTITION (partition_definition)
      | DROP PARTITION partition_names
      | DISCARD PARTITION {partition_names | ALL} TABLESPACE
      | IMPORT PARTITION {partition_names | ALL} TABLESPACE
      | TRUNCATE PARTITION {partition_names | ALL}
      | COALESCE PARTITION number
      | REORGANIZE PARTITION partition_names INTO (partition_definitions)
      | EXCHANGE PARTITION partition_name WITH TABLE tbl_name [{WITH|WITHOUT} VALIDATION]
      | ANALYZE PARTITION {partition_names | ALL}
      | CHECK PARTITION {partition_names | ALL}
      | OPTIMIZE PARTITION {partition_names | ALL}
      | REBUILD PARTITION {partition_names | ALL}
      | REPAIR PARTITION {partition_names | ALL}
      | REMOVE PARTITIONING
      | UPGRADE PARTITIONING
   index_col_name: col_name [(length)] [ASC | DESC]
   index_type: USING {BTREE | HASH}
   index_option: KEY_BLOCK_SIZE [=] value
      | index_type
      | WITH PARSER parser_name
      | COMMENT 'string'

</code></pre></div><p><code>table_options: table_option [[,] table_option] ... (see</code> <a href="http://dev.mysql.com/doc/refman/5.7/en/create-table.html" target="_blank" rel="noopener noreferrer">CREATE TABLE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>options)</code></p> <p><code>partition_options: (see</code> <a href="http://dev.mysql.com/doc/refman/5.7/en/create-table.html" target="_blank" rel="noopener noreferrer">CREATE TABLE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>options)</code></p> <p>Ref: <a href="http://dev.mysql.com/doc/refman/5.7/en/alter-table.html" target="_blank" rel="noopener noreferrer">MySQL 5.7 Reference Manual  /  ...  /  ALTER TABLE Syntax / 14.1.8 ALTER TABLE Syntax<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/mysql/alter-table.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mysql/table-creation.html" class="prev">
        Table Creation
      </a></span> <span class="next"><a href="/mysql/drop-table.html">
        Drop Table
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2087.292f2822.js" defer></script>
  </body>
</html>
