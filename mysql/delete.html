<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL - DELETE</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Delete with Where clause, Delete all rows from a table, LIMITing deletes, Multi-Table Deletes, Basic delete, DELETE vs TRUNCATE, Multi-table DELETE">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="MySQL - DELETE">
    <meta property="og:description" content="Delete with Where clause, Delete all rows from a table, LIMITing deletes, Multi-Table Deletes, Basic delete, DELETE vs TRUNCATE, Multi-table DELETE">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/mysql/delete.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="MySQL - DELETE">
    <meta name="twitter:description" content="Delete with Where clause, Delete all rows from a table, LIMITing deletes, Multi-Table Deletes, Basic delete, DELETE vs TRUNCATE, Multi-table DELETE">
    <meta name="twitter:url" content="/mysql/delete.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2105.d2c9ab63.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/mysql/getting-started-with-mysql.html" class="sidebar-link">Getting started with MySQL</a></li><li><a href="/mysql/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/mysql/select.html" class="sidebar-link">SELECT</a></li><li><a href="/mysql/backticks.html" class="sidebar-link">Backticks</a></li><li><a href="/mysql/null.html" class="sidebar-link">NULL</a></li><li><a href="/mysql/limit-and-offset.html" class="sidebar-link">Limit and Offset</a></li><li><a href="/mysql/creating-databases.html" class="sidebar-link">Creating databases</a></li><li><a href="/mysql/using-variables.html" class="sidebar-link">Using Variables</a></li><li><a href="/mysql/comment-mysql.html" class="sidebar-link">Comment Mysql</a></li><li><a href="/mysql/insert.html" class="sidebar-link">INSERT</a></li><li><a href="/mysql/delete.html" aria-current="page" class="active sidebar-link">DELETE</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/delete.html#delete-with-where-clause" class="sidebar-link">Delete with Where clause</a></li><li class="sidebar-sub-header"><a href="/mysql/delete.html#delete-all-rows-from-a-table" class="sidebar-link">Delete all rows from a table</a></li><li class="sidebar-sub-header"><a href="/mysql/delete.html#limiting-deletes" class="sidebar-link">LIMITing deletes</a></li><li class="sidebar-sub-header"><a href="/mysql/delete.html#multi-table-deletes" class="sidebar-link">Multi-Table Deletes</a></li><li class="sidebar-sub-header"><a href="/mysql/delete.html#basic-delete" class="sidebar-link">Basic delete</a></li><li class="sidebar-sub-header"><a href="/mysql/delete.html#delete-vs-truncate" class="sidebar-link">DELETE vs TRUNCATE</a></li><li class="sidebar-sub-header"><a href="/mysql/delete.html#multi-table-delete" class="sidebar-link">Multi-table DELETE</a></li></ul></li><li><a href="/mysql/update.html" class="sidebar-link">UPDATE</a></li><li><a href="/mysql/order-by.html" class="sidebar-link">ORDER BY</a></li><li><a href="/mysql/group-by.html" class="sidebar-link">Group By</a></li><li><a href="/mysql/error-1055-only-full-group-by-something-is-not-in-group-by-clause.html" class="sidebar-link">Error 1055: ONLYFULLGROUP_BY: something  is not in GROUP BY clause ...</a></li><li><a href="/mysql/joins.html" class="sidebar-link">Joins</a></li><li><a href="/mysql/joins-join-3-table-with-the-same-name-of-id.html" class="sidebar-link">JOINS: Join 3 table with the same name of id.</a></li><li><a href="/mysql/union.html" class="sidebar-link">UNION</a></li><li><a href="/mysql/arithmetic.html" class="sidebar-link">Arithmetic</a></li><li><a href="/mysql/string-operations.html" class="sidebar-link">String operations</a></li><li><a href="/mysql/date-and-time-operations.html" class="sidebar-link">Date and Time Operations</a></li><li><a href="/mysql/handling-time-zones.html" class="sidebar-link">Handling Time Zones</a></li><li><a href="/mysql/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/mysql/view.html" class="sidebar-link">VIEW</a></li><li><a href="/mysql/table-creation.html" class="sidebar-link">Table Creation</a></li><li><a href="/mysql/alter-table.html" class="sidebar-link">ALTER TABLE</a></li><li><a href="/mysql/drop-table.html" class="sidebar-link">Drop Table</a></li><li><a href="/mysql/mysql-lock-table.html" class="sidebar-link">MySQL LOCK TABLE</a></li><li><a href="/mysql/error-codes.html" class="sidebar-link">Error codes</a></li><li><a href="/mysql/stored-routines-procedures-and-functions.html" class="sidebar-link">Stored routines (procedures and functions)</a></li><li><a href="/mysql/indexes-and-keys.html" class="sidebar-link">Indexes and Keys</a></li><li><a href="/mysql/full-text-search.html" class="sidebar-link">Full-Text search</a></li><li><a href="/mysql/prepare-statements.html" class="sidebar-link">PREPARE Statements</a></li><li><a href="/mysql/json.html" class="sidebar-link">JSON</a></li><li><a href="/mysql/extract-values-from-json-type.html" class="sidebar-link">Extract values from JSON type</a></li><li><a href="/mysql/mysql-admin.html" class="sidebar-link">MySQL Admin</a></li><li><a href="/mysql/triggers.html" class="sidebar-link">TRIGGERS</a></li><li><a href="/mysql/configuration-and-tuning.html" class="sidebar-link">Configuration and tuning</a></li><li><a href="/mysql/events.html" class="sidebar-link">Events</a></li><li><a href="/mysql/enum.html" class="sidebar-link">ENUM</a></li><li><a href="/mysql/install-mysql-container-with-docker-compose.html" class="sidebar-link">Install Mysql container with Docker-Compose</a></li><li><a href="/mysql/character-sets-and-collations.html" class="sidebar-link">Character Sets and Collations</a></li><li><a href="/mysql/myisam-engine.html" class="sidebar-link">MyISAM Engine</a></li><li><a href="/mysql/converting-from-myisam-to-innodb.html" class="sidebar-link">Converting from MyISAM to InnoDB</a></li><li><a href="/mysql/transaction.html" class="sidebar-link">Transaction</a></li><li><a href="/mysql/log-files.html" class="sidebar-link">Log files</a></li><li><a href="/mysql/clustering.html" class="sidebar-link">Clustering</a></li><li><a href="/mysql/partitioning.html" class="sidebar-link">Partitioning</a></li><li><a href="/mysql/replication.html" class="sidebar-link">Replication</a></li><li><a href="/mysql/backup-using-mysqldump.html" class="sidebar-link">Backup using mysqldump</a></li><li><a href="/mysql/mysqlimport.html" class="sidebar-link">mysqlimport</a></li><li><a href="/mysql/load-data-infile.html" class="sidebar-link">LOAD DATA INFILE</a></li><li><a href="/mysql/mysql-unions.html" class="sidebar-link">MySQL Unions</a></li><li><a href="/mysql/mysql-client.html" class="sidebar-link">MySQL client</a></li><li><a href="/mysql/temporary-tables.html" class="sidebar-link">Temporary Tables</a></li><li><a href="/mysql/customize-ps1.html" class="sidebar-link">Customize PS1</a></li><li><a href="/mysql/dealing-with-sparse-or-missing-data.html" class="sidebar-link">Dealing with sparse or missing data</a></li><li><a href="/mysql/connecting-with-utf-8-using-various-programming-language.html" class="sidebar-link">Connecting with UTF-8 Using Various Programming language.</a></li><li><a href="/mysql/time-with-subsecond-precision.html" class="sidebar-link">Time with subsecond precision</a></li><li><a href="/mysql/one-to-many.html" class="sidebar-link">One to Many</a></li><li><a href="/mysql/many-to-many-mapping-table.html" class="sidebar-link">Many-to-many Mapping table</a></li><li><a href="/mysql/pivot-queries.html" class="sidebar-link">Pivot queries</a></li><li><a href="/mysql/dynamic-un-pivot-table-using-prepared-statement.html" class="sidebar-link">Dynamic Un-Pivot Table using Prepared Statement</a></li><li><a href="/mysql/server-information.html" class="sidebar-link">Server Information</a></li><li><a href="/mysql/ssl-connection-setup.html" class="sidebar-link">SSL Connection Setup</a></li><li><a href="/mysql/create-new-user.html" class="sidebar-link">Create New User</a></li><li><a href="/mysql/security-via-grants.html" class="sidebar-link">Security via GRANTs</a></li><li><a href="/mysql/change-password.html" class="sidebar-link">Change Password</a></li><li><a href="/mysql/recover-and-reset-the-default-root-password-for-mysql-5-7.html" class="sidebar-link">Recover and reset the default root password for MySQL 5.7+</a></li><li><a href="/mysql/recover-from-lost-root-password.html" class="sidebar-link">Recover from lost root password</a></li><li><a href="/mysql/mysql-performance-tips.html" class="sidebar-link">Mysql Performance Tips</a></li><li><a href="/mysql/performance-tuning.html" class="sidebar-link">Performance Tuning</a></li><li><a href="/mysql/reserved-words.html" class="sidebar-link">Reserved Words</a></li><li><a href="/mysql/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="delete"><a href="#delete" class="header-anchor">#</a> DELETE</h1> <h2 id="delete-with-where-clause"><a href="#delete-with-where-clause" class="header-anchor">#</a> Delete with Where clause</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>table_name<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>field_one<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token string">'value_one'</span>

</code></pre></div><p>This will delete all rows from the table where the contents of the <code>field_one</code> for that row match 'value_one'</p> <p>The <code>WHERE</code> clause works in the same way as a select, so things like <code>&gt;</code>, <code>&lt;</code>, <code>&lt;&gt;</code> or <code>LIKE</code> can be used.</p> <p><strong>Notice:</strong> It is necessary to use conditional clauses (WHERE, LIKE) in delete query. If you do not use any conditional clauses then all data from that table will be deleted.</p> <h2 id="delete-all-rows-from-a-table"><a href="#delete-all-rows-from-a-table" class="header-anchor">#</a> Delete all rows from a table</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name <span class="token punctuation">;</span>

</code></pre></div><p>This will delete everything, all rows from the table. It is the most basic example of the syntax. It also shows that <code>DELETE</code> statements should really be used with extra care as they may empty a table, if the <code>WHERE</code> clause is omitted.</p> <h2 id="limiting-deletes"><a href="#limiting-deletes" class="header-anchor">#</a> LIMITing deletes</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>table_name<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>field_one<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token string">'value_one'</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span>

</code></pre></div><p>This works in the same way as the 'Delete with Where clause' example, but it will stop the deletion once the limited number of rows have been removed.</p> <p>If you are limiting rows for deletion like this, be aware that it will delete the first row which matches the criteria. It might not be the one you would expect, as the results can come back unsorted if they are not explicitly ordered.</p> <h2 id="multi-table-deletes"><a href="#multi-table-deletes" class="header-anchor">#</a> Multi-Table Deletes</h2> <p>MySQL's <code>DELETE</code> statement can use the <code>JOIN</code> construct, allowing also to specify which tables to delete from. This is useful to avoid nested queries.
Given the schema:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> people
<span class="token punctuation">(</span>    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> people <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>gender<span class="token punctuation">)</span> <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'Kathy'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'John'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'Paul'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'Kim'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> pets
<span class="token punctuation">(</span>    id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    ownerId <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    color <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> pets<span class="token punctuation">(</span>ownerId<span class="token punctuation">,</span>name<span class="token punctuation">,</span>color<span class="token punctuation">)</span> <span class="token keyword">values</span> 
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'Rover'</span><span class="token punctuation">,</span><span class="token string">'beige'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'Bubbles'</span><span class="token punctuation">,</span><span class="token string">'purple'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'Spot'</span><span class="token punctuation">,</span><span class="token string">'black and white'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'Rover2'</span><span class="token punctuation">,</span><span class="token string">'white'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><table><thead><tr><th>id</th> <th>name</th> <th>gender</th></tr></thead> <tbody><tr><td>1</td> <td>Kathy</td> <td>f</td></tr> <tr><td>2</td> <td>John</td> <td>m</td></tr> <tr><td>3</td> <td>Paul</td> <td>m</td></tr> <tr><td>4</td> <td>Kim</td> <td>f</td></tr></tbody></table> <table><thead><tr><th>id</th> <th>ownerId</th> <th>name</th> <th>color</th></tr></thead> <tbody><tr><td>1</td> <td>1</td> <td>Rover</td> <td>beige</td></tr> <tr><td>2</td> <td>2</td> <td>Bubbles</td> <td>purple</td></tr> <tr><td>4</td> <td>1</td> <td>Rover2</td> <td>white</td></tr></tbody></table> <p>If we want to remove Paul's pets, the statement</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> p2
<span class="token keyword">FROM</span> pets p2
<span class="token keyword">WHERE</span> p2<span class="token punctuation">.</span>ownerId <span class="token operator">in</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> p1<span class="token punctuation">.</span>id
    <span class="token keyword">FROM</span> people p1
    <span class="token keyword">WHERE</span> p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Paul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>can be rewritten as:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> p2    <span class="token comment">-- remove only rows from pets</span>
<span class="token keyword">FROM</span> people p1
<span class="token keyword">JOIN</span> pets p2
<span class="token keyword">ON</span> p2<span class="token punctuation">.</span>ownerId <span class="token operator">=</span> p1<span class="token punctuation">.</span>id
<span class="token keyword">WHERE</span> p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Paul'</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>1 row deleted</strong><br>
Spot is deleted from Pets</p> <p><code>p1</code> and <code>p2</code> are aliases for the table names, especially useful for long table names and ease of readability.</p> <p>To remove both the person and the pet:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> p1<span class="token punctuation">,</span> p2     <span class="token comment">-- remove rows from both tables</span>
<span class="token keyword">FROM</span> people p1
<span class="token keyword">JOIN</span> pets p2
<span class="token keyword">ON</span> p2<span class="token punctuation">.</span>ownerId <span class="token operator">=</span> p1<span class="token punctuation">.</span>id
<span class="token keyword">WHERE</span> p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Paul'</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>2 rows deleted</strong><br>
Spot is deleted from Pets<br>
Paul is deleted from People</p> <h3 id="foreign-keys"><a href="#foreign-keys" class="header-anchor">#</a> foreign keys</h3> <p>When the DELETE statement involes tables with a foreing key constrain the optimizer may process the tables in an order that does not follow the relationship.
Adding for example a foreign key to the definition of <code>pets</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> pets <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>fk_pets_2_people<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>ownerId<span class="token punctuation">)</span> <span class="token keyword">references</span> people<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>

</code></pre></div><p>the engine may try to delete the entries from <code>people</code> before <code>pets</code>, thus causing the following error:</p> <div class="language-sql extra-class"><pre class="language-sql"><code>ERROR <span class="token number">1451</span> <span class="token punctuation">(</span><span class="token number">23000</span><span class="token punctuation">)</span>: Cannot <span class="token keyword">delete</span> <span class="token operator">or</span> <span class="token keyword">update</span> a parent <span class="token keyword">row</span>: a <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token keyword">constraint</span> fails <span class="token punctuation">(</span><span class="token punctuation">`</span>test<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>pets<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>pets_ibfk_1<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>ownerId<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span>people<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>The solution in this case is to delete the row from <code>people</code> and rely on <code>InnoDB</code>'s <code>ON DELETE</code> capabilities to propagate the deletion:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> people
<span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">'Paul'</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>2 rows deleted</strong><br>
Paul is deleted from People<br>
Spot is deleted on cascade from Pets</p> <p>Another solution is to temporarily disable the check on foreing keys:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> foreign_key_checks <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> p1<span class="token punctuation">,</span> p2 <span class="token keyword">FROM</span> people p1 <span class="token keyword">JOIN</span> pets p2 <span class="token keyword">ON</span> p2<span class="token punctuation">.</span>ownerId <span class="token operator">=</span> p1<span class="token punctuation">.</span>id <span class="token keyword">WHERE</span> p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Paul'</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> foreign_key_checks <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="basic-delete"><a href="#basic-delete" class="header-anchor">#</a> Basic delete</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>myTable<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>someColumn<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token string">'something'</span>

</code></pre></div><p>The <code>WHERE</code> clause is optional but without it all rows are deleted.</p> <h2 id="delete-vs-truncate"><a href="#delete-vs-truncate" class="header-anchor">#</a> DELETE vs TRUNCATE</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span> tableName<span class="token punctuation">;</span>

</code></pre></div><p>This will <a href="http://stackoverflow.com/a/30997025/5006740" target="_blank" rel="noopener noreferrer">delete<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> all the data and reset <code>AUTO_INCREMENT</code> index. It's much faster than <code>DELETE FROM tableName</code> on a huge dataset. It can be very useful during development/testing.</p> <p>When you <strong><strong>truncate</strong></strong> a table SQL server doesn't delete the data, it drops the table and recreates it, thereby deallocating the pages so there is a chance to recover the truncated data before the pages where overwritten.  (The space cannot immediately be recouped for <code>innodb_file_per_table=OFF</code>.)</p> <h2 id="multi-table-delete"><a href="#multi-table-delete" class="header-anchor">#</a> Multi-table DELETE</h2> <p>MySQL allows to specify from which table the matching rows must be deleted</p> <div class="language- extra-class"><pre class="language-text"><code>
   -- remove only the employees
    DELETE e
    FROM Employees e JOIN Department d ON e.department_id = d.department_id
    WHERE d.name = 'Sales'

</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>    <span class="token comment">-- remove employees and department</span>
    <span class="token keyword">DELETE</span> e<span class="token punctuation">,</span> d
    <span class="token keyword">FROM</span> Employees e <span class="token keyword">JOIN</span> Department d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id
    <span class="token keyword">WHERE</span> d<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Sales'</span>

</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>    <span class="token comment">-- remove from all tables (in this case same as previous)</span>
    <span class="token keyword">DELETE</span>
    <span class="token keyword">FROM</span> Employees e <span class="token keyword">JOIN</span> Department d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id
    <span class="token keyword">WHERE</span> d<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Sales'</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <li>DELETE [ LOW_PRIORITY ] [ QUICK ] [ IGNORE ] FROM table
[WHERE conditions]
[ORDER BY expression [ ASC | DESC ]]
[LIMIT number_rows];   /// Syntax for delete row(s) from single table</li> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td>LOW_PRIORITY</td> <td>If <code>LOW_PRIORITY</code> is provided, the delete will be delayed until there are no processes reading from the table</td></tr> <tr><td>IGNORE</td> <td>If <code>IGNORE</code> is provided, all errors encountered during the delete are ignored</td></tr> <tr><td>table</td> <td>The table from which you are going to delete records</td></tr> <tr><td>WHERE conditions</td> <td>The conditions that must be met for the records to be deleted.      If no conditions are provided, then all records from the table will be deleted</td></tr> <tr><td>ORDER BY expression</td> <td>If <code>ORDER BY</code> is provided, records will be deleted in the given order</td></tr> <tr><td>LIMIT</td> <td>It controls the maximum number of records to delete from the table. Given <code>number_rows</code> will be deleted.</td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/mysql/delete.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mysql/insert.html" class="prev">
        INSERT
      </a></span> <span class="next"><a href="/mysql/update.html">
        UPDATE
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2105.d2c9ab63.js" defer></script>
  </body>
</html>
