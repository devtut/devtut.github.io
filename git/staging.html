<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git - Staging</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Staging All Changes to Files, Unstage a file that contains changes, Add changes by hunk, Interactive add, Show Staged Changes, Staging A Single File, Stage deleted files">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Git - Staging">
    <meta property="og:description" content="Staging All Changes to Files, Unstage a file that contains changes, Add changes by hunk, Interactive add, Show Staged Changes, Staging A Single File, Stage deleted files">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/git/staging.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Git - Staging">
    <meta name="twitter:description" content="Staging All Changes to Files, Unstage a file that contains changes, Add changes by hunk, Interactive add, Show Staged Changes, Staging A Single File, Stage deleted files">
    <meta name="twitter:url" content="/git/staging.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1152.fd65501b.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/git/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/git/getting-started-with-git.html" class="sidebar-link">Getting started with Git</a></li><li><a href="/git/browsing-the-history.html" class="sidebar-link">Browsing the history</a></li><li><a href="/git/working-with-remotes.html" class="sidebar-link">Working with Remotes</a></li><li><a href="/git/staging.html" aria-current="page" class="active sidebar-link">Staging</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git/staging.html#staging-all-changes-to-files" class="sidebar-link">Staging All Changes to Files</a></li><li class="sidebar-sub-header"><a href="/git/staging.html#unstage-a-file-that-contains-changes" class="sidebar-link">Unstage a file that contains changes</a></li><li class="sidebar-sub-header"><a href="/git/staging.html#add-changes-by-hunk" class="sidebar-link">Add changes by hunk</a></li><li class="sidebar-sub-header"><a href="/git/staging.html#interactive-add" class="sidebar-link">Interactive add</a></li><li class="sidebar-sub-header"><a href="/git/staging.html#show-staged-changes" class="sidebar-link">Show Staged Changes</a></li><li class="sidebar-sub-header"><a href="/git/staging.html#staging-a-single-file" class="sidebar-link">Staging A Single File</a></li><li class="sidebar-sub-header"><a href="/git/staging.html#stage-deleted-files" class="sidebar-link">Stage deleted files</a></li></ul></li><li><a href="/git/ignoring-files-and-folders.html" class="sidebar-link">Ignoring Files and Folders</a></li><li><a href="/git/git-diff.html" class="sidebar-link">Git Diff</a></li><li><a href="/git/undoing.html" class="sidebar-link">Undoing</a></li><li><a href="/git/merging.html" class="sidebar-link">Merging</a></li><li><a href="/git/submodules.html" class="sidebar-link">Submodules</a></li><li><a href="/git/committing.html" class="sidebar-link">Committing</a></li><li><a href="/git/aliases.html" class="sidebar-link">Aliases</a></li><li><a href="/git/rebasing.html" class="sidebar-link">Rebasing</a></li><li><a href="/git/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/git/branching.html" class="sidebar-link">Branching</a></li><li><a href="/git/rev-list.html" class="sidebar-link">Rev-List</a></li><li><a href="/git/squashing.html" class="sidebar-link">Squashing</a></li><li><a href="/git/cherry-picking.html" class="sidebar-link">Cherry Picking</a></li><li><a href="/git/recovering.html" class="sidebar-link">Recovering</a></li><li><a href="/git/git-clean.html" class="sidebar-link">Git Clean</a></li><li><a href="/git/using-a-gitattributes-file.html" class="sidebar-link">Using a .gitattributes file</a></li><li><a href="/git/mailmap-file-associating-contributor-and-email-aliases.html" class="sidebar-link">.mailmap file: Associating contributor and email aliases</a></li><li><a href="/git/analyzing-types-of-workflows.html" class="sidebar-link">Analyzing types of workflows</a></li><li><a href="/git/pulling.html" class="sidebar-link">Pulling</a></li><li><a href="/git/hooks.html" class="sidebar-link">Hooks</a></li><li><a href="/git/cloning-repositories.html" class="sidebar-link">Cloning Repositories</a></li><li><a href="/git/stashing.html" class="sidebar-link">Stashing</a></li><li><a href="/git/subtrees.html" class="sidebar-link">Subtrees</a></li><li><a href="/git/renaming.html" class="sidebar-link">Renaming</a></li><li><a href="/git/pushing.html" class="sidebar-link">Pushing</a></li><li><a href="/git/internals.html" class="sidebar-link">Internals</a></li><li><a href="/git/git-tfs.html" class="sidebar-link">git-tfs</a></li><li><a href="/git/empty-directories-in-git.html" class="sidebar-link">Empty directories in Git</a></li><li><a href="/git/git-svn.html" class="sidebar-link">git-svn</a></li><li><a href="/git/archive.html" class="sidebar-link">Archive</a></li><li><a href="/git/rewriting-history-with-filter-branch.html" class="sidebar-link">Rewriting history with filter-branch</a></li><li><a href="/git/migrating-to-git.html" class="sidebar-link">Migrating to Git</a></li><li><a href="/git/show.html" class="sidebar-link">Show</a></li><li><a href="/git/resolving-merge-conflicts.html" class="sidebar-link">Resolving merge conflicts</a></li><li><a href="/git/bundles.html" class="sidebar-link">Bundles</a></li><li><a href="/git/display-commit-history-graphically-with-gitk.html" class="sidebar-link">Display commit history graphically with Gitk</a></li><li><a href="/git/bisecting-finding-faulty-commits.html" class="sidebar-link">Bisecting/Finding faulty commits</a></li><li><a href="/git/blaming.html" class="sidebar-link">Blaming</a></li><li><a href="/git/git-revisions-syntax.html" class="sidebar-link">Git revisions syntax</a></li><li><a href="/git/worktrees.html" class="sidebar-link">Worktrees</a></li><li><a href="/git/git-remote.html" class="sidebar-link">Git Remote</a></li><li><a href="/git/git-large-file-storage-lfs.html" class="sidebar-link">Git Large File Storage (LFS)</a></li><li><a href="/git/git-patch.html" class="sidebar-link">Git Patch</a></li><li><a href="/git/git-statistics.html" class="sidebar-link">Git statistics</a></li><li><a href="/git/git-send-email.html" class="sidebar-link">git send-email</a></li><li><a href="/git/git-gui-clients.html" class="sidebar-link">Git GUI Clients</a></li><li><a href="/git/reflog-restoring-commits-not-shown-in-git-log.html" class="sidebar-link">Reflog - Restoring commits not shown in git log</a></li><li><a href="/git/tortoisegit.html" class="sidebar-link">TortoiseGit</a></li><li><a href="/git/external-merge-and-difftools.html" class="sidebar-link">External merge and difftools</a></li><li><a href="/git/update-object-name-in-reference.html" class="sidebar-link">Update Object Name in Reference</a></li><li><a href="/git/git-branch-name-on-bash-ubuntu.html" class="sidebar-link">Git Branch Name on Bash Ubuntu</a></li><li><a href="/git/git-client-side-hooks.html" class="sidebar-link">Git Client-Side Hooks</a></li><li><a href="/git/git-rerere.html" class="sidebar-link">Git rerere</a></li><li><a href="/git/change-git-repository-name.html" class="sidebar-link">Change git repository name</a></li><li><a href="/git/git-tagging.html" class="sidebar-link">Git Tagging</a></li><li><a href="/git/tidying-up-your-local-and-remote-repository.html" class="sidebar-link">Tidying up your local and remote repository</a></li><li><a href="/git/diff-tree.html" class="sidebar-link">diff-tree</a></li><li><a href="/git/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="staging"><a href="#staging" class="header-anchor">#</a> Staging</h1> <h2 id="staging-all-changes-to-files"><a href="#staging-all-changes-to-files" class="header-anchor">#</a> Staging All Changes to Files</h2> <div class="language-git extra-class"><pre class="language-git"><code>git add -A

</code></pre></div><div class="language-git extra-class"><pre class="language-git"><code>git add .

</code></pre></div><p>In version 2.x, <code>git add .</code> will stage all changes to files in the current directory and all its subdirectories. However, in 1.x it will only stage <a href="http://stackoverflow.com/a/26039014/3345375" target="_blank" rel="noopener noreferrer">new and modified files, not deleted files<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Use <code>git add -A</code>, or its equivalent command <code>git add --all</code>, to stage all changes to files in any version of git.</p> <h2 id="unstage-a-file-that-contains-changes"><a href="#unstage-a-file-that-contains-changes" class="header-anchor">#</a> Unstage a file that contains changes</h2> <div class="language-git extra-class"><pre class="language-git"><code>git reset &lt;filePath&gt;

</code></pre></div><h2 id="add-changes-by-hunk"><a href="#add-changes-by-hunk" class="header-anchor">#</a> Add changes by hunk</h2> <p>You can see what &quot;hunks&quot; of work would be staged for commit using the patch flag:</p> <div class="language-git extra-class"><pre class="language-git"><code>git add -p

</code></pre></div><p>or</p> <div class="language-git extra-class"><pre class="language-git"><code>git add --patch

</code></pre></div><p>This opens an interactive prompt that allows you to look at the diffs and let you decide whether you want to include them or not.</p> <div class="language-git extra-class"><pre class="language-git"><code>Stage this hunk [y,n,q,a,d,/,s,e,?]?

</code></pre></div><ul><li><kbd>y</kbd> stage this hunk for the next commit</li> <li><kbd>n</kbd> do not stage this hunk for the next commit</li> <li><kbd>q</kbd> quit; do not stage this hunk or any of the remaining hunks</li> <li><kbd>a</kbd> stage this hunk and all later hunks in the file</li> <li><kbd>d</kbd> do not stage this hunk or any of the later hunks in the file</li> <li><kbd>g</kbd> select a hunk to go to</li> <li><kbd>/</kbd> search for a hunk matching the given regex</li> <li><kbd>j</kbd> leave this hunk undecided, see next undecided hunk</li> <li><kbd>J</kbd> leave this hunk undecided, see next hunk</li> <li><kbd>k</kbd> leave this hunk undecided, see previous undecided hunk</li> <li><kbd>K</kbd> leave this hunk undecided, see previous hunk</li> <li><kbd>s</kbd> split the current hunk into smaller hunks</li> <li><kbd>e</kbd> manually edit the current hunk</li> <li><kbd>?</kbd> print hunk help</li></ul> <p><strong>This makes it easy to catch changes which you do not want to commit.</strong></p> <p>You can also open this via <code>git add --interactive</code> and selecting <code>p</code>.</p> <h2 id="interactive-add"><a href="#interactive-add" class="header-anchor">#</a> Interactive add</h2> <p><code>git add -i</code> (or <code>--interactive</code>) will give you an interactive interface where you can edit the index, to prepare what you want to have in the next commit. You can add and remove changes to whole files, add untracked files and remove files from being tracked, but also select subsection of changes to put in the index, by selecting chunks of changes to be added, splitting those chunks, or even editing the diff. Many graphical commit tools for Git (like e.g. <code>git gui</code>) include such feature; this might be easier to use than the command line version.</p> <p>It is very useful (1) if you have entangled changes in the working directory that you want to put in separate commits, and not all in one single commit (2) if you are in the middle of an interactive rebase and want to split too large commit.</p> <div class="language-git extra-class"><pre class="language-git"><code><span class="token command">$ git add<span class="token parameter"> -i</span></span>
           staged     unstaged path
  1:    unchanged        +4/-4 index.js
  2:        +1/-0      nothing package.json

*** Commands ***
  1: status       2: update       3: revert       4: add untracked
  5: patch        6: diff         7: quit         8: help
What now&gt;

</code></pre></div><p>The top half of this output shows the current state of the index broken up into staged and unstaged columns:</p> <ol><li><code>index.js</code> has had 4 lines added and 4 lines removed. It is currently not staged, as the current status reports &quot;unchanged.&quot; When this file becomes staged, the <code>+4/-4</code> bit will be transferred to the staged column and the unstaged column will read &quot;nothing.&quot;</li> <li><code>package.json</code> has had one line added and has been staged. There are no further changes since it has been staged as indicated by the &quot;nothing&quot; line under the unstaged column.</li></ol> <p>The bottom half shows what you can do. Either enter a number (1-8) or a letter (<code>s</code>, <code>u</code>, <code>r</code>, <code>a</code>, <code>p</code>, <code>d</code>, <code>q</code>, <code>h</code>).</p> <p><code>status</code> shows output identical to the top part of the output above.</p> <p><code>update</code> allows you to make further changes to the staged commits with additional syntax.</p> <p><code>revert</code> will revert the staged commit information back to HEAD.</p> <p><code>add untracked</code> allows you to add filepaths previously untracked by version control.</p> <p><code>patch</code> allows for one path to be selected out of an output similar to <code>status</code> for further analysis.</p> <p><code>diff</code> displays what will be committed.</p> <p><code>quit</code> exits the command.</p> <p><code>help</code> presents further help on using this command.</p> <h2 id="show-staged-changes"><a href="#show-staged-changes" class="header-anchor">#</a> Show Staged Changes</h2> <p>To display the hunks that are staged for commit:</p> <div class="language-git extra-class"><pre class="language-git"><code>git diff --cached

</code></pre></div><h2 id="staging-a-single-file"><a href="#staging-a-single-file" class="header-anchor">#</a> Staging A Single File</h2> <p>To stage a file for committing, run</p> <div class="language-git extra-class"><pre class="language-git"><code>git add &lt;filename&gt;

</code></pre></div><h2 id="stage-deleted-files"><a href="#stage-deleted-files" class="header-anchor">#</a> Stage deleted files</h2> <div class="language-git extra-class"><pre class="language-git"><code>git rm filename

</code></pre></div><p>To delete the file from git without removing it from disk, use the <code>--cached</code> flag</p> <div class="language-git extra-class"><pre class="language-git"><code>git rm --cached filename

</code></pre></div><h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>It's worth noting that staging has little to do with 'files' themselves and everything to do with the changes within each given file. We stage files that contain changes, and git tracks the changes as commits (even when the changes in a commit are made across several files).</p> <p>The distinction between files and commits may seem minor, but understanding this difference is fundamental to understanding essential functions like cherry-pick and diff. (See the frustration in <a href="http://stackoverflow.com/questions/449541/how-do-you-merge-selective-files-with-git-merge" target="_blank" rel="noopener noreferrer">comments regarding the complexity of an accepted answer that proposes cherry-pick as a file management tool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.)</p> <p>What's a good place for explaining concepts? Is it in remarks?</p> <p>Key concepts:</p> <p>A files is the more common metaphor of the two in information technology. Best practice dictates that a filename not change as its contents change (with a few recognized exceptions).</p> <p>A commit is a metaphor that is unique to source code management. Commits are changes related to a specific effort, like a bug fix. Commits often involve several files. A single, minor bug fix may involve tweaks to templates and css in unique files. As the change is described, developed, documented, reviewed and deployed, the changes across the separate files can be annotated and handled as a single unit. The single unit in this case is the commit. Equally important, focusing just on the commit during a review allows the unchanged lines of code in the various affected files to be ignored safely.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/git/staging.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/git/working-with-remotes.html" class="prev">
        Working with Remotes
      </a></span> <span class="next"><a href="/git/ignoring-files-and-folders.html">
        Ignoring Files and Folders
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1152.fd65501b.js" defer></script>
  </body>
</html>
