<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git - Hooks</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Pre-push, Verify Maven build (or other build system) before committing, Automatically forward certain pushes to other repositories, Commit-msg, Local hooks, Post-checkout, Post-commit, Post-receive, Pre-commit, Prepare-commit-msg, Pre-rebase, Pre-receive, Update">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Git - Hooks">
    <meta property="og:description" content="Pre-push, Verify Maven build (or other build system) before committing, Automatically forward certain pushes to other repositories, Commit-msg, Local hooks, Post-checkout, Post-commit, Post-receive, Pre-commit, Prepare-commit-msg, Pre-rebase, Pre-receive, Update">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/git/hooks.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Git - Hooks">
    <meta name="twitter:description" content="Pre-push, Verify Maven build (or other build system) before committing, Automatically forward certain pushes to other repositories, Commit-msg, Local hooks, Post-checkout, Post-commit, Post-receive, Pre-commit, Prepare-commit-msg, Pre-rebase, Pre-receive, Update">
    <meta name="twitter:url" content="/git/hooks.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/1133.3be7cb11.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/git/" class="sidebar-link">Disclaimer</a></li><li><a href="/git/getting-started-with-git.html" class="sidebar-link">Getting started with Git</a></li><li><a href="/git/browsing-the-history.html" class="sidebar-link">Browsing the history</a></li><li><a href="/git/working-with-remotes.html" class="sidebar-link">Working with Remotes</a></li><li><a href="/git/staging.html" class="sidebar-link">Staging</a></li><li><a href="/git/ignoring-files-and-folders.html" class="sidebar-link">Ignoring Files and Folders</a></li><li><a href="/git/git-diff.html" class="sidebar-link">Git Diff</a></li><li><a href="/git/undoing.html" class="sidebar-link">Undoing</a></li><li><a href="/git/merging.html" class="sidebar-link">Merging</a></li><li><a href="/git/submodules.html" class="sidebar-link">Submodules</a></li><li><a href="/git/committing.html" class="sidebar-link">Committing</a></li><li><a href="/git/aliases.html" class="sidebar-link">Aliases</a></li><li><a href="/git/rebasing.html" class="sidebar-link">Rebasing</a></li><li><a href="/git/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/git/branching.html" class="sidebar-link">Branching</a></li><li><a href="/git/rev-list.html" class="sidebar-link">Rev-List</a></li><li><a href="/git/squashing.html" class="sidebar-link">Squashing</a></li><li><a href="/git/cherry-picking.html" class="sidebar-link">Cherry Picking</a></li><li><a href="/git/recovering.html" class="sidebar-link">Recovering</a></li><li><a href="/git/git-clean.html" class="sidebar-link">Git Clean</a></li><li><a href="/git/using-a-gitattributes-file.html" class="sidebar-link">Using a .gitattributes file</a></li><li><a href="/git/mailmap-file-associating-contributor-and-email-aliases.html" class="sidebar-link">.mailmap file: Associating contributor and email aliases</a></li><li><a href="/git/analyzing-types-of-workflows.html" class="sidebar-link">Analyzing types of workflows</a></li><li><a href="/git/pulling.html" class="sidebar-link">Pulling</a></li><li><a href="/git/hooks.html" class="active sidebar-link">Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git/hooks.html#pre-push" class="sidebar-link">Pre-push</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#verify-maven-build-or-other-build-system-before-committing" class="sidebar-link">Verify Maven build (or other build system) before committing</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#automatically-forward-certain-pushes-to-other-repositories" class="sidebar-link">Automatically forward certain pushes to other repositories</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#commit-msg" class="sidebar-link">Commit-msg</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#local-hooks" class="sidebar-link">Local hooks</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#post-checkout" class="sidebar-link">Post-checkout</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#post-commit" class="sidebar-link">Post-commit</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#post-receive" class="sidebar-link">Post-receive</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#pre-commit" class="sidebar-link">Pre-commit</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#prepare-commit-msg" class="sidebar-link">Prepare-commit-msg</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#pre-rebase" class="sidebar-link">Pre-rebase</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#pre-receive" class="sidebar-link">Pre-receive</a></li><li class="sidebar-sub-header"><a href="/git/hooks.html#update" class="sidebar-link">Update</a></li></ul></li><li><a href="/git/cloning-repositories.html" class="sidebar-link">Cloning Repositories</a></li><li><a href="/git/stashing.html" class="sidebar-link">Stashing</a></li><li><a href="/git/subtrees.html" class="sidebar-link">Subtrees</a></li><li><a href="/git/renaming.html" class="sidebar-link">Renaming</a></li><li><a href="/git/pushing.html" class="sidebar-link">Pushing</a></li><li><a href="/git/internals.html" class="sidebar-link">Internals</a></li><li><a href="/git/git-tfs.html" class="sidebar-link">git-tfs</a></li><li><a href="/git/empty-directories-in-git.html" class="sidebar-link">Empty directories in Git</a></li><li><a href="/git/git-svn.html" class="sidebar-link">git-svn</a></li><li><a href="/git/archive.html" class="sidebar-link">Archive</a></li><li><a href="/git/rewriting-history-with-filter-branch.html" class="sidebar-link">Rewriting history with filter-branch</a></li><li><a href="/git/migrating-to-git.html" class="sidebar-link">Migrating to Git</a></li><li><a href="/git/show.html" class="sidebar-link">Show</a></li><li><a href="/git/resolving-merge-conflicts.html" class="sidebar-link">Resolving merge conflicts</a></li><li><a href="/git/bundles.html" class="sidebar-link">Bundles</a></li><li><a href="/git/display-commit-history-graphically-with-gitk.html" class="sidebar-link">Display commit history graphically with Gitk</a></li><li><a href="/git/bisecting-finding-faulty-commits.html" class="sidebar-link">Bisecting/Finding faulty commits</a></li><li><a href="/git/blaming.html" class="sidebar-link">Blaming</a></li><li><a href="/git/git-revisions-syntax.html" class="sidebar-link">Git revisions syntax</a></li><li><a href="/git/worktrees.html" class="sidebar-link">Worktrees</a></li><li><a href="/git/git-remote.html" class="sidebar-link">Git Remote</a></li><li><a href="/git/git-large-file-storage-lfs.html" class="sidebar-link">Git Large File Storage (LFS)</a></li><li><a href="/git/git-patch.html" class="sidebar-link">Git Patch</a></li><li><a href="/git/git-statistics.html" class="sidebar-link">Git statistics</a></li><li><a href="/git/git-send-email.html" class="sidebar-link">git send-email</a></li><li><a href="/git/git-gui-clients.html" class="sidebar-link">Git GUI Clients</a></li><li><a href="/git/reflog-restoring-commits-not-shown-in-git-log.html" class="sidebar-link">Reflog - Restoring commits not shown in git log</a></li><li><a href="/git/tortoisegit.html" class="sidebar-link">TortoiseGit</a></li><li><a href="/git/external-merge-and-difftools.html" class="sidebar-link">External merge and difftools</a></li><li><a href="/git/update-object-name-in-reference.html" class="sidebar-link">Update Object Name in Reference</a></li><li><a href="/git/git-branch-name-on-bash-ubuntu.html" class="sidebar-link">Git Branch Name on Bash Ubuntu</a></li><li><a href="/git/git-client-side-hooks.html" class="sidebar-link">Git Client-Side Hooks</a></li><li><a href="/git/git-rerere.html" class="sidebar-link">Git rerere</a></li><li><a href="/git/change-git-repository-name.html" class="sidebar-link">Change git repository name</a></li><li><a href="/git/git-tagging.html" class="sidebar-link">Git Tagging</a></li><li><a href="/git/tidying-up-your-local-and-remote-repository.html" class="sidebar-link">Tidying up your local and remote repository</a></li><li><a href="/git/diff-tree.html" class="sidebar-link">diff-tree</a></li><li><a href="/git/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hooks"><a href="#hooks" class="header-anchor">#</a> Hooks</h1> <h2 id="pre-push"><a href="#pre-push" class="header-anchor">#</a> Pre-push</h2> <p><strong>Available in <a href="https://github.com/git/git/blob/master/Documentation/RelNotes/1.8.2.txt" target="_blank" rel="noopener noreferrer">Git 1.8.2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and above.</strong></p> <p>Pre-push hooks can be used to prevent a push from going though. Reasons this is helpful include: blocking accidental manual pushes to specific branches, or blocking pushes if an established check fails (unit tests, syntax).</p> <p>A pre-push hook is created by simply creating a file named <code>pre-push</code> under <code>.git/hooks/</code>, and (<strong>gotcha alert</strong>), making sure the file is executable: <code>chmod +x ./git/hooks/pre-push</code>.</p> <p>Here's an example from <a href="https://dev.ghost.org/prevent-master-push/" target="_blank" rel="noopener noreferrer">Hannah Wolfe<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that blocks a push to master:</p> <div class="language-git extra-class"><pre class="language-git"><code><span class="token comment">#!/bin/bash</span>

protected_branch=<span class="token string">'master'</span>  
current_branch=$(git symbolic-ref HEAD | sed -e <span class="token string">'s,.*/\(.*\),\1,'</span>)

if [ $protected_branch = $current_branch ]  
then  
    read -p <span class="token string">&quot;You're about to push master, is that what you intended? [y|n] &quot;</span> -n 1 -r &lt; /dev/tty
    echo
    if echo $REPLY | grep -E <span class="token string">'^[Yy]$'</span> &gt; /dev/null
    then
        exit 0 # push will execute
    fi
    exit 1 # push will not execute
else  
    exit 0 # push will execute
fi  

</code></pre></div><p>Here's an example from <a href="https://coderwall.com/p/k1hbyw/how-to-run-rspec-tests-before-pushing-with-a-git-pre-push-hook" target="_blank" rel="noopener noreferrer">Volkan Unsal<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> which makes sure RSpec tests pass before allowing the push:</p> <div class="language-git extra-class"><pre class="language-git"><code><span class="token comment">#!/usr/bin/env ruby</span>
require <span class="token string">'pty'</span>
html_path = <span class="token string">&quot;rspec_results.html&quot;</span>
begin
  PTY.spawn( <span class="token string">&quot;rspec spec --format h &gt; rspec_results.html&quot;</span> ) do |stdin, stdout, pid|
  begin
    stdin.each { |line| print line }
  rescue Errno::EIO
  end
end
rescue PTY::ChildExited
  puts <span class="token string">&quot;Child process exit!&quot;</span>
end

<span class="token comment"># find out if there were any errors  </span>
html = open(html_path).read
examples = html.match(/(\d+) examples/)[0].to_i rescue 0
errors = html.match(/(\d+) errors/)[0].to_i rescue 0
if errors == 0 then
  errors = html.match(/(\d+) failure/)[0].to_i rescue 0
end
pending = html.match(/(\d+) pending/)[0].to_i rescue 0

if errors.zero?
  puts <span class="token string">&quot;0 failed! #{examples} run, #{pending} pending&quot;</span>
  # HTML Output when tests ran successfully:
  # puts <span class="token string">&quot;View spec results at #{File.expand_path(html_path)}&quot;</span>
  sleep 1
  exit 0
else
  puts <span class="token string">&quot;\aCOMMIT FAILED!!&quot;</span>
  puts <span class="token string">&quot;View your rspec results at #{File.expand_path(html_path)}&quot;</span>
  puts
  puts <span class="token string">&quot;#{errors} failed! #{examples} run, #{pending} pending&quot;</span>
  # Open HTML Ooutput when tests failed
  # `open #{html_path}`
  exit 1
end

</code></pre></div><p>As you can see, there are lots of possibilities, but the core piece is to <code>exit 0</code> if good things happened, and <code>exit 1</code> if bad things happened. Anytime you <code>exit 1</code> the push will be prevented and your code will be in the state it was before running <code>git push...</code>.</p> <p>When using client side hooks, keep in mind that users can skip all client side hooks by using the option &quot;--no-verify&quot; on a push.  If you're relying on the hook to enforce process, you can get burned.</p> <p>Documentation: <a href="https://git-scm.com/docs/githooks#_pre_push" target="_blank" rel="noopener noreferrer">https://git-scm.com/docs/githooks#_pre_push<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
Official Sample: <a href="https://github.com/git/git/blob/87c86dd14abe8db7d00b0df5661ef8cf147a72a3/templates/hooks--pre-push.sample" target="_blank" rel="noopener noreferrer">https://github.com/git/git/blob/87c86dd14abe8db7d00b0df5661ef8cf147a72a3/templates/hooks--pre-push.sample<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="verify-maven-build-or-other-build-system-before-committing"><a href="#verify-maven-build-or-other-build-system-before-committing" class="header-anchor">#</a> Verify Maven build (or other build system) before committing</h2> <p><code>.git/hooks/pre-commit</code></p> <div class="language-git extra-class"><pre class="language-git"><code><span class="token comment">#!/bin/sh</span>
if [ -s pom.xml ]; then
    echo <span class="token string">&quot;Running mvn verify&quot;</span>
    mvn clean verify
    if [ $? -ne 0 ]; then
        echo <span class="token string">&quot;Maven build failed&quot;</span>
        exit 1
    fi
fi

</code></pre></div><h2 id="automatically-forward-certain-pushes-to-other-repositories"><a href="#automatically-forward-certain-pushes-to-other-repositories" class="header-anchor">#</a> Automatically forward certain pushes to other repositories</h2> <p><code>post-receive</code> hooks can be used to automatically forward incoming pushes to another repository.</p> <div class="language-git extra-class"><pre class="language-git"><code>$ cat .git/hooks/post-receive

<span class="token comment">#!/bin/bash</span>

IFS=<span class="token string">' '</span>
while read local_ref local_sha remote_ref remote_sha
do

  echo <span class="token string">&quot;$remote_ref&quot;</span> | egrep <span class="token string">'^refs\/heads\/[A-Z]+-[0-9]+$'</span> &gt;/dev/null &amp;&amp; {
    ref=`echo $remote_ref | sed -e <span class="token string">'s/^refs\/heads\///'</span>`
    echo Forwarding feature branch to other repository: $ref
    git push -q --force other_repos $ref
  }

done

</code></pre></div><p>In this example, the <code>egrep</code> regexp looks for a specific branch format (here: JIRA-12345 as used to name Jira issues). You can leave this part off if you want to forward all branches, of course.</p> <h2 id="commit-msg"><a href="#commit-msg" class="header-anchor">#</a> Commit-msg</h2> <p>This hook is similar to the <code>prepare-commit-msg</code> hook, but it's called after the user enters a commit message rather than before. This is usually used to warn developers if their commit message is in an incorrect format.</p> <p>The only argument passed to this hook is the name of the file that contains the message. If you don't like the message that the user has entered, you can either alter this file in-place (same as <code>prepare-commit-msg</code>) or you can abort the commit entirely by exiting with a non-zero status.</p> <p>The following example is used to check if the word ticket followed by a number is present on the commit message</p> <div class="language-git extra-class"><pre class="language-git"><code>word=<span class="token string">&quot;ticket [0-9]&quot;</span>
isPresent=$(grep -Eoh <span class="token string">&quot;$word&quot;</span> $1)

if [[ -z $isPresent ]]
  then echo <span class="token string">&quot;Commit message KO, $word is missing&quot;</span>; exit 1;
  else echo <span class="token string">&quot;Commit message OK&quot;</span>; exit 0;
fi

</code></pre></div><h2 id="local-hooks"><a href="#local-hooks" class="header-anchor">#</a> Local hooks</h2> <p>Local hooks affect only the local repositories in which they reside. Each developer can alter their own local hooks, so they can't be used reliably as a way to enforce a commit policy. They are designed to make it easier for developers to adhere to certain guidelines and avoid potential problems down the road.</p> <p>There are six types of local hooks: pre-commit, prepare-commit-msg, commit-msg, post-commit, post-checkout, and pre-rebase.</p> <p>The first four hooks relate to commits and allow you to have some control over each part in a commit's life cycle. The final two let you perform some extra actions or safety checks for the git checkout and git rebase commands.</p> <p>All of the &quot;pre-&quot; hooks let you alter the action that’s about to take place, while the &quot;post-&quot; hooks are used primarily for notifications.</p> <h2 id="post-checkout"><a href="#post-checkout" class="header-anchor">#</a> Post-checkout</h2> <p>This hook works similarly to the <code>post-commit</code> hook, but it's called whenever you successfully check out a reference with <code>git checkout</code>. This could be a useful tool for clearing out your working directory of auto-generated files that would otherwise cause confusion.</p> <p>This hook accepts three parameters:</p> <ol><li>the ref of the previous HEAD,</li> <li>the ref of the new HEAD, and</li> <li>a flag indicating if it was a branch checkout or a file checkout (<code>1</code> or <code>0</code>, respectively).</li></ol> <p>Its exit status has no affect on the <code>git checkout</code> command.</p> <h2 id="post-commit"><a href="#post-commit" class="header-anchor">#</a> Post-commit</h2> <p>This hook is called immediately after the <code>commit-msg</code> hook. It cannot alter the outcome of the <code>git commit</code> operation, therefore it's used primarily for notification purposes.</p> <p>The script takes no parameters, and its exit status does not affect the commit in any way.</p> <h2 id="post-receive"><a href="#post-receive" class="header-anchor">#</a> Post-receive</h2> <p>This hook is called after a successful push operation. It is typically used for notification purposes.</p> <p>The script takes no parameters, but is sent the same information as <code>pre-receive</code> via standard input:</p> <div class="language-git extra-class"><pre class="language-git"><code>&lt;old-value&gt; &lt;new-value&gt; &lt;ref-name&gt;

</code></pre></div><h2 id="pre-commit"><a href="#pre-commit" class="header-anchor">#</a> Pre-commit</h2> <p>This hook is executed every time you run <code>git commit</code>, to verify what is about to be committed. You can use this hook to inspect the snapshot that is about to be committed.</p> <p>This type of hook is useful for running automated tests to make sure the incoming commit doesn't break existing functionality of your project. This type of hook may also check for whitespace or EOL errors.</p> <p>No arguments are passed to the pre-commit script, and exiting with a non-zero status aborts the entire commit.</p> <h2 id="prepare-commit-msg"><a href="#prepare-commit-msg" class="header-anchor">#</a> Prepare-commit-msg</h2> <p>This hook is called after the <code>pre-commit</code> hook to populate the text editor with a commit message. This is typically used to alter the automatically generated commit messages for squashed or merged commits.</p> <p>One to three arguments are passed to this hook:</p> <ul><li>The name of a temporary file that contains the message.
</li><li>The type of commit, either
<ul></ul></li> <li>message (<code>-m</code> or <code>-F</code> option),</li> <li>template (<code>-t</code> option),</li> <li>merge (if it's a merge commit), or</li> <li>squash (if it's squashing other commits).</li></ul> <p>Similar to <code>pre-commit</code>, exiting with a non-zero status aborts the commit.</p> <h2 id="pre-rebase"><a href="#pre-rebase" class="header-anchor">#</a> Pre-rebase</h2> <p>This hook is called before <code>git rebase</code> begins to alter code structure. This hook is typically used for making sure a rebase operation is appropriate.</p> <p>This hook takes 2 parameters:</p> <ol><li>the upstream branch that the series was forked from, and</li> <li>the branch being rebased (empty when rebasing the current branch).</li></ol> <p>You can abort the rebase operation by exiting with a non-zero status.</p> <h2 id="pre-receive"><a href="#pre-receive" class="header-anchor">#</a> Pre-receive</h2> <p>This hook is executed every time somebody uses <code>git push</code> to push commits to the repository. It always resides in the remote repository that is the destination of the push and not in the originating (local) repository.</p> <p>The hook runs before any references are updated. It is typically used to enforce any kind of development policy.</p> <p>The script takes no parameters, but each ref that is being pushed is passed to the script on a separate line on standard input in the following format:</p> <div class="language-git extra-class"><pre class="language-git"><code>&lt;old-value&gt; &lt;new-value&gt; &lt;ref-name&gt;

</code></pre></div><h2 id="update"><a href="#update" class="header-anchor">#</a> Update</h2> <p>This hook is called after <code>pre-receive</code>, and it works the same way. It's called before anything is actually updated, but is called separately for each ref that was pushed rather than all of the refs at once.</p> <p>This hook accepts the following 3 arguments:</p> <ul><li>name of the ref being updated,</li> <li>old object name stored in the ref, and</li> <li>new object name stored in the ref.</li></ul> <p>This is the same information passed to <code>pre-receive</code>, but since <code>update</code> is invoked separately for each ref, you can reject some refs while allowing others.</p> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>.git/hooks/applypatch-msg</li> <li>.git/hooks/commit-msg</li> <li>.git/hooks/post-update</li> <li>.git/hooks/pre-applypatch</li> <li>.git/hooks/pre-commit</li> <li>.git/hooks/prepare-commit-msg</li> <li>.git/hooks/pre-push</li> <li>.git/hooks/pre-rebase</li> <li>.git/hooks/update</li></ul> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p><code>--no-verify</code> or <code>-n</code> to skip all local hooks on the given git command.<br>
Eg: <code>git commit -n</code></p> <p>Information on this page was gathered from the <a href="https://git-scm.com/doc" target="_blank" rel="noopener noreferrer">official Git docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://www.atlassian.com/git/tutorials/git-hooks" target="_blank" rel="noopener noreferrer">Atlassian<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/git/hooks.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/git/pulling.html" class="prev">
        Pulling
      </a></span> <span class="next"><a href="/git/cloning-repositories.html">
        Cloning Repositories
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/1133.3be7cb11.js" defer></script>
  </body>
</html>
