(window.webpackJsonp=window.webpackJsonp||[]).push([[3156],{3564:function(s,t,a){"use strict";a.r(t);var n=a(31),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"friendly-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#friendly-id"}},[s._v("#")]),s._v(" Friendly ID")]),s._v(" "),a("p",[s._v('FriendlyId is the "Swiss Army bulldozer" of slugging and permalink plugins for Active Record. It lets you create pretty URLs and work with human-friendly strings as if they were numeric ids.\nWith FriendlyId, it\'s easy to make your application use URLs like:')]),s._v(" "),a("p",[a("a",{attrs:{href:"http://example.com/states/washington",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://example.com/states/washington"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"rails-quickstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rails-quickstart"}},[s._v("#")]),s._v(" Rails Quickstart")]),s._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[s._v("rails "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" my_app\ncd my_app\n\n")])])]),a("h3",{attrs:{id:"gemfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gemfile"}},[s._v("#")]),s._v(" Gemfile")]),s._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[s._v("gem "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'friendly_id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~> 5.1.0'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Note: You MUST use 5.0.0 or greater for Rails 4.0+")]),s._v("\nrails generate friendly_id\nrails generate scaffold user name"),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":string")]),s._v(" slug"),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":string")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":uniq")]),s._v("\nrake db"),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":migrate")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"edit-app-models-user-rb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#edit-app-models-user-rb"}},[s._v("#")]),s._v(" edit app/models/user.rb")]),s._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extend")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FriendlyId")]),s._v("\n  friendly_id "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":slugged")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("create"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Joe Schmoe"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Change User.find to User.friendly.find in your controller")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("friendly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])]),a("h3",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[s._v("rails server\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GET")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("joe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("schmoe\n\n")])])]),a("h3",{attrs:{id:"-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# If you're adding FriendlyId to an existing app and need")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# to generate slugs for existing users, do this from the")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# console, runner, or add a Rake task:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_each"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Finders")]),s._v(" are no longer overridden by default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("If")]),s._v(" you want to "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" friendly finds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" you must "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Model")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("friendly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find rather than "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Model")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("You")]),s._v(" can however restore "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FriendlyId")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("style finders by using the "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":finders")]),s._v(" addon\n\n\nfriendly_id "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":slugged")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# you must do MyClass.friendly.find('bar')")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#or...")]),s._v("\nfriendly_id "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":slugged")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":finders")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# you can now do MyClass.find('bar')")]),s._v("\n\n")])])]),a("p",[s._v('A new "candidates" functionality which makes it easy to set up a list of alternate slugs that can be used to uniquely distinguish records, rather than appending a sequence. For example:')]),s._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Restaurant")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ActiveRecord")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Base")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extend")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FriendlyId")]),s._v("\n  friendly_id "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":slug_candidates")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":slugged")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Try building a slug based on the following fields in")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# increasing order of specificity.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slug_candidates")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":city")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":street")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":city")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":street_number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":street")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":city")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n")])])]),a("p",[s._v("Set slug limit length using friendly_id gem?")]),s._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("normalize_friendly_id")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);