(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{682:function(t,a,s){"use strict";s.r(a);var n=s(31),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"publish-a-library-to-maven-repositories"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#publish-a-library-to-maven-repositories"}},[t._v("#")]),t._v(" Publish a library to Maven Repositories")]),t._v(" "),s("h2",{attrs:{id:"publish-aar-file-to-maven"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#publish-aar-file-to-maven"}},[t._v("#")]),t._v(" Publish .aar file to Maven")]),t._v(" "),s("p",[t._v("In order to publish to a repository in Maven format ,“maven-publish” plugin for gradle can be used.")]),t._v(" "),s("p",[t._v("The plugin should be added to "),s("code",[t._v("build.gradle")]),t._v(" file in library module.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'maven-publish'")]),t._v("\n\n")])])]),s("p",[t._v("You should define the publication and its identity attributes in "),s("code",[t._v("build.gradle")]),t._v(" file too.\nThis identity attributes will be shown in the generated pom file and in future for importing this publication you will use them.You also need to define which artifacts you want to publish,for example i just want to publish generated .aar file after building the library.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("publishing "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    publications "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("myPulication")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MavenPublication")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            groupId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.example.project'")]),t._v("\n            version "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.0.2'")]),t._v("\n            artifactId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myProject'")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("artifact")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$buildDir/outputs/aar/myProject.aar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("You will also need to define your repository url")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("publishing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    repositories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        maven "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            url "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.myrepository.com"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("Here is full library "),s("code",[t._v("build.gradle")]),t._v(" file")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.library'")]),t._v("\napply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'maven-publish'")]),t._v("\n\nbuildscript "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nandroid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\npublishing "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    publications "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("myPulication")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MavenPublication")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            groupId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.example.project'")]),t._v("\n            version "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.0.2'")]),t._v("\n            artifactId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myProject'")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("artifact")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$buildDir/outputs/aar/myProject.aar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    repositories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        maven "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            url "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.myrepository.com"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("For publishing you can run gradle console command")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("gradle publish")]),t._v(" "),s("p",[t._v("or you can run from gradle tasks panel")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://i.stack.imgur.com/G76PM.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://i.stack.imgur.com/G76PM.png",alt:"gradle tasks panel"}}),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);