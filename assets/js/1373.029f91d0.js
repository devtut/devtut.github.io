(window.webpackJsonp=window.webpackJsonp||[]).push([[1373],{1781:function(t,e,n){"use strict";n.r(e);var o=n(31),s=Object(o.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"extension-for-rich-push-notification-ios-10"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#extension-for-rich-push-notification-ios-10"}},[t._v("#")]),t._v(" Extension for rich Push Notification - iOS 10.")]),t._v(" "),n("p",[t._v("iOS 10 gave us "),n("code",[t._v("UserNotifications.framework")]),t._v(", the new API for local/remote notifications.\nIt offers viewing media attachments or responding to messages right from the notification.")]),t._v(" "),n("p",[t._v("Notification content consists of: title, subtitle, body and attachment.\nAttachment can contain images/gifs/videos up to 50 mb.")]),t._v(" "),n("h2",{attrs:{id:"notification-content-extension"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#notification-content-extension"}},[t._v("#")]),t._v(" Notification Content Extension")]),t._v(" "),n("p",[n("strong",[t._v("Why do we need it?")])]),t._v(" "),n("p",[t._v("Content extension helps us to create custom user interface upon notification expanasion.")]),t._v(" "),n("p",[t._v("You use this framework to define an extension that receives the notification data and provides the corresponding visual representation. Your extension can also respond to custom actions associated with those notifications.")]),t._v(" "),n("h2",{attrs:{id:"implementation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#implementation"}},[t._v("#")]),t._v(" Implementation")]),t._v(" "),n("ol",[n("li",[t._v("In xCode "),n("code",[t._v("Navigator")]),t._v(" window go to "),n("code",[t._v("Targets")]),t._v(" section. Press "),n("code",[t._v("Add New Target")]),t._v(".")]),t._v(" "),n("li",[t._v("Select "),n("code",[t._v("Notification Content Extension")]),t._v(" template:")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://i.stack.imgur.com/5EUot.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://i.stack.imgur.com/5EUot.jpg",alt:"enter image description here"}}),n("OutboundLink")],1)]),t._v(" "),n("ol",[n("li",[t._v("In your "),n("code",[t._v("info.plist")]),t._v(" file set the identifier for "),n("code",[t._v("UNNotificationExtensionCategory")]),t._v(" key:")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://i.stack.imgur.com/nI8ck.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://i.stack.imgur.com/nI8ck.jpg",alt:"enter image description here"}}),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("NSExtensionAttributes")]),t._v(":")]),t._v(" "),n("p",[n("code",[t._v("UNNotificationExtensionCategory")]),t._v(" (Required)")]),t._v(" "),n("p",[t._v("The value of this key is a string or an array of strings. Each string contains the identifier of a category declared by the app using the UNNotification​Category class.")]),t._v(" "),n("p",[n("code",[t._v("UNNotificationExtensionInitialContentSizeRatio")]),t._v(" (Required)")]),t._v(" "),n("p",[t._v("Number that represents the initial size of your view controller’s view expressed as a ratio of its height to its width.")]),t._v(" "),n("p",[n("code",[t._v("UNNotificationExtensionDefaultContentHidden")]),t._v(" (Optional)")]),t._v(" "),n("p",[t._v("When set to YES, the system displays only your custom view controller in the notification interface. When set to NO, the system displays the default notification content in addition to your view controller’s content.")]),t._v(" "),n("p",[n("code",[t._v("UNNotificationExtensionOverridesDefaultTitle")]),t._v(" (Optional)")]),t._v(" "),n("p",[t._v("The value of this key is a Boolean. When set to true, the system uses the title property of your view controller as the title of the notification. When set to false, the system sets the notification's title to the name of your app. If you do not specify this key, the default value is set to false.")]),t._v(" "),n("ol",[n("li",[t._v("Create custom view in "),n("code",[t._v("NotificationViewController.swift")]),t._v(" file")]),t._v(" "),n("li",[t._v("Add new "),n("code",[t._v("category key")]),t._v(" and set its value to what we typed in the Info.plist (step 3):")])]),t._v(" "),n("p",[t._v("Push:")]),t._v(" "),n("div",{staticClass:"language-swift extra-class"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n aps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n alert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" … "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n category"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 'io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("swifting"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("notification"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("category' \n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("Local:")]),t._v(" "),n("div",{staticClass:"language-swift extra-class"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" mutableNotificationContent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UNMutableNotificationContent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmutableNotificationContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("category "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string-literal"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"io.swifting.notification-category"')])]),t._v("\nmutableNotificationContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string-literal"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Swifting.io Notifications"')])]),t._v("\nmutableNotificationContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subtitle "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string-literal"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Swifting.io presents"')])]),t._v("\nmutableNotificationContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string-literal"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Custom notifications"')])]),t._v("\n\n")])])]),n("p",[n("strong",[t._v("Also check out the official API reference:")]),t._v(" "),n("a",{attrs:{href:"https://developer.apple.com/reference/usernotificationsui/unnotificationcontentextension?utm_source=swifting.io&utm_medium=web&utm_campaign=blog%20post",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.apple.com/reference/usernotificationsui/unnotificationcontentextension?utm_source=swifting.io&utm_medium=web&utm_campaign=blog%20post"),n("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=s.exports}}]);