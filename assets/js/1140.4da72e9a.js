(window.webpackJsonp=window.webpackJsonp||[]).push([[1140],{1548:function(t,e,o){"use strict";o.r(e);var r=o(31),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"migrating-to-git"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migrating-to-git"}},[t._v("#")]),t._v(" Migrating to Git")]),t._v(" "),o("h2",{attrs:{id:"subgit"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#subgit"}},[t._v("#")]),t._v(" SubGit")]),t._v(" "),o("p",[o("a",{attrs:{href:"http://www.subgit.com/remote-book.html#7",target:"_blank",rel:"noopener noreferrer"}},[t._v("SubGit"),o("OutboundLink")],1),t._v(" may be used to perform a one-time import of an SVN repository to git.")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("$ subgit import --non-interactive --svn-url http://svn.my.co/repos/myproject myproject.git\n\n")])])]),o("h2",{attrs:{id:"migrate-from-svn-to-git-using-atlassian-conversion-utility"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migrate-from-svn-to-git-using-atlassian-conversion-utility"}},[t._v("#")]),t._v(" Migrate from SVN to Git using Atlassian conversion utility")]),t._v(" "),o("p",[t._v("Download the Atlassian conversion utility "),o("a",{attrs:{href:"https://bitbucket.org/atlassian/svn-migration-scripts/downloads/svn-migration-scripts.jar",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),o("OutboundLink")],1),t._v(". This utility requires Java, so please ensure that you have the Java Runtime Environment "),o("a",{attrs:{href:"https://www.java.com/en/download/installed.jsp",target:"_blank",rel:"noopener noreferrer"}},[t._v("JRE"),o("OutboundLink")],1),t._v(" installed on the machine you plan to do the conversion.")]),t._v(" "),o("p",[t._v("Use the command "),o("code",[t._v("java -jar svn-migration-scripts.jar verify")]),t._v(" to check if your machine is missing any of the programs necessary to complete the conversion. Specifically, this command checks for the Git, subversion, and "),o("code",[t._v("git-svn")]),t._v(" utilities. It also verifies that you are performing the migration on a case-sensitive file system. Migration to Git should be done on a case-sensitive file system to avoid corrupting the repository.")]),t._v(" "),o("p",[t._v("Next, you need to generate an authors file. Subversion tracks changes by the committer's username only. Git, however, uses two pieces of information to distinguish a user: a real name and an email address. The following command will generate a text file mapping the subversion usernames to their Git equivalents:")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("java -jar svn-migration-scripts.jar authors <svn-repo> authors.txt\n\n")])])]),o("p",[t._v("where "),o("code",[t._v("<svn-repo>")]),t._v(" is the URL of the subversion repository you wish to convert. After running this command, the contributors' identification information will be mapped in "),o("code",[t._v("authors.txt")]),t._v(". The email addresses will be of the form "),o("code",[t._v("<username>@mycompany.com")]),t._v(". In the authors file, you will need to manually change each person's default name (which by default has become their username) to their actual names. Make sure to also check all of the email addresses for correctness before proceeding.")]),t._v(" "),o("p",[t._v("The following command will clone an svn repo as a Git one:")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("git svn clone --stdlayout --authors-file=authors.txt <svn-repo> <git-repo-name>\n\n")])])]),o("p",[t._v("where "),o("code",[t._v("<svn-repo>")]),t._v(" is the same repository URL used above and "),o("code",[t._v("<git-repo-name>")]),t._v(" is the folder name in the current directory to clone the repository into. There are a few considerations before using this command:")]),t._v(" "),o("ul",[o("li",[t._v("The "),o("code",[t._v("--stdlayout")]),t._v(" flag from above tells Git that you're using a standard layout with "),o("code",[t._v("trunk")]),t._v(", "),o("code",[t._v("branches")]),t._v(", and "),o("code",[t._v("tags")]),t._v(" folders. Subversion repositories with non-standard layouts require you to specify the locations of the "),o("code",[t._v("trunk")]),t._v(" folder, any/all "),o("code",[t._v("branch")]),t._v(" folders, and the "),o("code",[t._v("tags")]),t._v(" folder. This can be done by following this example: "),o("code",[t._v("git svn clone --trunk=/trunk --branches=/branches --branches=/bugfixes --tags=/tags --authors-file=authors.txt <svn-repo> <git-repo-name>")]),t._v(".")]),t._v(" "),o("li",[t._v("This command could take many hours to complete depending on the size of your repo.")]),t._v(" "),o("li",[t._v("To cut down the conversion time for large repositories, the conversion can be run directly on the server hosting the subversion repository in order to eliminate network overhead.")])]),t._v(" "),o("p",[o("code",[t._v("git svn clone")]),t._v(" imports the subversion branches (and trunk) as remote branches including subversion tags (remote branches prefixed with "),o("code",[t._v("tags/")]),t._v("). To convert these to actual branches and tags, run the following commands on a Linux machine in the order they are provided. After running them, "),o("code",[t._v("git branch -a")]),t._v(" should show the correct branch names, and "),o("code",[t._v("git tag -l")]),t._v(" should show the repository tags.")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("git for-each-ref refs/remotes/origin/tags | cut -d / -f 5- | grep -v @ | while read tagname; do git tag $tagname origin/tags/$tagname; git branch -r -d origin/tags/$tagname; done\ngit for-each-ref refs/remotes | cut -d / -f 4- | grep -v @ | while read branchname; do git branch "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$branchname"')]),t._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v('"refs/remotes/origin/$branchname"')]),t._v("; git branch -r -d "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v('"origin/$branchname"')]),t._v("; done\n\n")])])]),o("p",[t._v("The conversion from svn to Git is now complete! Simply "),o("code",[t._v("push")]),t._v(" your local repo to a server and you can continue to contribute using Git as well as having a completely preserved version history from svn.")]),t._v(" "),o("h2",{attrs:{id:"migrate-from-team-foundation-version-control-tfvc-to-git"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migrate-from-team-foundation-version-control-tfvc-to-git"}},[t._v("#")]),t._v(" Migrate from Team Foundation Version Control (TFVC) to Git")]),t._v(" "),o("p",[t._v("You could migrate from team foundation version control to git by using an open source tool called Git-TF. Migration will also transfer your existing history by converting tfs checkins to git commits.")]),t._v(" "),o("p",[t._v("To put your solution into Git by using Git-TF follow these steps:")]),t._v(" "),o("p",[o("strong",[t._v("Download Git-TF")])]),t._v(" "),o("p",[t._v("You can download (and install) Git-TF from Codeplex: "),o("a",{attrs:{href:"https://gittf.codeplex.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git-TF @ Codeplex"),o("OutboundLink")],1)]),t._v(" "),o("p",[o("strong",[t._v("Clone your TFVC solution")])]),t._v(" "),o("p",[t._v("Launch powershell (win) and type the command")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("git-tf clone http://my.tfs.server.address:port/tfs/mycollection "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$/myproject/mybranch/mysolution'")]),t._v(" --deep\n\n")])])]),o("p",[t._v("The --deep switch is the keeyword to note as this tells Git-Tf to copy your checkin-history. You now have a local git repository in the folder from which you called your cloe command from.")]),t._v(" "),o("p",[o("strong",[t._v("Cleanup")])]),t._v(" "),o("ul",[o("li",[t._v("Add a .gitignore file. If you are using Visual Studio the editor can do this for you, otherwise you could do this manually by downloading a complete file from "),o("a",{attrs:{href:"https://github.com/github/gitignore",target:"_blank",rel:"noopener noreferrer"}},[t._v("github/gitignore"),o("OutboundLink")],1),t._v(".")]),t._v(" "),o("li",[t._v("RemoveTFS source control bindings from solution (remove all *.vssscc files). You could also modify your solution file by removing the GlobalSection(TeamFoundationVersionControl)......EndClobalSection")])]),t._v(" "),o("p",[o("strong",[t._v("Commit & Push")])]),t._v(" "),o("p",[t._v("Complete your conversion by committing and pushing your local repository to your remote.")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("git add .\ngit commit -a -m "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Coverted solution source control from TFVC to Git"')]),t._v("\n\ngit remote add origin https://my.remote/project/repo.git\n\ngit push origin master\n\n")])])]),o("h2",{attrs:{id:"migrating-mercurial-to-git"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migrating-mercurial-to-git"}},[t._v("#")]),t._v(" Migrating Mercurial to Git")]),t._v(" "),o("p",[t._v("One can use the following methods in order to import a "),o("code",[t._v("Mercurial")]),t._v(" Repo into "),o("code",[t._v("Git")]),t._v(":")]),t._v(" "),o("ol",[o("li",[t._v("Using "),o("a",{attrs:{href:"https://github.com/frej/fast-export",target:"_blank",rel:"noopener noreferrer"}},[t._v("fast export"),o("OutboundLink")],1),t._v(":")])]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("cd\ngit clone git://repo.or.cz/fast-export.git\ngit init git_repo\ncd git_repo\n~/fast-export/hg-fast-export.sh -r /path/to/old/mercurial_repo\ngit checkout HEAD\n\n")])])]),o("li",[o("p",[t._v("Using [Hg-Git](http://hg-git.github.io/):\nA very detailed answer here: [https://stackoverflow.com/a/31827990/5283213](https://stackoverflow.com/a/31827990/5283213)")])]),t._v(" "),o("li",[o("p",[t._v("Using [GitHub's Importer](https://help.github.com/articles/about-github-importer/):\nFollow the (detailed) instructions at [GitHub](https://github.com/new/import).")])]),t._v(" "),o("h2",{attrs:{id:"migrate-from-svn-to-git-using-svn2git"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migrate-from-svn-to-git-using-svn2git"}},[t._v("#")]),t._v(" Migrate from SVN to Git using svn2git")]),t._v(" "),o("p",[o("a",{attrs:{href:"https://github.com/nirvdrum/svn2git",target:"_blank",rel:"noopener noreferrer"}},[t._v("svn2git"),o("OutboundLink")],1),t._v(" is a Ruby wrapper around git's native SVN support through "),o("a",{attrs:{href:"https://git-scm.com/docs/git-svn",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-svn"),o("OutboundLink")],1),t._v(", helping you with migrating projects from Subversion to Git, keeping history (incl. trunk, tags and branches history).")]),t._v(" "),o("p",[o("strong",[t._v("Examples")])]),t._v(" "),o("p",[t._v("To migrate a svn repository with the standard layout (ie. branches, tags and trunk at the root level of the repository):")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("$ svn2git http://svn.example.com/path/to/repo\n\n")])])]),o("p",[t._v("To migrate a svn repository which is not in standard layout:")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("$ svn2git http://svn.example.com/path/to/repo --trunk trunk-dir --tags tags-dir --branches branches-dir\n\n")])])]),o("p",[t._v("In case you do not want to migrate (or do not have) branches, tags or trunk you can use options "),o("code",[t._v("--notrunk")]),t._v(", "),o("code",[t._v("--nobranches")]),t._v(", and "),o("code",[t._v("--notags")]),t._v(".")]),t._v(" "),o("p",[t._v("For example, "),o("code",[t._v("$ svn2git http://svn.example.com/path/to/repo --trunk trunk-dir --notags --nobranches")]),t._v(" will migrate only trunk history.")]),t._v(" "),o("p",[t._v("To reduce the space required by your new repository you may want to exclude any directories or files you once added while you should not have (eg. build directory or archives):")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[t._v("$ svn2git http://svn.example.com/path/to/repo --exclude build --exclude "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.*\\.zip$'")]),t._v("\n\n")])])]),o("p",[o("strong",[t._v("Post-migration optimization")])]),t._v(" "),o("p",[t._v("If you already have a few thousand of commits (or more) in your newly created git repository, you may want to reduce space used before pushing your repository on a remote. This can be done using the following command:")]),t._v(" "),o("div",{staticClass:"language-git extra-class"},[o("pre",{pre:!0,attrs:{class:"language-git"}},[o("code",[o("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git gc"),o("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --aggressive")])]),t._v("\n\n")])])]),o("p",[o("strong",[t._v("Note:")]),t._v(" The previous command can take up to several hours on large repositories (tens of thousand of commits and/or hundreds of megabytes of history).")])])}),[],!1,null,null,null);e.default=a.exports}}]);