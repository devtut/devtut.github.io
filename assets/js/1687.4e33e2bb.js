(window.webpackJsonp=window.webpackJsonp||[]).push([[1687],{2095:function(t,e,a){"use strict";a.r(e);var s=a(31),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"unit-testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unit-testing"}},[t._v("#")]),t._v(" Unit Testing")]),t._v(" "),a("h2",{attrs:{id:"what-is-unit-testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-is-unit-testing"}},[t._v("#")]),t._v(" What is Unit Testing?")]),t._v(" "),a("p",[t._v("This is a bit of a primer.  It's mostly put it in because documentation is forced to have an example, even if it's intended as a stub article.  If you already know unit-testing basics, feel free to skip forward to the remarks, where specific frameworks are mentioned.")]),t._v(" "),a("p",[t._v("Unit testing is ensuring that a given module behaves as expected.  In large-scale applications, ensuring the appropriate execution of modules in a vacuum is an integral part of ensuring application fidelity.")]),t._v(" "),a("p",[t._v("Consider the following (trivial) pseudo-example:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" main "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Application-level test.")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Consumer")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Consumer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"VALUE = "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Your Module.")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Consumer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Capitalizer")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Consumer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Capitalizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Another team's module.")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Capitalizer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataReader")]),t._v(" dr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Capitalizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      dr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" dr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Another team's module.")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataReader")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Refers to a file somewhere in your application deployment, or")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// perhaps retrieved over a deployment-specific network.")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... Read data from f into s ...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("So this example is trivial; "),a("code",[t._v("DataReader")]),t._v(" gets the data from a file, passes it to the "),a("code",[t._v("Capitalizer")]),t._v(", which converts all the characters to upper-case, which then gets passed to the "),a("code",[t._v("Consumer")]),t._v(".  But the "),a("code",[t._v("DataReader")]),t._v(" is heavily-linked to our application environment, so we defer testing of this chain until we are ready to deploy a test release.")]),t._v(" "),a("p",[t._v("Now, assume, somewhere along the way in a release, for reasons unknown, the "),a("code",[t._v("getVal()")]),t._v(" method in "),a("code",[t._v("Capitalizer")]),t._v(" changed from returning a "),a("code",[t._v("toUpperCase()")]),t._v(" String to a "),a("code",[t._v("toLowerCase()")]),t._v(" String:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\n // Another team's module.\n  class Capitalizer {\n    ...\n\n    public String getVal() {\n      return dr.readVal().toLowerCase();\n    }\n  }\n\n")])])]),a("p",[t._v("Clearly, this breaks expected behavior.  But, because of the arduous processes involved with execution of the "),a("code",[t._v("DataReader")]),t._v(", we won't notice this until our next test deployment.  So days/weeks/months go by with this bug sitting in our system, and then the product manager sees this, and instantly turns to you, the team leader associated with the "),a("code",[t._v("Consumer")]),t._v(".  \"Why is this happening?  What did you guys change?\"  Obviously, you're clueless.  You have no idea what's going on.  You didn't change any code that should be touching this; why is it suddenly broken?")]),t._v(" "),a("p",[t._v("Eventually, after discussion between the teams and collaboration, the issue is traced, and the problem solved.  But, it begs the question; how could this have been prevented?")]),t._v(" "),a("p",[t._v("There are two obvious things:")]),t._v(" "),a("h3",{attrs:{id:"tests-need-to-be-automated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tests-need-to-be-automated"}},[t._v("#")]),t._v(" Tests need to be automated")]),t._v(" "),a("p",[t._v("Our reliance upon manual testing let this bug go by unnoticed far too long.  We need a way to automate the process under which bugs are introduced "),a("strong",[t._v("instantly")]),t._v(".  Not 5 weeks from now.  Not 5 days from now.  Not 5 minutes from now.  Right now.")]),t._v(" "),a("p",[t._v("You have to appreciate that, in this example, I've expressed one "),a("strong",[t._v("very trivial")]),t._v(' bug that was introduced and unnoticed.  In an industrial application, with dozens of modules constantly being updated, these can creep in all over the place.  You fix something with one module, only to realize that the very behavior you "fixed" was relied upon in some manner elsewhere (either internally or externally).')]),t._v(" "),a("p",[t._v("Without rigorous validation, things will creep into the system.  It's possible that, if neglected far enough, this will result in so much extra work trying to fix changes (and then fixing those fixes, etc.), that a product will actually "),a("strong",[t._v("increase")]),t._v(" in remaining work as effort is put into it.  You do not want to be in this situation.")]),t._v(" "),a("h3",{attrs:{id:"tests-need-to-be-fine-grained"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tests-need-to-be-fine-grained"}},[t._v("#")]),t._v(" Tests need to be fine-grained")]),t._v(" "),a("p",[t._v("The second problem noted in our above example is the amount of time it took to trace the bug.  The product manager pinged you when the testers noticed it, you investigated and found that the "),a("code",[t._v("Capitalizer")]),t._v(" was returning seemingly bad data, you pinged the "),a("code",[t._v("Capitalizer")]),t._v(" team with your findings, they investigated, etc. etc. etc.")]),t._v(" "),a("p",[t._v("The same point I made above about the quantity and difficulty of this trivial example hold here.  Obviously anyone reasonably well-versed with Java could find the introduced problem quickly.  But it's often much, much more difficult to trace and communicate issues.  Maybe the "),a("code",[t._v("Capitalizer")]),t._v(" team provided you a JAR with no source.  Maybe they're located on the other side of the world, and communication hours are very limited (perhaps to e-mails that get sent once daily).  It can result in bugs taking weeks or longer to trace (and, again, there could be several of these for a given release).")]),t._v(" "),a("p",[t._v("In order to mitigate against this, we want rigorous testing on as "),a("strong",[t._v("fine")]),t._v(" a level as possible (you also want coarse-grained testing to ensure modules interact properly, but that's not our focal point here).  We want to rigorously specify how all outward-facing functionality (at minimum) operates, and tests for that functionality.")]),t._v(" "),a("h3",{attrs:{id:"enter-unit-testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enter-unit-testing"}},[t._v("#")]),t._v(" Enter unit-testing")]),t._v(" "),a("p",[t._v("Imagine if we had a test, specifically ensuring that the "),a("code",[t._v("getVal()")]),t._v(" method of "),a("code",[t._v("Capitalizer")]),t._v(" returned a capitalized string for a given input string.  Furthermore, imagine that test was run before we even committed any code.  The bug introduced into the system (that is, "),a("code",[t._v("toUpperCase()")]),t._v(" being replaced with "),a("code",[t._v("toLowerCase()")]),t._v(") would cause no issues because the bug would never "),a("strong",[t._v("be")]),t._v(" introduced into the system.  We would catch it in a test, the developer would (hopefully) realize their mistake, and an alternative solution would be reached as to how to introduce their intended effect.")]),t._v(" "),a("p",[t._v("There's some omissions made here as to "),a("strong",[t._v("how")]),t._v(" to implement these tests, but those are covered in the framework-specific documentation (linked in the remarks).  Hopefully, this serves as an example of "),a("strong",[t._v("why")]),t._v(" unit testing is important.")]),t._v(" "),a("h4",{attrs:{id:"remarks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[t._v("#")]),t._v(" Remarks")]),t._v(" "),a("h3",{attrs:{id:"unit-test-frameworks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unit-test-frameworks"}},[t._v("#")]),t._v(" Unit Test Frameworks")]),t._v(" "),a("p",[t._v("There are numerous frameworks available for unit testing within Java.  The most popular option by far is JUnit.  It is documented under the following:")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://stackoverflow.com/documentation/junit/topics",target:"_blank",rel:"noopener noreferrer"}},[t._v("JUnit"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://stackoverflow.com/documentation/junit4",target:"_blank",rel:"noopener noreferrer"}},[t._v("JUnit4"),a("OutboundLink")],1),t._v(" - "),a("strong",[t._v("Proposed tag for JUnit4 features; not yet implemented")]),t._v(".")]),t._v(" "),a("p",[t._v("Other unit test frameworks do exist, and have documentation available:")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://stackoverflow.com/documentation/testng/topics",target:"_blank",rel:"noopener noreferrer"}},[t._v("TestNG"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"unit-testing-tools"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unit-testing-tools"}},[t._v("#")]),t._v(" Unit Testing Tools")]),t._v(" "),a("p",[t._v("There are several other tools used for unit testing:")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://stackoverflow.com/documentation/mockito/topics",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mockito"),a("OutboundLink")],1),t._v(" - "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Mock_object",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mocking"),a("OutboundLink")],1),t._v(" framework; allows objects to be mimicked.  Useful for mimicking the "),a("strong",[t._v("expected")]),t._v(" behavior of an external unit within a given unit's test, as to not link the external unit's behavior to the given unit's tests.")]),t._v(" "),a("p",[t._v("JBehave - "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Behavior-driven_development",target:"_blank",rel:"noopener noreferrer"}},[t._v("BDD"),a("OutboundLink")],1),t._v(" Framework.  Allows tests to be linked to user behaviors (allowing requirement/scenario validation).  "),a("strong",[t._v("No documents tag available at time of writing; "),a("a",{attrs:{href:"http://jbehave.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(" is an external link")]),t._v(".")])])}),[],!1,null,null,null);e.default=n.exports}}]);