(window.webpackJsonp=window.webpackJsonp||[]).push([[2548],{2956:function(t,a,s){"use strict";s.r(a);var e=s(31),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"dates-timestamps-and-intervals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dates-timestamps-and-intervals"}},[t._v("#")]),t._v(" Dates, Timestamps, and Intervals")]),t._v(" "),s("h2",{attrs:{id:"cast-a-timestamp-or-interval-to-a-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cast-a-timestamp-or-interval-to-a-string"}},[t._v("#")]),t._v(" Cast a timestamp or interval to a string")]),t._v(" "),s("p",[t._v("You can convert a "),s("code",[t._v("timestamp")]),t._v(" or "),s("code",[t._v("interval")]),t._v(" value to a string with the "),s("code",[t._v("to_char()")]),t._v(" function:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" to_char"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2016-08-12 16:40:32'")]),t._v("::"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DD Mon YYYY HH:MI:SSPM'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v('This statement will produce the string "12 Aug 2016 04:40:32PM". The formatting string can be modified in many different ways; the full list of template patterns can be found '),s("a",{attrs:{href:"https://www.postgresql.org/docs/current/static/functions-formatting.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Note that you can also insert plain text into the formatting string and you can use the template patterns in any order:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" to_char"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2016-08-12 16:40:32'")]),t._v("::"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'"Today is "FMDay", the "DDth" day of the month of "FMMonth" of "YYYY\'')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v('This will produce the string "Today is Saturday, the 12th day of the month of August of 2016". You should keep in mind, though, that any template patterns - even the single letter ones like "I", "D", "W" - are converted, unless the plain text is in double quotes. As a safety measure, you should put all plain text in double quotes, as done above.')]),t._v(" "),s("p",[t._v("You can localize the string to your language of choice (day and month names) by using the TM (translation mode) modifier. This option uses the localization setting of the server running PostgreSQL or the client connecting to it.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" to_char"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2016-08-12 16:40:32'")]),t._v("::"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'TMDay, DD" de "TMMonth" del año "YYYY\'')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v('With a Spanish locale setting this produces "Sábado, 12 de Agosto del año 2016".')]),t._v(" "),s("h2",{attrs:{id:"select-the-last-day-of-month"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#select-the-last-day-of-month"}},[t._v("#")]),t._v(" SELECT the last day of month")]),t._v(" "),s("p",[t._v("You can select the last day of month.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("date_trunc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MONTH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'201608'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'01'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("::"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTERVAL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1 MONTH - 1 day'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("::"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n")])])]),s("p",[s("code",[t._v("201608")]),t._v(" is replaceable with a variable.")]),t._v(" "),s("h2",{attrs:{id:"count-the-number-of-records-per-week"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#count-the-number-of-records-per-week"}},[t._v("#")]),t._v(" Count the number of records per week")]),t._v(" "),s("p",[t._v("SELECT date_trunc('week', <>) AS \"Week\" , count(*)\nFROM <>\nGROUP BY 1\nORDER BY 1;")])])}),[],!1,null,null,null);a.default=n.exports}}]);