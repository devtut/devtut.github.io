(window.webpackJsonp=window.webpackJsonp||[]).push([[1454],{1862:function(t,s,a){"use strict";a.r(s);var e=a(31),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"swift-and-objective-c-interoperability"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#swift-and-objective-c-interoperability"}},[t._v("#")]),t._v(" Swift and Objective-C interoperability")]),t._v(" "),a("h2",{attrs:{id:"using-objective-c-classes-in-swift"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-objective-c-classes-in-swift"}},[t._v("#")]),t._v(" Using Objective-C Classes in Swift")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("If you have an existing class that you'd like to use, perform "),a("strong",[t._v("Step 2")]),t._v(" and then skip to "),a("strong",[t._v("Step 5")]),t._v(".  (For some cases, I had to add an explicit "),a("code",[t._v("#import <Foundation/Foundation.h")]),t._v(" to an older ObjC File)")]),t._v(" "),a("h3",[t._v(" Step 1: Add Objective-C Implementation -- .m ")]),t._v(" "),a("p",[t._v("Add a "),a("code",[t._v(".m")]),t._v(" file to your class, and name it "),a("code",[t._v("CustomObject.m")])]),t._v(" "),a("h3",[t._v(" Step 2: Add Bridging Header ")]),t._v(" "),a("p",[t._v("When adding your "),a("code",[t._v(".m")]),t._v(" file, you'll likely be hit with a prompt that looks like this:")]),t._v(" "),a("img",{attrs:{src:"http://i.stack.imgur.com/nakLZ.png",alt:"enter image description here"}}),t._v(" "),a("p",[t._v("Click ** YES **!")]),t._v(" "),a("p",[t._v("If you did not see the prompt, or accidentally deleted your bridging header, add a new "),a("code",[t._v(".h")]),t._v(" file to your project and name it "),a("code",[t._v("<#YourProjectName#>-Bridging-Header.h")])]),t._v(" "),a("p",[t._v("In some situations, particularly when working with ObjC frameworks, you don't add an Objective-C class explicitly and Xcode can't find the linker.  In this case, create your "),a("code",[t._v(".h")]),t._v(" file named as mentioned above, then make sure you link its path in your target's project settings like so:")]),t._v(" "),a("img",{attrs:{src:"http://i.stack.imgur.com/8LiwF.gif",alt:"enter image description here"}}),t._v(" "),a("p",[a("strong",[t._v("Note")])]),t._v(" "),a("p",[t._v("It's best practice to link your project using the "),a("code",[t._v("$(SRCROOT)")]),t._v(" macro so that if you move your project, or work on it with others using a remote repo, it will still work. "),a("code",[t._v("$(SRCROOT)")]),t._v(" can be thought of as the directory that contains your .xcodeproj file.  It might look like this:")]),t._v(" "),a("p",[a("code",[t._v("$(SRCROOT)/Folder/Folder/<#YourProjectName#>-Bridging-Header.h")])]),t._v(" "),a("h3",[t._v(" Step 3: Add Objective-C Header -- .h ")]),t._v(" "),a("p",[t._v("Add another "),a("code",[t._v(".h")]),t._v(" file and name it "),a("code",[t._v("CustomObject.h")])]),t._v(" "),a("h3",[t._v(" Step 4: Build your Objective-C Class ")]),t._v(" "),a("p",[t._v("In "),a("code",[t._v("CustomObject.h")])]),t._v(" "),a("div",{staticClass:"language-swift extra-class"},[a("pre",{pre:!0,attrs:{class:"language-swift"}},[a("code",[a("span",{pre:!0,attrs:{class:"token other-directive property"}},[t._v("#import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foundation")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foundation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token attribute atrule"}},[t._v("@interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomObject")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSObject")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token attribute atrule"}},[t._v("@property")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("strong"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nonatomic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id someProperty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("void"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" someMethod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token attribute atrule"}},[t._v("@end")]),t._v("\n\n")])])]),a("p",[t._v("In "),a("code",[t._v("CustomObject.m")])]),t._v(" "),a("div",{staticClass:"language-swift extra-class"},[a("pre",{pre:!0,attrs:{class:"language-swift"}},[a("code",[a("span",{pre:!0,attrs:{class:"token other-directive property"}},[t._v("#import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CustomObject.h"')])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token attribute atrule"}},[t._v("@implementation")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomObject")]),t._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("void"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" someMethod "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSLog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SomeMethod Ran"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token attribute atrule"}},[t._v("@end")]),t._v("\n\n")])])]),a("h3",[t._v(" Step 5: Add Class to Bridging-Header ")]),t._v(" "),a("p",[t._v("In "),a("code",[t._v("YourProject-Bridging-Header.h")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-swift extra-class"},[a("pre",{pre:!0,attrs:{class:"language-swift"}},[a("code",[a("span",{pre:!0,attrs:{class:"token other-directive property"}},[t._v("#import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CustomObject.h"')])]),t._v("\n\n")])])]),a("h3",[t._v(" Step 6: Use your Object ")]),t._v(" "),a("p",[t._v("In "),a("code",[t._v("SomeSwiftFile.swift")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-swift extra-class"},[a("pre",{pre:!0,attrs:{class:"language-swift"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" instanceOfCustomObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomObject")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ninstanceOfCustomObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someProperty "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello World"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instanceOfCustomObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someProperty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ninstanceOfCustomObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("someMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("No need to import explicitly, that's what the bridging header is for.")]),t._v(" "),a("h2",{attrs:{id:"using-swift-classes-in-objective-c"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-swift-classes-in-objective-c"}},[t._v("#")]),t._v(" Using Swift Classes in Objective-C")]),t._v(" "),a("h3",[t._v(" Step 1: Create New Swift Class ")]),t._v(" "),a("p",[t._v("Add a "),a("code",[t._v(".swift")]),t._v(" file to your project, and name it "),a("code",[t._v("MySwiftObject.swift")])]),t._v(" "),a("p",[t._v("In "),a("code",[t._v("MySwiftObject.swift")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-swift extra-class"},[a("pre",{pre:!0,attrs:{class:"language-swift"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foundation")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MySwiftObject")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSObject")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" someProperty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnyObject")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Some Initializer Val"')])]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("someFunction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("someArg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnyObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" returnVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You sent me ')]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("\\(")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[t._v("someArg")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" returnVal\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h3",[t._v(" Step 2: Import Swift Files to ObjC Class ")]),t._v(" "),a("p",[t._v("In "),a("code",[t._v("SomeRandomClass.m")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-swift extra-class"},[a("pre",{pre:!0,attrs:{class:"language-swift"}},[a("code",[a("span",{pre:!0,attrs:{class:"token other-directive property"}},[t._v("#import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<#YourProjectName#>-Swift.h"')])]),t._v("\n\n")])])]),a("p",[t._v("The file:"),a("code",[t._v("<#YourProjectName#>-Swift.h")]),t._v(" should already be created automatically in your project, even if you can not see it.")]),t._v(" "),a("h3",[t._v(" Step 3: Use your class ")]),t._v(" "),a("div",{staticClass:"language-swift extra-class"},[a("pre",{pre:!0,attrs:{class:"language-swift"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MySwiftObject")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" myOb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MySwiftObject")]),t._v(" new"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSLog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyOb.someProperty: %@"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myOb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someProperty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmyOb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someProperty "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" @"),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello World"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSLog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyOb.someProperty: %@"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myOb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someProperty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSString")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" retString "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("myOb someFunction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Arg"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSLog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RetString: %@"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" retString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("h3",[t._v("Note:")]),t._v(" "),a("p",[a("strong",[t._v("1.")]),t._v(" CodeCompletion wasn't behaving as accurately as I'd like it to.  On my system, running a quick build w/ \"cmd + r\" seemed to help Swift find some of the Objc code and vice versa.")]),t._v(" "),a("p",[a("strong",[t._v("2.")]),t._v(" If you add "),a("code",[t._v(".swift")]),t._v(" file to an older project and get error: "),a("code",[t._v("dyld: Library not loaded: @rpath/libswift_stdlib_core.dylib")]),t._v(", try completely "),a("a",{attrs:{href:"http://stackoverflow.com/q/24002836/2611971",target:"_blank",rel:"noopener noreferrer"}},[t._v("restarting Xcode."),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("3.")]),t._v(" While it was originally possible to use pure Swift classes in Objective-C by using the "),a("code",[t._v("@objc")]),t._v(" prefix, after Swift 2.0, this is no longer possible.  See edit history for original explanation.  If this functionality is reenabled in future Swift versions, the answer will be updated accordingly.")])])}),[],!1,null,null,null);s.default=n.exports}}]);