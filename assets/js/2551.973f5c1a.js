(window.webpackJsonp=window.webpackJsonp||[]).push([[2551],{2959:function(s,a,t){"use strict";t.r(a);var e=t(31),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"extension-dblink-and-postgres-fdw"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extension-dblink-and-postgres-fdw"}},[s._v("#")]),s._v(" EXTENSION dblink and postgres_fdw")]),s._v(" "),t("h2",{attrs:{id:"extention-fdw"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extention-fdw"}},[s._v("#")]),s._v(" Extention FDW")]),s._v(" "),t("p",[s._v("FDW is an implimentation of dblink it is more helpful, so to use it:")]),s._v(" "),t("p",[s._v("1-Create an extention:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" EXTENSION postgres_fdw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("p",[s._v("2-Create SERVER:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" SERVER name_srv "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATA")]),s._v(" WRAPPER postgres_fdw OPTIONS "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("host "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hostname'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ndbname "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bd_name'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" port "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5432'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("p",[s._v("3-Create user mapping for postgres server")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" MAPPING "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" postgres SERVER name_srv OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postgres'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" password "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("p",[s._v("4-Create foreign table:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" table_foreign "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTEGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" code "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varying")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nSERVER name_srv OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("schema_name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'schema'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" table_name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'table'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("p",[s._v("5-use this foreign table like it is in your database:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" table_foreign"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("h2",{attrs:{id:"foreign-data-wrapper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#foreign-data-wrapper"}},[s._v("#")]),s._v(" Foreign Data Wrapper")]),s._v(" "),t("p",[s._v("To access complete schema of server db instead of single table. Follow below steps:")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("Create EXTENSION :")])]),s._v(" "),t("li",[t("p",[s._v("Create SERVER :")])]),s._v(" "),t("li",[t("p",[s._v("Create USER MAPPING:")])]),s._v(" "),t("li",[t("p",[s._v("Create new schema to access schema of server DB:")])]),s._v(" "),t("li",[t("p",[s._v("Import server schema:")])]),s._v(" "),t("li",[t("p",[s._v("Access any table of server schema:")])])]),s._v(" "),t("p",[s._v("This can be used to access multiple schema of remote DB.")]),s._v(" "),t("h2",{attrs:{id:"extention-dblink"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extention-dblink"}},[s._v("#")]),s._v(" Extention  dblink")]),s._v(" "),t("p",[s._v("dblink EXTENSION is a technique to connect another database and make operation of this database so to do that you need:")]),s._v(" "),t("p",[s._v("1-Create a dblink extention:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" EXTENSION dblink"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("p",[s._v("2-Make your operation:")]),s._v(" "),t("p",[s._v("For exemple Select some attribute from another table in another database:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" \ndblink "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dbname = bd_distance port = 5432 host = 10.6.6.6 user = username \npassword = passw@rd'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SELECT id, code FROM schema.table'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" newTable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTEGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" code "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varying")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("h4",{attrs:{id:"syntax"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[s._v("#")]),s._v(" Syntax")]),s._v(" "),t("li",[t("p",[s._v("dblink ('dbname = name_db_distance port = PortOfDB host = HostOfDB user = usernameDB\npassword = passwordDB', 'MY QUESRY')")])]),s._v(" "),t("li",[s._v("\ndbname = name of the database\n")]),s._v(" "),t("li",[s._v("\nport = Port Of the database\n")]),s._v(" "),t("li",[s._v("\nhost = Host Of the database\n")]),s._v(" "),t("li",[s._v("\nuser = username of the database\n")]),s._v(" "),t("li",[s._v("\npassword = password of the database',\n")]),s._v(" "),t("li",[s._v("\nMY QUESRY = this can be any operation i want to do SELECT, INSERT, ...\n")])])}),[],!1,null,null,null);a.default=n.exports}}]);