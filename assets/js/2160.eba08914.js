(window.webpackJsonp=window.webpackJsonp||[]).push([[2160],{2568:function(e,t,a){"use strict";a.r(t);var s=a(31),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#view"}},[e._v("#")]),e._v(" VIEW")]),e._v(" "),a("h2",{attrs:{id:"create-a-view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-view"}},[e._v("#")]),e._v(" Create a View")]),e._v(" "),a("p",[a("strong",[e._v("Privileges")])]),e._v(" "),a("p",[e._v("The CREATE VIEW statement requires the CREATE VIEW privilege for the view, and some privilege for each column selected by the SELECT statement. For columns used elsewhere in the SELECT statement, you must have the SELECT privilege. If the OR REPLACE clause is present, you must also have the DROP privilege for the view. CREATE VIEW might also require the SUPER privilege, depending on the DEFINER value, as described later in this section.")]),e._v(" "),a("p",[e._v("When a view is referenced, privilege checking occurs.")]),e._v(" "),a("p",[e._v("A view belongs to a database. By default, a new view is created in the default database. To create the view explicitly in a given database, use a fully qualified name")]),e._v(" "),a("p",[e._v("For Example:")]),e._v(" "),a("p",[e._v("db_name.view_name")]),e._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VIEW")]),e._v(" test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("v "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("AS")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),a("p",[a("strong",[e._v("Note - Within a database, base tables and views share the same namespace, so a base table and a view cannot have the same name.")])]),e._v(" "),a("p",[e._v("A VIEW can:")]),e._v(" "),a("ul",[a("li",[e._v("be created from many kinds of SELECT statements")]),e._v(" "),a("li",[e._v("refer to base tables or other views")]),e._v(" "),a("li",[e._v("use joins, UNION, and subqueries")]),e._v(" "),a("li",[e._v("SELECT need not even refer to any tables")])]),e._v(" "),a("p",[a("strong",[e._v("Another Example")])]),e._v(" "),a("p",[e._v("The following example defines a view that selects two columns from another table as well as an expression calculated from those columns:")]),e._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TABLE")]),e._v(" t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("qty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("INT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" price "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("INT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("INSERT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("INTO")]),e._v(" t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VALUES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VIEW")]),e._v(" v "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("AS")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" qty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" qty"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("price "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("AS")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("value")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("------+-------+-------+")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" qty  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" price "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("value")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("------+-------+-------+")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("50")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("150")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("------+-------+-------+")]),e._v("\n\n")])])]),a("p",[a("strong",[e._v("Restrictions")])]),e._v(" "),a("li",[e._v("Before MySQL 5.7.7, the SELECT statement cannot contain a subquery in\nthe FROM clause.")]),e._v(" "),a("li",[e._v("The SELECT statement cannot refer to system variables or user-defined\nvariables.")]),e._v(" "),a("li",[e._v("Within a stored program, the SELECT statement cannot refer to program\nparameters or local variables.")]),e._v("\n- The SELECT statement cannot refer to prepared statement parameters.\n"),a("li",[e._v("Any table or view referred to in the definition must exist. After the\nview has been created, it is possible to drop a table or view that"),a("br"),e._v("\nthe definition refers to. In this case, use of the view results in an\nerror. To check a view definition for problems of this kind, use the\nCHECK TABLE statement.")]),e._v(" "),a("li",[e._v("The definition cannot refer to a TEMPORARY table, and you cannot"),a("br"),e._v("\ncreate a TEMPORARY view.")]),e._v("\n- You cannot associate a trigger with a view.\n"),a("li",[e._v("Aliases for column names in the SELECT statement are checked against\nthe maximum column length of 64 characters (not the maximum alias"),a("br"),e._v("\nlength of 256 characters).")]),e._v(" "),a("li",[e._v("A `VIEW` may or may not optimize as well as the equivalent `SELECT`.\nIt is unlikely to optimize any better.")]),e._v(" "),a("h2",{attrs:{id:"a-view-from-two-tables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-view-from-two-tables"}},[e._v("#")]),e._v(" A view from two tables")]),e._v(" "),a("p",[e._v("A view is most useful when it can be used to pull in data from more than one table.")]),e._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VIEW")]),e._v(" myview "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("AS")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("extra_data "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" main_table a \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("LEFT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("OUTER")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("JOIN")]),e._v(" other_table b \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ON")]),e._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("id\n\n")])])]),a("p",[e._v("In mysql views are not materialized. If you now perform the simple query "),a("code",[e._v("SELECT * FROM myview")]),e._v(", mysql will actually perform the LEFT JOIN behind the scene.")]),e._v(" "),a("p",[e._v("A view once created can be joined to other views or tables")]),e._v(" "),a("h2",{attrs:{id:"updating-a-table-via-a-view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-a-table-via-a-view"}},[e._v("#")]),e._v(" Updating a table via a VIEW")]),e._v(" "),a("p",[e._v("A "),a("code",[e._v("VIEW")]),e._v(" acts very much like a table.  Although you can "),a("code",[e._v("UPDATE")]),e._v(" a table, you may or may not be able to update a view into that table.  In general, if the "),a("code",[e._v("SELECT")]),e._v(" in the view is complex enough to require a temp table, then "),a("code",[e._v("UPDATE")]),e._v(" is not allowed.")]),e._v(" "),a("p",[e._v("Things like "),a("code",[e._v("GROUP BY")]),e._v(", "),a("code",[e._v("UNION")]),e._v(", "),a("code",[e._v("HAVING")]),e._v(", "),a("code",[e._v("DISTINCT")]),e._v(", and some subqueries prevent the view from being updatable.  Details in "),a("a",{attrs:{href:"http://dev.mysql.com/doc/refman/5.7/en/view-updatability.html",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[e._v("reference manual")]),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"dropping-a-view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dropping-a-view"}},[e._v("#")]),e._v(" DROPPING A VIEW")]),e._v(" "),a("p",[e._v("-- Create and drop a view in the current database.")]),e._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VIEW")]),e._v(" few_rows_from_t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("AS")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("LIMIT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("DROP")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VIEW")]),e._v(" few_rows_from_t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),a("p",[e._v("-- Create and drop a view referencing a table in a different database.")]),e._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VIEW")]),e._v(" table_from_other_db "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("AS")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" x "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" db1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("foo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("WHERE")]),e._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("IS")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("NOT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("DROP")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("VIEW")]),e._v(" table_from_other_db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),a("h4",{attrs:{id:"syntax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[e._v("#")]),e._v(" Syntax")]),e._v(" "),a("li",[e._v("\nCREATE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition; ///Simple create view syntax\n")]),e._v(" "),a("li",[a("p",[e._v("CREATE\n[OR REPLACE]\n[ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}]\n[DEFINER = { user | CURRENT_USER }]\n[SQL SECURITY { DEFINER | INVOKER }]\nVIEW view_name [(column_list)]\nAS select_statement\n[WITH [CASCADED | LOCAL] CHECK OPTION];  /// Full Create view syntax")])]),e._v(" "),a("li",[e._v("\nDROP VIEW [IF EXISTS] [db_name.]view_name; ///Drop view syntax\n")]),e._v(" "),a("h4",{attrs:{id:"parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[e._v("#")]),e._v(" Parameters")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Parameters")]),e._v(" "),a("th",[e._v("Details")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("view_name")]),e._v(" "),a("td",[e._v("Name of View")])]),e._v(" "),a("tr",[a("td",[e._v("SELECT statement")]),e._v(" "),a("td",[e._v("SQL statements to be packed in the views. It can be a SELECT statement to fetch data from one or more tables.")])])])]),e._v(" "),a("h4",{attrs:{id:"remarks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[e._v("#")]),e._v(" Remarks")]),e._v(" "),a("p",[e._v("Views are virtual tables and do not contain the data that is returned. They can save you from writing complex queries again and again.")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Before a view is made")]),e._v(" its specification consists entirely of a "),a("code",[e._v("SELECT")]),e._v(" statement. The "),a("code",[e._v("SELECT")]),e._v(" statement cannot contain a sub-query in the FROM clause.")]),e._v(" "),a("li",[a("strong",[e._v("Once a view is made")]),e._v(" it is used largely just like a table and can be "),a("code",[e._v("SELECT")]),e._v("ed from just like a table.")])]),e._v(" "),a("p",[e._v("You have to create views, when you want to restrict few columns of your table, from the other user.")]),e._v(" "),a("ul",[a("li",[e._v('For example: In your organization, you want your managers to view few information from a table named-"Sales", but you don\'t want that your software engineers can view all fields of table-"Sales". Here, you can create two different views for your managers and your software engineers.')])]),e._v(" "),a("p",[a("strong",[e._v("Performance")]),e._v(".  "),a("code",[e._v("VIEWs")]),e._v(' are syntactic sugar.  However there performance may or may not be worse than the equivalent query with the view\'s select folded in.  The Optimizer attempts to do this "fold in" for you, but is not always successful.  MySQL 5.7.6 provides some more enhancements in the Optimizer.  But, regardless, using a '),a("code",[e._v("VIEW")]),e._v(" will not generate a "),a("strong",[e._v("faster")]),e._v(" query.")])])}),[],!1,null,null,null);t.default=r.exports}}]);