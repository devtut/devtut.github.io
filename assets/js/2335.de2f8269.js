(window.webpackJsonp=window.webpackJsonp||[]).push([[2335],{2743:function(t,a,s){"use strict";s.r(a);var e=s(31),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"creating-a-context"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-context"}},[t._v("#")]),t._v(" Creating a Context")]),t._v(" "),s("h2",{attrs:{id:"create-a-context"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-context"}},[t._v("#")]),t._v(" Create a Context")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" CONTEXT my_ctx "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USING")]),t._v(" my_pkg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("This creates a context that can only be set by routines in the database package "),s("code",[t._v("my_pkg")]),t._v(", e.g.:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" PACKAGE my_pkg "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" set_ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" my_pkg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" PACKAGE BODY my_pkg "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" set_ctx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IS")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n    DBMS_SESSION"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MY_CTX'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'THE KEY'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Value'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    DBMS_SESSION"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MY_CTX'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ANOTHER'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bla'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" set_ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" my_pkg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Now, if a session does this:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("my_pkg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("It can now retrieve the value for the key thus:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" SYS_CONTEXT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MY_CTX'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'THE KEY'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" dual"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Value")]),t._v("\n\n")])])]),s("h4",{attrs:{id:"syntax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[t._v("#")]),t._v(" Syntax")]),t._v(" "),s("ul",[s("li",[t._v("CREATE [OR REPLACE] CONTEXT namespace USING [schema.]package;")]),t._v(" "),s("li",[t._v("CREATE [OR REPLACE] CONTEXT namespace USING [schema.]package INITIALIZED EXTERNALLY;")]),t._v(" "),s("li",[t._v("CREATE [OR REPLACE] CONTEXT namespace USING [schema.]package INITIALIZED GLOBALLY;")]),t._v(" "),s("li",[t._v("CREATE [OR REPLACE] CONTEXT namespace USING [schema.]package ACCESSED GLOBALLY;")])]),t._v(" "),s("h4",{attrs:{id:"parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Parameter")]),t._v(" "),s("th",[t._v("Details")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("OR REPLACE")])]),t._v(" "),s("td",[t._v("Redefine an existing context namespace")])]),t._v(" "),s("tr",[s("td",[t._v("namespace")]),t._v(" "),s("td",[t._v("Name of the context - this is the namespace for calls to "),s("code",[t._v("SYS_CONTEXT")])])]),t._v(" "),s("tr",[s("td",[t._v("schema")]),t._v(" "),s("td",[t._v("Owner of the package")])]),t._v(" "),s("tr",[s("td",[t._v("package")]),t._v(" "),s("td",[t._v("Database package that sets or resets the context attributes. Note: the database package doesn't have to exist in order to create the context.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("INITIALIZED")])]),t._v(" "),s("td",[t._v("Specify an entity other than Oracle Database that can set the context.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("EXTERNALLY")])]),t._v(" "),s("td",[t._v("Allow the OCI interface to initialize the context.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("GLOBALLY")])]),t._v(" "),s("td",[t._v("Allow the LDAP directory to initialize the context when establishing the session.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("ACCESSED GLOBALLY")])]),t._v(" "),s("td",[t._v("Allow the context to be accessible throughout the entire instance - multiple sessions can share the attribute values as long as they have the same Client ID.")])])])]),t._v(" "),s("h4",{attrs:{id:"remarks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[t._v("#")]),t._v(" Remarks")]),t._v(" "),s("p",[t._v("Oracle documentation (12cR1): "),s("a",{attrs:{href:"http://docs.oracle.com/database/121/SQLRF/statements_5003.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://docs.oracle.com/database/121/SQLRF/statements_5003.htm"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);