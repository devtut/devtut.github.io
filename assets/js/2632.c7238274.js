(window.webpackJsonp=window.webpackJsonp||[]).push([[2632],{2978:function(t,s,a){"use strict";a.r(s);var e=a(19),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"url-encode-decode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-encode-decode"}},[t._v("#")]),t._v(" URL Encode/Decode")]),t._v(" "),a("h2",{attrs:{id:"encode-query-string-with-system-web-httputility-urlencode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#encode-query-string-with-system-web-httputility-urlencode"}},[t._v("#")]),t._v(" Encode Query String with "),a("code",[t._v("[System.Web.HttpUtility]::UrlEncode()")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$scheme")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_format")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{0}://example.vertigion.com/foos?{1}'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_data")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo1'")]),t._v("="),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo2'")]),t._v("= "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'complex;/?:@&=+$, bar''\"'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'complex;/?:@&=+$, foo''\"'")]),t._v("="),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Collections.ArrayList]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_array")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GetEnumerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlEncode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlEncode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${qs_key}=${qs_value}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Out-Null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_format")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UriScheme${scheme}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_array")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-join")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("With "),a("code",[t._v("[System.Web.HttpUtility]::UrlEncode()")]),t._v(", you will notice that spaces are turned into plus signs ("),a("code",[t._v("+")]),t._v(") instead of "),a("code",[t._v("%20")]),t._v(":")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("[https://example.vertigion.com/foos](https://example.vertigion.com/foos)?\nfoo2=complex%3b%2f%3f%3a%40%26%3d%2b%24%2c+bar%27%22&\ncomplex%3b%2f%3f%3a%40%26%3d%2b%24%2c+foo%27%22=bar2&foo1=bar1")]),t._v(" "),a("h2",{attrs:{id:"quick-start-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quick-start-encoding"}},[t._v("#")]),t._v(" Quick Start: Encoding")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url1")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::EscapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://test.com?test=my value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url1: http%3A%2F%2Ftest.com%3Ftest%3Dmy%20value")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url2")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::EscapeUriString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://test.com?test=my value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url2: http://test.com?test=my%20value")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HttpUtility requires at least .NET 1.1 to be installed.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url3")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlEncode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://test.com?test=my value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url3: http%3a%2f%2ftest.com%3ftest%3dmy+value")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("Note:")]),t._v(" "),a("a",{attrs:{href:"https://msdn.microsoft.com/en-us/library/system.web.httputility(v=vs.110).aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("More info on HTTPUtility"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"quick-start-decoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quick-start-decoding"}},[t._v("#")]),t._v(" Quick Start: Decoding")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" these examples use the variables created in the "),a("strong",[t._v("Quick Start: Encoding")]),t._v(" section above.")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url1: http%3A%2F%2Ftest.com%3Ftest%3Dmy%20value")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::UnescapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Returns: http://test.com?test=my value")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url2: http://test.com?test=my%20value")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::UnescapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Returns: http://test.com?test=my value")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url3: http%3a%2f%2ftest.com%3ftest%3dmy+value")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::UnescapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Returns: http://test.com?test=my+value")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Note: There is no `[uri]::UnescapeUriString()`; ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       which makes sense since the `[uri]::UnescapeDataString()` ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       function handles everything it would handle plus more.")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HttpUtility requires at least .NET 1.1 to be installed.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url1: http%3A%2F%2Ftest.com%3Ftest%3Dmy%20value")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlDecode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Returns: http://test.com?test=my value")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HttpUtility requires at least .NET 1.1 to be installed.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url2: http://test.com?test=my%20value")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlDecode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Returns: http://test.com?test=my value")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HttpUtility requires at least .NET 1.1 to be installed.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url3: http%3a%2f%2ftest.com%3ftest%3dmy+value")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlDecode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Returns: http://test.com?test=my value")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("Note:")]),t._v(" "),a("a",{attrs:{href:"https://msdn.microsoft.com/en-us/library/system.web.httputility(v=vs.110).aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("More info on HTTPUtility"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"encode-query-string-with-uri-escapedatastring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#encode-query-string-with-uri-escapedatastring"}},[t._v("#")]),t._v(" Encode Query String with "),a("code",[t._v("[uri]::EscapeDataString()")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$scheme")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_format")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{0}://example.vertigion.com/foos?{1}'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_data")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo1'")]),t._v("="),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo2'")]),t._v("= "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'complex;/?:@&=+$, bar''\"'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'complex;/?:@&=+$, foo''\"'")]),t._v("="),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Collections.ArrayList]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_array")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GetEnumerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::EscapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::EscapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${qs_key}=${qs_value}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Out-Null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_format")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UriScheme${scheme}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_array")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-join")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("With "),a("code",[t._v("[uri]::EscapeDataString()")]),t._v(", you will notice that the apostrophe ("),a("code",[t._v("'")]),t._v(") was not encoded:")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("[https://example.vertigion.com/foos](https://example.vertigion.com/foos)?\nfoo2=complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20bar'%22&\ncomplex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20foo'%22=bar2&foo1=bar1")]),t._v(" "),a("h2",{attrs:{id:"decode-url-with-uri-unescapedatastring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#decode-url-with-uri-unescapedatastring"}},[t._v("#")]),t._v(" Decode URL with "),a("code",[t._v("[uri]::UnescapeDataString()")])]),t._v(" "),a("p",[a("strong",[t._v("Encoded with "),a("code",[t._v("[uri]::EscapeDataString()")])])]),t._v(" "),a("p",[t._v("First, we'll decode the URL and Query String encoded with "),a("code",[t._v("[uri]::EscapeDataString()")]),t._v(" in the above example:")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("[https://example.vertigion.com/foos](https://example.vertigion.com/foos)?\nfoo2=complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20bar'%22&\ncomplex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20foo'%22=bar2&foo1=bar1")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.vertigion.com/foos?foo2=complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20bar''%22&complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20foo''%22=bar2&foo1=bar1'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# See Remarks")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-match")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Scheme'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Server'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Path'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryString'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryStringParts'")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query_string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("QueryStringParts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::UnescapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::UnescapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Out-Null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Management.Automation.ParameterBindingException]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Invalid URL Supplied"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("This gives you back "),a("code",[t._v("[hashtable]$url_parts")]),t._v("; which equals ("),a("strong",[t._v("Note:")]),t._v(" the "),a("strong",[t._v("spaces")]),t._v(" in the complex parts are "),a("strong",[t._v("spaces")]),t._v("):")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PS")]),t._v(" > "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v("\n\nName                           Value\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nScheme                         https\nPath                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("foos\nServer                         example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vertigion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\nQueryString                    foo2=complex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3B"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2F"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3F"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3A"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("40"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("26"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3D"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2B"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("24"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2C"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("20bar"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%22&complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20foo'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("22=bar2&foo1=bar1\nQueryStringParts               "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("foo2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" complex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("?:@&="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\", foo1}\n\n\nPS > $url_parts.QueryStringParts\n\nName                           Value\n----                           -----\nfoo2                           complex;/?:@&=+$, bar'")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\ncomplex;/?:@&=+$, foo\'"')]),t._v("        bar2\nfoo1                           bar1\n\n")])])]),a("p",[a("strong",[t._v("Encoded with "),a("code",[t._v("[System.Web.HttpUtility]::UrlEncode()")])])]),t._v(" "),a("p",[t._v("Now, we'll decode the URL and Query String encoded with "),a("code",[t._v("[System.Web.HttpUtility]::UrlEncode()")]),t._v(" in the above example:")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("[https://example.vertigion.com/foos](https://example.vertigion.com/foos)?\nfoo2=complex%3b%2f%3f%3a%40%26%3d%2b%24%2c+bar%27%22&\ncomplex%3b%2f%3f%3a%40%26%3d%2b%24%2c+foo%27%22=bar2&foo1=bar1")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.vertigion.com/foos?foo2=complex%3b%2f%3f%3a%40%26%3d%2b%24%2c+bar%27%22&complex%3b%2f%3f%3a%40%26%3d%2b%24%2c+foo%27%22=bar2&foo1=bar1'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# See Remarks")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-match")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Scheme'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Server'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Path'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryString'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryStringParts'")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query_string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("QueryStringParts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::UnescapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[uri]")]),t._v("::UnescapeDataString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Out-Null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Management.Automation.ParameterBindingException]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Invalid URL Supplied"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("This gives you back "),a("code",[t._v("[hashtable]$url_parts")]),t._v(", which equals ("),a("strong",[t._v("Note:")]),t._v(" the "),a("strong",[t._v("spaces")]),t._v(" in the complex parts are "),a("strong",[t._v("plus signs")]),t._v(" ("),a("code",[t._v("+")]),t._v(") in the first part and "),a("strong",[t._v("spaces")]),t._v(" in the second part):")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PS")]),t._v(" > "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v("\n\nName                           Value\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nScheme                         https\nPath                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("foos\nServer                         example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vertigion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\nQueryString                    foo2=complex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("40"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("26"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("24"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2c"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("bar"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("27"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("22&complex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("40"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("26"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("24"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2c"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("foo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("27"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("22=bar2&foo1=bar1\nQueryStringParts               "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("foo2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" complex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("?:@&="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\", foo1}\n\n\nPS > $url_parts.QueryStringParts\n\nName                           Value\n----                           -----\nfoo2                           complex;/?:@&=+$, bar'")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\ncomplex;/?:@&=+$, foo\'"')]),t._v("        bar2\nfoo1                           bar1\n\n")])])]),a("h2",{attrs:{id:"decode-url-with-system-web-httputility-urldecode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#decode-url-with-system-web-httputility-urldecode"}},[t._v("#")]),t._v(" Decode URL with "),a("code",[t._v("[System.Web.HttpUtility]::UrlDecode()")])]),t._v(" "),a("p",[a("strong",[t._v("Encoded with "),a("code",[t._v("[uri]::EscapeDataString()")])])]),t._v(" "),a("p",[t._v("First, we'll decode the URL and Query String encoded with "),a("code",[t._v("[uri]::EscapeDataString()")]),t._v(" in the above example:")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("[https://example.vertigion.com/foos](https://example.vertigion.com/foos)?\nfoo2=complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20bar'%22&\ncomplex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20foo'%22=bar2&foo1=bar1")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.vertigion.com/foos?foo2=complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20bar''%22&complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20foo''%22=bar2&foo1=bar1'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# See Remarks")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-match")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Scheme'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Server'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Path'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryString'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryStringParts'")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query_string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("QueryStringParts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlDecode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlDecode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Out-Null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Management.Automation.ParameterBindingException]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Invalid URL Supplied"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("This gives you back "),a("code",[t._v("[hashtable]$url_parts")]),t._v("; which equals ("),a("strong",[t._v("Note:")]),t._v(" the "),a("strong",[t._v("spaces")]),t._v(" in the complex parts are "),a("strong",[t._v("spaces")]),t._v("):")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PS")]),t._v(" > "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v("\n\nName                           Value\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nScheme                         https\nPath                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("foos\nServer                         example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vertigion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\nQueryString                    foo2=complex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3B"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2F"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3F"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3A"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("40"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("26"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3D"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2B"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("24"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2C"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("20bar"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%22&complex%3B%2F%3F%3A%40%26%3D%2B%24%2C%20foo'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("22=bar2&foo1=bar1\nQueryStringParts               "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("foo2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" complex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("?:@&="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\", foo1}\n\n\nPS > $url_parts.QueryStringParts\n\nName                           Value\n----                           -----\nfoo2                           complex;/?:@&=+$, bar'")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\ncomplex;/?:@&=+$, foo\'"')]),t._v("        bar2\nfoo1                           bar1\n\n")])])]),a("p",[a("strong",[t._v("Encoded with "),a("code",[t._v("[System.Web.HttpUtility]::UrlEncode()")])])]),t._v(" "),a("p",[t._v("Now, we'll decode the URL and Query String encoded with "),a("code",[t._v("[System.Web.HttpUtility]::UrlEncode()")]),t._v(" in the above example:")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("[https://example.vertigion.com/foos](https://example.vertigion.com/foos)?\nfoo2=complex%3b%2f%3f%3a%40%26%3d%2b%24%2c+bar%27%22&\ncomplex%3b%2f%3f%3a%40%26%3d%2b%24%2c+foo%27%22=bar2&foo1=bar1")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.vertigion.com/foos?foo2=complex%3b%2f%3f%3a%40%26%3d%2b%24%2c+bar%27%22&complex%3b%2f%3f%3a%40%26%3d%2b%24%2c+foo%27%22=bar2&foo1=bar1'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# See Remarks")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-match")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts_regex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Scheme'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Server'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Path'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryString'")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QueryStringParts'")]),t._v(" = @"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query_string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("QueryStringParts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlDecode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Web.HttpUtility]")]),t._v("::UrlDecode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qs_value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Out-Null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[System.Management.Automation.ParameterBindingException]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Invalid URL Supplied"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("This gives you back "),a("code",[t._v("[hashtable]$url_parts")]),t._v("; which equals ("),a("strong",[t._v("Note:")]),t._v(" the "),a("strong",[t._v("spaces")]),t._v(" in the complex parts are "),a("strong",[t._v("spaces")]),t._v("):")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PS")]),t._v(" > "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url_parts")]),t._v("\n\nName                           Value\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nScheme                         https\nPath                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("foos\nServer                         example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vertigion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\nQueryString                    foo2=complex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("40"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("26"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("24"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2c"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("bar"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("27"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("22&complex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3f"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("40"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("26"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("3d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("24"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("2c"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("foo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("27"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("22=bar2&foo1=bar1\nQueryStringParts               "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("foo2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" complex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("?:@&="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\", foo1}\n\n\nPS > $url_parts.QueryStringParts\n\nName                           Value\n----                           -----\nfoo2                           complex;/?:@&=+$, bar'")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\ncomplex;/?:@&=+$, foo\'"')]),t._v("        bar2\nfoo1                           bar1\n\n")])])]),a("h4",{attrs:{id:"remarks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[t._v("#")]),t._v(" Remarks")]),t._v(" "),a("p",[t._v("The regular expression used in the "),a("strong",[t._v("Decode URL")]),t._v(" examples was taken from "),a("a",{attrs:{href:"https://www.ietf.org/rfc/rfc2396.txt",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2396, Appendix B: Parsing a URI Reference with a Regular Expression"),a("OutboundLink")],1),t._v("; for posterity, here's a quote:")]),t._v(" "),a("blockquote"),t._v(" "),a("p",[t._v("The following line is the regular expression for breaking-down a URI\nreference into its components.")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("^"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("^:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("?"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?")]),t._v("\n 12            3  4          5       6  7        8 9\n\n")])])]),a("p",[t._v("The numbers in the second line above are only to assist readability;\nthey indicate the reference points for each subexpression (i.e., each\npaired parenthesis).  We refer to the value matched for subexpression\n as $.  For example, matching the above expression to")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("http:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ics"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uci"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("edu"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ietf"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("uri"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Related")]),t._v("\n\n")])])]),a("p",[t._v("results in the following subexpression matches:")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" = http:\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v(" = http\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$3")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ics"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uci"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("edu\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$4")]),t._v(" = www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ics"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uci"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("edu\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$5")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ietf"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("uri"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$6")]),t._v(" = <undefined>\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$7")]),t._v(" = <undefined>\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$8")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Related")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$9")]),t._v(" = Related\n\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);