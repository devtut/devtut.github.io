(window.webpackJsonp=window.webpackJsonp||[]).push([[2108],{2457:function(t,e,s){"use strict";s.r(e);var a=s(19),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"error-codes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error-codes"}},[t._v("#")]),t._v(" Error codes")]),t._v(" "),s("h2",{attrs:{id:"error-code-1064-syntax-error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error-code-1064-syntax-error"}},[t._v("#")]),t._v(" Error code 1064: Syntax error")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" LastName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FirstName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" Person\n\n")])])]),s("p",[t._v("Returns message:")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("Error Code: 1064. You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from Person' at line 2.")]),t._v(" "),s("p",[t._v('Getting a "1064 error" message from MySQL means the query cannot be parsed without syntax errors. In other words it can\'t make sense of the query.')]),t._v(" "),s("p",[t._v("The quotation in the error message begins with the first character of the query that MySQL can't figure out how to parse. In this example MySQL can't make sense, in context, of  "),s("code",[t._v("from Person")]),t._v(". In this case, there's an extra comma immediately before "),s("code",[t._v("from Person")]),t._v(". The comma tells MySQL to expect another column description in the "),s("code",[t._v("SELECT")]),t._v(" clause")]),t._v(" "),s("p",[t._v("A syntax error always says "),s("code",[t._v("... near '...'")]),t._v(". The thing at the beginning of the quotes is very near where the error is. To locate an error, look at the first token in the quotes and at the last token before the quotes.")]),t._v(" "),s("p",[t._v("Sometimes you will get "),s("code",[t._v("... near ''")]),t._v("; that is, nothing in the quotes. That means the first character MySQL can't figure out is right at the end or the beginning of the statement. This suggests the query contains unbalanced quotes ("),s("code",[t._v("'")]),t._v(" or "),s("code",[t._v('"')]),t._v(") or unbalanced parentheses or that you did not terminate the statement before correctly.")]),t._v(" "),s("p",[t._v("In the case of a Stored Routine, you may have forgotten to properly use "),s("code",[t._v("DELIMITER")]),t._v(".")]),t._v(" "),s("p",[t._v("So, when you get Error 1064, look at the text of the query, and find the point mentioned in the error message. Visually inspect the text of the query right around that point.")]),t._v(" "),s("p",[t._v("If you ask somebody to help you troubleshoot Error 1064, it's best to provide both the text of the whole query and the text of the error message.")]),t._v(" "),s("h2",{attrs:{id:"error-code-1175-safe-update"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error-code-1175-safe-update"}},[t._v("#")]),t._v(" Error code 1175: Safe Update")]),t._v(" "),s("p",[t._v("This error appears while trying to update or delete records without including the "),s("code",[t._v("WHERE")]),t._v(" clause that uses the "),s("code",[t._v("KEY")]),t._v(" column.")]),t._v(" "),s("p",[t._v("To execute the delete or update anyway - type:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" SQL_SAFE_UPDATES "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("To enable the safe mode again - type:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" SQL_SAFE_UPDATES "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"error-code-1215-cannot-add-foreign-key-constraint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error-code-1215-cannot-add-foreign-key-constraint"}},[t._v("#")]),t._v(" Error code 1215: Cannot add foreign key constraint")]),t._v(" "),s("p",[t._v("This error occurs when tables are not adequately structured to handle the speedy lookup verification of Foreign Key ("),s("code",[t._v("FK")]),t._v(") requirements that the developer is mandating.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("gtType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("description"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("getTogethers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("eventDT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("datetime")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("fk_gt2type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- see Note1 below ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CONSTRAINT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("gettogethers_ibfk_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOREIGN")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REFERENCES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("gtType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Note1: a KEY like this will be created automatically if needed due to the FK definition in the line\nthat follows it. The developer can skip it, and the KEY (a.k.a. index) will be added if necessary.\nAn example of it being skipped by the developer is shown below in "),s("code",[t._v("someOther")]),t._v(".")]),t._v(" "),s("p",[t._v("So far so good, until the below call.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("someOther"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("someDT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("datetime")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CONSTRAINT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("someOther_dt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOREIGN")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("someDT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REFERENCES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("getTogethers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("eventDT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("blockquote"),t._v(" "),s("p",[t._v("Error Code: 1215. Cannot add foreign key constraint")]),t._v(" "),s("p",[t._v("In this case it fails due to the lack of an index in the "),s("strong",[t._v("referenced")]),t._v(" table "),s("code",[t._v("getTogethers")]),t._v(" to\nhandle the speedy lookup of an "),s("code",[t._v("eventDT")]),t._v(". To be solved in next statement.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("gt_eventdt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" getTogethers "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("eventDT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Table "),s("code",[t._v("getTogethers")]),t._v(" has been modified, and now the creation of "),s("code",[t._v("someOther")]),t._v(" will succeed.")]),t._v(" "),s("p",[t._v("From the MySQL Manual Page "),s("a",{attrs:{href:"https://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Using FOREIGN KEY Constraints"),s("OutboundLink")],1),t._v(":")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("MySQL requires indexes on foreign keys and referenced keys so that\nforeign key checks can be fast and not require a table scan. In the\nreferencing table, there must be an index where the foreign key\ncolumns are listed as the first columns in the same order. Such an\nindex is created on the referencing table automatically if it does not\nexist.")]),t._v(" "),s("p",[t._v("Corresponding columns in the foreign key and the referenced key must\nhave similar data types. The size and sign of integer types must be\nthe same. The length of string types need not be the same. For\nnonbinary (character) string columns, the character set and collation\nmust be the same.")]),t._v(" "),s("p",[t._v("InnoDB permits a foreign key to reference any index column or group of\ncolumns. However, in the referenced table, there must be an index\nwhere the referenced columns are listed as the first columns in the\nsame order.")]),t._v(" "),s("p",[t._v("Note that last point above about first (left-most) columns and the lack of a Primary Key requirement (though highly advised).")]),t._v(" "),s("p",[t._v("Upon successful creation of a "),s("strong",[t._v("referencing")]),t._v(" (child) table, any keys that were automatically created for you are visible with a command such as the following:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" someOther"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Other common cases of experiencing this error include, as mentioned above from the docs, but should be highlighted:")]),t._v(" "),s("li",[s("p",[t._v("Seemingly trivial differences in `INT` which is signed, pointing\ntoward `INT UNSIGNED`.")])]),t._v(" "),s("li",[t._v("\nDevelopers having trouble understanding multi-column (composite) KEYS and first (left-most) ordering requirements.\n")]),t._v(" "),s("h2",{attrs:{id:"_1067-1292-1366-1411-bad-value-for-number-date-default-etc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1067-1292-1366-1411-bad-value-for-number-date-default-etc"}},[t._v("#")]),t._v(" 1067, 1292, 1366, 1411 - Bad Value for number, date, default, etc.")]),t._v(" "),s("p",[s("strong",[t._v("1067")]),t._v(" This is probably related to "),s("code",[t._v("TIMESTAMP")]),t._v(" defaults, which have changed over time.  See "),s("code",[t._v("TIMESTAMP defaults")]),t._v(" in the Dates & Times page.  (which does not exist yet)")]),t._v(" "),s("p",[s("strong",[t._v("1292/1366 DOUBLE/Integer")]),t._v(" Check for letters or other syntax errors.  Check that the columns align; perhaps you think you are putting into a "),s("code",[t._v("VARCHAR")]),t._v(" but it is aligned with a numeric column.")]),t._v(" "),s("p",[s("strong",[t._v("1292 DATETIME")]),t._v(" Check for too far in past or future.  Check for between 2am and 3am on a morning when Daylight savings changed.  Check for bad syntax, such as "),s("code",[t._v("+00")]),t._v(" timezone stuff.")]),t._v(" "),s("p",[s("strong",[t._v("1292 VARIABLE")]),t._v(" Check the allowed values for the "),s("code",[t._v("VARIABLE")]),t._v(" you are trying to "),s("code",[t._v("SET")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("1292 LOAD DATA")]),t._v(" Look at the line that is 'bad'.  Check the escape symbols, etc.  Look at the datatypes.")]),t._v(" "),s("p",[s("strong",[t._v("1411 STR_TO_DATE")]),t._v(" Incorrectly formatted date?")]),t._v(" "),s("h2",{attrs:{id:"_1045-access-denied"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1045-access-denied"}},[t._v("#")]),t._v(" 1045 Access denied")]),t._v(" "),s("p",[t._v('See discussions in "GRANT" and "Recovering root password".')]),t._v(" "),s("h2",{attrs:{id:"_1236-impossible-position-in-replication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1236-impossible-position-in-replication"}},[t._v("#")]),t._v(' 1236 "impossible position" in Replication')]),t._v(" "),s("p",[s("strong",[t._v("Usually")]),t._v(" this means that the Master crashed and that "),s("code",[t._v("sync_binlog")]),t._v(" was OFF. The solution is to "),s("code",[t._v("CHANGE MASTER to POS=0")]),t._v(" of the next binlog file (see the Master) on the Slave.")]),t._v(" "),s("p",[t._v("The cause: The Master sends replication items to the Slave before flushing to its binlog (when "),s("code",[t._v("sync_binlog=OFF")]),t._v("). If the Master crashes before the flush, the Slave has already logically moved past the end of file on the binlog. When the Master starts up again, it starts a new binlog, so CHANGEing to the beginning of that binlog is the best available solution.")]),t._v(" "),s("p",[t._v("A longer term solution is "),s("code",[t._v("sync_binlog=ON")]),t._v(", if you can afford the extra I/O that it causes.")]),t._v(" "),s("p",[t._v("(If you are running with GTID, ...?)")]),t._v(" "),s("h2",{attrs:{id:"_2002-2003-cannot-connect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2002-2003-cannot-connect"}},[t._v("#")]),t._v(" 2002, 2003 Cannot connect")]),t._v(" "),s("p",[t._v("Check for a Firewall issue blocking port 3306.")]),t._v(" "),s("p",[t._v("Some possible diagnostics and/or solutions")]),t._v(" "),s("ul",[s("li",[t._v("Is the server actually running?")]),t._v(" "),s("li",[t._v('"service firewalld stop" and "systemctl disable firewalld"')]),t._v(" "),s("li",[t._v("telnet master 3306")]),t._v(" "),s("li",[t._v("Check the "),s("code",[t._v("bind-address")])]),t._v(" "),s("li",[t._v("check "),s("code",[t._v("skip-name-resolve")])]),t._v(" "),s("li",[t._v("check the socket.")])]),t._v(" "),s("h2",{attrs:{id:"_126-127-134-144-145"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_126-127-134-144-145"}},[t._v("#")]),t._v(" 126, 127, 134, 144, 145")]),t._v(" "),s("p",[t._v("When you try access the records from MySQL database, you may get these error messages. These error messages occurred due to corruption in MySQL database. Following are the types")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("MySQL error code "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("126")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Index")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" crashed\nMySQL error code "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Record"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" crashed\nMySQL error code "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("134")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Record was already deleted "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("or")]),t._v(" record "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),t._v(" crashed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nMySQL error code "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("144")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Table")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" crashed "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("last")]),t._v(" repair failed\nMySQL error code "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("145")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Table")]),t._v(" was marked "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" crashed "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" should be repaired\n\n")])])]),s("p",[t._v("MySQL bug, virus attack, server crash, improper shutdown, damaged table are the reason behind this corruption. When it gets corrupted, it becomes inaccessible and you cannot access them anymore. In order to get accessibility, the best way to retrieve data from an updated backup. However, if you do not have updated or any valid backup then you can go for MySQL Repair.")]),t._v(" "),s("p",[t._v("If the table engine type is "),s("code",[t._v("MyISAM")]),t._v(", apply "),s("code",[t._v("CHECK TABLE")]),t._v(", then "),s("code",[t._v("REPAIR TABLE")]),t._v(" to it.")]),t._v(" "),s("p",[t._v("Then think seriously about converting to InnoDB, so this error won't happen again.")]),t._v(" "),s("p",[s("strong",[s("strong",[t._v("Syntax")])])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHECK")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("////To check the extent of database corruption")]),t._v("\nREPAIR "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("////To repair table")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"_139"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_139"}},[t._v("#")]),t._v(" 139")]),t._v(" "),s("p",[t._v("Error 139 may mean that the number and size of the fields in the table definition exceeds some limit.  Workarounds:")]),t._v(" "),s("ul",[s("li",[t._v("Re-think the schema")]),t._v(" "),s("li",[t._v("Normalize some fields")]),t._v(" "),s("li",[t._v("Vertically partition the table")])]),t._v(" "),s("h2",{attrs:{id:"_1366"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1366"}},[t._v("#")]),t._v(" 1366")]),t._v(" "),s("p",[t._v("This usually means that the character set handling was not consistent between client and server.  See ... for further assistance.")]),t._v(" "),s("h2",{attrs:{id:"_126-1054-1146-1062-24"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_126-1054-1146-1062-24"}},[t._v("#")]),t._v(" 126, 1054, 1146, 1062, 24")]),t._v(" "),s("p",[t._v("(taking a break)  With the inclusion of those 4 error numbers, I think this page will have covered about 50% of the typical errors users get.")]),t._v(" "),s("p",[t._v("(Yes, this 'Example' needs revision.)")]),t._v(" "),s("p",[s("strong",[t._v("24 Can't open file (Too many open files)")])]),t._v(" "),s("p",[s("code",[t._v("open_files_limit")]),t._v(" comes from an OS setting.  "),s("code",[t._v("table_open_cache")]),t._v(" needs to be less than that.")]),t._v(" "),s("p",[t._v("These can cause that error:")]),t._v(" "),s("li",[t._v("\nFailure to `DEALLOCATE PREPARE` in a stored procedure.\n")]),t._v(" "),s("li",[t._v('\nPARTITIONed table(s) with a large number of partitions and innodb_file_per_table = ON.  Recommend not having more than 50 partitions in a given table (for various reasons).  (When "Native Partitions" become available, this advice may change.)\n')]),t._v(" "),s("p",[t._v("The obvious workaround is to set increase the OS limit:\nTo allow more files, change "),s("code",[t._v("ulimit")]),t._v(" or "),s("code",[t._v("/etc/security/limits.conf")]),t._v(" or in "),s("code",[t._v("sysctl.conf")]),t._v(" (kern.maxfiles & kern.maxfilesperproc) or something else (OS dependent).\nThen increase "),s("code",[t._v("open_files_limit")]),t._v(" and "),s("code",[t._v("table_open_cache")]),t._v(".")]),t._v(" "),s("p",[t._v("As of 5.6.8, "),s("code",[t._v("open_files_limit")]),t._v(" is auto-sized based on "),s("code",[t._v("max_connections")]),t._v(", but it is OK to change it from the default.")]),t._v(" "),s("p",[s("strong",[t._v("1062 - Duplicate Entry")])]),t._v(" "),s("p",[t._v("This error occur mainly because of the following two reasons")]),t._v(" "),s("li",[t._v("\n**Duplicate Value**  -  `Error Code: 1062. Duplicate entry ‘12’ for key ‘PRIMARY’`\nThe primary key column is unique and it will not accept the duplicate entry. So when you are trying to insert a new row which is already present in you table will produce this error.\n")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("To solve this, Set the primary key column as `AUTO_INCREMENT`. And\nwhen you are trying to insert a new row,  ignore the primary key\ncolumn or insert `NULL` value to primary key.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" userDetails"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  userId "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  firstName "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  lastName "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  isActive "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---\x3eand now while inserting ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" userDetails "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'John'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Doe'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("li",[t._v("\n**Unique data field** - `Error Code: 1062. Duplicate entry ‘A’ for key ‘code’`\nYou may assigned a column as unique and trying to insert a new row with already existing value for that column will produce this error.\n")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("To overcome this error, use "),s("code",[t._v("INSERT IGNORE")]),t._v(" instead of normal "),s("code",[t._v("INSERT")]),t._v(". If the new row which you are trying to insert doesn't duplicate an existing record, MySQL inserts it as usual. If the record is a duplicate, the "),s("code",[t._v("IGNORE")]),t._v(" keyword discard it without generating any error.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IGNORE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" userDetails "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'John'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Doe'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);