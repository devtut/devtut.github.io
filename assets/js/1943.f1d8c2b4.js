(window.webpackJsonp=window.webpackJsonp||[]).push([[1943],{2351:function(t,a,s){"use strict";s.r(a);var e=s(31),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vectorization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vectorization"}},[t._v("#")]),t._v(" Vectorization")]),t._v(" "),s("h2",{attrs:{id:"use-of-bsxfun"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-of-bsxfun"}},[t._v("#")]),t._v(" Use of bsxfun")]),t._v(" "),s("p",[t._v("Quite often, the reason why code has been written in a "),s("code",[t._v("for")]),t._v(" loop is to compute values from 'nearby' ones. The function "),s("code",[t._v("bsxfun")]),t._v(" can often be used to do this in a more succinct fashion.")]),t._v(" "),s("p",[t._v("For example, assume that you wish to perform a columnwise operation on the matrix "),s("code",[t._v("B")]),t._v(", subtracting the mean of each column from it:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("B "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("round")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("randn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% Generate random data ")]),t._v("\nA "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("zeros")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% Preallocate array")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" col "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% Loop over columns")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("col"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("B")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("col"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("B")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("col"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% Subtract means ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" \n\n")])])]),s("p",[t._v("This method is inefficient if "),s("code",[t._v("B")]),t._v(" is large, often due to MATLAB having to move the contents of variables around in memory. By using "),s("code",[t._v("bsxfun")]),t._v(", one can do the same job neatly and easily in just a single line:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bsxfun")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("@")]),t._v("minus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Here, "),s("code",[t._v("@minus")]),t._v(" is a "),s("a",{attrs:{href:"http://ch.mathworks.com/help/matlab/matlab_prog/creating-a-function-handle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("function handle"),s("OutboundLink")],1),t._v(" to the "),s("a",{attrs:{href:"http://ch.mathworks.com/help/matlab/ref/minus.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("minus")]),s("OutboundLink")],1),t._v(" operator ("),s("code",[t._v("-")]),t._v(") and will be applied between elements of the two matrices "),s("code",[t._v("B")]),t._v(" and "),s("code",[t._v("mean(B)")]),t._v(". Other function handles, even user-defined ones, are possible as well.")]),t._v(" "),s("p",[t._v("Next, suppose you want to add row vector "),s("code",[t._v("v")]),t._v(" to each row in matrix "),s("code",[t._v("A")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nA "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("The naive approach is use a loop ("),s("strong",[t._v("do "),s("strong",[t._v("not")]),t._v(" do this")]),t._v("):")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("B "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("zeros")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" row "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("B")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("row"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("row"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),s("p",[t._v("Another option would be to replicate "),s("code",[t._v("v")]),t._v(" with "),s("code",[t._v("repmat")]),t._v(" ("),s("strong",[t._v("do "),s("strong",[t._v("not")]),t._v(" do this either")]),t._v("):")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("repmat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nv "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" B "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n")])])]),s("p",[t._v("Instead use "),s("a",{attrs:{href:"http://uk.mathworks.com/help/matlab/ref/bsxfun.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("bsxfun")]),s("OutboundLink")],1),t._v(" for this task:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" B "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bsxfun")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("@")]),t._v("plus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nB "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"syntax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[t._v("#")]),t._v(" Syntax")]),t._v(" "),s("p",[s("code",[t._v("bsxfun(@fun, A, B)")])]),t._v(" "),s("p",[t._v("where "),s("code",[t._v("@fun")]),t._v(" is one of the "),s("a",{attrs:{href:"http://uk.mathworks.com/help/matlab/ref/bsxfun.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("supported functions"),s("OutboundLink")],1),t._v(" and the two arrays "),s("code",[t._v("A")]),t._v(" and "),s("code",[t._v("B")]),t._v(" respect the two conditions below.")]),t._v(" "),s("p",[t._v("The name "),s("code",[t._v("bsxfun")]),t._v(" helps to understand how the function works and it stands for "),s("strong",[t._v("B")]),t._v("inary "),s("strong",[t._v("FUN")]),t._v("ction with "),s("strong",[t._v("S")]),t._v("ingleton e"),s("strong",[t._v("X")]),t._v("pansion. In other words, if:")]),t._v(" "),s("ol",[s("li",[t._v("two arrays share the same dimensions except for one")]),t._v(" "),s("li",[t._v("and the discordant dimension is a singleton (i.e. has a size of "),s("code",[t._v("1")]),t._v(") in either of the two arrays")])]),t._v(" "),s("p",[t._v("then the array with the singleton dimension will be expanded to match the dimension of the other array. After the expansion, a binary function is applied elementwise on the two arrays.")]),t._v(" "),s("p",[t._v("For example, let "),s("code",[t._v("A")]),t._v(" be an "),s("code",[t._v("M")]),t._v("-by-"),s("code",[t._v("N")]),t._v("-by"),s("code",[t._v("K")]),t._v(" array and "),s("code",[t._v("B")]),t._v(" is an "),s("code",[t._v("M")]),t._v("-by-"),s("code",[t._v("N")]),t._v(" array. Firstly, their first two dimensions have corresponding sizes. Secondly, "),s("code",[t._v("A")]),t._v(" has "),s("code",[t._v("K")]),t._v(" layers while "),s("code",[t._v("B")]),t._v(" has implicitly only "),s("code",[t._v("1")]),t._v(", hence it is a singleton. All "),s("strong",[t._v("conditions")]),t._v(" are met and "),s("code",[t._v("B")]),t._v(" will be replicated to match the 3rd dimension of "),s("code",[t._v("A")]),t._v(".")]),t._v(" "),s("p",[t._v("In other languages, this is commonly referred to as "),s("strong",[t._v("broadcasting")]),t._v(" and happens automatically in Python (numpy) and Octave.")]),t._v(" "),s("p",[t._v("The function, "),s("code",[t._v("@fun")]),t._v(", must be a binary function meaning it must take exactly two inputs.")]),t._v(" "),s("h3",{attrs:{id:"remarks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[t._v("#")]),t._v(" Remarks")]),t._v(" "),s("p",[t._v("Internally, "),s("code",[t._v("bsxfun")]),t._v(" does not replicate the array and executes an efficient loop.")]),t._v(" "),s("h2",{attrs:{id:"implicit-array-expansion-broadcasting-r2016b"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#implicit-array-expansion-broadcasting-r2016b"}},[t._v("#")]),t._v(" Implicit array expansion (broadcasting) [R2016b]")]),t._v(" "),s("p",[s("strong",[t._v("MATLAB R2016b")]),t._v(" featured a generalization of its scalar expansion"),s("sup",[s("a",{attrs:{href:"https://www.mathworks.com/help/stateflow/ug/scalar-expansion-for-converting-scalars-to-nonscalars.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),s("OutboundLink")],1),t._v(","),s("a",{attrs:{href:"http://blogs.mathworks.com/loren/2006/02/22/scalar-expansion-and-more-take-2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),s("OutboundLink")],1)]),t._v(" mechanism, to also support certain element-wise operations between "),s("strong",[t._v("arrays")]),t._v(" of different sizes, as long as their dimension are compatible.\nThe operators that support implicit expansion are"),s("a",{attrs:{href:"https://www.mathworks.com/help/matlab/release-notes.html?startrelease=R2016b&endrelease=R2016b",target:"_blank",rel:"noopener noreferrer"}},[s("sup",[t._v("1")]),s("OutboundLink")],1),t._v(":")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Element-wise arithmetic operators:")]),t._v(" "),s("code",[t._v("+")]),t._v(", "),s("code",[t._v("-")]),t._v(", "),s("code",[t._v(".*")]),t._v(", "),s("code",[t._v(".^")]),t._v(", "),s("code",[t._v("./")]),t._v(", "),s("code",[t._v(".\\")]),t._v(".")]),t._v(" "),s("li",[s("strong",[t._v("Relational operators:")]),t._v(" "),s("code",[t._v("<")]),t._v(", "),s("code",[t._v("<=")]),t._v(", "),s("code",[t._v(">")]),t._v(", "),s("code",[t._v(">=")]),t._v(", "),s("code",[t._v("==")]),t._v(", "),s("code",[t._v("~=")]),t._v(".")]),t._v(" "),s("li",[s("strong",[t._v("Logical operators:")]),t._v(" "),s("code",[t._v("&")]),t._v(", "),s("code",[t._v("|")]),t._v(", "),s("code",[t._v("xor")]),t._v(".")]),t._v(" "),s("li",[s("strong",[t._v("Bit-wise functions:")]),t._v(" "),s("code",[t._v("bitand")]),t._v(", "),s("code",[t._v("bitor")]),t._v(", "),s("code",[t._v("bitxor")]),t._v(".")]),t._v(" "),s("li",[s("strong",[t._v("Elementary math functions:")]),t._v(" "),s("code",[t._v("max")]),t._v(", "),s("code",[t._v("min")]),t._v(", "),s("code",[t._v("mod")]),t._v(", "),s("code",[t._v("rem")]),t._v(", "),s("code",[t._v("hypot")]),t._v(", "),s("code",[t._v("atan2")]),t._v(", "),s("code",[t._v("atan2d")]),t._v(".")])]),t._v(" "),s("p",[t._v('The aforementioned binary operations are allowed between arrays, as long as they have "compatible sizes". Sizes are considered "compatible" when each dimension in one array is either exactly equal to the same dimension in the other array, or is equal to '),s("code",[t._v("1")]),t._v(". Note that trailing singleton (that is, of size "),s("code",[t._v("1")]),t._v(") dimensions are omitted by MATLAB, even though there's theoretically an infinite amount of them. In other words - dimensions that appear in one array and do not appear in the other, are implicitly fit for automatic expansion.")]),t._v(" "),s("p",[t._v("For example, in MATLAB versions "),s("strong",[t._v("before R2016b")]),t._v(" this would happen:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("magic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nError using  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" \nMatrix dimensions must agree"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n")])])]),s("p",[t._v("Whereas "),s("strong",[t._v("starting from R2016b")]),t._v(" the previous operation will succeed:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("magic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nans "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"examples-of-compatible-sizes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples-of-compatible-sizes"}},[t._v("#")]),t._v(" Examples of compatible sizes:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Description")]),t._v(" "),s("th",[t._v("1"),s("sup",[t._v("st")]),t._v(" Array Size")]),t._v(" "),s("th",[t._v("2"),s("sup",[t._v("nd")]),t._v(" Array Size")]),t._v(" "),s("th",[t._v("Result Size")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Vector and scalar")]),t._v(" "),s("td",[s("code",[t._v("[3x1]")])]),t._v(" "),s("td",[s("code",[t._v("[1x1]")])]),t._v(" "),s("td",[s("code",[t._v("[3x1]")])])]),t._v(" "),s("tr",[s("td",[t._v("Row and column vectors")]),t._v(" "),s("td",[s("code",[t._v("[1x3]")])]),t._v(" "),s("td",[s("code",[t._v("[2x1]")])]),t._v(" "),s("td",[s("code",[t._v("[2x3]")])])]),t._v(" "),s("tr",[s("td",[t._v("Vector and 2D matrix")]),t._v(" "),s("td",[s("code",[t._v("[1x3]")])]),t._v(" "),s("td",[s("code",[t._v("[5x3]")])]),t._v(" "),s("td",[s("code",[t._v("[5x3]")])])]),t._v(" "),s("tr",[s("td",[t._v("N-D and K-D arrays")]),t._v(" "),s("td",[s("code",[t._v("[1x3x3]")])]),t._v(" "),s("td",[s("code",[t._v("[5x3x1x4x2]")])]),t._v(" "),s("td",[s("code",[t._v("[5x3x3x4x2]")])])])])]),t._v(" "),s("h3",{attrs:{id:"examples-of-incompatible-sizes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples-of-incompatible-sizes"}},[t._v("#")]),t._v(" Examples of incompatible sizes:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Description")]),t._v(" "),s("th",[t._v("1"),s("sup",[t._v("st")]),t._v(" Array Size")]),t._v(" "),s("th",[t._v("2"),s("sup",[t._v("nd")]),t._v(" Array Size")]),t._v(" "),s("th",[t._v("Possible Workaround")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Vectors where a dimension is a multiple of the same dimension in the other array.")]),t._v(" "),s("td",[s("code",[t._v("[1x2]")])]),t._v(" "),s("td",[s("code",[t._v("[1x8]")])]),t._v(" "),s("td",[s("code",[t._v("transpose")])])]),t._v(" "),s("tr",[s("td",[t._v("Arrays with dimensions that are multiples of each other.")]),t._v(" "),s("td",[s("code",[t._v("[2x2]")])]),t._v(" "),s("td",[s("code",[t._v("[8x8]")])]),t._v(" "),s("td",[s("code",[t._v("repmat")]),t._v(", "),s("code",[t._v("reshape")])])]),t._v(" "),s("tr",[s("td",[t._v("N-D arrays that have the right amount of singleton dimensions but they're in the wrong order (#1).")]),t._v(" "),s("td",[s("code",[t._v("[2x3x4]")])]),t._v(" "),s("td",[s("code",[t._v("[2x4x3]")])]),t._v(" "),s("td",[s("code",[t._v("permute")])])]),t._v(" "),s("tr",[s("td",[t._v("N-D arrays that have the right amount of singleton dimensions but they're in the wrong order (#2).")]),t._v(" "),s("td",[s("code",[t._v("[2x3x4x5]")])]),t._v(" "),s("td",[s("code",[t._v("[5x2]")])]),t._v(" "),s("td",[s("code",[t._v("permute")])])])])]),t._v(" "),s("p",[s("strong",[t._v("IMPORTANT:")]),s("br"),t._v("\nCode relying on this convention is "),s("strong",[t._v("NOT")]),t._v(" backward-compatible with "),s("strong",[t._v("any")]),t._v(" older versions of MATLAB. Therefore, the explicit invocation of "),s("code",[t._v("bsxfun")]),s("sup",[s("a",{attrs:{href:"http://www.mathworks.com/help/matlab/ref/bsxfun.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),s("OutboundLink")],1),t._v(","),s("a",{attrs:{href:"http://stackoverflow.com/documentation/matlab/750/vectorization/3560/use-of-bsxfun#t=201609152140397001511",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),s("OutboundLink")],1)]),t._v(" (which achieves the same effect) should be used if code needs to run on older MATLAB versions. If such a concern does not exist, "),s("a",{attrs:{href:"https://www.mathworks.com/help/matlab/release-notes.html?startrelease=R2016b&endrelease=R2016b",target:"_blank",rel:"noopener noreferrer"}},[t._v("MATLAB R2016 release notes"),s("OutboundLink")],1),t._v(" encourage users to switch from "),s("code",[t._v("bsxfun")]),t._v(":")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[s("strong",[t._v("Compared to using "),s("code",[t._v("bsxfun")]),t._v(", implicit expansion offers faster speed of execution, better memory usage, and improved readability of code.")])]),t._v(" "),s("p",[t._v("Related reading:")]),t._v(" "),s("ul",[s("li",[t._v('MATLAB documentation on "'),s("a",{attrs:{href:"http://www.mathworks.com/help/matlab/matlab_prog/compatible-array-sizes-for-basic-operations.html",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("Compatible Array Sizes for Basic Operations")]),s("OutboundLink")],1),t._v('".')]),t._v(" "),s("li",[t._v("NumPy's Broadcasting"),s("sup",[s("a",{attrs:{href:"http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),s("OutboundLink")],1),t._v(","),s("a",{attrs:{href:"http://stackoverflow.com/documentation/numpy/1296/the-basics/9742/broadcasting-array-operations#t=201609152142178194547",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),s("OutboundLink")],1)]),t._v(".")]),t._v(" "),s("li",[t._v("A comparison between the "),s("a",{attrs:{href:"http://stackoverflow.com/questions/42559922/how-much-faster-is-implicit-expansion-compared-with-bsxfun",target:"_blank",rel:"noopener noreferrer"}},[t._v("speed of computing using "),s("code",[t._v("bsxfun")]),t._v(" vs. implicit array expansion"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"element-wise-operations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#element-wise-operations"}},[t._v("#")]),t._v(" Element-wise operations")]),t._v(" "),s("p",[t._v("MATLAB supports (and encourages) vectorized operations on vectors and matrices."),s("br"),t._v("\nFor example, suppose we have "),s("code",[t._v("A")]),t._v(" and "),s("code",[t._v("B")]),t._v(", two "),s("code",[t._v("n")]),t._v("-by-"),s("code",[t._v("m")]),t._v(" matrices and we want "),s("code",[t._v("C")]),t._v(" to be the element-wise product of the corresponding elements (i.e., "),s("code",[t._v("C(i,j) = A(i,j)*B(i,j)")]),t._v(").")]),t._v(" "),s("p",[t._v("The un-vectorized way, using nested loops is as follows:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("C "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("zeros")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" ii"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" jj"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("m\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ii"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ii"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("B")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ii"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),s("p",[t._v("However, the vectorized way of doing this is by using the element-wise operator "),s("code",[t._v(".*")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("C "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".*")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("ul",[s("li",[t._v("For more information on the element-wise multiplication in MATLAB see the documentation of "),s("a",{attrs:{href:"http://www.mathworks.com/help/matlab/ref/times.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("times")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("For more information about the difference between array and matrix operations see "),s("a",{attrs:{href:"http://ch.mathworks.com/help/matlab/matlab_prog/array-vs-matrix-operations.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Array vs. Matrix Operations"),s("OutboundLink")],1),t._v(" in the MATLAB documentation.")])]),t._v(" "),s("h2",{attrs:{id:"logical-masking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logical-masking"}},[t._v("#")]),t._v(" Logical Masking")]),t._v(" "),s("p",[t._v("MATLAB supports the use of logical masking in order to perform selection on a matrix without the use of for loops or if statements.")]),t._v(" "),s("p",[t._v("A logical mask is defined as a matrix composed of only "),s("code",[t._v("1")]),t._v(" and "),s("code",[t._v("0")]),t._v(".")]),t._v(" "),s("p",[t._v("For example:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("mask "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("is a logical matrix representing the identity matrix.")]),t._v(" "),s("p",[t._v("We can generate a logical mask using a predicate to query a matrix.")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nB "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("We first create a 3x3 matrix, "),s("code",[t._v("A")]),t._v(", containing the numbers 1 through 9. We then query "),s("code",[t._v("A")]),t._v(" for values that are greater than 4 and store the result in a new matrix called "),s("code",[t._v("B")]),t._v(".")]),t._v(" "),s("p",[s("code",[t._v("B")]),t._v(" is a logical matrix of the form:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("B "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),s("p",[t._v("Or "),s("code",[t._v("1")]),t._v(" when the predicate "),s("code",[t._v("A > 4")]),t._v(" was true. And "),s("code",[t._v("0")]),t._v(" when it was false.")]),t._v(" "),s("p",[t._v("We can use logical matrices to access elements of a matrix. If a logical matrix is used to select elements, indices where a "),s("code",[t._v("1")]),t._v(" appear in the logical matrix will be selected in the matrix you are selecting from.")]),t._v(" "),s("p",[t._v("Using the same "),s("code",[t._v("B")]),t._v(" from above, we could do the following:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("C "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("This would select all of the elements of "),s("code",[t._v("C")]),t._v(" where "),s("code",[t._v("B")]),t._v(" has a "),s("code",[t._v("1")]),t._v(" in that index. Those indices in "),s("code",[t._v("C")]),t._v(" are then set to "),s("code",[t._v("5")]),t._v(".")]),t._v(" "),s("p",[t._v("Our "),s("code",[t._v("C")]),t._v(" now looks like:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("C "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),s("p",[t._v("We can reduce complicated code blocks containing "),s("code",[t._v("if")]),t._v(" and "),s("code",[t._v("for")]),t._v(" by using logical masks.")]),t._v(" "),s("p",[t._v("Take the non-vectorized code:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("j")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("length")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("j")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),s("p",[t._v("This can be shortened using logical masking to the following code:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nB "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Or even shorter:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"sum-mean-prod-co"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sum-mean-prod-co"}},[t._v("#")]),t._v(" Sum, mean, prod & co")]),t._v(" "),s("p",[t._v("Given a random vector")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("if you want the sum of its elements, do "),s("strong",[t._v("NOT")]),t._v(" use a loop")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" ii "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("v")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ii"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" \n\n")])])]),s("p",[t._v("but use the vectorized capability of the "),s("a",{attrs:{href:"http://uk.mathworks.com/help/matlab/ref/sum.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("sum()")]),s("OutboundLink")],1),t._v(" function")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Functions like "),s("a",{attrs:{href:"http://uk.mathworks.com/help/matlab/ref/sum.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("sum()")]),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"http://uk.mathworks.com/help/matlab/ref/mean.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("mean()")]),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"http://uk.mathworks.com/help/matlab/ref/prod.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("prod()")]),s("OutboundLink")],1),t._v(" and others, have the ability to operate directly along rows, columns or other dimensions.")]),t._v(" "),s("p",[t._v("For instance, given a random matrix")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("the average for each "),s("strong",[t._v("column")]),t._v(" is")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("m "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("the average for each "),s("strong",[t._v("row")]),t._v(" is")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("m "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[t._v("All the functions above work only on one dimension, but what if you want to sum the whole matrix? You could use:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[t._v("But what if have an ND-array? applying "),s("code",[t._v("sum")]),t._v(" on "),s("code",[t._v("sum")]),t._v(" on "),s("code",[t._v("sum")]),t._v("... don't seem like the best option, instead use the "),s("code",[t._v(":")]),t._v(" operator to vectorize your array:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[t._v("s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[t._v("and this will result in one number which is the sum of all your array, doesn't matter how many dimensions it have.")]),t._v(" "),s("h2",{attrs:{id:"get-the-value-of-a-function-of-two-or-more-arguments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-the-value-of-a-function-of-two-or-more-arguments"}},[t._v("#")]),t._v(" Get the  value of a function  of two or more arguments")]),t._v(" "),s("p",[t._v("In many application it is necessary to compute the function of two or more arguments.")]),t._v(" "),s("p",[t._v("Traditionally, we use "),s("code",[t._v("for")]),t._v("-loops. For example, if we need to calculate the "),s("code",[t._v("f = exp(-x^2-y^2)")]),t._v(" (do not use this if you need "),s("strong",[t._v("fast simulations")]),t._v("):")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% code1")]),t._v("\nx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ny "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.25")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" nx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lenght")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" ny"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lenght")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ny"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("x")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("y")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ny"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),s("p",[t._v("But vectorized version is more elegant and faster:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% code2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ndgrid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.25")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".^")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".^")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("than we can visualize it:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("surf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("Note1")]),t._v(" - Grids: Usually, the matrix storage is organized "),s("strong",[t._v("row-by-row")]),t._v(". But in the MATLAB, it is the "),s("strong",[t._v("column-by-column")]),t._v(" storage as in FORTRAN. Thus, there are two simular functions "),s("code",[t._v("ndgrid")]),t._v(" and "),s("code",[t._v("meshgrid")]),t._v(" in MATLAB  to implement the two aforementioned models. To visualise the function in the case of "),s("code",[t._v("meshgrid")]),t._v(", we can use:")]),t._v(" "),s("div",{staticClass:"language-matlab extra-class"},[s("pre",{pre:!0,attrs:{class:"language-matlab"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("surf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("Note2")]),t._v(" - Memory consumption: Let size of "),s("code",[t._v("x")]),t._v(" or "),s("code",[t._v("y")]),t._v(" is 1000. Thus, we need to store "),s("code",[t._v("1000*1000+2*1000 ~ 1e6")]),t._v(" elements for non-vectorized "),s("strong",[s("strong",[t._v("code1")])]),t._v(".\nBut we need "),s("code",[t._v("3*(1000*1000) = 3e6")]),t._v(" elements in the case of vectorized "),s("strong",[s("strong",[t._v("code2")])]),t._v(".\nIn the 3D case (let "),s("code",[t._v("z")]),t._v(" has the same size as"),s("code",[t._v("x")]),t._v(" or "),s("code",[t._v("y")]),t._v("), memory consumption increases dramatically: "),s("code",[t._v("4*(1000*1000*1000)")]),t._v(" (~32GB for doubles) in the case of the vectorized "),s("strong",[s("strong",[t._v("code2")])]),t._v(" vs "),s("code",[t._v("~1000*1000*1000")]),t._v(" (just ~8GB) in the case of "),s("strong",[s("strong",[t._v("code1")])]),t._v(". Thus, we have to choose either the memory or speed.")])])}),[],!1,null,null,null);a.default=n.exports}}]);