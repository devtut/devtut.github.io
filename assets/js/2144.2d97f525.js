(window.webpackJsonp=window.webpackJsonp||[]).push([[2144],{2552:function(e,s,t){"use strict";t.r(s);var a=t(31),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"replication"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replication"}},[e._v("#")]),e._v(" Replication")]),e._v(" "),t("h2",{attrs:{id:"master-slave-replication-setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#master-slave-replication-setup"}},[e._v("#")]),e._v(" Master - Slave Replication Setup")]),e._v(" "),t("p",[e._v("Consider 2 MySQL Servers for replication setup, one is a Master and the other is a Slave.")]),e._v(" "),t("p",[e._v("We are going to configure the Master that it should keep a log of every action performed on it. We are going to configure the Slave server that it should look at the log on the Master and whenever changes happens in log on the Master, it should do the same thing.")]),e._v(" "),t("p",[t("strong",[t("strong",[e._v("Master Configuration")])])]),e._v(" "),t("p",[e._v("First of all, we need to create a user on the Master. This user is going to be used by Slave to create a connection with the Master.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("USER")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'user_name'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@'%'")]),e._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("BY")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'user_password'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("GRANT")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("REPLICATION")]),e._v(" SLAVE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ON")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TO")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'user_name'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@'%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nFLUSH "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("PRIVILEGES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("Change "),t("code",[e._v("user_name")]),e._v(" and "),t("code",[e._v("user_password")]),e._v(" according to your Username and Password.")]),e._v(" "),t("p",[e._v("Now "),t("code",[e._v("my.inf")]),e._v(" (my.cnf in Linux) file should be edited. Include the following lines in [mysqld] section.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\nlog"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("bin "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("log\nbinlog"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("db "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" your_database\n\n")])])]),t("p",[e._v("The first line is used to assign an ID to this MySQL server.")]),e._v(" "),t("p",[e._v("The second line tells MySQL to start writing a log in the specified log file. In Linux this can be configured like "),t("code",[e._v("log-bin = /home/mysql/logs/mysql-bin.log")]),e._v(".\nIf you are starting replication in a MySQL server in which replication has already been used, make sure this directory is empty of all replication logs.")]),e._v(" "),t("p",[e._v("The third line is used to configure the database for which we are going to write log. You should replace "),t("code",[e._v("your_database")]),e._v(" with your database name.")]),e._v(" "),t("p",[e._v("Make sure "),t("code",[e._v("skip-networking")]),e._v(" has not been enabled and restart the MySQL server(Master)")]),e._v(" "),t("p",[t("strong",[t("strong",[e._v("Slave Configuration")])])]),e._v(" "),t("p",[t("code",[e._v("my.inf")]),e._v(" file should be edited in Slave also. Include the following lines in [mysqld] section.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("\nmaster"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("host "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" master_ip_address\nmaster"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("connect")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("retry "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("60")]),e._v("\n\nmaster"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("user")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" user_name\nmaster"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("password "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" user_password\nreplicate"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("db "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" your_database\n\nrelay"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("log "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" slave"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("relay"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("log\nrelay"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("index")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" slave"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("relay"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("index")]),e._v("\n\n")])])]),t("p",[e._v("The first line is used to assign an ID to this MySQL server. This ID should be unique.")]),e._v(" "),t("p",[e._v("The second line is the I.P address of the Master server. Change this according to your Master system I.P.")]),e._v(" "),t("p",[e._v("The third line is used to set a retry limit in seconds.")]),e._v(" "),t("p",[e._v("The next two lines tell the username and password to the Slave, by using which it connect the Master.")]),e._v(" "),t("p",[e._v("Next line set the database it needs to replicate.")]),e._v(" "),t("p",[e._v("The last two lines used to assign "),t("code",[e._v("relay-log")]),e._v(" and "),t("code",[e._v("relay-log-index")]),e._v(" file names.")]),e._v(" "),t("p",[e._v("Make sure "),t("code",[e._v("skip-networking")]),e._v(" has not been enabled and restart the MySQL server(Slave)")]),e._v(" "),t("p",[t("strong",[t("strong",[e._v("Copy Data to Slave")])])]),e._v(" "),t("p",[e._v("If data is constantly being added to the Master, we will have to prevent all database access on the Master so nothing can be added. This can be achieved by run the following statement in Master.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("FLUSH "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TABLES")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("WITH")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("READ")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("LOCK")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("If no data is being added to the server, you can skip the above step.")]),e._v(" "),t("p",[e._v("We are going to take data backup of the Master by using "),t("code",[e._v("mysqldump")])]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("mysqldump your_database "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("u root "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("p "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" D:"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//Backup/backup.sql;")]),e._v("\n\n")])])]),t("p",[e._v("Change "),t("code",[e._v("your_database")]),e._v(" and backup directory according to your setup. You wll now have a file called "),t("code",[e._v("backup.sql")]),e._v(" in the given location.")]),e._v(" "),t("p",[e._v("If your database not exists in your Slave, create that by executing the following")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("DATABASE")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("`")]),e._v("your_database"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("`")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("Now we have to import backup into Slave MySQL server.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("u root "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("p your_database  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("D:"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//Backup/backup.sql")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("---\x3eChange `your_database` and backup directory according to your setup")]),e._v("\n\n")])])]),t("p",[t("strong",[t("strong",[e._v("Start Replication")])])]),e._v(" "),t("p",[e._v("To start replication, we need to find the log file name and log position in the Master. So, run the following in Master")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SHOW")]),e._v(" MASTER "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("STATUS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("This will give you an output like below")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("---------------------+----------+-------------------------------+------------------+")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("File")]),e._v("                "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Position "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Binlog_Do_DB                  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Binlog_Ignore_DB "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("---------------------+----------+-------------------------------+------------------+")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("000001")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("130")]),e._v("      "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" your_database                 "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("                  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("---------------------+----------+-------------------------------+------------------+")]),e._v("\n\n")])])]),t("p",[e._v("Then run the following in Slave")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("SLAVE STOP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nCHANGE MASTER "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TO")]),e._v(" MASTER_HOST"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'master_ip_address'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" MASTER_USER"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'user_name'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" \n   MASTER_PASSWORD"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'user_password'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" MASTER_LOG_FILE"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'mysql-bin.000001'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" MASTER_LOG_POS"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("130")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nSLAVE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("START")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("First we stop the Slave. Then we tell it exactly where to look in the Master log file.\nFor "),t("code",[e._v("MASTER_LOG_FILE")]),e._v(" name and "),t("code",[e._v("MASTER_LOG_POS")]),e._v(", use the values which we got by running "),t("code",[e._v("SHOW MASTER STATUS")]),e._v(" command on the Master.")]),e._v(" "),t("p",[e._v("You should change the I.P of the Master in "),t("code",[e._v("MASTER_HOST")]),e._v(", and change the user and password accordingly.")]),e._v(" "),t("p",[e._v("The Slave will now be waiting. The status of the Slave can be viewed by run the following")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SHOW")]),e._v(" SLAVE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("STATUS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("If you previously executed "),t("code",[e._v("FLUSH TABLES WITH READ LOCK")]),e._v(" in Master, release the tables from lock by run the following")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("UNLOCK")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TABLES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("Now the Master keep a log for every action performed on it and the Slave server look at the log on the Master. Whenever changes happens in log on the Master, Slave replicate that.")]),e._v(" "),t("h2",{attrs:{id:"replication-errors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replication-errors"}},[e._v("#")]),e._v(" Replication Errors")]),e._v(" "),t("p",[e._v("Whenever there is an error while running a query on the slave, MySQL stop replication automatically to identify the problem and fix it. This mainly because an event caused a duplicate key or a row was not found and it cannot be updated or deleted. You can skip such errors, even if this is not recommended")]),e._v(" "),t("p",[e._v("To skip just one query that is hanging the slave, use the following syntax")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SET")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("GLOBAL")]),e._v(" sql_slave_skip_counter "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("This statement skips the next N events from the master. This statement is valid only when the slave threads are not running. Otherwise, it produces an error.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("STOP SLAVE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SET")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("GLOBAL")]),e._v(" sql_slave_skip_counter"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("START")]),e._v(" SLAVE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),t("p",[e._v("In some cases this is fine. But if the statement is part of a multi-statement transaction, it becomes more complex, because skipping the error producing statement will cause the whole transaction to be skipped.")]),e._v(" "),t("p",[e._v("If you want to skip more queries which producing same error code and if you are sure that skipping those errors will not bring your slave inconsistent and you want to skip them all, you would add a line to skip that error code in your "),t("code",[e._v("my.cnf")]),e._v(".")]),e._v(" "),t("p",[e._v("For example you might want to skip all duplicate errors you might be getting")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1062")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Error "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Duplicate entry '")]),e._v("xyz"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("' for key 1'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("on")]),e._v(" query\n\n")])])]),t("p",[e._v("Then add the following to your "),t("code",[e._v("my.cnf")])]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("slave"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("skip"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("errors")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1062")]),e._v("\n\n")])])]),t("p",[e._v("You can skip also other type of errors or all error codes, but make sure that skipping those errors will not bring your slave inconsistent. The following are the syntax and examples")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[e._v("slave"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("skip"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("errors")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("err_code1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("err_code2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("all")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\nslave"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("skip"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("errors")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1062")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1053")]),e._v("\nslave"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("skip"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("errors")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("all")]),e._v("\nslave"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("skip"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("errors")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ddl_exist_errors\n\n")])])]),t("h4",{attrs:{id:"remarks"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[e._v("#")]),e._v(" Remarks")]),e._v(" "),t("p",[e._v("Replication is used to copy[Backup] data from one MySQL database server to one or more MySQL database servers.")]),e._v(" "),t("p",[t("strong",[t("strong",[e._v("Master")])]),e._v("  -- The MySQL database server, which is serving data to be copied")]),e._v(" "),t("p",[t("strong",[t("strong",[e._v("Slave")])]),e._v("  -- The MySQL database server, copies data which is served by Master")]),e._v(" "),t("p",[e._v("With MySQL, replication is asynchronous by default. This means slaves do not need to be connected permanently to receive updates from the master. For example, if your slave is switched OFF or not connected with master and you are switching slave ON or connect with Master at a later time, then it will automatically synchronize with the Master.")]),e._v(" "),t("p",[e._v("Depending on the configuration, you can replicate all databases, selected databases, or even selected tables within a database.")]),e._v(" "),t("p",[t("strong",[e._v("Replication Formats")])]),e._v(" "),t("p",[e._v("There are two core types of replication formats")]),e._v(" "),t("p",[t("strong",[e._v("Statement Based Replication (SBR)")]),e._v(" -- which replicates entire SQL statements. In this, the master writes SQL statements to the binary log. Replication of the master to the slave works by executing that SQL statements on the slave.")]),e._v(" "),t("p",[t("strong",[e._v("Row Based Replication (RBR)")]),e._v(" -- which replicates only the changed rows. In this, the master writes events to the binary log that indicate how individual table rows are changed. Replication of the master to the slave works by copying the events representing the changes to the table rows to the slave.")]),e._v(" "),t("p",[e._v("You can also use a third variety, "),t("strong",[e._v("Mixed Based Replication (MBR)")]),e._v(". In this, both statement-based and row-based logging is used. Log will be created depending on which is most appropriate for the change.")]),e._v(" "),t("p",[e._v("Statement-based format was the default in MySQL versions older than 5.7.7. In MySQL 5.7.7 and later, row-based format is the default.")])])}),[],!1,null,null,null);s.default=r.exports}}]);