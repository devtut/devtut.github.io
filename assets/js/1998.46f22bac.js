(window.webpackJsonp=window.webpackJsonp||[]).push([[1998],{2406:function(a,s,t){"use strict";t.r(s);var e=t(31),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"drop-keyword"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop-keyword"}},[a._v("#")]),a._v(" Drop Keyword")]),a._v(" "),t("p",[a._v("The Drop keyword can be used with various SQL objects, this topic provides quick examples of different usage with database objects.")]),a._v(" "),t("h2",{attrs:{id:"drop-temporary-tables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop-temporary-tables"}},[a._v("#")]),a._v(" Drop temporary tables")]),a._v(" "),t("p",[a._v("In SQL server we have 2 types of temporary tables:")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("##GlobalTempTable")]),a._v(" is a type of temporary table that is sheered between all user's sessions.")]),a._v(" "),t("li",[t("code",[a._v("#LocalTempTable")]),a._v(" temp tab - it is a type of temporary table that only exists in current scope (only in actual process - you can get id of your current process by "),t("code",[a._v("SELECT @@SPID")]),a._v(")")])]),a._v(" "),t("p",[a._v("Droping process of temporary tables is the same as for normal table:")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" database_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" schema_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" schema_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" table_name   \n\n")])])]),t("blockquote"),a._v(" "),t("p",[a._v("BEFORE SQL Server 2016:")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("OBJECT_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'tempdb..#TempTable'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("is")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("not")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#TempTable;")]),a._v("\n\n")])])]),t("blockquote"),a._v(" "),t("p",[a._v("SQL Server 2016:")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXISTS")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#TempTable")]),a._v("\n\n")])])]),t("h2",{attrs:{id:"drop-tables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop-tables"}},[a._v("#")]),a._v(" Drop tables")]),a._v(" "),t("p",[a._v("The "),t("strong",[a._v("DROP TABLE")]),a._v(" command remove the table definitions and all data, indexes, triggers, constraints and related permissions.")]),a._v(" "),t("p",[a._v("Before you drop a table, you should check if there are any object (views, stored procedures, other tables) that reference the table.")]),a._v(" "),t("p",[a._v("You cannot drop a table referenced by another table by FOREIGN KEY. You must first drop the FOREIGN KEY referencing it.")]),a._v(" "),t("p",[a._v("You can drop a table referenced by a view or stored procedure, but after dropping the table, the view or stored procedure is no longer usable.")]),a._v(" "),t("p",[a._v("The Syntax")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXISTS")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" database_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" schema_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" schema_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\ntable_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n")])])]),t("ul",[t("li",[t("code",[a._v("IF EXISTS")]),a._v(" - Drop the table only if exists")]),a._v(" "),t("li",[t("code",[a._v("database_name")]),a._v(" - Specify the name of the database where the table is contained")]),a._v(" "),t("li",[t("code",[a._v("schema_name")]),a._v(" - Specify the name of the schema where the table is under")]),a._v(" "),t("li",[t("code",[a._v("table_name")]),a._v(" - Specify the name of the table to be dropped")])]),a._v(" "),t("p",[t("strong",[a._v("Examples")])]),a._v(" "),t("p",[a._v("Remove the table with name "),t("strong",[a._v("TABLE_1")]),a._v(" from current database and default schema dbo")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" Table_1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])])]),t("p",[a._v("Remove the table with "),t("strong",[a._v("TABLE_1")]),a._v(" from database "),t("strong",[a._v("HR")]),a._v(" and default schema dbo")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" HR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Table_1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])])]),t("p",[a._v("Remove the table with "),t("strong",[a._v("TABLE_1")]),a._v(" from database "),t("strong",[a._v("HR")]),a._v(" and schema "),t("strong",[a._v("external")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" HR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("external"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("TABLE_1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])])]),t("h2",{attrs:{id:"drop-databases"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop-databases"}},[a._v("#")]),a._v(" Drop Databases")]),a._v(" "),t("p",[a._v("The "),t("strong",[a._v("DROP DATABASE")]),a._v(" command removes a database catalog, regardless of its state (offline, read-only, suspect, etc.), from the current SQL Server instance.")]),a._v(" "),t("p",[a._v("A database cannot be dropped if there are any database snapshots associated with it, as the database snapshots must be dropped first.")]),a._v(" "),t("p",[a._v("A database drop removes all of the physical disk files (unless it's offline) used by the database unless you use the Stored Procedure 'sp_detach_db'.")]),a._v(" "),t("p",[a._v("A database snapshot drop deletes the snapshot from the SQL Server instance and deletes the physical files also used by it.")]),a._v(" "),t("p",[a._v("A dropped database can only be re-created by restoring a backup (not from a database snapshot either).")]),a._v(" "),t("p",[a._v("The Syntax")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXISTS")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" { database_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" database_snapshot_name } "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("  \n\n")])])]),t("ul",[t("li",[t("code",[a._v("IF EXISTS")]),a._v(" - Drop the table only if exists")]),a._v(" "),t("li",[t("code",[a._v("database_name")]),a._v(" - Specifies the name of the database to drop")]),a._v(" "),t("li",[t("code",[a._v("database_snapshot_name")]),a._v(" - Specifies the database snapshot to remove")]),a._v(" "),t("li")]),a._v(" "),t("p",[t("strong",[a._v("Examples")])]),a._v(" "),t("p",[a._v("Remove a single database;")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" Database1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])])]),t("p",[a._v("Removing multiple databases")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" Database1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" Database2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])])]),t("p",[a._v("Removing a snapshot")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" Database1_snapshot17"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])])]),t("p",[a._v("Removing if database exists")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXISTS")]),a._v(" Database1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])])]),t("h4",{attrs:{id:"remarks"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[a._v("#")]),a._v(" Remarks")]),a._v(" "),t("p",[a._v("Links to MSDN.")]),a._v(" "),t("li",[a._v("\n[DROP TABLE (Transact-SQL)](https://msdn.microsoft.com/en-us/library/ms173790.aspx)\n")]),a._v(" "),t("li",[a._v("\n[DROP PROCEDURE (Transact-SQL)](https://msdn.microsoft.com/en-us/library/ms174969.aspx)\n")]),a._v(" "),t("li",[a._v("\n[DROP DATABASE (Transact-SQL)](https://msdn.microsoft.com/en-us/library/ms178613.aspx)\n")])])}),[],!1,null,null,null);s.default=n.exports}}]);