(window.webpackJsonp=window.webpackJsonp||[]).push([[2853],{3198:function(t,a,s){"use strict";s.r(a);var e=s(19),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"arima-models"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#arima-models"}},[t._v("#")]),t._v(" Arima Models")]),t._v(" "),s("h2",{attrs:{id:"modeling-an-ar1-process-with-arima"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modeling-an-ar1-process-with-arima"}},[t._v("#")]),t._v(" Modeling an AR1 Process with Arima")]),t._v(" "),s("p",[t._v("We will model the process")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://i.stack.imgur.com/GBusJ.gif",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://i.stack.imgur.com/GBusJ.gif",alt:"Example AR1 process"}}),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-r extra-class"},[s("pre",{pre:!0,attrs:{class:"language-r"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Load the forecast package")]),t._v("\nlibrary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forecast"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Generate an AR1 process of length n (from Cowpertwait & Meltcalfe)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set up variables")]),t._v("\nset.seed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\nx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" matrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nw "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" rnorm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# loop to create x")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nplot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'l'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[s("a",{attrs:{href:"http://i.stack.imgur.com/KNT5j.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://i.stack.imgur.com/KNT5j.png",alt:"Example Arima Process"}}),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("We will fit an Arima model with autoregressive order 1, 0 degrees of differencing, and an MA order of 0.")]),t._v(" "),s("div",{staticClass:"language-r extra-class"},[s("pre",{pre:!0,attrs:{class:"language-r"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Fit an AR1 model using Arima")]),t._v("\nfit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" Arima"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsummary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Series: x ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ARIMA(1,0,0) with non-zero mean ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Coefficients:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#          ar1  intercept")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       0.7040    -0.0842")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# s.e.  0.0224     0.1062")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sigma^2 estimated as 0.9923:  log likelihood=-1415.39")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# AIC=2836.79   AICc=2836.81   BIC=2851.51")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Training set error measures:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#                         ME      RMSE       MAE MPE MAPE    MASE       ACF1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Training set -8.369365e-05 0.9961194 0.7835914 Inf  Inf 0.91488 0.02263595")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Verify that the model captured the true AR parameter")]),t._v("\n\n")])])]),s("p",[t._v("Notice that our coefficient is close to the true value from the generated data")]),t._v(" "),s("div",{staticClass:"language-r extra-class"},[s("pre",{pre:!0,attrs:{class:"language-r"}},[s("code",[t._v("fit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("coef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       ar1 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 0.7040085 ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Verify that the model eliminates the autocorrelation")]),t._v("\nacf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[s("a",{attrs:{href:"http://i.stack.imgur.com/mlNO4.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://i.stack.imgur.com/mlNO4.png",alt:"ACF process of x"}}),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-r extra-class"},[s("pre",{pre:!0,attrs:{class:"language-r"}},[s("code",[t._v("acf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("resid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[s("a",{attrs:{href:"http://i.stack.imgur.com/CggZ8.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://i.stack.imgur.com/CggZ8.png",alt:"ACF of the ARIMA residual"}}),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n\n#Forecast 10 periods\nfcst <- forecast(fit, h = 100)\nfcst\n     Point Forecast      Lo 80    Hi 80     Lo 95    Hi 95\n1001    0.282529070 -0.9940493 1.559107 -1.669829 2.234887\n1002    0.173976408 -1.3872262 1.735179 -2.213677 2.561630\n1003    0.097554408 -1.5869850 1.782094 -2.478726 2.673835\n1004    0.043752667 -1.6986831 1.786188 -2.621073 2.708578\n1005    0.005875783 -1.7645535 1.776305 -2.701762 2.713514\n...\n\n#Call the point predictions\nfcst$mean\n# Time Series:\n# Start = 1001 \n# End = 1100 \n# Frequency = 1 \n  [1]  0.282529070  0.173976408  0.097554408  0.043752667  0.005875783 -0.020789866 -0.039562711 -0.052778954\n  [9] -0.062083302\n...\n\n#Plot the forecast\nplot(fcst)\n\n")])])]),s("p",[s("a",{attrs:{href:"http://i.stack.imgur.com/iI594.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://i.stack.imgur.com/iI594.png",alt:"enter image description here"}}),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"remarks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[t._v("#")]),t._v(" Remarks")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("Arima")]),t._v(" function in the forecast package is more explicit in how it deals with constants, which may make it easier for some users relative to the "),s("code",[t._v("arima")]),t._v(" function in base R.")]),t._v(" "),s("p",[t._v("ARIMA is a general framework for modeling and making predictions from time series data using (primarily) the series itself. The purpose of the framework is to differentiate short- and long-term dynamics in a series to improve the accuracy and certainty of forecasts. More poetically, ARIMA models provide a method for describing how shocks to a system transmit through time.")]),t._v(" "),s("p",[t._v("From an econometric perspective, ARIMA elements are necessary to correct serial correlation and ensure stationarity.")])])}),[],!1,null,null,null);a.default=n.exports}}]);