(window.webpackJsonp=window.webpackJsonp||[]).push([[3182],{3591:function(t,s,a){"use strict";a.r(s);var e=a(31),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"routing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#routing"}},[t._v("#")]),t._v(" Routing")]),t._v(" "),a("h2",{attrs:{id:"resource-routing-basic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource-routing-basic"}},[t._v("#")]),t._v(" Resource Routing (Basic)")]),t._v(" "),a("p",[t._v("Routes are defined in "),a("code",[t._v("config/routes.rb")]),t._v(". They are often defined as a group of related routes, using the "),a("a",{attrs:{href:"http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Resources.html#method-i-resources",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("resources")]),a("OutboundLink")],1),t._v(" or "),a("a",{attrs:{href:"http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Resources.html#method-i-resource",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("resource")]),a("OutboundLink")],1),t._v(" methods.")]),t._v(" "),a("p",[a("code",[t._v("resources :users")]),t._v(" creates the following seven routes, all mapping to actions of "),a("code",[t._v("UsersController")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users#index'")]),t._v("\npost      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users#create'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users/new'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users#new'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users/:id/edit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users#edit'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users#show'")]),t._v("\npatch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("put "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users#update'")]),t._v("\ndelete    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users#destroy'")]),t._v("\n\n")])])]),a("p",[t._v("Action names are shown after the "),a("code",[t._v("#")]),t._v(" in the "),a("code",[t._v("to")]),t._v(" parameter above. Methods with those same names must be defined in "),a("code",[t._v("app/controllers/users_controller.rb")]),t._v(" as follows:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UsersController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ApplicationController")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("index")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# continue with all the other methods…")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("You can limit the actions that gets generated with "),a("code",[t._v("only")]),t._v(" or "),a("code",[t._v("except")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":users")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" only"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nresources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":users")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" except"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),a("p",[t._v("You can view all the routes of your application at any given time by running:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("$ rake routes\n\n")])])]),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("$ rake routes\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR")]),t._v("\n$ rails routes\n\n")])])]),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("users     "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#index")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#create")]),t._v("\nnew_user  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#new")]),t._v("\nedit_user "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("edit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#edit")]),t._v("\nuser      "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#show")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PATCH")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#update")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUT")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#update")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DELETE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      users"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#destroy")]),t._v("\n\n")])])]),a("p",[t._v("To see only the routes that map to a particular controller:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("$ rake routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c static_pages\nstatic_pages_home    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static_pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    static_pages"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#home")]),t._v("\nstatic_pages_help    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static_pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    static_pages"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#help")]),t._v("\n\n")])])]),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("$ rake routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c static_pages\nstatic_pages_home    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static_pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    static_pages"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#home")]),t._v("\nstatic_pages_help    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static_pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    static_pages"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#help")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR")]),t._v("\n\n$ rails routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c static_pages\nstatic_pages_home    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static_pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    static_pages"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#home")]),t._v("\nstatic_pages_help    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static_pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    static_pages"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#help")]),t._v("\n\n")])])]),a("p",[t._v("You can search through routes using the "),a("code",[t._v("-g")]),t._v(" option. This shows any route that partially matches the helper method name, the URL path or the HTTP verb:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("$ rake routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g new_user     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Matches helper method")]),t._v("\n$ rake routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Matches HTTP Verb POST ")]),t._v("\n\n")])])]),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("$ rake routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g new_user     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Matches helper method")]),t._v("\n$ rake routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Matches HTTP Verb POST ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR")]),t._v("\n$ rails routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g new_user    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Matches helper method")]),t._v("\n$ rails routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Matches HTTP Verb POST ")]),t._v("\n\n")])])]),a("p",[t._v("Additionally, when running "),a("code",[t._v("rails")]),t._v(" server in development mode, you can access a web page that shows all your routes with a search filter, matched in priority from top to bottom,  at "),a("code",[t._v("<hostname>/rails/info/routes")]),t._v(". It will look like this:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Helper")]),t._v(" "),a("th",[t._v("HTTP Verb")]),t._v(" "),a("th",[t._v("Path")]),t._v(" "),a("th",[t._v("Controller#Action")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Path / Url")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("[ Path Match ]")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("users_path")]),t._v(" "),a("td",[t._v("GET")]),t._v(" "),a("td",[t._v("/users(.:format)")]),t._v(" "),a("td",[t._v("users#index")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("POST")]),t._v(" "),a("td",[t._v("/users(.:format)")]),t._v(" "),a("td",[t._v("users#create")])]),t._v(" "),a("tr",[a("td",[t._v("new_user_path")]),t._v(" "),a("td",[t._v("GET")]),t._v(" "),a("td",[t._v("/users/new(.:format)")]),t._v(" "),a("td",[t._v("users#new")])]),t._v(" "),a("tr",[a("td",[t._v("edit_user_path")]),t._v(" "),a("td",[t._v("GET")]),t._v(" "),a("td",[t._v("/users/:id/edit(.:format)")]),t._v(" "),a("td",[t._v("users#edit")])]),t._v(" "),a("tr",[a("td",[t._v("user_path")]),t._v(" "),a("td",[t._v("GET")]),t._v(" "),a("td",[t._v("/users/:id(.:format)")]),t._v(" "),a("td",[t._v("users#show")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("PATCH")]),t._v(" "),a("td",[t._v("/users/:id(.:format)")]),t._v(" "),a("td",[t._v("users#update")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("PUT")]),t._v(" "),a("td",[t._v("/users/:id(.:format)")]),t._v(" "),a("td",[t._v("users#update")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("DELETE")]),t._v(" "),a("td",[t._v("/users/:id(.:format)")]),t._v(" "),a("td",[t._v("users#destroy")])])])]),t._v(" "),a("p",[t._v("Routes can be declared available for only members (not collections) using the method "),a("code",[t._v("resource")]),t._v(" instead of "),a("code",[t._v("resources")]),t._v(" in "),a("code",[t._v("routes.rb")]),t._v(". With "),a("code",[t._v("resource")]),t._v(", an "),a("code",[t._v("index")]),t._v(" route is not created by default, but only when explicitly asking for one like this:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resource "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":orders")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" only"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"constraints"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#constraints"}},[t._v("#")]),t._v(" Constraints")]),t._v(" "),a("p",[t._v("You can filter what routes are available using constraints.")]),t._v(" "),a("p",[t._v("There are several ways to use constraints including:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://guides.rubyonrails.org/routing.html#segment-constraints",target:"_blank",rel:"noopener noreferrer"}},[t._v("segment constraints"),a("OutboundLink")],1),t._v(",")]),t._v(" "),a("li",[a("a",{attrs:{href:"http://guides.rubyonrails.org/routing.html#request-based-constraints",target:"_blank",rel:"noopener noreferrer"}},[t._v("request based constraints"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://guides.rubyonrails.org/routing.html#advanced-constraints",target:"_blank",rel:"noopener noreferrer"}},[t._v("advanced constraints"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("For example, a requested based constraint to only allow a specific IP address to access a route:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("constraints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/127\\.0\\.0\\.1$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'route'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"controller#action"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[a("a",{attrs:{href:"http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Scoping.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("See other similar examples ActionDispatch::Routing::Mapper::Scoping"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("If you want to do something more complex you can use more advanced constraints and create a class to wrap the logic:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# lib/api_version_constraint.rb")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApiVersionConstraint")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@version")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" version\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" default\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("version_header")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/vnd.my-app.v'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("#{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@version")]),a("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("}")])]),t._v('"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("matches")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Accept"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version_header"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# config/routes.rb")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api_version_constraint"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Rails")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  namespace "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":v1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constraints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ApiVersionConstraint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":users")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Will route to app/controllers/v1/users_controller.rb")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n  namespace "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":v2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constraints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ApiVersionConstraint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":users")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Will route to app/controllers/v2/users_controller.rb")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("One form, several submit buttons")])]),t._v(" "),a("p",[t._v('You can also use the value of the submit tags of a form as a constraint to route to a different action. If you have a form with multiple submit buttons (eg "preview" and "submit"), you could capture this constraint directly in your '),a("code",[t._v("routes.rb")]),t._v(", instead of writing javascript to change the form destination URL. For example with the "),a("a",{attrs:{href:"https://github.com/siliconsenthil/commit_param_routing",target:"_blank",rel:"noopener noreferrer"}},[t._v("commit_param_routing"),a("OutboundLink")],1),t._v(" gem you can take advantage of rails "),a("code",[t._v("submit_tag")])]),t._v(" "),a("p",[t._v("Rails "),a("code",[t._v("submit_tag")]),t._v(" first parameter lets you change the value of your form commit parameter")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# app/views/orders/mass_order.html.erb")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("%= form_for(@orders, url: mass_create_order_path do |f| %>\n    \x3c!-- Big form here --\x3e\n  <%=")]),t._v(" submit_tag "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Preview"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('%>\n  <%= submit_tag "Submit" %>')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# => <input name="commit" type="submit" value="Preview" />')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# => <input name="commit" type="submit" value="Submit" />')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# config/routes.rb")]),t._v("\nresources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":orders")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Both routes below describe the same POST URL, but route to different actions ")]),t._v("\n  post "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mass_order'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":collection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" as"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mass_order'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    constraints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CommitParamRouting")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Submit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mass_create'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# when the user presses "submit"')]),t._v("\n  post "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mass_order'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":collection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    constraints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CommitParamRouting")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Preview'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mass_create_preview'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# when the user presses "preview"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Note the `as:` is defined only once, since the path helper is mass_create_order_path for the form url")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CommitParamRouting is just a class like ApiVersionContraint")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"scoping-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scoping-routes"}},[t._v("#")]),t._v(" Scoping routes")]),t._v(" "),a("p",[t._v("Rails provides several ways to organize your routes.")]),t._v(" "),a("p",[a("strong",[t._v("Scope by URL")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("scope "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dashboard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'administration#dashboard'")]),t._v("\n  resources "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'employees'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("This generates the following routes")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/dashboard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'administration#dashboard'")]),t._v("\npost      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/employees'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'employees#create'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/employees/new'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'employees#new'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/employees/:id/edit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'employees#edit'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/employees/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'employees#show'")]),t._v("\npatch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("put "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/employees/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'employees#update'")]),t._v("\ndelete    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/employees/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'employees#destroy'")]),t._v("\n\n")])])]),a("p",[t._v("It may make more sense, on the server side, to keep some views in a different subfolder, to separate admin views from user views.")]),t._v(" "),a("p",[a("strong",[t._v("Scope by module")])]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("scope "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":admin")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dashboard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'administration#dashboard'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[a("code",[t._v("module")]),t._v(" looks for the controller files under the subfolder of the given name")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dashboard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin/administration#dashboard'")]),t._v("\n\n")])])]),a("p",[t._v("You can rename the path helpers prefix by adding an "),a("code",[t._v("as")]),t._v(" parameter")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("scope "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" as"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":administration")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dashboard'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# => administration_dashboard_path")]),t._v("\n\n")])])]),a("p",[t._v("Rails provides a convenient way to do all the above, using the "),a("code",[t._v("namespace")]),t._v(" method. The following declarations are equivalent")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("namespace "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":admin")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\nscope "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":admin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" as"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":admin")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("Scope by controller")])]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("scope controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":management")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dashboard'")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'performance'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("This generate these routes")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dashboard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'management#dashboard'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/performance'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'management#performance'")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("Shallow Nesting")])]),t._v(" "),a("p",[t._v("Resource routes accept a "),a("code",[t._v(":shallow")]),t._v(" option that helps to shorten URLs where possible. Resources shouldn't be nested more than one level deep. One way to avoid this is by creating shallow routes. The goal is to leave off parent collection URL segments where they are not needed. The end result is that the only nested routes generated are for the "),a("code",[t._v(":index")]),t._v(" , "),a("code",[t._v(":create")]),t._v(" , and "),a("code",[t._v(":new")]),t._v(" actions. The rest are kept in their own shallow URL context. There are two options for scope to custom shallow routes:")]),t._v(" "),a("li",[t._v("\n**:shallow_path**: Prefixes member paths with a specified parameter\n"),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("scope shallow_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sekret"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":articles")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":comments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shallow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])])]),t._v(" "),a("li",[t._v("\n**:shallow_prefix**: Add specified parameters to named helpers\n"),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("scope shallow_prefix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sekret"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":articles")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":comments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shallow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])])]),t._v(" "),a("p",[t._v("We can also illustrate "),a("code",[t._v("shallow")]),t._v(" routes more by:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":auctions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shallow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":bids")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n   resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":comments")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" \n\n")])])]),a("p",[t._v("alternatively coded as follows (if you’re block-happy):")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":auctions")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n shallow "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n   resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":bids")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n     resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":comments")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("The resulting routes are:")]),t._v(" "),a("th",{attrs:{align:"left"}},[t._v("Prefix")]),a("th",{attrs:{align:"left"}},[t._v("Verb")]),a("th",{attrs:{align:"left"}},[t._v("URI Pattern")]),t._v("\n|---|---|---|---|---|---|---|---|---|---\n"),a("td",{attrs:{align:"left"}},[t._v("bid_comments")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:bid_id/comments(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("POST")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:bid_id/comments(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("new_bid_comment")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:bid_id/comments/new(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("edit_comment")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/comments/:id/edit(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("comment")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/comments/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("PATCH")]),a("td",{attrs:{align:"left"}},[t._v("/comments/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("PUT")]),a("td",{attrs:{align:"left"}},[t._v("/comments/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("DELETE")]),a("td",{attrs:{align:"left"}},[t._v("/comments/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("auction_bids")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:auction_id/bids(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("POST")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:auction_id/bids(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("new_auction_bid")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:auction_id/bids/new(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("edit_bid")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:id/edit(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("bid")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("PATCH")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("PUT")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("DELETE")]),a("td",{attrs:{align:"left"}},[t._v("/bids/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("auctions")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/auctions(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("POST")]),a("td",{attrs:{align:"left"}},[t._v("/auctions(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("new_auction")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/new(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("edit_auction")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:id/edit(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}},[t._v("auction")]),a("td",{attrs:{align:"left"}},[t._v("GET")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("PATCH")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("PUT")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:id(.:format)")]),t._v(" "),a("td",{attrs:{align:"left"}}),a("td",{attrs:{align:"left"}},[t._v("DELETE")]),a("td",{attrs:{align:"left"}},[t._v("/auctions/:id(.:format)")]),t._v(" "),a("p",[t._v("If you analyze the routes generated carefully, you’ll notice that the nested parts of the URL are only included when they are needed to determine what data to display.")]),t._v(" "),a("h2",{attrs:{id:"concerns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#concerns"}},[t._v("#")]),t._v(" Concerns")]),t._v(" "),a("p",[t._v("To avoid repetition in nested routes, concerns provide a great way of sharing common resources that are reusable. To create a concern use the method "),a("code",[t._v("concern")]),t._v(" within the "),a("code",[t._v("routes.rb")]),t._v(" file.  The method expects a symbol and block:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("concern "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":commentable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":comments")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("While not creating any routes itself, this code allows using the "),a("code",[t._v(":concerns")]),t._v(" attribute on a resource.  The simplest example would be:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resource "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":page")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" concerns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":commentable")]),t._v("\n\n")])])]),a("p",[t._v("The equivalent nested resource would look like this:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resource "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":page")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  resource "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":comments")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("This would build, for example, the following routes:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/pages/")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#{page_id}/comments")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/pages/")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#{page_id}/comments/#{comment_id}")]),t._v("\n\n")])])]),a("p",[t._v("For concerns to be meaningful, there must be multiple resources that utilize the concern.  Additional resources could use any of the following syntax to call the concern:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resource "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" concerns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("%i(commentable)")]),t._v("\nresource "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":blog")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  concerns "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":commentable")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"root-route"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#root-route"}},[t._v("#")]),t._v(" Root route")]),t._v(" "),a("p",[t._v("You can add a home page route to your app with the "),a("code",[t._v("root")]),t._v(" method.")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# config/routes.rb")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Rails")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  root "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application#index"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# equivalent to:")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# get "/", "application#index"  ')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# app/controllers/application_controller.rb")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ActionController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Base")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token method-definition"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("index")])]),t._v("\n    render "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"homepage"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("And in terminal, "),a("code",[t._v("rake routes")]),t._v(" ("),a("code",[t._v("rails routes")]),t._v(" in Rails 5) will produce:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("root     "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("         application"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#index")]),t._v("\n\n")])])]),a("p",[t._v("Because the homepage is usually the most important route, and routes are prioritized in the order they appear, the "),a("code",[t._v("root")]),t._v(" route should usually be the first in your routes file.")]),t._v(" "),a("h2",{attrs:{id:"additional-restful-actions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#additional-restful-actions"}},[t._v("#")]),t._v(" Additional RESTful actions")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/photos/:id/preview'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'photos#preview'")]),t._v("\nget       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/photos/dashboards'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("           to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'photos#dashboard'")]),t._v("\n\n")])])]),a("p",[t._v("If you want to do this for single lines, you can use:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/photos/new/preview'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'photos#preview'")]),t._v("\n\n")])])]),a("p",[t._v("Be mindful when adding actions to your RESTful routes, probably you are missing another resource!")]),t._v(" "),a("h2",{attrs:{id:"split-routes-into-multiple-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#split-routes-into-multiple-files"}},[t._v("#")]),t._v(" Split routes into multiple files")]),t._v(" "),a("p",[t._v("If your routes file is overwhelmingly big, you can put your routes in multiple files and include each of the files with Ruby’s "),a("a",{attrs:{href:"http://apidock.com/ruby/Kernel/require_relative",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("require_relative")]),a("OutboundLink")],1),t._v(" method:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("YourAppName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  require_relative "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'routes/admin_routes'")]),t._v("\n  require_relative "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'routes/sidekiq_routes'")]),t._v("\n  require_relative "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'routes/api_routes'")]),t._v("\n  require_relative "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'routes/your_app_routes'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("YourAppName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  namespace "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":api")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"member-and-collection-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#member-and-collection-routes"}},[t._v("#")]),t._v(" Member and Collection Routes")]),t._v(" "),a("p",[t._v("Defining a member block inside a resource creates a route that can act on an individual member of that resource-based route:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":posts")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  member "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'preview'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("This generates the following member route:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/posts/:id/preview'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'posts#preview'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# preview_post_path")]),t._v("\n\n")])])]),a("p",[t._v("Collection routes allow for creating routes that can act on a collection of resource objects:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":posts")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  collection "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'search'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("This generates the following collection route:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/posts/search'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'posts#search'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# search_posts_path")]),t._v("\n\n")])])]),a("p",[t._v("An alternate syntax:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":posts")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'preview'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":member")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'search'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":collection")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"redirection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirection"}},[t._v("#")]),t._v(" Redirection")]),t._v(" "),a("p",[t._v("You can perform redirection in Rails routes as follows:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/stories'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("match "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/abc"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://example.com/abc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("You can also redirect all unknown routes to a given path:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("match "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*path'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" via"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":get")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or")]),t._v("\nget "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*path'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("match "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*path'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"mount-another-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mount-another-application"}},[t._v("#")]),t._v(" Mount another application")]),t._v(" "),a("p",[t._v("mount is used to mount another application (basically rack application) or rails engines to be used within the current application")]),t._v(" "),a("p",[a("strong",[t._v("syntax:")])]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("mount "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SomeRackApp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" at"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some_route"')]),t._v("\n\n")])])]),a("p",[t._v("Now you can access above mounted application using route helper "),a("code",[t._v("some_rack_app_path")]),t._v(" or "),a("code",[t._v("some_rack_app_url")]),t._v(".")]),t._v(" "),a("p",[t._v("But if you want to rename this helper name you can do it as:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("mount "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SomeRackApp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" at"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some_route"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" as"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":myapp")]),t._v("\n\n")])])]),a("p",[t._v("This will generate the "),a("code",[t._v("myapp_path")]),t._v(" and "),a("code",[t._v("myapp_url")]),t._v(" helpers which can be used to navigate to this mounted app.")]),t._v(" "),a("h2",{attrs:{id:"nested-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nested-routes"}},[t._v("#")]),t._v(" Nested Routes")]),t._v(" "),a("p",[t._v("If you want to add nested routes you can write the following code in "),a("code",[t._v("routes.rb")]),t._v(" file.")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":admins")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  resources "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":employees")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("This will generate following routes:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\n    admin_employees GET      /admins/:admin_id/employees(.:format)            employees#index\n                     POST     /admins/:admin_id/employees(.:format)            employees#create\n  new_admin_employee GET      /admins/:admin_id/employees/new(.:format)        employees#new\n edit_admin_employee GET      /admins/:admin_id/employees/:id/edit(.:format)   employees#edit\n      admin_employee GET      /admins/:admin_id/employees/:id(.:format)        employees#show\n                     PATCH    /admins/:admin_id/employees/:id(.:format)        employees#update\n                     PUT      /admins/:admin_id/employees/:id(.:format)        employees#update\n                     DELETE   /admins/:admin_id/employees/:id(.:format)        employees#destroy\n              admins GET      /admins(.:format)                                admins#index\n                     POST     /admins(.:format)                                admins#create\n           new_admin GET      /admins/new(.:format)                            admins#new\n          edit_admin GET      /admins/:id/edit(.:format)                       admins#edit\n               admin GET      /admins/:id(.:format)                            admins#show\n                     PATCH    /admins/:id(.:format)                            admins#update\n                     PUT      /admins/:id(.:format)                            admins#update\n                     DELETE   /admins/:id(.:format)                            admins#destroy\n\n")])])]),a("h2",{attrs:{id:"scope-available-locales"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scope-available-locales"}},[t._v("#")]),t._v(" Scope available locales")]),t._v(" "),a("p",[t._v("If your application is available in different languages, you usually show the current locale in the URL.")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[t._v("scope "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/(:locale)'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" locale"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#{I18n.available_locales.join('|')}/ do")]),t._v("\n    root "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example#root'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# other routes")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("Your root will be accessible via the locales defined in "),a("code",[t._v("I18n.available_locales")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"redirects-and-wildcard-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirects-and-wildcard-routes"}},[t._v("#")]),t._v(" Redirects and Wildcard Routes")]),t._v(" "),a("p",[t._v("If you want to provide a URL out of convenience for your user but map it directly to another one you're already using. Use a redirect:")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# config/routes.rb")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TestApp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  get "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'courses/:course_name'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/courses/%{course_name}/lessons'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":as")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"course"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n")])])]),a("p",[t._v("Well, that got interesting fast. The basic principle here is to just use the "),a("code",[t._v("#redirect")]),t._v(" method to send one route to another route. If your route is quite simple, it's a really straightforward method. But if you want to also send the original parameters, you need to do a bit of gymnastics by capturing the parameter inside "),a("code",[t._v("%{here}")]),t._v(". Note the single quotes around everything.")]),t._v(" "),a("p",[t._v("In the example above, we've also renamed the route for convenience by using an alias with the :as parameter. This lets us use that name in methods like the #_path helpers. Again, test out your "),a("code",[t._v("$ rake routes")]),t._v(" with questions.")]),t._v(" "),a("h2",{attrs:{id:"url-params-with-a-period"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-params-with-a-period"}},[t._v("#")]),t._v(" URL params with a period")]),t._v(" "),a("p",[t._v("If you want to support a url parameter more complex than an id number, you may run into trouble with the parser if the value contains a period. Anything following a period will be assumed to be a format (i.e. json, xml).")]),t._v(" "),a("p",[t._v("You can work around this limitation by using a constraint to "),a("strong",[t._v("broaden")]),t._v(" the accepted input.")]),t._v(" "),a("p",[t._v("For example, if you want to reference a user record by email address in the url:")]),t._v(" "),a("h4",{attrs:{id:"remarks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[t._v("#")]),t._v(" Remarks")]),t._v(" "),a("p",[t._v('"Routing" in general is how URL\'s are "handled" by your app.  In Rails case it\'s typically which controller and which action of that controller will handle a particular incoming URL.  In Rails apps, routes are usually placed in the '),a("code",[t._v("config/routes.rb")]),t._v(" file.")])])}),[],!1,null,null,null);s.default=n.exports}}]);