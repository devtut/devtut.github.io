(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{555:function(a,t,s){"use strict";s.r(t);var n=s(31),r=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"creating-your-own-libraries-for-android-applications"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-your-own-libraries-for-android-applications"}},[a._v("#")]),a._v(" Creating your own libraries for Android applications")]),a._v(" "),s("h2",{attrs:{id:"create-a-library-available-on-jitpack-io"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-library-available-on-jitpack-io"}},[a._v("#")]),a._v(" Create a library available on Jitpack.io")]),a._v(" "),s("p",[a._v("Perform the following steps to create the library:")]),a._v(" "),s("li",[a._v("\nCreate a GitHub account.\n")]),a._v(" "),s("li",[a._v("\nCreate a Git repository containing your library project.\n")]),a._v(" "),s("li",[a._v("\nModify your library project's `build.gradle` file by adding the following code:\n"),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.github.dcendents.android-maven'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Build a jar with source files.")]),a._v("\ntask "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sourcesJar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Jar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    from android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sourceSets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("srcDirs\n    classifier "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'sources'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\ntask "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("javadoc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Javadoc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    failOnError  "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),a._v("\n    source "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sourceSets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sourceFiles\n    classpath "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("files")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getBootClasspath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("pathSeparator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    classpath "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("compile\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Build a jar with javadoc.")]),a._v("\ntask "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("javadocJar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Jar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" dependsOn"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" javadoc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    classifier "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'javadoc'")]),a._v("\n    from javadoc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("destinationDir\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\nartifacts "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    archives sourcesJar\n    archives javadocJar\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n")])])]),s("p",[a._v("Make sure that you commit/push the above changes to GitHub.\n")])]),a._v(" "),s("li",[a._v("\nCreate a release from the current code on Github.\n")]),a._v(" "),s("li",[a._v("\nRun "),s("code",[a._v("gradlew install")]),a._v(" on your code.\n")]),a._v(" "),s("li",[a._v("\nYour library is now available by the following dependency:"),s("p"),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("compile "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.github.[YourUser]:[github repository name]:[release tag]'")]),a._v("\n\n")])])])]),a._v(" "),s("h2",{attrs:{id:"creating-library-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-library-project"}},[a._v("#")]),a._v(" Creating library project")]),a._v(" "),s("p",[a._v("To create a libary , you should use "),s("code",[a._v("File -> New -> New Module -> Android Library")]),a._v(". This will create a basic library project.")]),a._v(" "),s("p",[a._v("When that's done, you must have a project that is set up the following manner:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("project root directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("library root directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("gradle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n    build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gradle "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//project level")]),a._v("\n    gradle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("properties\n    gradlew\n    gradlew"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("bat\n    local"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("properties\n    settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gradle "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//this is important!")]),a._v("\n\n")])])]),s("p",[a._v("Your "),s("code",[a._v("settings.gradle")]),a._v(" file must contain the following:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("include "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("':[library root directory]'")]),a._v("\n\n")])])]),s("p",[a._v("Your "),s("code",[a._v("[library root directory]")]),a._v(" must contain the following:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("libs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("src"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("library "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("library "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nbuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gradle "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('//"app"-level')]),a._v("\nproguard"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("rules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("pro\n\n")])])]),s("p",[a._v('Your "app"-level '),s("code",[a._v("build.gradle")]),a._v(" file must contain the following:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.android.library'")]),a._v("\n\nandroid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    compileSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v("\n    buildToolsVersion "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"23.0.2"')]),a._v("\n\n    defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        minSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("14")]),a._v("\n        targetSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n")])])]),s("p",[a._v("With that, your project should be working fine!")]),a._v(" "),s("h2",{attrs:{id:"using-library-in-project-as-a-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-library-in-project-as-a-module"}},[a._v("#")]),a._v(" Using library in project as a module")]),a._v(" "),s("p",[a._v("To use the library, you must include it as a dependency with the following line:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("compile "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("project")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("':[library root directory]'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);