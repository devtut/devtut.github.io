(window.webpackJsonp=window.webpackJsonp||[]).push([[2076],{2484:function(t,e,s){"use strict";s.r(e);var a=s(31),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"trigger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trigger"}},[t._v("#")]),t._v(" Trigger")]),t._v(" "),s("p",[t._v("A trigger is a special type of stored procedure, which is executed automatically after an event occurs. There are two types of triggers: Data Definition Language Triggers and Data Manipulation Language Triggers.")]),t._v(" "),s("p",[t._v("It is usually bound to a table and fires automatically. You cannot explicitly call any trigger.")]),t._v(" "),s("h2",{attrs:{id:"dml-triggers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dml-triggers"}},[t._v("#")]),t._v(" DML Triggers")]),t._v(" "),s("p",[t._v("DML Triggers are fired as a response to dml statements ("),s("code",[t._v("insert")]),t._v(", "),s("code",[t._v("update")]),t._v(" or "),s("code",[t._v("delete")]),t._v(")."),s("br"),t._v("\nA dml trigger can be created to address one or more dml events for a single table or view.\nThis means that a single dml trigger can handle inserting, updating and deleting records from a specific table or view, but in can only handle data being changed on that single table or view.")]),t._v(" "),s("p",[t._v("DML Triggers provides access to "),s("code",[t._v("inserted")]),t._v(" and "),s("code",[t._v("deleted")]),t._v(" tables that holds information about the data that was / will be affected by the insert, update or delete statement that fired the trigger.")]),t._v(" "),s("p",[s("strong",[t._v("Note")]),t._v(" that DML triggers are statement based, not row based. This means that if the statement effected more then one row, the inserted or deleted tables will contain more then one row.")]),t._v(" "),s("p",[t._v("Examples:")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRIGGER")]),t._v(" tblSomething_InsertOrUpdate "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" tblSomething  \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" tblAudit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TableName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" RecordId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tblSomething'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Inserted'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Inserted\n\nGO\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRIGGER")]),t._v(" tblSomething_InsertOrUpdate "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" tblSomething  \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" tblAudit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TableName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" RecordId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tblSomething'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Updated'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Inserted \n\nGO\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRIGGER")]),t._v(" tblSomething_InsertOrUpdate "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" tblSomething  \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELETE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" tblAudit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TableName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" RecordId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tblSomething'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Deleted'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Deleted\n\nGO\n\n")])])]),s("p",[t._v("All the examples above will add records to tblAudit whenever a record is added, deleted or updated in tblSomething.")]),t._v(" "),s("h2",{attrs:{id:"types-and-classifications-of-trigger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types-and-classifications-of-trigger"}},[t._v("#")]),t._v(" Types and classifications of Trigger")]),t._v(" "),s("p",[t._v("In SQL Server, there are two categories of triggers: DDL Triggers and DML Triggers.")]),t._v(" "),s("p",[t._v("DDL Triggers are fired in response to Data Definition Language (DDL) events. These events primarily correspond to Transact-SQL statements that start with the keywords "),s("code",[t._v("CREATE")]),t._v(", "),s("code",[t._v("ALTER")]),t._v(" and "),s("code",[t._v("DROP")]),t._v(".")]),t._v(" "),s("p",[t._v("DML Triggers are fired in response to Data Manipulation Language (DML) events. These events corresponds to Transact-SQL statements that start with the keywords "),s("code",[t._v("INSERT")]),t._v(", "),s("code",[t._v("UPDATE")]),t._v(" and "),s("code",[t._v("DELETE")]),t._v(".")]),t._v(" "),s("p",[t._v("DML triggers are classified into two main types:")]),t._v(" "),s("li",[t._v("\nAfter Triggers (for triggers)\n"),s("ul",[t._v("\n1. AFTER INSERT Trigger.\n1. AFTER UPDATE Trigger.\n1. AFTER DELETE Trigger.\n")])]),t._v(" "),s("li",[t._v("\nInstead of triggers\n"),s("ul",[t._v("\n1. INSTEAD OF INSERT Trigger.\n1. INSTEAD OF UPDATE Trigger.\n1. INSTEAD OF DELETE Trigger.\n")])]),t._v(" "),s("ul",[s("li",[t._v("INSTEAD OF INSERT Trigger.")]),t._v(" "),s("li",[t._v("INSTEAD OF UPDATE Trigger.")]),t._v(" "),s("li",[t._v("INSTEAD OF DELETE Trigger.")])])])}),[],!1,null,null,null);e.default=r.exports}}]);