(window.webpackJsonp=window.webpackJsonp||[]).push([[1385],{1793:function(t,e,r){"use strict";r.r(e);var a=r(31),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"handle-multiple-environment-using-macro"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#handle-multiple-environment-using-macro"}},[t._v("#")]),t._v(" Handle Multiple Environment using Macro")]),t._v(" "),r("h2",{attrs:{id:"handle-multiple-environment-using-multiple-target-and-macro"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#handle-multiple-environment-using-multiple-target-and-macro"}},[t._v("#")]),t._v(" Handle multiple environment using multiple target and macro")]),t._v(" "),r("p",[t._v("For example, we have two environments: CI - Staging and want to add some customizations for each environment. Here I will try to customize server URL, app name.")]),t._v(" "),r("p",[t._v("First, we create two targets for 2 environments by duplicating the main target:")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/724av.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/724av.png",alt:"Create targets"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v('For each target, we will define a custom macro. Here I will define macro named "CI" in build settings of target CI, macro named "STAGING" for target Staging.')]),t._v(" "),r("p",[t._v("The development target (MultipleEnvironment target):\n"),r("a",{attrs:{href:"http://i.stack.imgur.com/U42W4.jpg",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/U42W4.jpg",alt:"DEV"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Target CI:")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/UewwM.jpg",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/UewwM.jpg",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Target Staging:")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/yyvPz.jpg",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/yyvPz.jpg",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Create scheme for each target:\n"),r("a",{attrs:{href:"http://i.stack.imgur.com/k1uFR.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/k1uFR.png",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("We will create a header file to define SERVER URL as below:")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/FYQyz.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/FYQyz.png",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("It means,")]),t._v(" "),r("ul",[r("li",[t._v("If we run/archive using the default target (MultipleEnvironment), the SERVER_URL is "),r("a",{attrs:{href:"http://192.168.10.10:8080/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://192.168.10.10:8080/"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("If we run/archive using CI target, the SERVER_URL is "),r("a",{attrs:{href:"http://ci.api.example.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ci.api.example.com/"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("If we run/archive using STAGING target, the SERVER_URL is "),r("a",{attrs:{href:"http://stg.api.example.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://stg.api.example.com/"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("If you want to do more customize, for example: Change app name for each target:")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/WbNfj.jpg",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/WbNfj.jpg",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/3eKJ0.jpg",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/3eKJ0.jpg",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Almost done. Now we want to show current SERVER_URL to main screen:\n"),r("a",{attrs:{href:"http://i.stack.imgur.com/HzQIX.jpg",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/HzQIX.jpg",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("Now, let's see if we run the app with the default target (MultipleEnvironment)\n"),r("a",{attrs:{href:"http://i.stack.imgur.com/vjuaX.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/vjuaX.png",alt:"enter image description here"}}),r("OutboundLink")],1),t._v(" "),r("a",{attrs:{href:"http://i.stack.imgur.com/N0ysl.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/N0ysl.png",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[r("strong",[t._v("CI target")]),t._v(":")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/A0jKT.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/A0jKT.png",alt:"enter image description here"}}),r("OutboundLink")],1),t._v(" "),r("a",{attrs:{href:"http://i.stack.imgur.com/6DlmC.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/6DlmC.png",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[r("strong",[t._v("Staging target")]),t._v(":")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://i.stack.imgur.com/YaEAJ.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/YaEAJ.png",alt:"enter image description here"}}),r("OutboundLink")],1),t._v(" "),r("a",{attrs:{href:"http://i.stack.imgur.com/SPfU7.png",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"http://i.stack.imgur.com/SPfU7.png",alt:"enter image description here"}}),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("As you can see, value of SERVER_URL and app name is changed for each target ðŸ˜ƒ")])])}),[],!1,null,null,null);e.default=n.exports}}]);