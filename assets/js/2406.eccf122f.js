(window.webpackJsonp=window.webpackJsonp||[]).push([[2406],{2814:function(e,a,r){"use strict";r.r(a);var t=r(31),o=Object(t.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"simple-interaction-with-database-via-dbi-module"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#simple-interaction-with-database-via-dbi-module"}},[e._v("#")]),e._v(" Simple interaction with database via DBI module")]),e._v(" "),r("h2",{attrs:{id:"dbi-module"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dbi-module"}},[e._v("#")]),e._v(" DBI module")]),e._v(" "),r("p",[e._v("You should make sure that module DBI has been installed on your pc, then follow the bellow steps:")]),e._v(" "),r("ol",[r("li",[e._v("use DBI module in your perl script")])]),e._v(" "),r("p",[r("code",[e._v("use DBI;")])]),e._v(" "),r("ol",[r("li",[e._v("Declare some primary parameters")])]),e._v(" "),r("p",[r("code",[e._v('my $driver = "MyDriver";')])]),e._v(" "),r("p",[r("code",[e._v('my $database = "DB_name";')])]),e._v(" "),r("p",[r("code",[e._v('my $dsn = "DBI:$driver:dbname=$database";')])]),e._v(" "),r("p",[r("code",[e._v('my $userid = "your_user_ID";')])]),e._v(" "),r("p",[r("code",[e._v('my $password = "your_password";')])]),e._v(" "),r("p",[r("code",[e._v('my $tablename = "your_table";')])]),e._v(" "),r("ol",[r("li",[e._v("Connect to your database")])]),e._v(" "),r("p",[r("code",[e._v("my $dbh = DBI->connect($dsn, $userid, $password);")])]),e._v(" "),r("ol",[r("li",[e._v("Prepare your query")])]),e._v(" "),r("p",[r("code",[e._v('my $query = $dbh->prepare("Your DB query");')])]),e._v(" "),r("p",[e._v("Ex:")]),e._v(" "),r("p",[r("code",[e._v("$my_query = qq/SELECT * FROM table WHERE column1 = 2/;")])]),e._v(" "),r("p",[r("code",[e._v("my $query = $dbh->prepare($my_query);")])]),e._v(" "),r("p",[e._v("We can also use variable in the query, like below:")]),e._v(" "),r("p",[r("code",[e._v('my $table_name = "table";')])]),e._v(" "),r("p",[r("code",[e._v("my $filter_value = 2;")])]),e._v(" "),r("p",[r("code",[e._v("$my_query = qq/SELECT * FROM $table_name WHERE column1 = $filter_value/;")])]),e._v(" "),r("ol",[r("li",[e._v("Execute your query")])]),e._v(" "),r("p",[r("code",[e._v("$query->execute();")])]),e._v(" "),r("p",[e._v("*Note: To avoid injection attack, you should use placeholders "),r("code",[e._v("?")]),e._v(" instead of put your variable in the query.")]),e._v(" "),r("p",[e._v("Ex: you want to show the all data from 'table' where column1=$value1 and column2=$value2:")]),e._v(" "),r("p",[r("code",[e._v('my $query = $dbh->prepare("SELECT * FROM table WHERE column1 = ? AND column2 = ?;");')])]),e._v(" "),r("p",[r("code",[e._v("$query->execute($value1, $value2);")])]),e._v(" "),r("ol",[r("li",[e._v("Fletch your data")])]),e._v(" "),r("p",[r("code",[e._v("my @row = $query->fetchrow_array();")]),e._v(" store data as array")]),e._v(" "),r("p",[e._v("or")]),e._v(" "),r("p",[r("code",[e._v("my $ref = $sth->fetchrow_hashref();")]),e._v(" store data as hash reference")]),e._v(" "),r("ol",[r("li",[e._v("Finish and disconnect DB")])]),e._v(" "),r("p",[r("code",[e._v("$sth->finish;")])]),e._v(" "),r("p",[r("code",[e._v("$dbh->disconnect();")])]),e._v(" "),r("h4",{attrs:{id:"parameters"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[e._v("#")]),e._v(" Parameters")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("Column")]),e._v(" "),r("th",[e._v("Column")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[r("code",[e._v("$driver")])]),e._v(" "),r("td",[e._v('Driver for DB, "Pg" for Postgresql and "mysql" for MySQL')])]),e._v(" "),r("tr",[r("td",[r("code",[e._v("$database")])]),e._v(" "),r("td",[e._v("your database name")])]),e._v(" "),r("tr",[r("td",[r("code",[e._v("$userid")])]),e._v(" "),r("td",[e._v("your database id")])]),e._v(" "),r("tr",[r("td",[r("code",[e._v("$password")])]),e._v(" "),r("td",[e._v("your database password")])]),e._v(" "),r("tr",[r("td",[r("code",[e._v("$query")])]),e._v(" "),r("td",[e._v('put your query here, ex: "select * from $your_table"')])])])])])}),[],!1,null,null,null);a.default=o.exports}}]);