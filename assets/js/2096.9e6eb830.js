(window.webpackJsonp=window.webpackJsonp||[]).push([[2096],{2443:function(t,s,a){"use strict";a.r(s);var e=a(19),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"converting-from-myisam-to-innodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#converting-from-myisam-to-innodb"}},[t._v("#")]),t._v(" Converting from MyISAM to InnoDB")]),t._v(" "),a("h2",{attrs:{id:"basic-conversion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-conversion"}},[t._v("#")]),t._v(" Basic conversion")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" foo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("p",[t._v("This converts the table, but does not take care of any differences between the engines.  Most differences will not matter, especially for small tables.  But for busier tables, other considerations should be considered.  "),a("a",{attrs:{href:"http://mysql.rjweb.org/doc.php/myisam2innodb",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("Conversion considerations")]),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"converting-all-tables-in-one-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#converting-all-tables-in-one-database"}},[t._v("#")]),t._v(" Converting All Tables in one Database")]),t._v(" "),a("p",[t._v("To easily convert all tables in one database, use the following:")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@DB_NAME")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATABASE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("  CONCAT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ALTER TABLE `'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" table_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'` ENGINE=InnoDB;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" sql_statements\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("    information_schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tables")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v("   table_schema "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@DB_NAME")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyISAM'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("TABLE_TYPE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BASE TABLE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("blockquote"),t._v(" "),a("p",[a("strong",[t._v("NOTE:")]),t._v(" You should be connected to your database for "),a("code",[t._v("DATABASE()")]),t._v(" function to work, otherwise it will return "),a("code",[t._v("NULL")]),t._v(". This mostly applies to standard mysql client shipped with server as it allows to connect without specifying a database.")]),t._v(" "),a("p",[t._v("Run this SQL statement to retrieve all the "),a("code",[t._v("MyISAM")]),t._v(" tables in your database.")]),t._v(" "),a("p",[t._v("Finally, copy the output and execute SQL queries from it.")])])}),[],!1,null,null,null);s.default=n.exports}}]);