(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{562:function(t,e,a){"use strict";a.r(e);var s=a(31),o=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"daynight-theme-appcompat-v23-2-api-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#daynight-theme-appcompat-v23-2-api-14"}},[t._v("#")]),t._v(" DayNight Theme (AppCompat v23.2 / API 14+)")]),t._v(" "),a("h2",{attrs:{id:"adding-the-daynight-theme-to-an-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-the-daynight-theme-to-an-app"}},[t._v("#")]),t._v(" Adding the DayNight theme to an app")]),t._v(" "),a("p",[t._v("The DayNight theme gives an app the cool capability of switching color schemes based on the time of day and the device's last known location.")]),t._v(" "),a("p",[t._v("Add the following to your "),a("code",[t._v("styles.xml")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AppTheme"')]),t._v(" parent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Theme.AppCompat.DayNight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customize")]),t._v(" your theme here"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("item name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"colorPrimary"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("colorPrimary"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("item name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"colorPrimaryDark"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("colorPrimaryDark"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("item name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"colorAccent"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("colorAccent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),a("p",[t._v("The themes you can extend from to add day night theme switching capability are the following:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v('"Theme.AppCompat.DayNight"')])]),t._v(" "),a("li",[a("code",[t._v('"Theme.AppCompat.DayNight.NoActionBar"')])]),t._v(" "),a("li",[a("code",[t._v('"Theme.AppCompat.DayNight.DarkActionBar"')])])]),t._v(" "),a("p",[t._v("Apart from "),a("code",[t._v("colorPrimary")]),t._v(", "),a("code",[t._v("colorPrimaryDark")]),t._v(" and "),a("code",[t._v("colorAccent")]),t._v(", you can also add any other colors that you would like to be switched, e.g. "),a("code",[t._v("textColorPrimary")]),t._v(" or "),a("code",[t._v("textColorSecondary")]),t._v(". You can add your app's custom colors to this "),a("code",[t._v("style")]),t._v(" as well.")]),t._v(" "),a("p",[t._v("For theme switching to work, you need to define a default "),a("code",[t._v("colors.xml")]),t._v(" in the "),a("code",[t._v("res/values")]),t._v(" directory and another "),a("code",[t._v("colors.xml")]),t._v(" in the "),a("code",[t._v("res/values-night")]),t._v(" directory and define day/night colors appropriately.")]),t._v(" "),a("p",[t._v("To switch the theme, call the "),a("code",[t._v("AppCompatDelegate.setDefaultNightMode(int)")]),t._v(" method from your Java code. (This will change the color scheme for the whole app, not just any one activity or fragment.) For example:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppCompatDelegate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDefaultNightMode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppCompatDelegate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MODE_NIGHT_NO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("p",[t._v("You can pass any of the following three according to your choice:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("AppCompatDelegate.MODE_NIGHT_NO")]),t._v(": this sets the default theme for your app and takes the colors defined in the "),a("code",[t._v("res/values")]),t._v(" directory. It is recommended to use light colors for this theme.")]),t._v(" "),a("li",[a("code",[t._v("AppCompatDelegate.MODE_NIGHT_YES")]),t._v(": this sets a night theme for your app and takes the colors defined in the "),a("code",[t._v("res/values-night")]),t._v(" directory. It is recommended to use dark colors for this theme.")]),t._v(" "),a("li",[a("code",[t._v("AppCompatDelegate.MODE_NIGHT_AUTO")]),t._v(": this auto switches the colors of the app based on the time of the day and the colors you have defined in "),a("code",[t._v("values")]),t._v(" and "),a("code",[t._v("values-night")]),t._v(" directories.")])]),t._v(" "),a("p",[t._v("It is also possible to get the current night mode status using the "),a("code",[t._v("getDefaultNightMode()")]),t._v(" method. For example:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" modeType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppCompatDelegate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDefaultNightMode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("p",[t._v("Please note, however, that the theme switch will not persist if you kill the app and reopen it. If you do that, the theme will switch back to "),a("code",[t._v("AppCompatDelegate.MODE_NIGHT_AUTO")]),t._v(", which is the default value. If you want the theme switch to persist, make sure you store the value in shared preferences and load the stored value each time the app is opened after it has been destroyed.")])])}),[],!1,null,null,null);e.default=o.exports}}]);