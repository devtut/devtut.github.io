(window.webpackJsonp=window.webpackJsonp||[]).push([[3178],{3586:function(t,e,o){"use strict";o.r(e);var a=o(31),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"rails-logger"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#rails-logger"}},[t._v("#")]),t._v(" Rails logger")]),t._v(" "),o("h2",{attrs:{id:"rails-logger-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#rails-logger-2"}},[t._v("#")]),t._v(" Rails.logger")]),t._v(" "),o("p",[t._v("Always use "),o("code",[t._v("Rails.logger.{debug|info|warn|error|fatal}")]),t._v(" rather than "),o("code",[t._v("puts")]),t._v(". This allows your logs to fit into the standard log format, have a timestamp and have a level so you choose whether they are important enough to be shown in a specific environment. You can see the separate log files for your application under "),o("code",[t._v("log/")]),t._v(" directory with your rails app environment name. like: "),o("code",[t._v("development.log")]),t._v(" or "),o("code",[t._v("production.log")]),t._v(" or "),o("code",[t._v("staging.log")])]),t._v(" "),o("p",[t._v("You can easily rotating rails production logs with LogRotate.You just have to do small configuration as below")]),t._v(" "),o("p",[t._v("Open "),o("code",[t._v("/etc/logrotate.conf")]),t._v(" with your favourite linux editor "),o("code",[t._v("vim")]),t._v(" or "),o("code",[t._v("nano")]),t._v(" and add the below code in this file at bottom.")]),t._v(" "),o("div",{staticClass:"language-ruby extra-class"},[o("pre",{pre:!0,attrs:{class:"language-ruby"}},[o("code",[o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),o("span",{pre:!0,attrs:{class:"token constant"}},[t._v("YOUR")]),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),o("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RAILSAPP")]),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),o("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PATH")]),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  daily\n  missingok\n  rotate "),o("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n  compress\n  delaycompress\n  notifempty\n  copytruncate\n"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),o("p",[t._v("So, "),o("strong",[t._v("How It Works")]),t._v(" This is fantastically easy. Each bit of the configuration does the following:")]),t._v(" "),o("li",[t._v("**daily** – Rotate the log files each day. You can also use weekly or\nmonthly here instead.")]),t._v("\n- **missingok** – If the log file doesn’t exist,ignore it\n- **rotate 7** – Only keep 7 days of logs around\n- **compress** – GZip the log file on rotation\n- **delaycompress** – Rotate the file one day, then compress it the next day so we can be sure that it won’t interfere with the Rails server\n- **notifempty** – Don’t rotate the file if the logs are empty\n- **copytruncate** – Copy the log file and then empties it. This makes sure that the log file Rails is writing to always exists so you won’t get problems because the file does not actually change. If you don’t use this, you would need to restart your Rails application each time.\n"),o("p",[o("strong",[t._v("Running Logrotate")]),t._v("\nSince we just wrote this configuration, you want to test it.")]),t._v(" "),o("p",[t._v("To run logrotate manually, just do: "),o("code",[t._v("sudo /usr/sbin/logrotate -f /etc/logrotate.conf")])]),t._v(" "),o("p",[t._v("That's it.")])])}),[],!1,null,null,null);e.default=s.exports}}]);