(window.webpackJsonp=window.webpackJsonp||[]).push([[2368],{2776:function(a,t,e){"use strict";e.r(t);var s=e(31),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"statistical-functions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#statistical-functions"}},[a._v("#")]),a._v(" Statistical functions")]),a._v(" "),e("h2",{attrs:{id:"calculating-the-median-of-a-set-of-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#calculating-the-median-of-a-set-of-values"}},[a._v("#")]),a._v(" Calculating the median of a set of values")]),a._v(" "),e("p",[a._v("The "),e("a",{attrs:{href:"https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions086.htm",target:"_blank",rel:"noopener noreferrer"}},[a._v("MEDIAN function"),e("OutboundLink")],1),a._v("  since Oracle 10g is an easy to use aggregation function:")]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" MEDIAN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("SAL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" EMP\n\n")])])]),e("p",[a._v("It returns the median of the values")]),a._v(" "),e("p",[a._v("Works on "),e("code",[a._v("DATETIME")]),a._v(" values too.")]),a._v(" "),e("blockquote"),a._v(" "),e("p",[a._v("The result of MEDIAN is computed by first ordering the rows. Using N as the number of rows in the group, Oracle calculates the row number (RN) of interest with the formula RN = (1 + (0.5*(N-1)). The final result of the aggregate function is computed by linear interpolation between the values from rows at row numbers CRN = CEILING(RN) and FRN = FLOOR(RN).")]),a._v(" "),e("p",[a._v("Since Oracle 9i you can use "),e("a",{attrs:{href:"https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions110.htm",target:"_blank",rel:"noopener noreferrer"}},[a._v("PERCENTILE_CONT"),e("OutboundLink")],1),a._v(" which works the same as MEDIAN function with percentile value defaults to 0.5")]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" PERCENTILE_CONT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v(".5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WITHIN")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("GROUP")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("order")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("by")]),a._v(" SAL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" EMP\n\n")])])]),e("h2",{attrs:{id:"variance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#variance"}},[a._v("#")]),a._v(" VARIANCE")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://en.wikipedia.org/wiki/Variance",target:"_blank",rel:"noopener noreferrer"}},[a._v("Variance measures"),e("OutboundLink")],1),a._v(" how far a set numbers is spread out from it's mean. From practical perspective it is squared distance from its mean (center) - the bigger the number the farther the point is.")]),a._v(" "),e("p",[a._v("The following example would return variance of salary values")]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" salary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" VARIANCE"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("salary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Variance"')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" employees \n\n")])])]),e("h2",{attrs:{id:"stddev"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stddev"}},[a._v("#")]),a._v(" STDDEV")]),a._v(" "),e("p",[a._v("STDDEV returns the sample standard deviation of expr, a set of numbers. You can use it as both an aggregate and analytic function. It differs from STDDEV_SAMP in that STDDEV returns zero when it has only 1 row of input data, whereas STDDEV_SAMP returns null.")]),a._v(" "),e("p",[a._v("Oracle Database calculates the standard deviation as the square root of the variance defined for the VARIANCE aggregate function.")]),a._v(" "),e("p",[a._v("This function takes as an argument any numeric datatype or any nonnumeric datatype that can be implicitly converted to a numeric datatype. The function returns the same datatype as the numeric datatype of the argument.")]),a._v(" "),e("p",[a._v("If you specify DISTINCT, then you can specify only the query_partition_clause of the analytic_clause. The order_by_clause and windowing_clause are not allowed.")]),a._v(" "),e("p",[a._v("The following example returns the standard deviation of the salaries in the sample "),e("strong",[a._v("hr.employees")]),a._v(" table:")]),a._v(" "),e("p",[a._v("Where hr is Schema and employees is a table name.")]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" STDDEV"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("salary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Deviation"')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" employees"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nDeviation\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("----------")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3909.36575")]),a._v("\n\n")])])]),e("p",[a._v("The query in the following example returns the cumulative standard deviation of the salaries in Department 80 in the sample table hr.employees, ordered by hire_date:")]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" last_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" salary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" \nSTDDEV"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("salary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("OVER")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ORDER")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("BY")]),a._v(" hire_date"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"StdDev"')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" employees  \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" department_id "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" \n\nLAST_NAME                     SALARY     StdDev\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("------------------------- ---------- ----------")]),a._v("\nRaphaely                       "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("11000")]),a._v("          "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\nKhoo                            "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3100")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("5586.14357")]),a._v("\nTobias                          "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2800")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("4650.0896")]),a._v("\n\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);