(window.webpackJsonp=window.webpackJsonp||[]).push([[494],{902:function(a,t,s){"use strict";s.r(t);var e=s(31),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"debugging"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debugging"}},[a._v("#")]),a._v(" Debugging")]),a._v(" "),s("h2",{attrs:{id:"checking-the-syntax-of-a-script-with-n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#checking-the-syntax-of-a-script-with-n"}},[a._v("#")]),a._v(' Checking the syntax of a script with "-n"')]),a._v(" "),s("p",[a._v("The -n flag enables you to check the syntax of a script without having to execute it:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("~"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" $ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" -n testscript.sh\ntestscript.sh: line "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("128")]),a._v(": unexpected EOF "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" looking "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" matching `\"'\ntestscript.sh: line "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("130")]),a._v(": syntax error: unexpected end of "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v("\n\n")])])]),s("h2",{attrs:{id:"debugging-usigh-bashdb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debugging-usigh-bashdb"}},[a._v("#")]),a._v(" Debugging usigh bashdb")]),a._v(" "),s("p",[a._v("Bashdb is a utility that is similar to gdb, in that you can do things like set breakpoints at a line or at a function, print content of variables, you can restart script execution and more.")]),a._v(" "),s("p",[a._v("You can normally install it via your package manager, for example on Fedora:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" dnf "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" bashdb \n\n")])])]),s("p",[a._v("Or get it from the "),s("a",{attrs:{href:"http://bashdb.sourceforge.net/",target:"_blank",rel:"noopener noreferrer"}},[a._v("homepage"),s("OutboundLink")],1),a._v(".\nThen you can run it with your script as a paramater:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("bashdb "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("YOUR SCRIPT"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n")])])]),s("p",[a._v("Here are a few commands to get you started:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("l - show "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("local")]),a._v(" lines, press l again to scroll down\ns - step to next line \nprint "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$VAR")]),a._v(" - "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" out content of variable \nrestart - reruns bashscript, it re-loads it prior to execution.\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("eval")]),a._v(" - evaluate some custom command, ex: "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("eval")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" hi\n\nb "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("line num"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" breakpoint on some line \nc - "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("continue")]),a._v(" till some breakpoint \ni b - info on "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("break")]),a._v(" points \nd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("line "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#> - delete breakpoint at line #")]),a._v("\n\nshell - launch a sub-shell "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" the middle of execution, this is handy "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" manipulating variables\n\n")])])]),s("p",[a._v("For more information, I recommend consulting the manual:\n"),s("a",{attrs:{href:"http://www.rodericksmith.plus.com/outlines/manuals/bashdbOutline.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://www.rodericksmith.plus.com/outlines/manuals/bashdbOutline.html"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("See also homepage:"),s("br"),a._v(" "),s("a",{attrs:{href:"http://bashdb.sourceforge.net/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://bashdb.sourceforge.net/"),s("OutboundLink")],1)]),a._v(" "),s("h2",{attrs:{id:"debugging-a-bash-script-with-x"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debugging-a-bash-script-with-x"}},[a._v("#")]),a._v(' Debugging a bash script with "-x"')]),a._v(" "),s("p",[a._v('Use "-x" to enable debug output of executed lines. It can be run on an entire session or script, or enabled programmatically within a script.')]),a._v(" "),s("p",[a._v("Run a script with debug output enabled:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" -x myscript.sh\n\n")])])]),s("p",[a._v("Or")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" --debug myscript.sh\n\n")])])]),s("p",[a._v("Turn on debugging within a bash script. It may optionally be turned back on, though debug output is automatically reset when the script exits.")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" -x   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Enable debugging")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# some code here")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" +x   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Disable debugging output. ")]),a._v("\n\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);