(window.webpackJsonp=window.webpackJsonp||[]).push([[3150],{3496:function(t,a,s){"use strict";s.r(a);var e=s(19),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[t._v("#")]),t._v(" Elasticsearch")]),t._v(" "),s("h2",{attrs:{id:"searchkick"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#searchkick"}},[t._v("#")]),t._v(" Searchkick")]),t._v(" "),s("p",[t._v("If you want to setup quickly elasticsearch you can use the searchkick gem :")]),t._v(" "),s("p",[t._v("Add searchkick to models you want to search.")]),t._v(" "),s("p",[t._v("Add data to the search index.")]),t._v(" "),s("p",[t._v("And to query, use:")]),t._v(" "),s("p",[t._v("Pretty quick, elasticsearch knowledge not required ðŸ˜‰")]),t._v(" "),s("p",[t._v("More information here : "),s("a",{attrs:{href:"https://github.com/ankane/searchkick",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ankane/searchkick"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"installation-and-testing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-testing"}},[t._v("#")]),t._v(" Installation and testing")]),t._v(" "),s("p",[t._v("The first thing you want to do for local development is install ElasticSearch in your machine and test it to see if it is running. It requires Java to be installed. The installation is pretty straightforward:")]),t._v(" "),s("ul",[s("li",[t._v("Mac OS X: "),s("code",[t._v("brew install elasticsearch")])]),t._v(" "),s("li",[t._v("Ubuntu: "),s("code",[t._v("sudo apt-get install elasticsearch")])])]),t._v(" "),s("p",[t._v("Then start it:")]),t._v(" "),s("ul",[s("li",[t._v("Mac OS X: "),s("code",[t._v("brew services start elasticsearch")])]),t._v(" "),s("li",[t._v("Ubuntu: "),s("code",[t._v("sudo service elasticsearch start")])])]),t._v(" "),s("p",[t._v("For testing it, the easiest way is with "),s("code",[t._v("curl")]),t._v(". It might take a few seconds for it to start, so don't panic if you don't get any response at first.")]),t._v(" "),s("p",[s("code",[t._v("curl localhost:9200")])]),t._v(" "),s("p",[t._v("Example response:")]),t._v(" "),s("div",{staticClass:"language-ruby extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hydro-Man"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cluster_name"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"elasticsearch_gkbonetti"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.3.5"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build_hash"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"90f439ff60a3c0f497f91663701e64ccd01edbb4"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build_timestamp"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2016-07-27T10:36:52Z"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build_snapshot"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lucene_version"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5.5.0"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tagline"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You Know, for Search"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"setting-up-tools-for-development"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-tools-for-development"}},[t._v("#")]),t._v(" Setting up tools for development")]),t._v(" "),s("p",[t._v("When you are getting started with ElasticSearch (ES) it might be good to have a graphical tool that helps you explore your data. A plugin called "),s("a",{attrs:{href:"http://mobz.github.io/elasticsearch-head/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("elasticsearch-head")]),s("OutboundLink")],1),t._v(" does just that. To install it, do the following:")]),t._v(" "),s("ul",[s("li",[t._v("Find out in which folder ES is installed: "),s("code",[t._v("ls -l $(which elasticsearch)")])]),t._v(" "),s("li",[s("code",[t._v("cd")]),t._v(" into this folder and run the plugin installation binary: "),s("code",[t._v("elasticsearch/bin/plugin -install mobz/elasticsearch-head")])]),t._v(" "),s("li",[t._v("Open "),s("code",[t._v("http://localhost:9200/_plugin/head/")]),t._v(" in your browser")])]),t._v(" "),s("p",[t._v("If everything worked as expected you should be seeing a nice GUI where you can explore your data.")]),t._v(" "),s("h2",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[t._v("ElasticSearch has a well-documented JSON API, but you'll probably want to use some libraries that handle that for you:")]),t._v(" "),s("li",[t._v("\n[`Elasticsearch`](https://github.com/elastic/elasticsearch-ruby) - the official low level wrapper for the HTTP API\n")]),t._v(" "),s("li",[t._v("\n[`Elasticsearch-rails`](https://github.com/elastic/elasticsearch-rails) - the official high level Rails integration that helps you to connect your Rails models with ElasticSearch using either ActiveRecord or Repository pattern\n")]),t._v(" "),s("li",[t._v("\n[`Chewy`](https://github.com/toptal/chewy) - An alternative, non-official high level Rails integration that is very popular and arguably has better documentation\n")]),t._v(" "),s("p",[t._v("Let's use the first option for testing the connection:")]),t._v(" "),s("p",[s("code",[t._v("gem install elasticsearch")])]),t._v(" "),s("p",[t._v("Then fire up the ruby terminal and try it out:")]),t._v(" "),s("div",{staticClass:"language-ruby extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'elasticsearch'")]),t._v("\n\nclient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Elasticsearch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Client")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# by default it connects to http://localhost:9200")]),t._v("\n\nclient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reload_connections"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nclient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cluster"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("health\n\nclient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search q"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v("\n\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);