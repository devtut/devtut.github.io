(window.webpackJsonp=window.webpackJsonp||[]).push([[2823],{3168:function(t,s,a){"use strict";a.r(s);var e=a(19),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"the-os-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-os-module"}},[t._v("#")]),t._v(" The os Module")]),t._v(" "),a("p",[t._v("This module provides a portable way of using operating system dependent functionality.")]),t._v(" "),a("h2",{attrs:{id:"makedirs-recursive-directory-creation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#makedirs-recursive-directory-creation"}},[t._v("#")]),t._v(" makedirs - recursive directory creation")]),t._v(" "),a("p",[t._v("Given a local directory with the following contents:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\n└── dir1\n     ├── subdir1\n     └── subdir2\n\n")])])]),a("p",[t._v("We want to create the same subdir1, subdir2 under a new directory dir2, which does not exist yet.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n\nos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makedirs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./dir2/subdir1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makedirs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./dir2/subdir2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("Running this results in")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("├── dir1\n│   ├── subdir1\n│   └── subdir2\n└── dir2\n    ├── subdir1\n    └── subdir2\n\n")])])]),a("p",[t._v("dir2 is only created the first time it is needed, for subdir1's creation.")]),t._v(" "),a("p",[t._v("If we had used "),a("strong",[t._v("os.mkdir")]),t._v(" instead, we would have had an exception because dir2 would not have existed yet.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\n   os.mkdir(\"./dir2/subdir1\")\nOSError: [Errno 2] No such file or directory: './dir2/subdir1'\n\n")])])]),a("p",[t._v("os.makedirs won't like it if the target directory exists already.  If we re-run it again:")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("OSError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Errno "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" File exists"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dir2/subdir1'")]),t._v("\n\n")])])]),a("p",[t._v("However, this could easily be fixed by catching the exception and checking that the directory has been created.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makedirs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./dir2/subdir1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" OSError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./dir2/subdir1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("raise")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makedirs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./dir2/subdir2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" OSError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./dir2/subdir2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("raise")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"create-a-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-directory"}},[t._v("#")]),t._v(" Create a directory")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mkdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newdir'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("If you need to specify permissions, you can use the optional "),a("code",[t._v("mode")]),t._v(" argument:")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mkdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newdir'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0700")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"get-current-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-current-directory"}},[t._v("#")]),t._v(" Get current directory")]),t._v(" "),a("p",[t._v("Use the "),a("code",[t._v("os.getcwd()")]),t._v(" function:")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getcwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"determine-the-name-of-the-operating-system"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#determine-the-name-of-the-operating-system"}},[t._v("#")]),t._v(" Determine the name of the operating system")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("os")]),t._v(" module provides an interface to determine what type of operating system the code is currently running on.")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n\n")])])]),a("p",[t._v("This can return one of the following in Python 3:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("posix")])]),t._v(" "),a("li",[a("code",[t._v("nt")])]),t._v(" "),a("li",[a("code",[t._v("ce")])]),t._v(" "),a("li",[a("code",[t._v("java")])])]),t._v(" "),a("p",[t._v("More detailed information can be retrieved from "),a("a",{attrs:{href:"https://docs.python.org/3/library/sys.html#sys.platform",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("sys.platform")]),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"remove-a-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remove-a-directory"}},[t._v("#")]),t._v(" Remove a directory")]),t._v(" "),a("p",[t._v("Remove the directory at "),a("code",[t._v("path")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rmdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("You should not use "),a("code",[t._v("os.remove()")]),t._v(" to remove a directory. That function is for "),a("strong",[t._v("files")]),t._v(" and using it on directories will result in an "),a("code",[t._v("OSError")])]),t._v(" "),a("h2",{attrs:{id:"follow-a-symlink-posix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#follow-a-symlink-posix"}},[t._v("#")]),t._v(" Follow a symlink (POSIX)")]),t._v(" "),a("p",[t._v("Sometimes you need to determine the target of a symlink. "),a("code",[t._v("os.readlink")]),t._v(" will do this:")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readlink"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path_to_symlink"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"change-permissions-on-a-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#change-permissions-on-a-file"}},[t._v("#")]),t._v(" Change permissions on a file")]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chmod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("where "),a("code",[t._v("mode")]),t._v(" is the desired permission, in octal.")]),t._v(" "),a("h4",{attrs:{id:"syntax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[t._v("#")]),t._v(" Syntax")]),t._v(" "),a("ul",[a("li",[t._v("import os")])]),t._v(" "),a("h4",{attrs:{id:"parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Parameter")]),t._v(" "),a("th",[t._v("Details")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Path")]),t._v(" "),a("td",[t._v("A path to a file. The path separator may be determined by "),a("code",[t._v("os.path.sep")]),t._v(".")])]),t._v(" "),a("tr",[a("td",[t._v("Mode")]),t._v(" "),a("td",[t._v("The desired permission, in octal (e.g. "),a("code",[t._v("0700")]),t._v(")")])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);