(window.webpackJsonp=window.webpackJsonp||[]).push([[2399],{2807:function(e,a,t){"use strict";t.r(a);var s=t(31),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"perl-one-liners"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#perl-one-liners"}},[e._v("#")]),e._v(" Perl one-liners")]),e._v(" "),t("h2",{attrs:{id:"execute-some-perl-code-from-command-line"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#execute-some-perl-code-from-command-line"}},[e._v("#")]),e._v(" Execute some Perl code from command line")]),e._v(" "),t("p",[e._v("Simple one-liners may be specified as command line arguments to perl using the "),t("code",[e._v("-e")]),e._v(' switch (think "execute"):')]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-e")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'print \"Hello, World!\\n\"'")]),e._v("\n\n")])])]),t("p",[e._v("Due to Windows quoting rules you can't use single-quoted strings but have to use one of these variants:")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-e")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"print qq(Hello, World!\\n)"')]),e._v("\nperl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-e")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"print \\"Hello, World!\\n\\""')]),e._v("\n\n")])])]),t("p",[e._v("Note that to avoid breaking old code, only syntax available up to Perl 5.8.x can be used with "),t("code",[e._v("-e")]),e._v(". To use anything newer your perl version may support, use "),t("code",[e._v("-E")]),e._v(" instead. E.g. to use "),t("code",[e._v("say")]),e._v(" available from 5.10.0 on plus Unicode 6.0 from >=v5.14.0 (also uses "),t("code",[e._v("-CO")]),e._v(" to make sure "),t("code",[e._v("STDOUT")]),e._v(" prints UTF-8):")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("CO "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("E"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'say \"\\N{PILE OF POO}\"'")]),e._v("\n\n")])])]),t("h2",{attrs:{id:"using-double-quoted-strings-in-windows-one-liners"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-double-quoted-strings-in-windows-one-liners"}},[e._v("#")]),e._v(" Using double-quoted strings in Windows one-liners")]),e._v(" "),t("p",[e._v("Windows uses only double quotes to wrap command line parameters. In order to use double quotes in perl one-liner (i.e. to print a string with an interpolated variable), you have to escape them with backslashes:")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-e")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"my $greeting = \'Hello\'; print \\"$greeting, world!\\n\\""')]),e._v("\n\n")])])]),t("p",[e._v("To improve readability, you may use a "),t("code",[e._v("qq()")]),e._v(" operator:")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-e")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("\"my $greeting = 'Hello'; print qq($greeting, world!\\n)\"")]),e._v("\n\n")])])]),t("h2",{attrs:{id:"print-lines-matching-a-pattern-pcre-grep"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#print-lines-matching-a-pattern-pcre-grep"}},[e._v("#")]),e._v(" Print lines matching a pattern (PCRE grep)")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("ne")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'print if /foo/'")]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("p",[e._v("Case-insensitive:")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("ne")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'print if /foo/i'")]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("h2",{attrs:{id:"replace-a-substring-with-another-pcre-sed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replace-a-substring-with-another-pcre-sed"}},[e._v("#")]),e._v(" Replace a substring with another (PCRE sed)")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("pe"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"s/foo/bar/g"')]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("p",[e._v("Or in-place:")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("i "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("pe"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'s/foo/bar/g'")]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("p",[e._v("On Windows:")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("bak "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("pe"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"s/foo/bar/g"')]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("h2",{attrs:{id:"print-only-certain-fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#print-only-certain-fields"}},[e._v("#")]),e._v(" Print only certain fields")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("lane"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'print \"$F[0] $F[-1]\"'")]),e._v(" data"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# prints the first and the last fields of a space delimited record")]),e._v("\n\n")])])]),t("p",[e._v("CSV example:")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("F"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("lane"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'print \"$F[0] $F[-1]\"'")]),e._v(" data"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("csv\n\n")])])]),t("h2",{attrs:{id:"print-lines-5-to-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#print-lines-5-to-10"}},[e._v("#")]),e._v(" Print lines 5 to 10")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("ne")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'print if 5..10'")]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("h2",{attrs:{id:"edit-file-in-place"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#edit-file-in-place"}},[e._v("#")]),e._v(" Edit file in-place")]),e._v(" "),t("p",[e._v("Without a backup copy ("),t("a",{attrs:{href:"http://stackoverflow.com/a/2616900/1529709",target:"_blank",rel:"noopener noreferrer"}},[e._v("not supported on Windows"),t("OutboundLink")],1),e._v(")")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("i "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("pe"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'s/foo/bar/g'")]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("p",[e._v("With a backup copy "),t("code",[e._v("file.txt.bak")])]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("bak "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("pe"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'s/foo/bar/g'")]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("p",[e._v("With a backup copy "),t("code",[e._v("old_file.txt.orig")]),e._v(" in the "),t("code",[e._v("backup")]),e._v(" subdirectory (provided the latter exists):")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("i"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'backup/old_*.orig'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("pe"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'s/foo/bar/g'")]),e._v(" file"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("txt\n\n")])])]),t("h2",{attrs:{id:"reading-the-whole-file-as-a-string"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reading-the-whole-file-as-a-string"}},[e._v("#")]),e._v(" Reading the whole file as a string")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0777")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("ne")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'print \"The whole file as a string: ---\x3e$_<---\\n\"'")]),e._v("\n\n")])])]),t("p",[t("strong",[e._v("Note: The "),t("code",[e._v("-0777")]),e._v(" is just a convention. Any "),t("code",[e._v("-0400")]),e._v(" and above would de the same.")])]),e._v(" "),t("h2",{attrs:{id:"upload-file-into-mojolicious"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upload-file-into-mojolicious"}},[e._v("#")]),e._v(" Upload file into mojolicious")]),e._v(" "),t("div",{staticClass:"language-perl extra-class"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[e._v("perl "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Mojo "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("E "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'p("http://localhost:3000" => form => {Input_Type => "XML", Input_File => {file => "d:/xml/test.xml"}})\'')]),e._v("\n\n")])])]),t("p",[e._v("File "),t("code",[e._v("d:/xml/test.xml")]),e._v(" will be uploaded to server which listen connections on "),t("code",[e._v("localhost:3000")]),e._v(" ("),t("a",{attrs:{href:"http://stackoverflow.com/a/37675542/4632019",target:"_blank",rel:"noopener noreferrer"}},[e._v("Source"),t("OutboundLink")],1),e._v(")")]),e._v(" "),t("p",[e._v("In this example:")]),e._v(" "),t("p",[t("code",[e._v("-Mmodule")]),e._v(" executes "),t("code",[e._v("use module;")]),e._v(" before executing your program"),t("br"),e._v(" "),t("code",[e._v("-E commandline")]),e._v(" is used to enter one line of program"),t("br"),e._v("\nIf you have no "),t("code",[e._v("ojo")]),e._v(" module you can use "),t("code",[e._v("cpanm ojo")]),e._v(" command to install it")]),e._v(" "),t("p",[e._v("To read more about how to run perl use "),t("code",[e._v("perldoc perlrun")]),e._v(" command or read "),t("a",{attrs:{href:"http://perldoc.perl.org/perlrun.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);