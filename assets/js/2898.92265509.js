(window.webpackJsonp=window.webpackJsonp||[]).push([[2898],{3306:function(e,t,a){"use strict";a.r(t);var s=a(31),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"hierarchical-linear-modeling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hierarchical-linear-modeling"}},[e._v("#")]),e._v(" Hierarchical Linear Modeling")]),e._v(" "),a("h2",{attrs:{id:"basic-model-fitting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-model-fitting"}},[e._v("#")]),e._v(" basic model fitting")]),e._v(" "),a("p",[a("strong",[e._v("apologies")]),e._v(": "),a("strong",[e._v("since I don't know of a channel for discussing/providing feedback on requests for improvement, I'm going to put my question here. Please feel free to point out a better place for this!")]),e._v(" @DataTx states that this is \"completely unclear, incomplete, or has severe formatting problems\".  Since I don't see any big formatting problems (ðŸ˜ƒ ), a little bit more guidance about what's expected here for improving clarity or completeness, and why what's here is unsalvageable, would be useful.")]),e._v(" "),a("p",[e._v('The primary packages for fitting hierarchical (alternatively "mixed" or "multilevel") linear models in R are '),a("code",[e._v("nlme")]),e._v(" (older) and "),a("code",[e._v("lme4")]),e._v(" (newer). These packages differ in many minor ways but should generally result in very similar fitted models.")]),e._v(" "),a("div",{staticClass:"language-r extra-class"},[a("pre",{pre:!0,attrs:{class:"language-r"}},[a("code",[e._v("library"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("nlme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nlibrary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("lme4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nm1.nlme "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<-")]),e._v(" lme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Reaction"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("~")]),e._v("Days"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("random"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("~")]),e._v("Days"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("Subject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("sleepstudy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("method"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"REML"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nm1.lme4 "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<-")]),e._v(" lmer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Reaction"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("~")]),e._v("Days"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Days"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("Subject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("sleepstudy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("REML"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("TRUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nall.equal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("fixef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("m1.nlme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("fixef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("m1.lme4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("## [1] TRUE")]),e._v("\n\n")])])]),a("p",[e._v("Differences to consider:")]),e._v(" "),a("ul",[a("li",[e._v("formula syntax is slightly different")]),e._v(" "),a("li",[a("code",[e._v("nlme")]),e._v(" is (still) somewhat better documented (e.g. Pinheiro and Bates 2000 "),a("strong",[e._v("Mixed-effects models in S-PLUS")]),e._v("; however, see Bates "),a("strong",[e._v("et al.")]),e._v(" 2015 "),a("strong",[e._v("Journal of Statistical Software")]),e._v("/"),a("code",[e._v('vignette("lmer",package="lme4")')]),e._v(" for "),a("code",[e._v("lme4")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("lme4")]),e._v(" is faster and allows easier fitting of crossed random effects")]),e._v(" "),a("li",[a("code",[e._v("nlme")]),e._v(" provides p-values for linear mixed models out of the box, "),a("code",[e._v("lme4")]),e._v(" requires add-on packages such as "),a("code",[e._v("lmerTest")]),e._v(" or "),a("code",[e._v("afex")])]),e._v(" "),a("li",[a("code",[e._v("nlme")]),e._v(" allows modeling of heteroscedasticity or residual correlations (in space/time/phylogeny)")])]),e._v(" "),a("p",[e._v("The unofficial "),a("a",{attrs:{href:"http://tinyurl.com/glmmFAQ.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("GLMM FAQ"),a("OutboundLink")],1),e._v(" provides more information, although it is focused on "),a("strong",[e._v("generalized")]),e._v(" linear mixed models (GLMMs).")])])}),[],!1,null,null,null);t.default=n.exports}}]);