(window.webpackJsonp=window.webpackJsonp||[]).push([[843],{1188:function(e,t,a){"use strict";a.r(t);var s=a(19),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"iqueryable-interface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iqueryable-interface"}},[e._v("#")]),e._v(" IQueryable interface")]),e._v(" "),a("h2",{attrs:{id:"translating-a-linq-query-to-a-sql-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#translating-a-linq-query-to-a-sql-query"}},[e._v("#")]),e._v(" Translating a LINQ query to a SQL query")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("IQueryable")]),e._v(" and "),a("code",[e._v("IQueryable<T>")]),e._v(" interfaces allows developers to translate a LINQ query (a 'language-integrated' query) to a specific datasource, for example a relational database. Take this LINQ query written in C#:")]),e._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")])]),e._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" book "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" books\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("where")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("book")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Author "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("==")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Stephen King"')]),e._v(" \n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("select")]),e._v(" book"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n")])])]),a("p",[e._v("If the variable "),a("code",[e._v("books")]),e._v(" is of a type that implements "),a("code",[e._v("IQueryable<Book>")]),e._v(" then the query above gets passed to the provider (set on the "),a("code",[e._v("IQueryable.Provider")]),e._v(" property) in the form of an expression tree, a data structure that reflects the structure of the code.")]),e._v(" "),a("p",[e._v("The provider can inspect the expression tree at runtime to determine:")]),e._v(" "),a("ul",[a("li",[e._v("that there is a predicate for the "),a("code",[e._v("Author")]),e._v(" property of the "),a("code",[e._v("Book")]),e._v(" class;")]),e._v(" "),a("li",[e._v("that the comparison method used is 'equals' ("),a("code",[e._v("==")]),e._v(");")]),e._v(" "),a("li",[e._v("that the value it should equal is "),a("code",[e._v('"Stephen King"')]),e._v(".")])]),e._v(" "),a("p",[e._v("With this information the provider can translate the C# query to a SQL query at runtime and pass that query to a relational database to fetch only those books that match the predicate:")]),e._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("select")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" Books\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("where")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Author")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" 'Stephen King'\n\n")])])]),a("p",[e._v("The provider gets called when the "),a("code",[e._v("query")]),e._v(" variable is iterated over ("),a("code",[e._v("IQueryable")]),e._v(" implements "),a("code",[e._v("IEnumerable")]),e._v(").")]),e._v(" "),a("p",[e._v("(The provider used in this example would require some extra metadata to know which table to query and to know how to match properties of the C# class to columns of the table, but such metadata is outside of the scope of the "),a("code",[e._v("IQueryable")]),e._v(" interface.)")])])}),[],!1,null,null,null);t.default=r.exports}}]);