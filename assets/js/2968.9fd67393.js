(window.webpackJsonp=window.webpackJsonp||[]).push([[2968],{3376:function(t,s,a){"use strict";a.r(s);var n=a(31),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"text-mining"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#text-mining"}},[t._v("#")]),t._v(" Text mining")]),t._v(" "),a("h2",{attrs:{id:"scraping-data-to-build-n-gram-word-clouds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scraping-data-to-build-n-gram-word-clouds"}},[t._v("#")]),t._v(" Scraping Data to build N-gram Word Clouds")]),t._v(" "),a("p",[t._v("The following example utilizes the "),a("code",[t._v("tm")]),t._v(" text mining package to scrape and mine text data from the web to build word clouds with symbolic shading and ordering.")]),t._v(" "),a("div",{staticClass:"language-r extra-class"},[a("pre",{pre:!0,attrs:{class:"language-r"}},[a("code",[t._v("require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RWeka"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrequire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tau"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrequire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrequire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tm.plugin.webmining"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrequire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("wordcloud"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scrape Google Finance ---------------------------------------------------")]),t._v("\ngooglefinance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GoogleFinanceSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NASDAQ:LFVN"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scrape Google News ------------------------------------------------------")]),t._v("\nlv.googlenews "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GoogleNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LifeVantage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np.googlenews  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GoogleNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protandim"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nts.googlenews "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GoogleNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TrueScience"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scrape NYTimes ----------------------------------------------------------")]),t._v("\nlv.nytimes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NYTimesSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("query "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LifeVantage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" appid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nytimes_appid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np.nytimes  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NYTimesSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protandim"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" appid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nytimes_appid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nts.nytimes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NYTimesSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TrueScience"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" appid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nytimes_appid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scrape Reuters ----------------------------------------------------------")]),t._v("\nlv.reutersnews "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ReutersNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LifeVantage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np.reutersnews  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ReutersNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protandim"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nts.reutersnews "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ReutersNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TrueScience"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scrape Yahoo! Finance ---------------------------------------------------")]),t._v("\nlv.yahoofinance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("YahooFinanceSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LFVN"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scrape Yahoo! News ------------------------------------------------------")]),t._v("\nlv.yahoonews "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("YahooNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LifeVantage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np.yahoonews  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("YahooNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protandim"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nts.yahoonews "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("YahooNewsSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TrueScience"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scrape Yahoo! Inplay ----------------------------------------------------")]),t._v("\nlv.yahooinplay "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" WebCorpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("YahooInplaySource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LifeVantage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Text Mining the Results -------------------------------------------------")]),t._v("\ncorpus "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("googlefinance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lv.googlenews"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p.googlenews"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ts.googlenews"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lv.yahoofinance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lv.yahoonews"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p.yahoonews"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nts.yahoonews"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lv.yahooinplay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#lv.nytimes, p.nytimes, ts.nytimes,lv.reutersnews, p.reutersnews, ts.reutersnews,")]),t._v("\n \ninspect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("corpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwordlist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lfvn"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lifevantage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protandim"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"truescience"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"company"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fiscal"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nasdaq"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \nds0."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tm_map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("corpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content_transformer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tolower"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nds1."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tm_map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds0."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content_transformer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("removeWords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wordlist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nds1."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tm_map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds1."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content_transformer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("removeWords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stopwords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"english"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nds2."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tm_map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds1."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stripWhitespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nds3."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tm_map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds2."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" removePunctuation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nds4."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tm_map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds3."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stemDocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \ntdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" TermDocumentMatrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds4."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndtm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" DocumentTermMatrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds4."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nfindFreqTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfindFreqTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfindFreqTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfindFreqTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \nfindAssocs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dtm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"skin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".75")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfindAssocs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dtm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scienc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfindAssocs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dtm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"product"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".75")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n \ntdm89."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.89")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntdm9."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntdm91."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.91")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntdm92."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.92")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \ntdm2."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tdm92."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Creates a Boolean matrix (counts # docs w/terms, not raw # terms)")]),t._v("\ntdm3."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" inspect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm2."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntdm3."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tdm3."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" \n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Transform into a term-term adjacency matrix")]),t._v("\ntermMatrix."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("gram "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tdm3."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token percent-operator operator"}},[t._v("%*%")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm3."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# inspect terms numbered 5 to 10")]),t._v("\ntermMatrix."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("gram"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ntermMatrix."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("gram"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Create a WordCloud to Visualize the Text Data ---------------------------")]),t._v("\nnotsparse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tdm2."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g\nm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" as.matrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("notsparse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sort"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rowSums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("decreasing"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("TRUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data.frame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("word "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" names"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("freq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Create the word cloud")]),t._v("\npal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" brewer.pal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BuPu"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwordcloud"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("words "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("word"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          freq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("freq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          scale "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          random.order "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          colors "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[a("a",{attrs:{href:"http://i.stack.imgur.com/hdGVE.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"http://i.stack.imgur.com/hdGVE.png",alt:"enter image description here"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Note the use of "),a("code",[t._v("random.order")]),t._v(" and a sequential pallet from RColorBrewer, which allows the programmer to capture more information in the cloud by assigning meaning to the order and coloring of terms.")]),t._v(" "),a("p",[t._v("Above is the 1-gram case.")]),t._v(" "),a("p",[t._v("We can make a major leap to n-gram word clouds and in doing so we’ll see how to make almost any text-mining analysis flexible enough to handle n-grams by transforming our TDM.")]),t._v(" "),a("p",[t._v("The initial difficulty you run into with n-grams in R is that "),a("code",[t._v("tm")]),t._v(", the most popular package for text mining, does not inherently support tokenization of bi-grams or n-grams. Tokenization is the process of representing a word, part of a word, or group of words (or symbols) as a single data element called a token.")]),t._v(" "),a("p",[t._v("Fortunately, we have some hacks which allow us to continue using "),a("code",[t._v("tm")]),t._v(" with an upgraded tokenizer.  There’s more than one way to achieve this. We can write our own simple tokenizer using the "),a("code",[t._v("textcnt()")]),t._v(" function from tau:")]),t._v(" "),a("div",{staticClass:"language-r extra-class"},[a("pre",{pre:!0,attrs:{class:"language-r"}},[a("code",[t._v("tokenize_ngrams "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" return"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rownames"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("as.data.frame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("unclass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("textcnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("or we can invoke "),a("code",[t._v("RWeka")]),t._v("'s tokenizer within "),a("code",[t._v("tm")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-r extra-class"},[a("pre",{pre:!0,attrs:{class:"language-r"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# BigramTokenize")]),t._v("\nBigramTokenizer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" NGramTokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Weka_control"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("min "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("From this point you can proceed much as in the 1-gram case:")]),t._v(" "),a("div",{staticClass:"language-r extra-class"},[a("pre",{pre:!0,attrs:{class:"language-r"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Create an n-gram Word Cloud ----------------------------------------------")]),t._v("\ntdm.ng "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" TermDocumentMatrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds5."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" control "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tokenize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BigramTokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndtm.ng "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" DocumentTermMatrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ds5."),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" control "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tokenize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BigramTokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Try removing sparse terms at a few different levels")]),t._v("\ntdm89.ng "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm.ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.89")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntdm9.ng  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm.ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntdm91.ng "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm.ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.91")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntdm92.ng "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" removeSparseTerms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tdm.ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.92")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nnotsparse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" tdm91.ng\nm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" as.matrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("notsparse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sort"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rowSums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("decreasing"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("TRUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data.frame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("word "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" names"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("freq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Create the word cloud")]),t._v("\npal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" brewer.pal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BuPu"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwordcloud"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("words "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("word"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          freq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("freq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          scale "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          random.order "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          colors "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[a("a",{attrs:{href:"http://i.stack.imgur.com/SKLQ2.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"http://i.stack.imgur.com/SKLQ2.png",alt:"enter image description here"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("The example above is "),a("a",{attrs:{href:"http://hack-r.com/n-gram-wordclouds-in-r/",target:"_blank",rel:"noopener noreferrer"}},[t._v("reproduced"),a("OutboundLink")],1),t._v(" with permission from Hack-R's data science blog. Additional commentary may be found in the original article.")])])}),[],!1,null,null,null);s.default=e.exports}}]);