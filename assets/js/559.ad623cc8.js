(window.webpackJsonp=window.webpackJsonp||[]).push([[559],{967:function(e,t,a){"use strict";a.r(t);var n=a(31),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"create-and-include-header-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-and-include-header-files"}},[e._v("#")]),e._v(" Create and include header files")]),e._v(" "),a("p",[e._v("In modern C, header files are crucial tools that must be designed and used correctly.  They allow the compiler to cross-check independently compiled parts of a program.")]),e._v(" "),a("p",[e._v("Headers declare types, functions, macros etc that are needed by the consumers of a set of facilities.\nAll the code that uses any of those facilities includes the header.\nAll the code that defines those facilities includes the header.\nThis allows the compiler to check that the uses and definitions match.")]),e._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),a("p",[e._v("There are a number of guidelines to follow when creating and using\nheader files in a C project:")]),e._v(" "),a("li",[e._v("\nIdemopotence\n"),a("p",[e._v("If a header file is included multiple times in a translation unit\n(TU), it should not break builds.")])]),e._v(" "),a("li",[e._v("\nSelf-containment\n"),a("p",[e._v("If you need the facilities declared in a header file, you should not\nhave to include any other headers explicitly.")])]),e._v(" "),a("li",[e._v("\nMinimality\n"),a("p",[e._v("You should not be able to remove any information from a header without\ncausing builds to fail.")])]),e._v(" "),a("li",[e._v("\nInclude What You Use (IWYU)\n"),a("p",[e._v('Of more concern to C++ than C, but nevertheless important in C too.\nIf the code in a TU (call it `code.c`) directly uses the features\ndeclared by a header (call it `"headerA.h"`), then `code.c` should\n`#include "headerA.h"` directly, even if the TU includes another\nheader (call it `"headerB.h"`) that happens, at the moment, to include\n`"headerA.h"`.')])]),e._v(" "),a("p",[e._v("Occasionally, there might be good enough reasons to break one or more of\nthese guidelines, but you should both be aware that you are breaking the\nrule and be aware of the consequences of doing so before you break it.")]),e._v(" "),a("h2",{attrs:{id:"self-containment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#self-containment"}},[e._v("#")]),e._v(" Self-containment")]),e._v(" "),a("p",[e._v("Modern headers should be self-contained, which means that a program that needs to use the facilities defined by "),a("code",[e._v("header.h")]),e._v(" can include that header ("),a("code",[e._v('#include "header.h"')]),e._v(") and not worry about whether other headers need to be included first.")]),e._v(" "),a("h3",{attrs:{id:"recommendation-header-files-should-be-self-contained"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#recommendation-header-files-should-be-self-contained"}},[e._v("#")]),e._v(" Recommendation: Header files should be self-contained.")]),e._v(" "),a("h3",{attrs:{id:"historical-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#historical-rules"}},[e._v("#")]),e._v(" Historical rules")]),e._v(" "),a("p",[e._v("Historically, this has been a mildly contentious subject.")]),e._v(" "),a("p",[e._v("Once upon another millennium, the "),a("a",{attrs:{href:"http://www.literateprogramming.com/indhill-annot.pdf",rel:"nofollow noreferrer"}},[e._v("AT&T Indian Hill C Style and Coding\nStandards")]),e._v(" stated:")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("Header files should not be nested.\nThe prologue for a header file should, therefore, describe what other\nheaders need to be `#include`d for the header to be functional.\nIn extreme cases, where a large number of header files are to be\nincluded in several different source files, it is acceptable to put\nall common `#include`s in one include file.")]),e._v(" "),a("p",[e._v("This is the antithesis of self-containment.")]),e._v(" "),a("h3",{attrs:{id:"modern-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modern-rules"}},[e._v("#")]),e._v(" Modern rules")]),e._v(" "),a("p",[e._v("However, since then, opinion has tended in the opposite direction.\nIf a source file needs to use the facilities declared by a header\n"),a("code",[e._v("header.h")]),e._v(", the programmer should be able to write:")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("include")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"header.h"')])]),e._v("\n\n")])])]),a("p",[e._v("and (subject only to having the correct search paths set on the command\nline), any necessary pre-requisite headers will be included by\n"),a("code",[e._v("header.h")]),e._v(" without needing any further headers added to the source file.")]),e._v(" "),a("p",[e._v('This provides better modularity for the source code.\nIt also protects the source from the "guess why this header was added" conundrum that arises after the code has been modified and hacked for a decade or two.')]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"http://stackoverflow.com/questions/1804486/should-i-use-include-in-headers"}},[e._v("NASA Goddard Space Flight Center (GSFC) coding standards for\nC")]),e._v("\nis one of the more modern standards — but is now a little hard to\ntrack down.\nIt states that headers should be self-contained.\nIt also provides a simple way to ensure that headers are self-contained:\nthe implementation file for the header should include the header as the first\nheader.\nIf it is not self-contained, that code will not compile.")]),e._v(" "),a("p",[e._v("The rationale given by GSFC includes:")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("§2.1.1 Header include rationale")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("This standard requires a unit’s header to contain `#include`\nstatements for all other headers required by the unit header.\nPlacing `#include` for the unit header first in the unit body allows\nthe compiler to verify that the header contains all required\n`#include` statements.")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("An alternate design, not permitted by this standard, allows no\n`#include` statements in headers; all `#includes` are done in the body\nfiles.\nUnit header files then must contain #ifdef statements that check that\nthe required headers are included in the proper order.")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("One advantage of the alternate design is that the `#include` list in\nthe body file is exactly the dependency list needed in a makefile, and\nthis list is checked by the compiler.\nWith the standard design, a tool must be used to generate the\ndependency list.\nHowever, all of the branch recommended development environments\nprovide such a tool.")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("A major disadvantage of the alternate design is that if a unit’s\nrequired header list changes, each file that uses that unit must be\nedited to update the `#include` statement list.\nAlso, the required header list for a compiler library unit may be\ndifferent on different targets.")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("Another disadvantage of the alternate design is that compiler library\nheader files, and other third party files, must be modified to add the\nrequired `#ifdef` statements.")]),e._v(" "),a("p",[e._v("Thus, self-containment means that:")]),e._v(" "),a("li",[e._v("If a header `header.h` needs a new nested header `extra.h`, you do not\nhave to check every source file that uses `header.h` to see whether\nyou need to add `extra.h`.")]),e._v(" "),a("li",[e._v("If a header `header.h` no longer needs to include a specific header\n`notneeded.h`, you do not have to check every source file that uses\n`header.h` to see whether you can safely remove `notneeded.h` (but see [Include what you use](https://stackoverflow.com/documentation/c/6257/create-and-include-header-files/21641/include-what-you-use-iwyu).")]),e._v(" "),a("li",[e._v("You do not have to establish the correct sequence for including the\npre-requisite headers (which requires a topological sort to do the job\nproperly).")]),e._v(" "),a("h3",{attrs:{id:"checking-self-containment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checking-self-containment"}},[e._v("#")]),e._v(" Checking self-containment")]),e._v(" "),a("p",[e._v("See "),a("a",{attrs:{href:"http://stackoverflow.com/questions/4507896"}},[e._v("Linking against a static\nlibrary")]),e._v(" for a script\n"),a("code",[e._v("chkhdr")]),e._v(" that can be used to test idempotence and self-containment of\na header file.")]),e._v(" "),a("h2",{attrs:{id:"minimality"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minimality"}},[e._v("#")]),e._v(" Minimality")]),e._v(" "),a("p",[e._v("Headers are a crucial consistency checking mechanism, but they should be\nas small as possible.\nIn particular, that means that a header should not include other headers\njust because the implementation file will need the other headers.\nA header should contain only those headers necessary for a consumer of\nthe services described.")]),e._v(" "),a("p",[e._v("For example, a project header should not include "),a("code",[e._v("<stdio.h>")]),e._v(" unless one\nof the function interfaces uses the type "),a("code",[e._v("FILE *")]),e._v(" (or one of the other\ntypes defined solely in "),a("code",[e._v("<stdio.h>")]),e._v(").\nIf an interface uses "),a("code",[e._v("size_t")]),e._v(", the smallest header that suffices is\n"),a("code",[e._v("<stddef.h>")]),e._v(".\nObviously, if another header that defines "),a("code",[e._v("size_t")]),e._v(" is included, there is\nno need to include "),a("code",[e._v("<stddef.h>")]),e._v(" too.")]),e._v(" "),a("p",[e._v("If the headers are minimal, then it keeps the compilation time to a\nminimum too.")]),e._v(" "),a("p",[e._v("It is possible to devise headers whose sole purpose is to include a lot\nof other headers.\nThese seldom turn out to be a good idea in the long run because few\nsource files will actually need all the facilities described by all the\nheaders.\nFor example, a "),a("code",[e._v("<standard-c.h>")]),e._v(" could be devised that includes all the\nstandard C headers — with care since some headers are not always\npresent.\nHowever, very few programs actually use the facilities of "),a("code",[e._v("<locale.h>")]),e._v("\nor "),a("code",[e._v("<tgmath.h>")]),e._v(".")]),e._v(" "),a("li",[e._v("See also "),a("a",{attrs:{href:"http://stackoverflow.com/questions/15622409"}},[e._v("How to link multiple implementation files in\nC?")])]),e._v(" "),a("h2",{attrs:{id:"notation-and-miscellany"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notation-and-miscellany"}},[e._v("#")]),e._v(" Notation and Miscellany")]),e._v(" "),a("p",[e._v("The C standard says that there is very little difference between the\n"),a("code",[e._v("#include <header.h>")]),e._v(" and "),a("code",[e._v('#include "header.h"')]),e._v(" notations.")]),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v("[`#include "),a("header.h",[e._v("`] searches a sequence of implementation-defined\nplaces for a header identified uniquely by the specified sequence\nbetween the `<` and `>` delimiters, and causes the replacement of that\ndirective by the entire contents of the header.\nHow the places are specified or the header identified is\nimplementation-defined.")])],1),e._v(" "),a("blockquote"),e._v(" "),a("p",[e._v('[`#include "header.h"`] causes the replacement of that directive by\nthe entire contents of the source file identified by the specified\nsequence between the `"…"` delimiters.\nThe named source file is searched for in an implementation-defined\nmanner.\nIf this search is not supported, or if the search fails, the directive\nis reprocessed as if it read [`#include '),a("header.h",[e._v("`] …")])],1),e._v(" "),a("p",[e._v("So, the double quoted form may look in more places than the\nangle-bracketed form.\nThe standard specifies by example that the standard headers should be\nincluded in angle-brackets, even though the compilation works if you use\ndouble quotes instead.\nSimilarly, standards such as POSIX use the angle-bracketed format\n— and you should too.\nReserve double-quoted headers for headers defined by the project.\nFor externally-defined headers (including headers from other projects\nyour project relies on), the angle-bracket notation is most appropriate.")]),e._v(" "),a("p",[e._v("Note that there should be a space between "),a("code",[e._v("#include")]),e._v(" and the header,\neven though the compilers will accept no space there.\nSpaces are cheap.")]),e._v(" "),a("p",[e._v("A number of projects use a notation such as:")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("include")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("<openssl/ssl.h>")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("include")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("<sys/stat.h>")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("include")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("<linux/kernel.h>")])]),e._v("\n\n")])])]),a("p",[e._v("You should consider whether to use that namespace control in your\nproject (it is quite probably a good idea).\nYou should steer clear of the names used by existing projects (in\nparticular, both "),a("code",[e._v("sys")]),e._v(" and "),a("code",[e._v("linux")]),e._v(" would be bad choices).")]),e._v(" "),a("p",[e._v("If you use this, your code should be careful and consistent in the use\nof the notation.")]),e._v(" "),a("p",[e._v("Do not use "),a("code",[e._v('#include "../include/header.h"')]),e._v(" notation.")]),e._v(" "),a("p",[e._v("Header files should seldom if ever define variables.\nAlthough you will keep global variables to a minimum, if you need a\nglobal variable, you will declare it in a header, and define it in one\nsuitable source file, and that source file will include the header to\ncross-check the declaration and definition, and all source files that\nuse the variable will use the header to declare it.")]),e._v(" "),a("p",[e._v("Corollary: you will not declare global variables in a source file — a\nsource file will only contain definitions.")]),e._v(" "),a("p",[e._v("Header files should seldom declare "),a("code",[e._v("static")]),e._v(" functions, with the notable\nexception of "),a("code",[e._v("static inline")]),e._v(" functions which will be defined in headers\nif the function is needed in more than one source file.")]),e._v(" "),a("ul",[a("li",[e._v("Source files define global variables, and global functions.")]),e._v(" "),a("li",[e._v("Source files do not declare the existence of global variables or functions; they include the header that declares the variable or function.")]),e._v(" "),a("li",[e._v("Header files declare global variable and functions (and types and other supporting material).")]),e._v(" "),a("li",[e._v("Header files do not define variables or any functions except ("),a("code",[e._v("static")]),e._v(") "),a("code",[e._v("inline")]),e._v(" functions.")])]),e._v(" "),a("h3",{attrs:{id:"cross-references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cross-references"}},[e._v("#")]),e._v(" Cross-references")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://stackoverflow.com/questions/3568052",target:"_blank",rel:"noopener noreferrer"}},[e._v("Where to document functions in C?"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://stackoverflow.com/questions/2027991",target:"_blank",rel:"noopener noreferrer"}},[e._v("List of standard header files in C and C++"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://stackoverflow.com/questions/6312597",target:"_blank",rel:"noopener noreferrer"}},[e._v("Is "),a("code",[e._v("inline")]),e._v(" without "),a("code",[e._v("static")]),e._v(" or "),a("code",[e._v("extern")]),e._v(" ever useful in C99?"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://stackoverflow.com/questions/1433204",target:"_blank",rel:"noopener noreferrer"}},[e._v("How do I use "),a("code",[e._v("extern")]),e._v(" to share variables between source files?"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://stackoverflow.com/questions/597318",target:"_blank",rel:"noopener noreferrer"}},[e._v("What are the benefits of a relative path such as "),a("code",[e._v('"../include/header.h"')]),e._v(" for a header?"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://stackoverflow.com/questions/1869439",target:"_blank",rel:"noopener noreferrer"}},[e._v("Header inclusion optimization"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://stackoverflow.com/questions/26611481",target:"_blank",rel:"noopener noreferrer"}},[e._v("Should I include every header?"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"idempotence"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idempotence"}},[e._v("#")]),e._v(" Idempotence")]),e._v(" "),a("p",[e._v("If a particular header file is included more than once in a translation unit (TU),\nthere should not be any compilation problems.\nThis is termed 'idempotence'; your headers should be idempotent.\nThink how difficult life would be if you had to ensure that "),a("code",[e._v("#include <stdio.h>")]),e._v(" was only included once.")]),e._v(" "),a("p",[e._v("There are two ways to achieve idempotence: header guards and the "),a("code",[e._v("#pragma once")]),e._v(" directive.")]),e._v(" "),a("h3",{attrs:{id:"header-guards"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#header-guards"}},[e._v("#")]),e._v(" Header guards")]),e._v(" "),a("p",[e._v("Header guards are simple and reliable and conform to the C standard.\nThe first non-comment lines in a header file should be of the form:")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("ifndef")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[e._v("UNIQUE_ID_FOR_HEADER")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("define")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[e._v("UNIQUE_ID_FOR_HEADER")])]),e._v("\n\n")])])]),a("p",[e._v("The last non-comment line should be "),a("code",[e._v("#endif")]),e._v(", optionally with a comment after it:")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("endif")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* UNIQUE_ID_FOR_HEADER */")])]),e._v("\n\n")])])]),a("p",[e._v("All the operational code, including other "),a("code",[e._v("#include")]),e._v(" directives, should\nbe between these lines.")]),e._v(" "),a("p",[e._v("Each name must be unique. Often, a name scheme such as "),a("code",[e._v("HEADER_H_INCLUDED")]),e._v(" is used.\nSome older code uses a symbol defined as the header guard (e.g. "),a("code",[e._v("#ifndef BUFSIZ")]),e._v(" in "),a("code",[e._v("<stdio.h>")]),e._v("), but it is not as reliable as a unique name.")]),e._v(" "),a("p",[e._v("One option would be to use a generated MD5 (or other) hash for the header guard name. You should avoid emulating the schemes used by system headers which frequently use names reserved to the implementation — names starting with an underscore followed by either another underscore or an upper-case letter.")]),e._v(" "),a("h3",{attrs:{id:"the-pragma-once-directive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-pragma-once-directive"}},[e._v("#")]),e._v(" The "),a("code",[e._v("#pragma once")]),e._v(" Directive")]),e._v(" "),a("p",[e._v("Alternatively, some compilers support the "),a("code",[e._v("#pragma once")]),e._v(" directive which has the same effect as the three lines shown for header guards.")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[e._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[e._v("pragma")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[e._v("once")])]),e._v("\n\n")])])]),a("p",[e._v("The compilers which support "),a("code",[e._v("#pragma once")]),e._v(" include MS Visual Studio and GCC and Clang.\nHowever, if portability is a concern, it is better to use header guards, or use both.\nModern compilers (those supporting C89 or later) are required to ignore, without comment, pragmas that they do not recognize ('Any such pragma that is not recognized by the implementation is ignored') but old versions of GCC were not so indulgent.")]),e._v(" "),a("h2",{attrs:{id:"include-what-you-use-iwyu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#include-what-you-use-iwyu"}},[e._v("#")]),e._v(" Include What You Use (IWYU)")]),e._v(" "),a("p",[e._v("Google's "),a("a",{attrs:{href:"http://include-what-you-use.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Include What You Use"),a("OutboundLink")],1),e._v(" project, or IWYU, ensures source files include all headers used in the code.")]),e._v(" "),a("p",[e._v("Suppose a source file "),a("code",[e._v("source.c")]),e._v(" includes a header "),a("code",[e._v("arbitrary.h")]),e._v(" which in turn coincidentally includes "),a("code",[e._v("freeloader.h")]),e._v(", but the source file also explicitly and independently uses the facilities from "),a("code",[e._v("freeloader.h")]),e._v(".  All is well to start with.  Then one day "),a("code",[e._v("arbitrary.h")]),e._v(" is changed so its clients no longer need the facilities of "),a("code",[e._v("freeloader.h")]),e._v(".  Suddenly, "),a("code",[e._v("source.c")]),e._v(" stops compiling — because it didn't meet the IWYU criteria.  Because the code in "),a("code",[e._v("source.c")]),e._v(" explicitly used the facilities of "),a("code",[e._v("freeloader.h")]),e._v(", it should have included what it uses — there should have been an explicit "),a("code",[e._v('#include "freeloader.h"')]),e._v(" in the source too.  ("),a("a",{attrs:{href:"https://stackoverflow.com/documentation/c/6257/create-and-include-header-files/21638/idempotence",target:"_blank",rel:"noopener noreferrer"}},[e._v("Idempotency"),a("OutboundLink")],1),e._v(" would have ensured there wasn't a problem.)")]),e._v(" "),a("p",[e._v("The IWYU philosophy maximizes the probability that code continues to compile even with reasonable changes made to interfaces.  Clearly, if your code calls a function that is subsequently removed from the published interface, no amount of preparation can prevent changes becoming necessary.  This is why changes to APIs are avoided when possible, and why there are deprecation cycles over multiple releases, etc.")]),e._v(" "),a("p",[e._v("This is a particular problem in C++ because standard headers are allowed to include each other. Source file "),a("code",[e._v("file.cpp")]),e._v(" could include one header "),a("code",[e._v("header1.h")]),e._v(" that on one platform includes another header "),a("code",[e._v("header2.h")]),e._v(".  "),a("code",[e._v("file.cpp")]),e._v(" might turn out to use the facilities of "),a("code",[e._v("header2.h")]),e._v(" as well. This wouldn't be a problem initially - the code would compile because "),a("code",[e._v("header1.h")]),e._v(" includes "),a("code",[e._v("header2.h")]),e._v(". On another platform, or an upgrade of the current platform, "),a("code",[e._v("header1.h")]),e._v(" could be revised so it no longer includes "),a("code",[e._v("header2.h")]),e._v(", and then"),a("code",[e._v("file.cpp")]),e._v(" would stop compiling as a result.")]),e._v(" "),a("p",[e._v("IWYU would spot the problem and recommend that "),a("code",[e._v("header2.h")]),e._v(" be included directly in "),a("code",[e._v("file.cpp")]),e._v(". This would ensure it continues to compile.  Analogous considerations apply to C code too.")])])}),[],!1,null,null,null);t.default=o.exports}}]);