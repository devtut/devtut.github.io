(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{543:function(t,a,s){"use strict";s.r(a);var e=s(19),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"gradle-for-android"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gradle-for-android"}},[t._v("#")]),t._v(" Gradle for Android")]),t._v(" "),s("p",[t._v("Gradle is a JVM-based build system that enables developers to write high-level scripts that can be used to automate the process of compilation and application production. It is a flexible plugin-based system, which allows you to automate various aspects of the build process; including compiling and signing a "),s("code",[t._v(".jar")]),t._v(", downloading and managing external dependencies, injecting fields into the "),s("code",[t._v("AndroidManifest")]),t._v(" or utilising specific SDK versions.")]),t._v(" "),s("h2",{attrs:{id:"a-basic-build-gradle-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#a-basic-build-gradle-file"}},[t._v("#")]),t._v(" A basic build.gradle file")]),t._v(" "),s("p",[t._v("This is an example of a default "),s("code",[t._v("build.gradle")]),t._v(" file in a module.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.application'")]),t._v("\n\nandroid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compileSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("\n    buildToolsVersion "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'25.0.3'")]),t._v("\n\n    signingConfigs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        applicationName "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            keyAlias "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'applicationName'")]),t._v("\n            keyPassword "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),t._v("\n            storeFile "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../key/applicationName.jks'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            storePassword "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keystorePassword'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        applicationId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.company.applicationName'")]),t._v("\n        minSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v("\n        targetSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("\n        versionCode "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.0'")]),t._v("\n        signingConfig signingConfigs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("applicationName\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    buildTypes "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        release "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            minifyEnabled "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            proguardFiles "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDefaultProguardFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proguard-android.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proguard-rules.pro'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ndependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compile "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fileTree")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'libs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*.jar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    compile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.support:appcompat-v7:25.3.1'")]),t._v("\n    compile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.support:design:25.3.1'")]),t._v("\n\n    testCompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'junit:junit:4.12'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"dsl-domain-specific-language"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dsl-domain-specific-language"}},[t._v("#")]),t._v(" DSL (domain-specific language)")]),t._v(" "),s("p",[t._v("Each block in the file above is called a "),s("code",[t._v("DSL")]),t._v(" (domain-specific language).")]),t._v(" "),s("h3",{attrs:{id:"plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[t._v("#")]),t._v(" Plugins")]),t._v(" "),s("p",[t._v("The first line, "),s("code",[t._v("apply plugin: 'com.android.application'")]),t._v(", applies the "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2092/introduction-to-android-gradle/19904/android-plugin-for-gradle#t=201609150649318227543",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android plugin for Gradle"),s("OutboundLink")],1),t._v(" to the build and makes the "),s("code",[t._v("android {}")]),t._v(" block available to declare Android-specific build options.")]),t._v(" "),s("p",[t._v("For an "),s("strong",[t._v("Android Application")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.application'")]),t._v("\n\n")])])]),s("p",[t._v("For an "),s("strong",[t._v("Android Library")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.library'")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"understanding-the-dsls-in-the-sample-above"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#understanding-the-dsls-in-the-sample-above"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2161/configure-your-build-with-gradle/7077/the-module-file-example#t=201608060824289248387",target:"_blank",rel:"noopener noreferrer"}},[t._v("Understanding the DSLs"),s("OutboundLink")],1),t._v(" in the sample above")]),t._v(" "),s("p",[t._v("The second part, The "),s("code",[t._v("android {...}")]),t._v(" block, is the Android "),s("code",[t._v("DSL")]),t._v(" which contains information about your project.")]),t._v(" "),s("p",[t._v("For example, you can set the "),s("code",[t._v("compileSdkVersion")]),t._v(" which specifies the Android API level , Which should be used by Gradle to compile your app."),s("br"),t._v("\nThe sub-block "),s("code",[t._v("defaultConfig")]),t._v(" holds the defaults for your manifest. You can "),s("code",[t._v("override")]),t._v(" them with "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2929/configure-product-flavors#t=201609150655525420888",target:"_blank",rel:"noopener noreferrer"}},[t._v("Product Flavors"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("You can find more info in these examples:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2161/configure-your-build-with-gradle/7077/the-module-file-example#t=201609150656268962378",target:"_blank",rel:"noopener noreferrer"}},[t._v("DSL for the app module"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3281/configure-build-types#t=201609150657045925473",target:"_blank",rel:"noopener noreferrer"}},[t._v("Build Types"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2929/configure-product-flavors#t=201609150656541535557",target:"_blank",rel:"noopener noreferrer"}},[t._v("Product Flavors"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/5249/configure-signing-settings#t=201609150657547602413",target:"_blank",rel:"noopener noreferrer"}},[t._v("Signing settings"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dependencies"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies#t=201608040616412368066",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dependencies"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("dependencies")]),t._v(" block is defined outside the "),s("code",[t._v("android")]),t._v(" block "),s("code",[t._v("{...}")]),t._v(" : This means it's not defined by the Android plugin but it's standard Gradle."),s("br"),t._v("\nThe "),s("code",[t._v("dependencies")]),t._v(" block specifies what external libraries (typically Android libraries, but Java libraries are also valid) you wish to include in your app. Gradle will automatically download these dependencies for you (if there is no local copy available), you just need to add similar "),s("code",[t._v("compile")]),t._v(" lines when you wish to add another library.")]),t._v(" "),s("p",[t._v("Let's look at one of the lines present here:")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[s("code",[t._v("compile 'com.android.support:design:25.3.1'")])]),t._v(" "),s("p",[t._v("This line basically says")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("add a dependency on the Android support design library to my project.")]),t._v(" "),s("p",[t._v("Gradle will ensure that the library is downloaded and present so that you can use it in your app, and its code will also be included in your app.")]),t._v(" "),s("p",[t._v("If you're familiar with Maven, this syntax is the "),s("strong",[t._v("GroupId")]),t._v(", a colon, "),s("strong",[t._v("ArtifactId")]),t._v(", another colon, then the version of the dependency you wish to include, giving you full control over versioning.")]),t._v(" "),s("p",[t._v("While it is possible to specify artifact versions using the plus (+) sign, best practice is to avoid doing so; it can lead to issues if the library gets updated with breaking changes without your knowledge, which would likely lead to crashes in your app.")]),t._v(" "),s("p",[t._v("You can add different kind of dependencies:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies/11291/local-binary-dependencies#t=201609150702149292729",target:"_blank",rel:"noopener noreferrer"}},[t._v("local binary dependencies"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies/11290/module-dependencies#t=201609150702254302343",target:"_blank",rel:"noopener noreferrer"}},[t._v("module dependencies"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies/11292/remote-binary-dependencies#t=201609150702366671434",target:"_blank",rel:"noopener noreferrer"}},[t._v("remote dependencies"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("A particular attention should be dedicated to the "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3037/how-to-include-aar-files-in-a-project-in-android#t=201609150703402541119",target:"_blank",rel:"noopener noreferrer"}},[t._v("aar flat dependencies"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("You can find more details in "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies#t=201609150704148588267",target:"_blank",rel:"noopener noreferrer"}},[t._v("this topic."),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Note about the "),s("strong",[t._v("-v7 in "),s("strong",[t._v("appcompat-v7")])])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[s("code",[t._v("compile 'com.android.support:appcompat-v7:25.3.1'")])]),t._v(" "),s("p",[t._v("This simply means that this "),s("strong",[t._v("library")]),t._v(" ("),s("code",[t._v("appcompat")]),t._v(") is compatible with the Android API level 7 and forward.")]),t._v(" "),s("p",[t._v("Note about the "),s("strong",[t._v("junit:junit:4.12")])]),t._v(" "),s("p",[t._v("This is Testing dependency for Unit testing.")]),t._v(" "),s("h3",{attrs:{id:"specifying-dependencies-specific-to-different-build-configurations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#specifying-dependencies-specific-to-different-build-configurations"}},[t._v("#")]),t._v(" Specifying dependencies specific to different build configurations")]),t._v(" "),s("p",[t._v("You can specify that a dependency should only be used for a certain "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies/17861/declare-dependencies-for-configurations#t=201609150706071099895",target:"_blank",rel:"noopener noreferrer"}},[t._v("build configuration"),s("OutboundLink")],1),t._v(" or you can define different dependencies for the "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies/22988/declare-dependencies-for-build-types#t=201609150709405530227",target:"_blank",rel:"noopener noreferrer"}},[t._v("build types"),s("OutboundLink")],1),t._v(" or the "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3289/declare-dependencies/18698/declare-dependencies-for-flavors#t=201609150706431102381",target:"_blank",rel:"noopener noreferrer"}},[t._v("product flavors"),s("OutboundLink")],1),t._v(" (e.g., debug, test or release) by using "),s("code",[t._v("debugCompile")]),t._v(", "),s("code",[t._v("testCompile")]),t._v(" or "),s("code",[t._v("releaseCompile")]),t._v(" instead of the usual "),s("code",[t._v("compile")]),t._v(".")]),t._v(" "),s("p",[t._v("This is helpful for keeping test- and debug- related dependencies out of your release build, which will keep your release "),s("code",[t._v("APK")]),t._v(" as slim as possible and help to ensure that any debug information cannot be used to obtain internal information about your app.")]),t._v(" "),s("h3",{attrs:{id:"signingconfig"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#signingconfig"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/5249/configure-signing-settings#t=201608060822323313637",target:"_blank",rel:"noopener noreferrer"}},[t._v("signingConfig"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("signingConfig")]),t._v(" allows you to configure your Gradle to include "),s("code",[t._v("keystore")]),t._v(" information and ensure that the APK built using these configurations are signed and ready for Play Store release.")]),t._v(" "),s("p",[t._v("Here you can find a "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/5249/configure-signing-settings#t=201609150711373069035",target:"_blank",rel:"noopener noreferrer"}},[t._v("dedicated topic"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Note")]),t._v(": It's not recommended though to keep the signing credentials inside your Gradle file. To remove the signing configurations, just omit the "),s("code",[t._v("signingConfigs")]),t._v(" portion."),s("br"),t._v("\nYou can specify them in different ways:")]),t._v(" "),s("ul",[s("li",[t._v("storing in an "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/5249/configure-signing-settings/18657/define-the-signing-configuration-in-an-external-file#t=201609150713390867222",target:"_blank",rel:"noopener noreferrer"}},[t._v("external file"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("storing them in "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/5249/configure-signing-settings/18658/define-the-signing-configuration-setting-environment-variables#t=201609150713570980288",target:"_blank",rel:"noopener noreferrer"}},[t._v("setting environment variables"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[t._v("See this topic for more details : "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android/95/gradle-for-android/7078/sign-apk-without-exposing-keystore-password#t=201608090310148888637",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sign APK without exposing keystore password"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("You can find further information about Gradle for Android in the "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2161/configure-your-build-with-gradle#t=201608060745337157221",target:"_blank",rel:"noopener noreferrer"}},[t._v("dedicated Gradle topic"),s("OutboundLink")],1)]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"define-and-use-build-configuration-fields"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#define-and-use-build-configuration-fields"}},[t._v("#")]),t._v(" Define and use Build Configuration Fields")]),t._v(" "),s("h3",{attrs:{id:"buildconfigfield"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#buildconfigfield"}},[t._v("#")]),t._v(" "),s("strong",[t._v("BuildConfigField")])]),t._v(" "),s("p",[t._v("Gradle allows "),s("code",[t._v("buildConfigField")]),t._v(" lines to define constants. These constants will be accessible at runtime as static fields of the "),s("code",[t._v("BuildConfig")]),t._v(" class. This can be used to create "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android/95/gradle-for-android/401/defining-product-flavors#t=20160804061141663974",target:"_blank",rel:"noopener noreferrer"}},[t._v("flavors"),s("OutboundLink")],1),t._v(" by defining all fields within the "),s("code",[t._v("defaultConfig")]),t._v(" block, then overriding them for individual build flavors as needed.")]),t._v(" "),s("p",[t._v("This example defines the build date and flags the build for production rather than test:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// defining the build date")]),t._v("\n        buildConfigField "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"long"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BUILD_DATE"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentTimeMillis")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"L"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// define whether this build is a production build")]),t._v("\n        buildConfigField "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"boolean"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"IS_PRODUCTION"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// note that to define a string you need to escape it")]),t._v("\n        buildConfigField "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"String"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_KEY"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\"my_api_key\\""')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    productFlavors "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        prod "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// override the productive flag for the flavor "prod"')]),t._v("\n            buildConfigField "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"boolean"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"IS_PRODUCTION"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("\n            resValue "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app_name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'My App Name'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        dev "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// inherit default fields")]),t._v("\n            resValue "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app_name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'My App Name - Dev'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The automatically-generated <package_name>."),s("code",[t._v("BuildConfig")]),t._v(".java in the gen folder contains the following fields based on the directive above:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildConfig")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... other generated fields ...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" BUILD_DATE "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1469504547000L")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" IS_PRODUCTION "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" API_KEY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_api_key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The defined fields can now be used within the app at runtime by accessing the generated "),s("code",[t._v("BuildConfig")]),t._v(" class:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("example")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// format the build date")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SimpleDateFormat")]),t._v(" dateFormat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SimpleDateFormat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yyyy/MM/dd"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" buildDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dateFormat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BUILD_DATE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("d")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build date"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" buildDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do something depending whether this is a productive build")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IS_PRODUCTION"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connectToProductionApiEndpoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connectToStagingApiEndpoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"resvalue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resvalue"}},[t._v("#")]),t._v(" ResValue")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("resValue")]),t._v(" in the "),s("code",[t._v("productFlavors")]),t._v(" creates a resource value. It can be any type of resource ("),s("code",[t._v("string")]),t._v(", "),s("code",[t._v("dimen")]),t._v(", "),s("code",[t._v("color")]),t._v(", etc.). This is similar to defining a resource in the appropriate file: e.g. defining string in a "),s("code",[t._v("strings.xml")]),t._v(" file. The advantage being that the one defined in gradle can be modified based on your productFlavor/buildVariant. To access the value, write the same code as if you were accessing a res from the resources file:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[t._v("The important thing is that resources defined this way cannot modify existing resources defined in files. They can only create new resource values.")]),t._v(" "),s("p",[t._v("Some libraries (such as the Google Maps Android API) require an API key provided in the Manifest as a "),s("code",[t._v("meta-data")]),t._v(" tag. If different keys are needed for debugging and production builds, specify a manifest placeholder filled in by Gradle.")]),t._v(" "),s("p",[t._v("In your "),s("code",[t._v("AndroidManifest.xml")]),t._v(" file:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("meta"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("data\n    android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.android.geo.API_KEY"')]),t._v("\n    android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${MAPS_API_KEY}"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("p",[t._v("And then set the field accordingly in your "),s("code",[t._v("build.gradle")]),t._v(" file:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Your development key")]),t._v("\n        manifestPlaceholders "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" MAPS_API_KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AIza..."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    productFlavors "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        prod "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Your production key")]),t._v("\n            manifestPlaceholders "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" MAPS_API_KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AIza..."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The Android build system generates a number of fields automatically and places them in "),s("code",[t._v("BuildConfig.java")]),t._v(". These fields are:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Field")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("DEBUG")])]),t._v(" "),s("td",[t._v("a "),s("code",[t._v("Boolean")]),t._v(" stating if the app is in debug or release mode")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("APPLICATION_ID")])]),t._v(" "),s("td",[t._v("a "),s("code",[t._v("String")]),t._v(" containing the ID of the application (e.g. "),s("code",[t._v("com.example.app")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("BUILD_TYPE")])]),t._v(" "),s("td",[t._v("a "),s("code",[t._v("String")]),t._v(" containing the build type of the application (usually either "),s("code",[t._v("debug")]),t._v(" or "),s("code",[t._v("release")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("FLAVOR")])]),t._v(" "),s("td",[t._v("a "),s("code",[t._v("String")]),t._v(" containing the particular flavor of the build")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("VERSION_CODE")])]),t._v(" "),s("td",[t._v("an "),s("code",[t._v("int")]),t._v(" containing the version (build) number."),s("br"),t._v("This is the same as "),s("code",[t._v("versionCode")]),t._v(" in "),s("code",[t._v("build.gradle")]),t._v(" or "),s("code",[t._v("versionCode")]),t._v(" in "),s("code",[t._v("AndroidManifest.xml")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("VERSION_NAME")])]),t._v(" "),s("td",[t._v("a "),s("code",[t._v("String")]),t._v(" containing the version (build) name."),s("br"),t._v("This is the same as "),s("code",[t._v("versionName")]),t._v(" in "),s("code",[t._v("build.gradle")]),t._v(" or "),s("code",[t._v("versionName")]),t._v(" in "),s("code",[t._v("AndroidManifest.xml")])])])])]),t._v(" "),s("p",[t._v("In addition to the above, if you have defined multiple dimensions of flavor then each dimension will have its own value.  For example, if you had two dimensions of flavor for "),s("code",[t._v("color")]),t._v(" and "),s("code",[t._v("size")]),t._v(" you will also have the following variables:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Field")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("FLAVOR_color")])]),t._v(" "),s("td",[t._v("a "),s("code",[t._v("String")]),t._v(" containing the value for the 'color' flavor.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("FLAVOR_size")])]),t._v(" "),s("td",[t._v("a "),s("code",[t._v("String")]),t._v(" containing the value for the 'size' flavor.")])])])]),t._v(" "),s("h2",{attrs:{id:"centralizing-dependencies-via-dependencies-gradle-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centralizing-dependencies-via-dependencies-gradle-file"}},[t._v("#")]),t._v(' Centralizing dependencies via "dependencies.gradle" file')]),t._v(" "),s("p",[t._v("When working with multi-module projects, it is helpful to centralize dependencies in a single location rather than having them spread across many build files, especially for common libraries such as the Android support libraries and the "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/firebase/816/introduction-to-firebase#t=201608060827057525928",target:"_blank",rel:"noopener noreferrer"}},[t._v("Firebase libraries"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("One recommended way is to separate the Gradle build files, with one "),s("code",[t._v("build.gradle")]),t._v(" per module, as well as one in the project root and another one for the dependencies, for example:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("root\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" gradleScript"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     dependencies"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" module1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" module2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle\n\n")])])]),s("p",[t._v("Then, all of your dependencies can be located in "),s("code",[t._v("gradleScript/dependencies.gradle")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("ext "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Version")]),t._v("\n    supportVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'24.1.0'")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Support Libraries dependencies")]),t._v("\n    supportDependencies "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            design"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:design:${supportVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            recyclerView"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:recyclerview-v7:${supportVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            cardView"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:cardview-v7:${supportVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            appCompat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:appcompat-v7:${supportVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            supportAnnotation"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:support-annotations:${supportVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n    firebaseVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9.2.0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    firebaseDependencies "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            core"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-core:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            database"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-database:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            storage"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-storage:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            crash"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-crash:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            auth"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-auth:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            messaging"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-messaging:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            remoteConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-config:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            invites"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-invites:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            adMod"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.firebase:firebase-ads:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            appIndexing"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.google.android.gms:play-services-appindexing:${firebaseVersion}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("Which can then be applied from that file in the top level file "),s("code",[t._v("build.gradle")]),t._v(" like so:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Load dependencies")]),t._v("\napply from"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gradleScript/dependencies.gradle'")]),t._v("\n\n")])])]),s("p",[t._v("and in the "),s("code",[t._v("module1/build.gradle")]),t._v(" like so:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Module build file")]),t._v("\ndependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    compile supportDependencies"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appCompat\n    compile supportDependencies"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("design\n    compile firebaseDependencies"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("crash\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"another-approach"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#another-approach"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Another approach")])]),t._v(" "),s("p",[t._v("A less verbose approach for centralizing library dependencies versions can be achieved by declaring the version number as a variable once, and using it everywhere.")]),t._v(" "),s("p",[t._v("In the workspace root "),s("code",[t._v("build.gradle")]),t._v(" add this:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("ext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    supportVersion"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'24.1.1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),s("p",[t._v("And in every module that uses the same library add the needed libraries")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("compile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:support-v4:${v.supportVersion}"')]),t._v("\ncompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:recyclerview-v7:${v.supportVersion}"')]),t._v("\ncompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:design:${v.supportVersion}"')]),t._v("\ncompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:support-annotations:${v.supportVersion}"')]),t._v("\n\n")])])]),s("h2",{attrs:{id:"sign-apk-without-exposing-keystore-password"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sign-apk-without-exposing-keystore-password"}},[t._v("#")]),t._v(" Sign APK without exposing keystore password")]),t._v(" "),s("p",[t._v("You can define the signing configuration to sign the apk in the "),s("code",[t._v("build.gradle")]),t._v(" file\nusing these properties:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("storeFile")]),t._v(" : the keystore file")]),t._v(" "),s("li",[s("code",[t._v("storePassword")]),t._v(": the keystore password")]),t._v(" "),s("li",[s("code",[t._v("keyAlias")]),t._v(": a key alias name")]),t._v(" "),s("li",[s("code",[t._v("keyPassword")]),t._v(": A key alias password")])]),t._v(" "),s("p",[t._v("In many case you may need to avoid this kind of info in the "),s("code",[t._v("build.gradle")]),t._v(" file.")]),t._v(" "),s("h3",{attrs:{id:"method-a-configure-release-signing-using-a-keystore-properties-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#method-a-configure-release-signing-using-a-keystore-properties-file"}},[t._v("#")]),t._v(" Method A: Configure release signing using a keystore.properties file")]),t._v(" "),s("p",[t._v("It's possible to configure your app's "),s("code",[t._v("build.gradle")]),t._v(" so that it will read your signing configuration information from a properties file like "),s("code",[t._v("keystore.properties")]),t._v(".")]),t._v(" "),s("p",[t._v("Setting up signing like this is beneficial because:")]),t._v(" "),s("ul",[s("li",[t._v("Your signing configuration information is separate from your "),s("code",[t._v("build.gradle")]),t._v(" file")]),t._v(" "),s("li",[t._v("You do not have to intervene during the signing process in order to provide passwords for your keystore file")]),t._v(" "),s("li",[t._v("You can easily exclude the "),s("code",[t._v("keystore.properties")]),t._v(" file from version control")])]),t._v(" "),s("p",[t._v("First, create a file called "),s("code",[t._v("keystore.properties")]),t._v(" in the root of your project with content like this (replacing the values with your own):")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("storeFile"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("keystore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jks\nstorePassword"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("storePassword\nkeyAlias"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("keyAlias\nkeyPassword"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("keyPassword\n\n\n")])])]),s("p",[t._v("Now, in your app's "),s("code",[t._v("build.gradle")]),t._v(" file, set up the "),s("code",[t._v("signingConfigs")]),t._v(" block as follows:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n    signingConfigs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        release "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            def propsFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rootProject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keystore.properties'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("propsFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exists")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                def props "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("propsFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                storeFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'storeFile'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                storePassword "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'storePassword'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                keyAlias "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keyAlias'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                keyPassword "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keyPassword'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("That's really all there is to it, "),s("strong",[t._v("but don't forget to exclude both your keystore file and your "),s("code",[t._v("keystore.properties")]),t._v(" file from version control")]),t._v(".")]),t._v(" "),s("p",[t._v("A couple of things to note:")]),t._v(" "),s("ul",[s("li",[t._v("The "),s("code",[t._v("storeFile")]),t._v(" path specified in the "),s("code",[t._v("keystore.properties")]),t._v(" file should be relative to your app's "),s("code",[t._v("build.gradle")]),t._v(" file. This example assumes that the keystore file is in the same directory as the app's "),s("code",[t._v("build.gradle")]),t._v(" file.")]),t._v(" "),s("li",[t._v("This example has the "),s("code",[t._v("keystore.properties")]),t._v(" file in the root of the project. If you put it somewhere else, be sure to change the value in "),s("code",[t._v("rootProject.file('keystore.properties')")]),t._v(" to the location of yours, relative to the root of your project.")])]),t._v(" "),s("h3",{attrs:{id:"method-b-by-using-an-environment-variable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#method-b-by-using-an-environment-variable"}},[t._v("#")]),t._v(" Method B: By using an environment variable")]),t._v(" "),s("p",[t._v("The same can be achieved also without a properties file, making the password harder to find:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  signingConfigs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    release "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        storeFile "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/your/keystore/location/key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        keyAlias "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your_alias'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" ps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getenv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ps"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GradleException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'missing ps env variable'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        keyPassword ps\n        storePassword ps\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The "),s("code",[t._v('"ps"')]),t._v(" environment variable can be global, but a safer approach can be by adding it to the shell of Android Studio only.\n"),s("br"),t._v("In linux this can be done by editing Android Studio's "),s("code",[t._v("Desktop Entry")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exec")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"export ps=myPassword123 ; /path/to/studio.sh"')]),t._v("\n\n")])])]),s("p",[t._v("You can find more details in "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/5249/configure-signing-settings#t=201608060810223146528",target:"_blank",rel:"noopener noreferrer"}},[t._v("this topic"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"adding-product-flavor-specific-dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-product-flavor-specific-dependencies"}},[t._v("#")]),t._v(" Adding product flavor-specific dependencies")]),t._v(" "),s("p",[t._v("Dependencies can be added for a specific "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2929/configure-product-flavors#t=201609161745387396696",target:"_blank",rel:"noopener noreferrer"}},[t._v("product flavor"),s("OutboundLink")],1),t._v(", similar to how they can be added for specific build configurations.")]),t._v(" "),s("p",[t._v("For this example, assume that we have already defined two product flavors called "),s("code",[t._v("free")]),t._v(" and "),s("code",[t._v("paid")]),t._v(" (more on defining "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2929/configure-product-flavors/9932/how-to-configure-the-build-gradle-file#t=201609161746456086524",target:"_blank",rel:"noopener noreferrer"}},[t._v("flavors here"),s("OutboundLink")],1),t._v(")."),s("br"),t._v("\nWe can then add the AdMob dependency for the "),s("code",[t._v("free")]),t._v(" flavor, and the Picasso library for the "),s("code",[t._v("paid")]),t._v(" one like so:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n    productFlavors "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        free "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            applicationId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.app.free"')]),t._v("\n            versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0-free"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        paid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            applicationId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.app.paid"')]),t._v("\n            versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0-paid"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ndependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add AdMob only for free flavor")]),t._v("\n    freeCompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.support:appcompat-v7:23.1.1'")]),t._v("\n    freeCompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.google.android.gms:play-services-ads:8.4.0'")]),t._v("\n    freeCompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.support:support-v4:23.1.1'")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add picasso only for paid flavor")]),t._v("\n    paidCompile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.squareup.picasso:picasso:2.5.2'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"specifying-different-application-ids-for-build-types-and-product-flavors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#specifying-different-application-ids-for-build-types-and-product-flavors"}},[t._v("#")]),t._v(" Specifying different application IDs for build types and product flavors")]),t._v(" "),s("p",[t._v("You can specify different application IDs or package names for each "),s("code",[t._v("buildType")]),t._v(" or "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android/95/gradle-for-android/401/defining-product-flavors#t=201608040613545973062",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("productFlavor")]),s("OutboundLink")],1),t._v(" using the "),s("strong",[t._v("applicationIdSuffix")]),t._v(" configuration attribute:")]),t._v(" "),s("p",[t._v("Example of suffixing the "),s("code",[t._v("applicationId")]),t._v(" for each "),s("code",[t._v("buildType")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    applicationId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.package.android"')]),t._v("\n    minSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v("\n    targetSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("\n    versionCode "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbuildTypes "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    release "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        debuggable "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("      \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    development "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        debuggable "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        applicationIdSuffix "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".dev"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    testing "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        debuggable "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        applicationIdSuffix "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".qa"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("Our resulting "),s("code",[t._v("applicationIds")]),t._v(" would now be:")]),t._v(" "),s("ul",[s("li",[t._v("com.package.android for "),s("code",[t._v("release")])]),t._v(" "),s("li",[t._v("com.package.android."),s("strong",[t._v("dev")]),t._v(" for "),s("code",[t._v("development")])]),t._v(" "),s("li",[t._v("com.package.android."),s("strong",[t._v("qa")]),t._v(" for "),s("code",[t._v("testing")])])]),t._v(" "),s("p",[t._v("This can be done for "),s("code",[t._v("productFlavors")]),t._v(" as well:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("productFlavors "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    free "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        applicationIdSuffix "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".free"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    paid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        applicationIdSuffix "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".paid"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The resulting "),s("code",[t._v("applicationIds")]),t._v(" would be:")]),t._v(" "),s("ul",[s("li",[t._v("com.package.android."),s("strong",[t._v("free")]),t._v(" for the "),s("code",[t._v("free")]),t._v(" flavor")]),t._v(" "),s("li",[t._v("com.package.android."),s("strong",[t._v("paid")]),t._v(" for the "),s("code",[t._v("paid")]),t._v(" flavor")])]),t._v(" "),s("h2",{attrs:{id:"versioning-your-builds-via-version-properties-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#versioning-your-builds-via-version-properties-file"}},[t._v("#")]),t._v(' Versioning your builds via "version.properties" file')]),t._v(" "),s("p",[t._v("You can use Gradle to auto-increment your package version each time you build it.  To do so create a "),s("code",[t._v("version.properties")]),t._v(" file in the same directory as your "),s("code",[t._v("build.gradle")]),t._v(" with the following contents:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("VERSION_MAJOR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nVERSION_MINOR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nVERSION_BUILD"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n")])])]),s("p",[t._v("(Changing the values for major and minor as you see fit).  Then in your "),s("code",[t._v("build.gradle")]),t._v(" add the following code to the "),s("code",[t._v("android")]),t._v(" section:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Read version information from local file and increment as appropriate")]),t._v("\ndef versionPropsFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'version.properties'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("versionPropsFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("canRead")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  def "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" versionProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  versionProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("versionPropsFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  def versionMajor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" versionProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VERSION_MAJOR'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toInteger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  def versionMinor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" versionProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VERSION_MINOR'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toInteger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  def versionBuild "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" versionProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VERSION_BUILD'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toInteger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Update the build number in the local file")]),t._v("\n  versionProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VERSION_BUILD'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" versionBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  versionProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("store")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("versionPropsFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newWriter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    versionCode versionBuild\n    versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${versionMajor}.${versionMinor}."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%05d"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" versionBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The information can be accessed in Java as a string "),s("code",[t._v("BuildConfig.VERSION_NAME")]),t._v(" for the complete {major}.{minor}.{build} number and as an integer "),s("code",[t._v("BuildConfig.VERSION_CODE")]),t._v(" for just the build number.")]),t._v(" "),s("h2",{attrs:{id:"defining-product-flavors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defining-product-flavors"}},[t._v("#")]),t._v(" Defining product flavors")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/2929/configure-product-flavors#t=201608060748315130296",target:"_blank",rel:"noopener noreferrer"}},[t._v("Product flavors"),s("OutboundLink")],1),t._v(" are defined in the "),s("code",[t._v("build.gradle")]),t._v(" file inside the "),s("code",[t._v("android { ... }")]),t._v(" block as seen below.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nandroid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    productFlavors "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        free "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            applicationId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.app.free"')]),t._v("\n            versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0-free"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        paid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            applicationId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.app.paid"')]),t._v("\n            versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0-paid"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("By doing this, we now have two additional product flavors: "),s("code",[t._v("free")]),t._v(" and "),s("code",[t._v("paid")]),t._v(". Each can have its own specific configuration and attributes. For example, both of our new flavors has a separate "),s("code",[t._v("applicationId")]),t._v(" and "),s("code",[t._v("versionName")]),t._v(" than our existing "),s("code",[t._v("main")]),t._v(" flavor (available by default, so not shown here).")]),t._v(" "),s("h2",{attrs:{id:"adding-product-flavor-specific-resources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-product-flavor-specific-resources"}},[t._v("#")]),t._v(" Adding product flavor-specific resources")]),t._v(" "),s("p",[t._v("Resources can be added for a specific "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android/95/gradle-for-android/401/defining-product-flavors#t=201608040613153911086",target:"_blank",rel:"noopener noreferrer"}},[t._v("product flavor"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("For this example, assume that we have already defined two product flavors called "),s("code",[t._v("free")]),t._v(" and "),s("code",[t._v("paid")]),t._v(". In order to add product flavor-specific resources, we create additional resource folders alongside the "),s("code",[t._v("main/res")]),t._v(" folder, which we can then add resources to like usual. For this example, we'll define a string, "),s("code",[t._v("status")]),t._v(", for each product flavor:")]),t._v(" "),s("p",[s("strong",[t._v("/src/"),s("strong",[t._v("main")]),t._v("/res/values/strings.xml")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("resources"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("resources"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("/src/"),s("strong",[t._v("free")]),t._v("/res/values/strings.xml")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("resources"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Free")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("resources"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("/src/"),s("strong",[t._v("paid")]),t._v("/res/values/strings.xml")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("resources"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Paid")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("resources"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("p",[t._v("The product flavor-specific "),s("code",[t._v("status")]),t._v(" strings will override the value for "),s("code",[t._v("status")]),t._v(" in the "),s("code",[t._v("main")]),t._v(" flavor.")]),t._v(" "),s("h2",{attrs:{id:"changing-output-apk-name-and-add-version-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changing-output-apk-name-and-add-version-name"}},[t._v("#")]),t._v(" Changing output apk name and add version name:")]),t._v(" "),s("p",[t._v("This is the code for changing output application file name (.apk). The name can be configured by assigning a different value to "),s("code",[t._v("newName")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    applicationVariants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("all "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" variant "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n        def newName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ApkName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        variant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("each "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n            def apk "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            newName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-v"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" defaultConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("versionName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("variant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buildType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"release"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                newName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-release.apk"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                newName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".apk"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zipAlign"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                newName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".apk"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-unaligned.apk"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n            output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("apk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            logger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"INFO: Set outputFile to "')]),t._v(" \n                        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputFile \n                        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" for ["')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"]"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"directory-structure-for-flavor-specific-resources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#directory-structure-for-flavor-specific-resources"}},[t._v("#")]),t._v(" Directory structure for flavor-specific resources")]),t._v(" "),s("p",[t._v("Different flavors of application builds can contain different resources.  To create a flavor-specific resource make a directory with the lower-case name of your flavor in the "),s("code",[t._v("src")]),t._v(" directory and add your resources in the same way you would normally.")]),t._v(" "),s("p",[t._v("For example, if you had a flavour "),s("code",[t._v("Development")]),t._v(" and wanted to provide a distinct launcher icon for it you would create a directory "),s("code",[t._v("src/development/res/drawable-mdpi")]),t._v(" and inside that directory create an "),s("code",[t._v("ic_launcher.png")]),t._v(" file with your development-specific icon.")]),t._v(" "),s("p",[t._v("The directory structure will look like this:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n      drawable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mdpi"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n        ic_launcher"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("png  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" launcher icon\n  development"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n      drawable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mdpi"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n        ic_launcher"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("png  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" the launcher icon used when the product flavor is "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Development'")]),t._v("\n\n")])])]),s("p",[t._v("(Of course, in this case you would also create icons for drawable-hdpi, drawable-xhdpi "),s("strong",[t._v("etc")]),t._v(").")]),t._v(" "),s("h2",{attrs:{id:"why-are-there-two-build-gradle-files-in-an-android-studio-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#why-are-there-two-build-gradle-files-in-an-android-studio-project"}},[t._v("#")]),t._v(" Why are there two build.gradle files in an Android Studio project?")]),t._v(" "),s("p",[s("code",[t._v("<PROJECT_ROOT>\\app\\build.gradle")]),t._v(" is specific for "),s("strong",[t._v("app module")]),t._v(".")]),t._v(" "),s("p",[s("code",[t._v("<PROJECT_ROOT>\\build.gradle")]),t._v(" is a "),s("strong",[t._v('"Top-level build file"')]),t._v(" where you can add configuration options common to all sub-projects/modules.")]),t._v(" "),s("p",[t._v("If you use another module in your project, as a local library you would have another "),s("code",[t._v("build.gradle")]),t._v(" file:\n"),s("code",[t._v("<PROJECT_ROOT>\\module\\build.gradle")])]),t._v(" "),s("p",[t._v("In the top level file you can specify common properties as the buildscript block or some common properties.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("buildscript "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    repositories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mavenCentral")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    dependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       classpath "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.tools.build:gradle:2.2.0'")]),t._v("\n       classpath "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.google.gms:google-services:3.0.0'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\next "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compileSdkVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("\n    buildToolsVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"23.0.1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("In the "),s("code",[t._v("app\\build.gradle")]),t._v(" you define only the properties for the module:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.application'")]),t._v("\n\n\nandroid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compileSdkVersion rootProject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compileSdkVersion\n    buildToolsVersion rootProject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buildToolsVersion\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ndependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//.....")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"enable-proguard-using-gradle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enable-proguard-using-gradle"}},[t._v("#")]),t._v(" Enable Proguard using gradle")]),t._v(" "),s("p",[t._v("For enabling Proguard configurations for your application you need to enable it in your module-level gradle file. You need to set the value of "),s("code",[t._v("minifyEnabled")]),t._v(" to "),s("code",[t._v("true")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("buildTypes "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        release "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            minifyEnabled "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            proguardFiles "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDefaultProguardFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proguard-android.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proguard-rules.pro'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v('The above code will apply your Proguard configurations contained in the default Android SDK combined with the "proguard-rules.pro" file on your module to your released apk.')]),t._v(" "),s("h2",{attrs:{id:"enable-experimental-ndk-plugin-support-for-gradle-and-androidstudio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enable-experimental-ndk-plugin-support-for-gradle-and-androidstudio"}},[t._v("#")]),t._v(" Enable experimental NDK plugin support for Gradle and AndroidStudio")]),t._v(" "),s("p",[t._v("Enable and configure the experimental Gradle plugin to improve AndroidStudio's NDK support. Check that you fulfill the following requirements:")]),t._v(" "),s("ul",[s("li",[t._v("Gradle 2.10 (for this example)")]),t._v(" "),s("li",[t._v("Android NDK r10 or later")]),t._v(" "),s("li",[t._v("Android SDK with build tools v19.0.0 or later")])]),t._v(" "),s("h3",{attrs:{id:"configure-myapp-build-gradle-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-myapp-build-gradle-file"}},[t._v("#")]),t._v(" Configure MyApp/build.gradle file")]),t._v(" "),s("p",[t._v("Edit the dependencies.classpath line in build.gradle from e.g.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("classpath "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.tools.build:gradle:2.1.2'")]),t._v("\n\n")])])]),s("p",[t._v("to")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("classpath "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.tools.build:gradle-experimental:0.7.2'")]),t._v("\n\n")])])]),s("p",[t._v("(v0.7.2 was the latest version at the time of writing. Check the latest version yourself and adapt your line accordingly)")]),t._v(" "),s("p",[t._v("The build.gradle file should look similar to this:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("buildscript "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    repositories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("jcenter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    dependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        classpath "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.tools.build:gradle-experimental:0.7.2'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nallprojects "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    repositories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("jcenter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ntask "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    delete rootProject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buildDir\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"configure-myapp-app-build-gradle-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-myapp-app-build-gradle-file"}},[t._v("#")]),t._v(" Configure MyApp/app/build.gradle file")]),t._v(" "),s("p",[t._v("Edit the build.gradle file to look similar to the following example. Your version numbers may look different.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.model.application'")]),t._v("\n\nmodel "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        compileSdkVersion "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("\n        buildToolsVersion "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"24.0.1"')]),t._v("\n\n        defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            applicationId "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.mydomain.myapp"')]),t._v("\n            minSdkVersion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apiLevel "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("\n            targetSdkVersion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apiLevel "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("\n            versionCode "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n            versionName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        buildTypes "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            release "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                minifyEnabled "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n                proguardFiles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proguard-android.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        ndk "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            moduleName "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myLib"')]),t._v("\n            \n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* The following lines are examples of a some optional flags that \n               you may set to configure your build environment\n            */")]),t._v(" \n            cppFlags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-I${file("')]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("my"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("includes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dir"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('")}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            cppFlags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-std=c++11"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            ldLibs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'log'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'m'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            stl "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c++_static"')]),t._v("\n            abiFilters"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"armeabi-v7a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ndependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compile "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fileTree")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'libs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*.jar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("Sync and check that there are no errors in the Gradle files before proceeding.")]),t._v(" "),s("h3",{attrs:{id:"test-if-plugin-is-enabled"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#test-if-plugin-is-enabled"}},[t._v("#")]),t._v(" Test if plugin is enabled")]),t._v(" "),s("p",[t._v("First make sure you have downloaded the Android NDK module. Then create an new app in AndroidStudio and add the following to the ActivityMain file:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MainActivity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Activity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onCreate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Pregenerated code. Not important here")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadLibrary")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myLib"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("native")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The "),s("code",[t._v("getString()")]),t._v(" part should be highlighted red saying that the corresponding JNI function could not be found. Hover your mouse over the function call until a red lightbulb appears. Click the bulb and select "),s("code",[t._v("create function JNI_...")]),t._v(". This should generate a myLib.c file in the myApp/app/src/main/jni directory with the correct JNI function call. It should look similar to this:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("#include "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("jni"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\nJNIEXPORT jstring JNICALL \n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Java_com_example_mydomain_myapp_MainActivity_getString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JNIEnv")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jobject instance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TODO")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NewStringUTF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" returnValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("If it doesn't look like this, then the plugin has not correctly been configured or the NDK has not been downloaded")]),t._v(" "),s("h2",{attrs:{id:"ignoring-build-variant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ignoring-build-variant"}},[t._v("#")]),t._v(" Ignoring build variant")]),t._v(" "),s("p",[t._v("For some reasons you may want to ignore your build variants. For example: you have 'mock' product flavour and you use it only for debug purposes, such as unit/instrumentation tests.")]),t._v(" "),s("p",[t._v("Let's ignore "),s("strong",[t._v("mockRelease")]),t._v(" variant from our project. Open "),s("strong",[t._v("build.gradle")]),t._v(" file and write:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n   // Remove mockRelease as it's not needed.\n    android.variantFilter { variant ->\n        if (variant.buildType.name.equals('release') && variant.getFlavors().get(0).name.equals('mock')) {\n            variant.setIgnore(true);\n        }\n    }\n\n")])])]),s("h2",{attrs:{id:"seeing-dependency-tree"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#seeing-dependency-tree"}},[t._v("#")]),t._v(" Seeing dependency tree")]),t._v(" "),s("p",[t._v("Use the task dependencies. Depending on how your modules are set up, it may be either "),s("code",[t._v("./gradlew dependencies")]),t._v(" or to see the dependencies of module app use "),s("code",[t._v("./gradlew :app:dependencies")])]),t._v(" "),s("p",[t._v("The example following build.gradle file")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("dependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.support:design:23.2.1'")]),t._v("\n    compile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.support:cardview-v7:23.1.1'")]),t._v("\n\n    compile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.google.android.gms:play-services:6.5.87'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("will produce the following graph:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Parallel")]),t._v(" execution is an incubating feature"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("dependencies\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Project")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("app\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n_releaseApk "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" ## "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Internal")]),t._v(" use"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" not manually configure ##\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("design"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    \\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("annotations"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("appcompat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v7"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("animated"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vector"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("drawable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    \\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vector"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("drawable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         \\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    \\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vector"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("drawable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    \\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("recyclerview"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v7"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("         \\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("annotations"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("cardview"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v7"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n\\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("google"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gms"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("play"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("services"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.5")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".87")]),t._v("\n     \\"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("support"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n")])])]),s("p",[t._v("Here you can see the project is directly including "),s("code",[t._v("com.android.support:design")]),t._v(" version 23.2.1, which itself is bringing "),s("code",[t._v("com.android.support:support-v4")]),t._v(" with version 23.2.1. However, "),s("code",[t._v("com.google.android.gms:play-services")]),t._v(" itself has a dependency on the same "),s("code",[t._v("support-v4")]),t._v(" but with an older version 21.0.0, which is a conflict detected by gradle.")]),t._v(" "),s("p",[s("code",[t._v("(*)")]),t._v(" are used when gradle skips the subtree because those dependencies were already listed previously.")]),t._v(" "),s("h2",{attrs:{id:"display-signing-information"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#display-signing-information"}},[t._v("#")]),t._v(" Display signing information")]),t._v(" "),s("p",[t._v("In some circumstances (for example obtaining a Google API key) you need to find your keystore fingerprint. Gradle has a convenient task that display all the signing information, including keystore fingerprints:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("/gradlew signingReport\n\n")])])]),s("p",[t._v("This is a sample output:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("signingReport\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Variant")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" release\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Config")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" none\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Variant")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" debug\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Config")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" debug\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Store")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Users")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keystore\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Alias")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AndroidDebugKey")]),t._v("\nMD5"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("76")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("AA"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("E"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("CA\nSHA1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("BE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("D3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("E"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Valid")]),t._v(" until"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Saturday")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("June")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2044")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Variant")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" debugAndroidTest\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Config")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" debug\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Store")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Users")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keystore\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Alias")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AndroidDebugKey")]),t._v("\nMD5"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("76")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("AA"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("E"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("CA\nSHA1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("BE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("D3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("E"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Valid")]),t._v(" until"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Saturday")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("June")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2044")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Variant")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" debugUnitTest\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Config")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" debug\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Store")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Users")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("debug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keystore\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Alias")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AndroidDebugKey")]),t._v("\nMD5"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("76")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("AA"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("E"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("CA\nSHA1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("BE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("A9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("D3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("E"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Valid")]),t._v(" until"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Saturday")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("June")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2044")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Variant")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" releaseUnitTest\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Config")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" none\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"executing-a-shell-script-from-gradle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#executing-a-shell-script-from-gradle"}},[t._v("#")]),t._v(" Executing a shell script from gradle")]),t._v(" "),s("p",[t._v("A shell script is a very versatile way to extend your build to basically anything you can think of.")]),t._v(" "),s("p",[t._v("As an exmaple, here is a simple script to compile protobuf files and add the result java files to the source directory for further compilation:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("def "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compilePb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    exec "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NOTICE: gradle will fail if there's an error in the protoc file...")]),t._v("\n        executable "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../pbScript.sh"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nproject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("afterEvaluate "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compilePb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The 'pbScript.sh' shell script for this example, located in the project's root folder:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("#"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("env bash\npp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("myself"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("my"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("proto\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("protoc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$pp \\\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("java_out"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("/src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("proto_path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$pp \\\n $pp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto \\\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("proto_path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$pp \\\n $pp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("my_other"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto\n\n")])])]),s("h2",{attrs:{id:"disable-image-compression-for-a-smaller-apk-file-size"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#disable-image-compression-for-a-smaller-apk-file-size"}},[t._v("#")]),t._v(" Disable image compression for a smaller APK file size")]),t._v(" "),s("p",[t._v("If you are optimizing all images manually, disable APT Cruncher for a smaller APK file size.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    aaptOptions "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        cruncherEnabled "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"show-all-gradle-project-tasks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#show-all-gradle-project-tasks"}},[t._v("#")]),t._v(" Show all gradle project tasks")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("gradlew tasks "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" show all tasks\n\n \n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Android")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\nandroidDependencies "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Android")]),t._v(" dependencies of the project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nsigningReport "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the signing info "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" each variant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nsourceSets "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Prints")]),t._v(" out all the source sets defined in "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Build")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\nassemble "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" all variants of all applications and secondary packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nassembleAndroidTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" all the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),t._v(" applications"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nassembleDebug "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" all "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Debug")]),t._v(" builds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nassembleRelease "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" all "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Release")]),t._v(" builds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nbuild "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" and tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nbuildDependents "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" and tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" project and all projects that depend on it"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nbuildNeeded "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" and tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" project and all projects it depends on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nclasses "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" main classes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nclean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Deletes")]),t._v(" the build directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ncompileDebugAndroidTestSources\ncompileDebugSources\ncompileDebugUnitTestSources\ncompileReleaseSources\ncompileReleaseUnitTestSources\nextractDebugAnnotations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Extracts")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Android")]),t._v(" annotations "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the debug variant into the archive file\nextractReleaseAnnotations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Extracts")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Android")]),t._v(" annotations "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the release variant into the archive file\njar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" a jar archive containing the main classes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nmockableAndroidJar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Creates")]),t._v(" a version of android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar that's suitable "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" unit tests"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ntestClasses "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assembles")]),t._v(" test classes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Build")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Setup")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\ninit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Initializes")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Gradle")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("incubating"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nwrapper "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Generates")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Gradle")]),t._v(" wrapper files"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("incubating"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Documentation")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\njavadoc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Generates")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Javadoc")]),t._v(" API documentation "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the main source code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Help")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nbuildEnvironment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" all buildscript dependencies declared in root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ncomponents "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the components produced by root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("incubating"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ndependencies "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" all dependencies declared in root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ndependencyInsight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the insight into a specific dependency in root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nhelp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" a help message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nmodel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the configuration model of root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("incubating"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nprojects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the sub"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("projects of root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nproperties "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the properties of root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ntasks "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Displays")]),t._v(" the tasks runnable from root project "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeitnerBoxPro'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("some of the displayed tasks may belong "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" subprojects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Install")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\ninstallDebug "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Installs")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Debug")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ninstallDebugAndroidTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Installs")]),t._v(" the android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("on device"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Debug")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nuninstallAll "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uninstall")]),t._v(" all applications"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nuninstallDebug "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uninstalls")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Debug")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nuninstallDebugAndroidTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uninstalls")]),t._v(" the android "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("on device"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Debug")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nuninstallRelease "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uninstalls")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Release")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Verification")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\ncheck "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runs")]),t._v(" all checks"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nconnectedAndroidTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Installs")]),t._v(" and runs instrumentation tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" all flavors on connected devices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nconnectedCheck "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runs")]),t._v(" all device checks on currently connected devices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nconnectedDebugAndroidTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Installs")]),t._v(" and runs the tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" debug on connected devices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ndeviceAndroidTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Installs")]),t._v(" and runs instrumentation tests using all "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Device")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Providers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ndeviceCheck "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runs")]),t._v(" all device checks using "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Device")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Providers")]),t._v(" and "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Servers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nlint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runs")]),t._v(" lint on all variants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nlintDebug "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runs")]),t._v(" lint on the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Debug")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nlintRelease "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runs")]),t._v(" lint on the "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Release")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ntest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Run")]),t._v(" unit tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" all variants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ntestDebugUnitTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Run")]),t._v(" unit tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the debug build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ntestReleaseUnitTest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Run")]),t._v(" unit tests "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the release build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Other")]),t._v(" tasks\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\nassembleDefault\nclean\njarDebugClasses\njarReleaseClasses\ntransformResourcesWithMergeJavaResForDebugUnitTest\ntransformResourcesWithMergeJavaResForReleaseUnitTest\n\n")])])]),s("h2",{attrs:{id:"delete-unaligned-apk-automatically"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#delete-unaligned-apk-automatically"}},[t._v("#")]),t._v(' Delete "unaligned" apk automatically')]),t._v(" "),s("p",[t._v("If you don't need automatically generated apk files with "),s("code",[t._v("unaligned")]),t._v(" suffix (which you probably don't), you may add the following code to "),s("code",[t._v("build.gradle")]),t._v(" file:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// delete unaligned files")]),t._v("\nandroid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("applicationVariants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("all "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" variant "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n  variant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("assemble"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("doLast "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    variant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("each "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n        println "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aligned "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputFile\n        println "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unaligned "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("packageApplication"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputFile\n\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" unaligned "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("packageApplication"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" aligned "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputFile\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("unaligned"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("equalsIgnoreCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("aligned"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            println "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deleting "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" unaligned"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            unaligned"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("From "),s("a",{attrs:{href:"http://stackoverflow.com/a/30826071/4378400",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"debugging-your-gradle-errors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debugging-your-gradle-errors"}},[t._v("#")]),t._v(" Debugging your Gradle errors")]),t._v(" "),s("p",[t._v("The following is an excerpt from "),s("a",{attrs:{href:"http://stackoverflow.com/questions/36698816/gradle-what-is-a-non-zero-exit-value-and-how-do-i-fix-it",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gradle - What is a non-zero exit value and how do I fix it?"),s("OutboundLink")],1),t._v(", see it for the full discussion.")]),t._v(" "),s("p",[t._v("Let's say you are developing an application and you get some Gradle error that appears that generally will look like so.")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("someTask FAILED\nFAILURE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Build")]),t._v(" failed "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" an exception"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("What")]),t._v(" went wrong"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Execution")]),t._v(" failed "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" task "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("':module:someTask'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" some message here"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("  finished "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" non"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("zero exit value "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("X")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Try")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Run")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("stacktrace option "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" get the stack trace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Run")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("info or "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("debug option "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" get more log output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nBUILD FAILED\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Total")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Y")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ZZ secs\n\n")])])]),s("p",[t._v("You search here on StackOverflow for your problem, and people say to clean and rebuild your project, or enable "),s("a",{attrs:{href:"http://developer.android.com/tools/building/multidex.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MultiDex"),s("OutboundLink")],1),t._v(", and when you try that, it just isn't fixing the problem.")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://stackoverflow.com/questions/21674091/how-to-add-stacktrace-or-debug-option-when-building-android-studio-project",target:"_blank",rel:"noopener noreferrer"}},[t._v("There are ways to get more information"),s("OutboundLink")],1),t._v(", but the Gradle output itself should point at the actual error in the few lines above that message between :"),s("code",[t._v("module:someTask FAILED")]),t._v(" and the last "),s("code",[t._v(":module:someOtherTask")]),t._v(" that passed. Therefore, if you ask a question about your error, please edit your questions to include more context to the error.")]),t._v(" "),s("p",[t._v('So, you get a "non-zero exit value." Well, that number is a good indicator of what you should try to fix. Here are a few occur most frequently.')]),t._v(" "),s("ul",[s("li",[s("code",[t._v("1")]),t._v(" is a just a general error code and the error is likely in the Gradle output")]),t._v(" "),s("li",[s("code",[t._v("2")]),t._v(" seems to be related to overlapping dependencies or project misconfiguration.")]),t._v(" "),s("li",[s("code",[t._v("3")]),t._v(" seems to be from including too many dependencies, or a memory issue.")])]),t._v(" "),s("p",[t._v("The general solutions for the above (after attempting a Clean and Rebuild of the project) are:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("1")]),t._v(" - Address the error that is mentioned. Generally, this is a compile-time error, meaning some piece of code in your project is not valid. This includes both XML and Java for an Android project.")]),t._v(" "),s("li",[s("code",[t._v("2")]),t._v(" & "),s("code",[t._v("3")]),t._v(" - Many answers here tell you to enable "),s("a",{attrs:{href:"http://developer.android.com/tools/building/multidex.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("multidex"),s("OutboundLink")],1),t._v(". While it may fix the problem, it is most likely a workaround. If you don't understand why you are using it (see the link), you probably don't need it. General solutions involve cutting back your overuse of library dependencies (such as all of Google Play Services, when you only need to use one library, like Maps or Sign-In, for example).")])]),t._v(" "),s("h2",{attrs:{id:"use-gradle-properties-for-central-versionnumber-buildconfigurations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-gradle-properties-for-central-versionnumber-buildconfigurations"}},[t._v("#")]),t._v(" Use gradle.properties for central versionnumber/buildconfigurations")]),t._v(" "),s("p",[t._v("You can define central config info's in")]),t._v(" "),s("ul",[s("li",[t._v("a separate gradle include file "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android/95/gradle-for-android/2911/centralizing-dependencies",target:"_blank",rel:"noopener noreferrer"}},[t._v('Centralizing dependencies via "dependencies.gradle" file'),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("a stand alone properties file "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android/95/gradle-for-android/7837/versioning-your-builds",target:"_blank",rel:"noopener noreferrer"}},[t._v('Versioning your builds via "version.properties" file'),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("or do it with root "),s("code",[t._v("gradle.properties")]),t._v(" file")]),t._v(" "),s("p",[t._v("the project structure")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("root\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" module1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" module2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" gradle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties\n\n")])])]),s("p",[t._v("global setting for all submodules in gradle.properties")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("# used "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" manifest\n# todo increment "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" every release\nappVersionCode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("\nappVersionName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".160726")]),t._v("\n\n# android tools settings\nappCompileSdkVersion"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("\nappBuildToolsVersion"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v("\n\n")])])]),s("p",[t._v("usage in a submodule")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("apply plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.application'")]),t._v("\nandroid "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// appXXX are defined in gradle.properties")]),t._v("\n    compileSdkVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("appCompileSdkVersion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    buildToolsVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" appBuildToolsVersion\n\n    defaultConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// appXXX are defined in gradle.properties")]),t._v("\n        versionCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("appVersionCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        versionName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" appVersionName\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ndependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("Note:")]),t._v(" If you want to publish your app in the F-Droid app store you have to use magic numbers in the gradle file because else f-droid robot cannot read current versionnumner to detect/verify version changes.")]),t._v(" "),s("h2",{attrs:{id:"defining-build-types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defining-build-types"}},[t._v("#")]),t._v(" Defining build types")]),t._v(" "),s("p",[t._v("You can create and configure "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/3281/configure-build-types#t=201608060748576379678",target:"_blank",rel:"noopener noreferrer"}},[t._v("build types"),s("OutboundLink")],1),t._v(" in the module-level "),s("code",[t._v("build.gradle")]),t._v(" file inside the "),s("code",[t._v("android {}")]),t._v(" block.")]),t._v(" "),s("h4",{attrs:{id:"syntax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[t._v("#")]),t._v(" Syntax")]),t._v(" "),s("li",[t._v("\n`apply plugin`: The plugins which should been used normally just `'com.android.application'` or `'com.android.library'`.\n")]),t._v(" "),s("li",[t._v("\n`android`: The main configuration of your app\n"),s("ul",[t._v("\n- `compileSdkVersion`: The compile SDK version\n- `buildToolsVersion`: The build tools version\n"),s("li",[t._v("`defaultConfig`: The default settings which can been overwritten by flavors and build types\n"),s("ul",[t._v("\n- `applicationId`: The application id you use e.g. in the PlayStore mostly the same as your package name\n- `minSdkVersion`: The minimal required SDK version\n- `targetSdkVersion`: The SDK version you compile against (should be always the newst one)\n- `versionCode`: The internal version number which needs to be bigger on each update\n- `versionName`: The version number the user can see in the app details page\n"),s("p",[s("code",[t._v("dependencies")]),t._v(": The maven or local dependencies of your app")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("compile")]),t._v(" a single dependency")]),t._v(" "),s("li",[s("code",[t._v("testCompile")]),t._v(": a dependency for the unit or integration tests")])]),t._v(" "),s("h4",{attrs:{id:"remarks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remarks"}},[t._v("#")]),t._v(" Remarks")]),t._v(" "),s("p",[s("strong",[t._v("See also")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://gradle.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("The official gradle homepage"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://developer.android.com/tools/building/configuring-gradle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to configure gradle builds"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://developer.android.com/tools/building/plugin-for-gradle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("The android plugin for gradle"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://google.github.io/android-gradle-dsl/current/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android Gradle DSL"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"gradle-for-android-extended-documentation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gradle-for-android-extended-documentation"}},[t._v("#")]),t._v(" Gradle for Android - Extended documentation:")]),t._v(" "),s("p",[t._v("There is another tag where you can find more topics and examples about the use of gradle in Android."),s("br"),t._v(" "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android-gradle/topics",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://stackoverflow.com/documentation/android-gradle/topics"),s("OutboundLink")],1)])])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);