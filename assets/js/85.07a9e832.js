(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{493:function(a,t,s){"use strict";s.r(t);var e=s(31),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"adb-shell"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adb-shell"}},[a._v("#")]),a._v(" adb shell")]),a._v(" "),s("p",[s("code",[a._v("adb shell")]),a._v(" opens a Linux shell in a target device or emulator.\nIt is the most powerful and versatile way to control an Android device via "),s("code",[a._v("adb")]),a._v(".")]),a._v(" "),s("p",[a._v("This topic was split from "),s("a",{attrs:{href:"http://stackoverflow.com/documentation/android/1051/adb-android-debug-bridge",target:"_blank",rel:"noopener noreferrer"}},[a._v("ADB (Android Debug Bridge)"),s("OutboundLink")],1),a._v(" due to reaching the limit of examples, many of which were involving "),s("code",[a._v("adb shell")]),a._v(" command.")]),a._v(" "),s("h2",{attrs:{id:"granting-revoking-api-23-permissions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#granting-revoking-api-23-permissions"}},[a._v("#")]),a._v(" Granting & revoking API 23+ permissions")]),a._v(" "),s("p",[a._v("A one-liner that helps granting or revoking vulnerable permissions.")]),a._v(" "),s("li",[a._v("\n**granting**\n"),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell pm grant "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("PERMISSION_NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])])]),a._v(" "),s("li",[a._v("\n**revoking**\n"),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell pm revoke "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("PERMISSION_NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])])]),a._v(" "),s("li",[a._v("\n**Granting all run-time permissions at a time on installation (-g)**\n"),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb install "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("g "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("sample_package"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("apk\n\n")])])])]),a._v(" "),s("h2",{attrs:{id:"send-text-key-pressed-and-touch-events-to-android-device-via-adb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#send-text-key-pressed-and-touch-events-to-android-device-via-adb"}},[a._v("#")]),a._v(" Send text, key pressed and touch events to Android Device via ADB")]),a._v(" "),s("p",[a._v("execute the following command to insert the text into a view with a focus (if it supports text input)")]),a._v(" "),s("p",[s("strong",[a._v("Send text on SDK 23+")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"input keyboard text 'Paste text on Android Device'\"")]),a._v("\n\n")])])]),s("p",[a._v("If already connected to your device via "),s("code",[a._v("adb")]),a._v(":")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("input text "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Paste text on Android Device'")]),a._v("\n\n")])])]),s("p",[s("strong",[a._v("Send text prior to SDK 23")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"input keyboard text 'Paste%stext%son%sAndroid%sDevice'\"")]),a._v("\n\n")])])]),s("p",[a._v("Spaces are not accepted as the input, replace them with %s.")]),a._v(" "),s("p",[s("strong",[a._v("Send events")])]),a._v(" "),s("p",[a._v("To simulate pressing the hardware power key")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell input keyevent "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("26")]),a._v("\n\n")])])]),s("p",[a._v("or alternatively")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell input keyevent POWER\n\n")])])]),s("p",[a._v("Even if you don't have a hardware key you still can use a "),s("code",[a._v("keyevent")]),a._v(" to perform the equivalent action")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell input keyevent CAMERA\n\n")])])]),s("p",[s("strong",[a._v("Send touch event as input")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell input tap "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Xpoint")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Ypoint")]),a._v("\n\n")])])]),s("p",[s("strong",[a._v("Send swipe event as input")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell input swipe "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Xpoint1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Ypoint1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Xpoint2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Ypoint2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("DURATION"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n")])])]),s("p",[a._v("*DURATION is optional, default=300ms. "),s("a",{attrs:{href:"http://androidxref.com/7.1.1_r6/xref/frameworks/base/cmds/input/src/com/android/commands/input/Input.java#201",target:"_blank",rel:"noopener noreferrer"}},[a._v("source"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("Get X and Y points by enabling pointer location in developer option.")]),a._v(" "),s("p",[s("strong",[a._v("ADB sample shell script")])]),a._v(" "),s("blockquote"),a._v(" "),s("p",[a._v("To run a script in Ubuntu, Create script.sh right click the file and add read/write permission and tick "),s("strong",[a._v("allow executing file as program")]),a._v(".")]),a._v(" "),s("blockquote"),a._v(" "),s("p",[a._v("Open terminal emulator and run the command ./script.sh")]),a._v(" "),s("p",[a._v("Script.sh")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('\nfor (( c=1; c<=5; c++ ))\n    do  \n       adb shell input tap X Y\n       echo "Clicked $c times"\n       sleep 5s\n    done\n\n')])])]),s("p",[a._v("For a comprehensive list of event numbers")]),a._v(" "),s("ul",[s("li",[a._v("shortlist of several interesting events "),s("a",{attrs:{href:"http://stackoverflow.com/questions/7789826/adb-shell-input-events",target:"_blank",rel:"noopener noreferrer"}},[a._v("ADB Shell Input Events"),s("OutboundLink")],1)]),a._v(" "),s("li",[a._v("reference documentation "),s("a",{attrs:{href:"https://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_POWER",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_POWER"),s("OutboundLink")],1),a._v(".")])]),a._v(" "),s("h2",{attrs:{id:"list-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#list-packages"}},[a._v("#")]),a._v(" List packages")]),a._v(" "),s("p",[a._v("Prints all packages, optionally only those whose package name contains the text in "),s("FILTER",[a._v(".")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell pm list packages "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("FILTER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("All")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("FILTER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\nadb shell pm list packages\n\n")])])]),s("p",[a._v("Attributes:")]),a._v(" "),s("p",[s("code",[a._v("-f")]),a._v(" to see their associated file.")]),a._v(" "),s("p",[s("code",[a._v("-i")]),a._v(" See the installer for the packages.")]),a._v(" "),s("p",[s("code",[a._v("-u")]),a._v(" to also include uninstalled packages.")]),a._v(" "),s("p",[s("code",[a._v("-u")]),a._v(" Also include uninstalled packages.")]),a._v(" "),s("p",[a._v("Attributes that filter:")]),a._v(" "),s("p",[s("code",[a._v("-d")]),a._v(" for disabled packages.")]),a._v(" "),s("p",[s("code",[a._v("-e")]),a._v(" for enabled packages.")]),a._v(" "),s("p",[s("code",[a._v("-s")]),a._v(" for system packages.")]),a._v(" "),s("p",[s("code",[a._v("-3")]),a._v(" for third party packages.")]),a._v(" "),s("p",[s("code",[a._v("--user <USER_ID>")]),a._v(" for a specific user space to query.")]),a._v(" "),s("h2",{attrs:{id:"recording-the-display"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#recording-the-display"}},[a._v("#")]),a._v(" Recording the display")]),a._v(" "),s("p",[a._v("Recording the display of devices running Android 4.4 (API level 19) and higher:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("filename"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\nadb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("sdcard"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("mp4\n\n")])])]),s("p",[a._v("(press Ctrl-C to stop recording)")]),a._v(" "),s("p",[a._v("Download the file from the device:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb pull "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("sdcard"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("mp4\n\n")])])]),s("blockquote"),a._v(" "),s("p",[a._v("Note: Stop the screen recording by pressing Ctrl-C, otherwise the recording stops automatically at three minutes or the time limit set by "),s("code",[a._v("--time-limit")]),a._v(".")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("size "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("WIDTHxHEIGHT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])]),s("p",[a._v("Sets the video size: 1280x720. The default value is the device's native display resolution (if supported), 1280x720 if not. For best results, use a size supported by your device's Advanced Video Coding (AVC) encoder.")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("bit"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("rate "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("RATE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])]),s("p",[a._v("Sets the video bit rate for the video, in megabits per second. The default value is 4Mbps. You can increase the bit rate to improve video quality, but doing so results in larger movie files. The following example sets the recording bit rate to 5Mbps:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("bit"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("rate "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5000000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("sdcard"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("mp4\n\n")])])]),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("time"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("limit "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("TIME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])]),s("p",[a._v("Sets the maximum recording time, in seconds. The default and maximum value is 180 (3 minutes).")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("rotate\n\n")])])]),s("p",[a._v("Rotates the output 90 degrees. This feature is experimental.")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell screenrecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("verbose\n\n")])])]),s("p",[a._v("Displays log information on the command-line screen. If you do not set this option, the utility does not display any information while running.")]),a._v(" "),s("blockquote"),a._v(" "),s("p",[a._v("Note: This might not work on some devices.")]),a._v(" "),s("p",[a._v("The screen recording command isn't compatible with android versions pre 4.4")]),a._v(" "),s("blockquote"),a._v(" "),s("p",[a._v("The screenrecord command is a shell utility for recording the display of devices running Android 4.4 (API level 19) and higher. The utility records screen activity to an MPEG-4 file.")]),a._v(" "),s("h2",{attrs:{id:"set-date-time-via-adb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-date-time-via-adb"}},[a._v("#")]),a._v(" Set Date/Time via adb")]),a._v(" "),s("p",[a._v("Default SET format is "),s("code",[a._v("MMDDhhmm[[CC]YY][.ss]")]),a._v(", that's (2 digits each)")]),a._v(" "),s("p",[a._v("For example, to set July 17'th 10:10am, without changing the current year, type:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'date 07171010.00'")]),a._v("\n\n")])])]),s("p",[s("strong",[a._v("Tip 1:")]),a._v(" the date change will not be reflected immediately, and a noticable change will happen only after the system clock advances to the next minute."),s("br"),a._v("\nYou can force an update by attaching a "),s("code",[a._v("TIME_SET")]),a._v(" intent broadcast to your call, like that:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'date 07171010.00 ; am broadcast -a android.intent.action.TIME_SET'")]),a._v("\n\n")])])]),s("p",[s("strong",[a._v("Tip 2:")]),a._v(" to synchronize Android's clock with your local machine:")]),a._v(" "),s("p",[a._v("Linux:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell date `date "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("m"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("d"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("H")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("M")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("G")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("%"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("S")]),a._v("`\n\n")])])]),s("p",[a._v("Windows (PowerShell):")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("$currentDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Get")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Date")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Format")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"MMddHHmmyyyy.ss"')]),a._v(" # "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Android")]),a._v("'s preferred format\nadb shell "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"date $currentDate"')]),a._v("\n\n")])])]),s("p",[s("strong",[a._v("Both tips together:")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'date `date +%m%d%H%M%G.%S` ; am broadcast -a android.intent.action.TIME_SET'")]),a._v("\n\n")])])]),s("p",[a._v("Default SET format is 'YYYYMMDD.HHmmss'")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'date -s 20160117.095930'")]),a._v("\n\n")])])]),s("p",[s("strong",[a._v("Tip:")]),a._v(" to synchronize Android's clock with your local (linux based) machine:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell date "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("s `date "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("G")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("m"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("%"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("H")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("M")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("S")]),a._v("`\n\n")])])]),s("h2",{attrs:{id:"open-developer-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-developer-options"}},[a._v("#")]),a._v(" Open Developer Options")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell am start "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("n com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("settings"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("DevelopmentSettings\n\n")])])]),s("p",[a._v("Will navigate your device/emulator to the "),s("code",[a._v("Developer Options")]),a._v(" section.")]),a._v(" "),s("h2",{attrs:{id:"print-application-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#print-application-data"}},[a._v("#")]),a._v(" Print application data")]),a._v(" "),s("p",[a._v("This command print all relevant application data:")]),a._v(" "),s("ul",[s("li",[a._v("version code")]),a._v(" "),s("li",[a._v("version name")]),a._v(" "),s("li",[a._v("granted permissions (Android API 23+)")]),a._v(" "),s("li",[a._v("etc..")])]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell dumpsys "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("your"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])]),s("h2",{attrs:{id:"changing-file-permissions-using-chmod-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changing-file-permissions-using-chmod-command"}},[a._v("#")]),a._v(" Changing file permissions using chmod command")]),a._v(" "),s("p",[s("em",[s("strong",[a._v("Notice, that in order to change file prmissions, your device need to be rooted,")]),a._v(" "),s("code",[a._v("su")]),a._v(" binary doesn't come with factory shipped devices!")])]),a._v(" "),s("p",[a._v("Convention:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell su "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("c "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"chmod <numeric-permisson> <file>"')]),a._v("\n\n")])])]),s("p",[a._v("Numeric permission constructed from user, group and world sections.")]),a._v(" "),s("p",[a._v("For example, if you want to change file to be readable, writable and executable by everyone, this will be your command:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell su "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("c "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"chmod 777 <file-path>"')]),a._v("\n\n")])])]),s("p",[a._v("Or")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell su "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("c "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"chmod 000 <file-path>"')]),a._v("\n\n")])])]),s("p",[a._v("if you intent to deny any permissions to it.")]),a._v(" "),s("p",[s("strong",[a._v("1st digit")]),a._v("-specifies user permission, "),s("strong",[a._v("2nd digit")]),a._v("- specifies group permission, "),s("strong",[a._v("3rd digit")]),a._v(" - specifies world (others) permission.")]),a._v(" "),s("p",[a._v("Access permissions:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("w"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("010")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("wx "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("011")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nr"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nr"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nrw"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("110")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nrwx "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   binary value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  octal value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n")])])]),s("h2",{attrs:{id:"generating-a-boot-complete-broadcast"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generating-a-boot-complete-broadcast"}},[a._v("#")]),a._v(' Generating a "Boot Complete" broadcast')]),a._v(" "),s("p",[a._v("This is relevant for apps that implement a "),s("code",[a._v("BootListener")]),a._v(". Test your app by killing your app and then test with:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell am broadcast "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("a android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("intent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("BOOT_COMPLETED "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("c android"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("intent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("category"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("HOME "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("n your"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("your"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),a._v("BootListener")]),a._v("\n\n")])])]),s("p",[a._v("(replace "),s("code",[a._v("your.package/your.app.BootListener")]),a._v(" with proper values).")]),a._v(" "),s("h2",{attrs:{id:"view-external-secondary-storage-content"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#view-external-secondary-storage-content"}},[a._v("#")]),a._v(" View external/secondary storage content")]),a._v(" "),s("p",[a._v("View content:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell ls \\$EXTERNAL_STORAGE\nadb shell ls \\$SECONDARY_STORAGE\n\n")])])]),s("p",[a._v("View path:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell echo \\$EXTERNAL_STORAGE\nadb shell echo \\$SECONDARY_STORAGE\n\n")])])]),s("h2",{attrs:{id:"kill-a-process-inside-an-android-device"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kill-a-process-inside-an-android-device"}},[a._v("#")]),a._v(" kill a process inside an Android device")]),a._v(" "),s("p",[a._v("Sometimes Android's logcat is running infinitely with errors coming from some process not own by you, draining battery or just making it hard to debug your code.")]),a._v(" "),s("p",[a._v("A convenient way to fix the problem without restarting the device is to locate and kill the process causing the problem.")]),a._v(" "),s("p",[a._v("From Logcat")]),a._v(" "),s("p",[s("code",[a._v("03-10 11:41:40.010 1550-1627/? E/SomeProcess: ....")])]),a._v(" "),s("p",[a._v("notice the process number: 1550")]),a._v(" "),s("p",[a._v("Now we can open a shell and kill the process.\nNote that we cannot kill "),s("code",[a._v("root")]),a._v(" process.")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("adb shell\n\n")])])]),s("p",[a._v("inside the shell we can check more about the process using")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("ps "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" grep "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1550")]),a._v("\n\n")])])]),s("p",[a._v("and kill it if we want:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("kill "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1550")]),a._v("\n\n")])])]),s("h4",{attrs:{id:"syntax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[a._v("#")]),a._v(" Syntax")]),a._v(" "),s("ul",[s("li",[a._v("adb shell [-e escape] [-n] [-Tt] [-x] [command]")])]),a._v(" "),s("h4",{attrs:{id:"parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[a._v("#")]),a._v(" Parameters")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("Parameter")]),a._v(" "),s("th",[a._v("Details")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("-e")]),a._v(" "),s("td",[a._v("choose escape character, or \"none\"; default '~'")])]),a._v(" "),s("tr",[s("td",[a._v("-n")]),a._v(" "),s("td",[a._v("don't read from stdin")])]),a._v(" "),s("tr",[s("td",[a._v("-T")]),a._v(" "),s("td",[a._v("disable PTY allocation")])]),a._v(" "),s("tr",[s("td",[a._v("-t")]),a._v(" "),s("td",[a._v("force PTY allocation")])]),a._v(" "),s("tr",[s("td",[a._v("-x")]),a._v(" "),s("td",[a._v("disable remote exit codes and stdout/stderr separation")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);