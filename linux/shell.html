<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux - Shell</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Changing default shell, Basic Shell Utilities, Create Your Own Command Alias, Locate a file on your system">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Linux - Shell">
    <meta property="og:description" content="Changing default shell, Basic Shell Utilities, Create Your Own Command Alias, Locate a file on your system">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/linux/shell.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Linux - Shell">
    <meta name="twitter:description" content="Changing default shell, Basic Shell Utilities, Create Your Own Command Alias, Locate a file on your system">
    <meta name="twitter:url" content="/linux/shell.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1906.26b4a27b.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/linux/getting-started-with-gnu-linux.html" class="sidebar-link">Getting started with GNU/Linux</a></li><li><a href="/linux/detecting-linux-distribution-name-and-version.html" class="sidebar-link">Detecting Linux distribution name and version</a></li><li><a href="/linux/getting-information-on-a-running-linux-kernel.html" class="sidebar-link">Getting information on a running Linux kernel</a></li><li><a href="/linux/shell.html" aria-current="page" class="active sidebar-link">Shell</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux/shell.html#changing-default-shell" class="sidebar-link">Changing default shell</a></li><li class="sidebar-sub-header"><a href="/linux/shell.html#basic-shell-utilities" class="sidebar-link">Basic Shell Utilities</a></li><li class="sidebar-sub-header"><a href="/linux/shell.html#create-your-own-command-alias" class="sidebar-link">Create Your Own Command Alias</a></li><li class="sidebar-sub-header"><a href="/linux/shell.html#locate-a-file-on-your-system" class="sidebar-link">Locate a file on your system</a></li></ul></li><li><a href="/linux/check-disk-space.html" class="sidebar-link">Check Disk Space</a></li><li><a href="/linux/getting-system-information.html" class="sidebar-link">Getting System Information</a></li><li><a href="/linux/ls-command.html" class="sidebar-link">ls command</a></li><li><a href="/linux/file-compression-with-tar-command.html" class="sidebar-link">File Compression with 'tar' command</a></li><li><a href="/linux/services.html" class="sidebar-link">Services</a></li><li><a href="/linux/managing-services.html" class="sidebar-link">Managing Services</a></li><li><a href="/linux/modifying-users.html" class="sidebar-link">Modifying Users</a></li><li><a href="/linux/lamp-stack.html" class="sidebar-link">LAMP Stack</a></li><li><a href="/linux/tee-command.html" class="sidebar-link">tee command</a></li><li><a href="/linux/secure-shell-ssh.html" class="sidebar-link">Secure Shell (SSH)</a></li><li><a href="/linux/scp.html" class="sidebar-link">SCP</a></li><li><a href="/linux/gnupg-gpg.html" class="sidebar-link">GnuPG (GPG)</a></li><li><a href="/linux/network-configuration.html" class="sidebar-link">Network Configuration</a></li><li><a href="/linux/midnight-commander.html" class="sidebar-link">Midnight Commander</a></li><li><a href="/linux/change-root-chroot.html" class="sidebar-link">Change root (chroot)</a></li><li><a href="/linux/package-managers.html" class="sidebar-link">Package Managers</a></li><li><a href="/linux/compiling-the-linux-kernel.html" class="sidebar-link">Compiling the Linux kernel</a></li><li><a href="/linux/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h1> <p>The shell executes a program in response to its prompt. When you give a command, the shell searches for the program, and then executes it. For example, when you give the command ls, the shell searches for the utility/program named ls, and then runs it in the  shell. The arguments and the options that you provide with the utilities can impact the result that you get. The shell is also known as a CLI, or command line interface.</p> <h2 id="changing-default-shell"><a href="#changing-default-shell" class="header-anchor">#</a> Changing default shell</h2> <p>Most modern distributions will come with BASH (<strong>B</strong>ourne <strong>A</strong>gain <strong>SH</strong>ell) pre-installed and configured as a default shell.</p> <p>The command (actually an executable binary, an ELF) that is responsible for changing shells in Linux is <code>chsh</code> (<strong>ch</strong>ange <strong>sh</strong>ell).</p> <p>We can first check which shells are already installed and configured on our machine by using the <code>chsh -l</code> command, which will output a result similar to this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>user@localhost ~<span class="token punctuation">]</span>$ chsh -l
/bin/sh
/bin/bash
/sbin/nologin
/usr/bin/sh
/usr/bin/bash
/usr/sbin/nologin
/usr/bin/fish

</code></pre></div><p>In some Linux distributions, <code>chsh -l</code> is invalid. In this case, the list of all available shells can be found at /etc/shells file. You can show the file contents with <code>cat</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>user@localhost ~<span class="token punctuation">]</span>$ <span class="token function">cat</span> /etc/shells
<span class="token comment"># /etc/shells: valid login shells</span>
/bin/sh
/bin/bash
/sbin/nologin
/usr/bin/sh
/usr/bin/bash
/usr/sbin/nologin
/usr/bin/fish

</code></pre></div><p>Now we can choose our new default shell, e.g. <code>fish</code>, and configure it by using <code>chsh -s</code>,</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>user@localhost ~<span class="token punctuation">]</span>$ chsh -s /usr/bin/fish
Changing shell <span class="token keyword">for</span> user.
Password: 
Shell changed.

</code></pre></div><p>Now all that is left to do is preform a logoff-logon cycle, and enjoy our new default shell.</p> <p>If you wish to change the default shell for a different user, and you have administrative privileges on the machine, you'll be able to accomplish this by using <code>chsh</code> as <code>root</code>. So assuming we want to change <code>user_2</code>'s default shell to  fish, we will use the same command as before, but with the addition of the other user's username, <code>chsh -s /usr/bin/fish user_2</code>.</p> <p>In order to check what the current default shell is, we can view the <code>$SHELL</code> environment variable, which points to the path to our default shell, so after our change, we would expect to get a result similar to this,</p> <div class="language- extra-class"><pre class="language-text"><code>
~  echo $SHELL                                 
/usr/bin/fish

</code></pre></div><h3 id="chsh-options"><a href="#chsh-options" class="header-anchor">#</a> <code>chsh</code> options:</h3> <p><code>-s shell</code></p> <p>Sets shell as the login shell.</p> <p><code>-l</code>, <code>--list-shells</code></p> <p>Print the list of shells listed in /etc/shells and exit.</p> <p><code>-h</code>, <code>--help</code></p> <p>Print a usage message and exit.</p> <p><code>-v</code>, <code>--version</code></p> <p>Print version information and exit.</p> <h2 id="basic-shell-utilities"><a href="#basic-shell-utilities" class="header-anchor">#</a> Basic Shell Utilities</h2> <h3 id="customizing-the-shell-prompt"><a href="#customizing-the-shell-prompt" class="header-anchor">#</a> Customizing the Shell prompt</h3> <p>Default command prompt can be changed to look different and short. In case the current directory is long default command prompt becomes too large. Using <code>PS1</code> becomes useful in these cases. A short and customized command pretty and elegant. In the table below <code>PS1</code> has been used with a number of arguments to show different forms of shell prompts.
Default command prompt looks something like this: <code>user@host ~ $</code> in my case it looks like this: <code>bruce@gotham ~ $</code>. It can changed as per the table below:</p> <table><thead><tr><th>Command</th> <th>Utility</th></tr></thead> <tbody><tr><td>PS1='\w $ '</td> <td><code>~ $</code> shell prompt as directory name. In this case root directory is Root.</td></tr> <tr><td>PS1='\h $ '</td> <td><code>gotham $</code> shell prompt as hostname</td></tr> <tr><td>PS1='\u $ '</td> <td><code>bruce $</code> shell prompt as username</td></tr> <tr><td>PS1='\t $ '</td> <td><code>22:37:31 $</code> shell prompt in 24 hour format</td></tr> <tr><td>PS1='@ $ '</td> <td><code>10:37 PM</code> shell prompt in 12 hour time format</td></tr> <tr><td>PS1='! $ '</td> <td><code>732</code> will show the history number of command in place of shell prompt</td></tr> <tr><td>PS1='dude $ '</td> <td><code>dude $</code> will show the shell prompt the way you like</td></tr></tbody></table> <h3 id="some-basic-shell-commands"><a href="#some-basic-shell-commands" class="header-anchor">#</a> Some basic shell commands</h3> <table><thead><tr><th>Command</th> <th>Utility</th></tr></thead> <tbody><tr><td><code>Ctrl-k</code></td> <td>cut/kill</td></tr> <tr><td><code>Ctrl-y</code></td> <td>yank/paste</td></tr> <tr><td><code>Ctrl-a</code></td> <td>will take cursor to the start of the line</td></tr> <tr><td><code>Ctrl-e</code></td> <td>will take cursor to the end of the line</td></tr> <tr><td><code>Ctrl-d</code></td> <td>will delete the character after/at the cursor</td></tr> <tr><td><code>Ctrl-l</code></td> <td>will clear the screen/terminal</td></tr> <tr><td><code>Ctrl-u</code></td> <td>will clear everything between prompt and the cursor</td></tr> <tr><td><code>Ctrl-_</code></td> <td>will undo the last thing typed on the command line</td></tr> <tr><td><code>Ctrl-c</code></td> <td>will interrupt/stop the job/process running in the foreground</td></tr> <tr><td><code>Ctrl-r</code></td> <td>reverse search in history</td></tr> <tr><td><code>~/.bash_history</code></td> <td>stores last 500 commands/events used on the shell</td></tr> <tr><td><code>history</code></td> <td>will show the command history</td></tr> <tr><td><code>history | grep &lt;key-word&gt;</code></td> <td>will show all the commands in history having keyword <key-word> (useful in cases when you remember part of the command used in the past)</key-word></td></tr></tbody></table> <h2 id="create-your-own-command-alias"><a href="#create-your-own-command-alias" class="header-anchor">#</a> Create Your Own Command Alias</h2> <p>If you are tired of using long commands in bash you can create your own command alias.</p> <p>The best way to do this is to modify (or create if it does not exist) a file called .bash_aliases in your home folder. The general syntax is:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">alias</span> <span class="token assign-left variable">command_alias</span><span class="token operator">=</span><span class="token string">'actual_command'</span>

</code></pre></div><p>where <code>actual_command</code> is the command you are renaming and <code>command_alias</code> is the new name you have given it. For example</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">alias</span> <span class="token assign-left variable">install</span><span class="token operator">=</span><span class="token string">'sudo apt-get -y install'</span>

</code></pre></div><p>maps the new command alias <code>install</code> to the actual command <code>sudo apt-get -y install</code>. This means that when you use <strong>install</strong> in a terminal this is interpreted by bash as <strong>sudo apt-get -y install</strong>.</p> <h2 id="locate-a-file-on-your-system"><a href="#locate-a-file-on-your-system" class="header-anchor">#</a> Locate a file on your system</h2> <p>Using bash you can easily locate a file with the <code>locate</code> command. For example say you are looking for the file mykey.pem:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">locate</span> mykey.pem

</code></pre></div><p>Sometimes files have strange names for example you might have a file like <code>random7897_mykey_0fidw.pem</code>. Let's say you're looking for this file but you only remember the mykey and pem parts. You could combine the <code>locate</code> command with <code>grep</code> using a pipe like this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">locate</span> pem <span class="token operator">|</span> <span class="token function">grep</span> mykey

</code></pre></div><p>Which would bring up all results which contain both of these pieces.</p> <p>Note that not all systems have the <code>locate</code> utility installed, and many that do have not enabled it. <code>locate</code> is fast and efficient because it periodically scans your system and caches the names and locations for every file on it, but if that data collection is not enabled then it cannot tell you anything. You can use <code>updatedb</code> to manually initiate the filesystem scan in order to update the cached info about files on your filesystem.</p> <p>Should you not have a working <code>locate</code>, you can fall back on the <code>find</code> utility:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">find</span> / -name mykey.pem -print

</code></pre></div><p>is roughly equivalent to <code>locate mykey.pem</code> but has to scan your filesystem(s) each time you run it for the file in question, rather than using cached data. This is obviously slower and less efficient, but more real-time.  The <code>find</code> utility can do much more than find files, but a full description of its capabilities is beyond the scope of this example.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/linux/shell.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/linux/getting-information-on-a-running-linux-kernel.html" class="prev">
        Getting information on a running Linux kernel
      </a></span> <span class="next"><a href="/linux/check-disk-space.html">
        Check Disk Space
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1906.26b4a27b.js" defer></script>
  </body>
</html>
