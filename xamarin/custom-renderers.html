<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Xamarin - Custom Renderers</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Accessing renderer from a native project, Custom renderer for ListView, Custom Renderer for BoxView, Rounded label with a custom renderer for Frame (PCL & iOS parts), Rounded BoxView with selectable background color">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Xamarin - Custom Renderers">
    <meta property="og:description" content="Accessing renderer from a native project, Custom renderer for ListView, Custom Renderer for BoxView, Rounded label with a custom renderer for Frame (PCL & iOS parts), Rounded BoxView with selectable background color">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/xamarin/custom-renderers.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Xamarin - Custom Renderers">
    <meta name="twitter:description" content="Accessing renderer from a native project, Custom renderer for ListView, Custom Renderer for BoxView, Rounded label with a custom renderer for Frame (PCL & iOS parts), Rounded BoxView with selectable background color">
    <meta name="twitter:url" content="/xamarin/custom-renderers.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/3528.05060f77.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Xamarin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xamarin/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/xamarin/getting-started-with-xamarin-forms.html" class="sidebar-link">Getting started with Xamarin.Forms</a></li><li><a href="/xamarin/why-xamarin-forms-and-when-to-use-xamarin-forms.html" class="sidebar-link">Why Xamarin Forms and When to use Xamarin Forms</a></li><li><a href="/xamarin/xamarin-forms-layouts.html" class="sidebar-link">Xamarin Forms Layouts</a></li><li><a href="/xamarin/xamarin-relative-layout.html" class="sidebar-link">Xamarin Relative Layout</a></li><li><a href="/xamarin/navigation-in-xamarin-forms.html" class="sidebar-link">Navigation in Xamarin.Forms</a></li><li><a href="/xamarin/xamarin-forms-page.html" class="sidebar-link">Xamarin.Forms Page</a></li><li><a href="/xamarin/xamarin-forms-cells.html" class="sidebar-link">Xamarin.Forms Cells</a></li><li><a href="/xamarin/xamarin-forms-views.html" class="sidebar-link">Xamarin.Forms Views</a></li><li><a href="/xamarin/using-listviews.html" class="sidebar-link">Using ListViews</a></li><li><a href="/xamarin/display-alert.html" class="sidebar-link">Display Alert</a></li><li><a href="/xamarin/accessing-native-features-with-dependencyservice.html" class="sidebar-link">Accessing native features with DependencyService</a></li><li><a href="/xamarin/dependencyservice.html" class="sidebar-link">DependencyService</a></li><li><a href="/xamarin/custom-renderers.html" aria-current="page" class="active sidebar-link">Custom Renderers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xamarin/custom-renderers.html#accessing-renderer-from-a-native-project" class="sidebar-link">Accessing renderer from a native project</a></li><li class="sidebar-sub-header"><a href="/xamarin/custom-renderers.html#custom-renderer-for-listview" class="sidebar-link">Custom renderer for ListView</a></li><li class="sidebar-sub-header"><a href="/xamarin/custom-renderers.html#custom-renderer-for-boxview" class="sidebar-link">Custom Renderer for BoxView</a></li><li class="sidebar-sub-header"><a href="/xamarin/custom-renderers.html#rounded-label-with-a-custom-renderer-for-frame-pcl-ios-parts" class="sidebar-link">Rounded label with a custom renderer for Frame (PCL &amp; iOS parts)</a></li><li class="sidebar-sub-header"><a href="/xamarin/custom-renderers.html#rounded-boxview-with-selectable-background-color" class="sidebar-link">Rounded BoxView with selectable background color</a></li></ul></li><li><a href="/xamarin/caching.html" class="sidebar-link">Caching</a></li><li><a href="/xamarin/gestures.html" class="sidebar-link">Gestures</a></li><li><a href="/xamarin/data-binding.html" class="sidebar-link">Data Binding</a></li><li><a href="/xamarin/working-with-maps.html" class="sidebar-link">Working with Maps</a></li><li><a href="/xamarin/custom-fonts-in-styles.html" class="sidebar-link">Custom Fonts in Styles</a></li><li><a href="/xamarin/push-notifications.html" class="sidebar-link">Push Notifications</a></li><li><a href="/xamarin/effects.html" class="sidebar-link">Effects</a></li><li><a href="/xamarin/triggers-behaviours.html" class="sidebar-link">Triggers &amp; Behaviours</a></li><li><a href="/xamarin/appsettings-reader-in-xamarin-forms.html" class="sidebar-link">AppSettings Reader in Xamarin.Forms</a></li><li><a href="/xamarin/creating-custom-controls.html" class="sidebar-link">Creating custom controls</a></li><li><a href="/xamarin/working-with-local-databases.html" class="sidebar-link">Working with local databases</a></li><li><a href="/xamarin/carouselview-pre-release-version.html" class="sidebar-link">CarouselView - Pre-release version</a></li><li><a href="/xamarin/exception-handling.html" class="sidebar-link">Exception handling</a></li><li><a href="/xamarin/sql-database-and-api-in-xamarin-forms.html" class="sidebar-link">SQL Database and API in Xamarin Forms.</a></li><li><a href="/xamarin/contact-picker-xamarin-forms-android-and-ios.html" class="sidebar-link">Contact Picker - Xamarin Forms (Android and iOS)</a></li><li><a href="/xamarin/xamarin-plugin.html" class="sidebar-link">Xamarin Plugin</a></li><li><a href="/xamarin/oauth2.html" class="sidebar-link">OAuth2</a></li><li><a href="/xamarin/messagingcenter.html" class="sidebar-link">MessagingCenter</a></li><li><a href="/xamarin/generic-xamarin-forms-app-lifecycle-platform-dependant.html" class="sidebar-link">Generic Xamarin.Forms app lifecycle? Platform-dependant!</a></li><li><a href="/xamarin/platform-specific-behaviour.html" class="sidebar-link">Platform-specific behaviour</a></li><li><a href="/xamarin/platform-specific-visual-adjustments.html" class="sidebar-link">Platform specific visual adjustments</a></li><li><a href="/xamarin/dependency-services.html" class="sidebar-link">Dependency Services</a></li><li><a href="/xamarin/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/xamarin/bdd-unit-testing-in-xamarin-forms.html" class="sidebar-link">BDD Unit Testing in Xamarin.Forms</a></li><li><a href="/xamarin/getting-started-with-xamarin-ios.html" class="sidebar-link">Getting started with Xamarin.iOS</a></li><li><a href="/xamarin/alerts.html" class="sidebar-link">Alerts</a></li><li><a href="/xamarin/touch-id.html" class="sidebar-link">Touch ID</a></li><li><a href="/xamarin/auto-layout-in-xamarin-ios.html" class="sidebar-link">Auto Layout in Xamarin.iOS</a></li><li><a href="/xamarin/add-search-bar-to-uitableview.html" class="sidebar-link">Add Search Bar to UITableView</a></li><li><a href="/xamarin/adding-uirefreshcontrol-to-a-table-view.html" class="sidebar-link">Adding UIRefreshControl to a table view</a></li><li><a href="/xamarin/add-pulltorefresh-to-uitableview.html" class="sidebar-link">Add PullToRefresh to UITableView</a></li><li><a href="/xamarin/uiimageview-zoom-in-combination-with-uiscrollview.html" class="sidebar-link">UIImageView zoom in combination with UIScrollView</a></li><li><a href="/xamarin/xamarin-ios-navigation-drawer.html" class="sidebar-link">Xamarin.iOS Navigation Drawer</a></li><li><a href="/xamarin/using-asset-catalogs.html" class="sidebar-link">Using Asset Catalogs</a></li><li><a href="/xamarin/how-to-use-asset-asset-catalogs.html" class="sidebar-link">How to use asset Asset Catalogs</a></li><li><a href="/xamarin/using-ios-asset-catalogs-to-manage-images.html" class="sidebar-link">Using iOS Asset Catalogs to Manage Images</a></li><li><a href="/xamarin/create-and-use-custom-prototype-table-cells-in-xamarin-ios-using-storyboard.html" class="sidebar-link">Create and use custom prototype table cells in xamarin.iOS using storyboard</a></li><li><a href="/xamarin/binding-swift-libraries.html" class="sidebar-link">Binding Swift Libraries</a></li><li><a href="/xamarin/connecting-with-microsoft-cognitive-services.html" class="sidebar-link">Connecting with Microsoft Cognitive Services</a></li><li><a href="/xamarin/concurrent-programming-in-xamarin-ios.html" class="sidebar-link">Concurrent Programming in Xamarin.iOS</a></li><li><a href="/xamarin/working-with-xib-and-storyboards-in-xamarin-ios.html" class="sidebar-link">Working with Xib and Storyboards in Xamarin.iOS</a></li><li><a href="/xamarin/best-practices-for-migrating-from-uilocalnotification-to-user-notifications-framework.html" class="sidebar-link">Best practices for migrating from UILocalNotification to User Notifications framework</a></li><li><a href="/xamarin/calculating-variable-row-height-in-getheightforrow.html" class="sidebar-link">Calculating variable row height in GetHeightForRow</a></li><li><a href="/xamarin/resizing-methods-for-uiimage.html" class="sidebar-link">Resizing Methods for UIImage</a></li><li><a href="/xamarin/controlling-the-screenshot-in-the-ios-multitasking-switcher.html" class="sidebar-link">Controlling the Screenshot in the iOS Multitasking Switcher</a></li><li><a href="/xamarin/xamarin-ios-google-places-autocomplete.html" class="sidebar-link">Xamarin iOS Google Places Autocomplete</a></li><li><a href="/xamarin/getting-started-with-xamarin-android.html" class="sidebar-link">Getting started with Xamarin.Android</a></li><li><a href="/xamarin/app-lifecycle-xamarin-andorid.html" class="sidebar-link">App lifecycle - Xamarin.Andorid</a></li><li><a href="/xamarin/bindings.html" class="sidebar-link">Bindings</a></li><li><a href="/xamarin/dialogs.html" class="sidebar-link">Dialogs</a></li><li><a href="/xamarin/toasts.html" class="sidebar-link">Toasts</a></li><li><a href="/xamarin/dialogs.html" class="sidebar-link">Dialogs</a></li><li><a href="/xamarin/custom-listview.html" class="sidebar-link">Custom ListView</a></li><li><a href="/xamarin/recyclerview.html" class="sidebar-link">RecyclerView</a></li><li><a href="/xamarin/xamarin-android-how-to-create-a-toolbar.html" class="sidebar-link">Xamarin.Android - How to create a toolbar</a></li><li><a href="/xamarin/xamarin-android-bluetooth-communication.html" class="sidebar-link">Xamarin.Android - Bluetooth communication</a></li><li><a href="/xamarin/how-to-correct-the-orientation-of-a-picture-captured-from-android-device.html" class="sidebar-link">How to correct the orientation of a picture captured from Android device</a></li><li><a href="/xamarin/barcode-scanning-using-zxing-library-in-xamarin-applications.html" class="sidebar-link">Barcode scanning using ZXing library in Xamarin Applications</a></li><li><a href="/xamarin/publishing-your-xamarin-android-apk.html" class="sidebar-link">Publishing your Xamarin.Android APK</a></li><li><a href="/xamarin/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="custom-renderers"><a href="#custom-renderers" class="header-anchor">#</a> Custom Renderers</h1> <h2 id="accessing-renderer-from-a-native-project"><a href="#accessing-renderer-from-a-native-project" class="header-anchor">#</a> Accessing renderer from a native project</h2> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token class-name"><span class="token keyword">var</span></span> renderer <span class="token operator">=</span> Platform<span class="token punctuation">.</span><span class="token function">GetRenderer</span><span class="token punctuation">(</span>visualElement<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>renderer <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    renderer <span class="token operator">=</span> Platform<span class="token punctuation">.</span><span class="token function">CreateRenderer</span><span class="token punctuation">(</span>visualElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Platform<span class="token punctuation">.</span><span class="token function">SetRenderer</span><span class="token punctuation">(</span>visualElement<span class="token punctuation">,</span> renderer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">DoSomeThingWithRender</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// now you can do whatever you want with render</span>

</code></pre></div><h2 id="custom-renderer-for-listview"><a href="#custom-renderer-for-listview" class="header-anchor">#</a> Custom renderer for ListView</h2> <p>Custom Renderers let developers customize the appearance and behavior of Xamarin.Forms controls on each platform. Developers could use features of native controls.</p> <p>For example, we need to disable scroll in <code>ListView</code>. On iOS <code>ListView</code> is scrollable even if all items are placed on the screen and user shouldn't be able to scroll the list. <code>Xamarin.Forms.ListView</code> doesn't manage such setting. In this case, a renderer is coming to help.</p> <p>Firstly, we should create custom control in PCL project, which will declare some required bindable property:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SuperListView</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ListView</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">BindableProperty</span> IsScrollingEnableProperty <span class="token operator">=</span>
        BindableProperty<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>IsScrollingEnable<span class="token punctuation">)</span><span class="token punctuation">,</span>
                                <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">bool</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SuperListView</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> IsScrollingEnable
    <span class="token punctuation">{</span>
        <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span><span class="token function">GetValue</span><span class="token punctuation">(</span>IsScrollingEnableProperty<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">set</span> <span class="token punctuation">{</span> <span class="token function">SetValue</span><span class="token punctuation">(</span>IsScrollingEnableProperty<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Next step will be creating a renderer for each platform.</p> <p>iOS:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token target keyword">assembly</span><span class="token punctuation">:</span> <span class="token class-name">ExportRenderer</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SuperListView</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SuperListViewRenderer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">namespace</span> <span class="token namespace">SuperForms<span class="token punctuation">.</span>iOS<span class="token punctuation">.</span>Renderers</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SuperListViewRenderer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ListViewRenderer</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementChanged</span><span class="token punctuation">(</span><span class="token class-name">ElementChangedEventArgs<span class="token punctuation">&lt;</span>ListView<span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> superListView <span class="token operator">=</span> Element <span class="token keyword">as</span> <span class="token class-name">SuperListView</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>superListView <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>


            Control<span class="token punctuation">.</span>ScrollEnabled <span class="token operator">=</span> superListView<span class="token punctuation">.</span>IsScrollingEnable<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>And Android(Android's list doesn't have scroll if all items are placed on the screen, so we will not disable scrolling, but still we are able to use native properties):</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token target keyword">assembly</span><span class="token punctuation">:</span> <span class="token class-name">ExportRenderer</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SuperListView</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SuperListViewRenderer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">namespace</span> <span class="token namespace">SuperForms<span class="token punctuation">.</span>Droid<span class="token punctuation">.</span>Renderers</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SuperListViewRenderer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ListViewRenderer</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementChanged</span><span class="token punctuation">(</span><span class="token class-name">ElementChangedEventArgs<span class="token punctuation">&lt;</span>Xamarin<span class="token punctuation">.</span>Forms<span class="token punctuation">.</span>ListView<span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> superListView <span class="token operator">=</span> Element <span class="token keyword">as</span> <span class="token class-name">SuperListView</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>superListView <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><code>Element</code> property of renderer is my <code>SuperListView</code> control from PCL project.</p> <p><code>Control</code> property of renderer is native control. <code>Android.Widget.ListView</code> for Android and <code>UIKit.UITableView</code> for iOS.</p> <p>And how we will use it in <code>XAML</code>:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token operator">&lt;</span><span class="token class-name">ContentPage</span> x<span class="token punctuation">:</span>Name<span class="token operator">=</span><span class="token string">&quot;Page&quot;</span>
         xmlns<span class="token operator">=</span><span class="token string">&quot;http://xamarin.com/schemas/2014/forms&quot;</span>
         xmlns<span class="token punctuation">:</span>x<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;</span>
         xmlns<span class="token punctuation">:</span>controls<span class="token operator">=</span><span class="token string">&quot;clr-namespace:SuperForms.Controls;assembly=SuperForms.Controls&quot;</span>
         x<span class="token punctuation">:</span>Class<span class="token operator">=</span><span class="token string">&quot;SuperForms.Samples.SuperListViewPage&quot;</span><span class="token operator">&gt;</span>


  <span class="token operator">&lt;</span>controls<span class="token punctuation">:</span><span class="token class-name">SuperListView</span> ItemsSource<span class="token operator">=</span><span class="token string">&quot;{Binding Items, Source={x:Reference Page}}&quot;</span>
                          IsScrollingEnable<span class="token operator">=</span><span class="token string">&quot;false&quot;</span>
                          Margin<span class="token operator">=</span><span class="token string">&quot;20&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>controls<span class="token punctuation">:</span>SuperListView<span class="token punctuation">.</span>ItemTemplate<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>DataTemplate<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ViewCell<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token class-name">Label</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding .}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ViewCell<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>DataTemplate<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>controls<span class="token punctuation">:</span>SuperListView<span class="token punctuation">.</span>ItemTemplate<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>controls<span class="token punctuation">:</span>SuperListView<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ContentPage<span class="token operator">&gt;</span>

</code></pre></div><p><code>.cs</code> file of page:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">SuperListViewPage</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ContentPage</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ObservableCollection<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> _items<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">ObservableCollection<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> Items
    <span class="token punctuation">{</span>
        <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _items<span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">set</span>
        <span class="token punctuation">{</span>
            _items <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
            <span class="token function">OnPropertyChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">SuperListViewPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SuperListView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword">var</span></span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Item </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        Items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ObservableCollection<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="custom-renderer-for-boxview"><a href="#custom-renderer-for-boxview" class="header-anchor">#</a> Custom Renderer for BoxView</h2> <p>Custom Renderer help to allows to add new properties and render them differently in native platform that can not be otherwise does through shared code. In this example we will add radius and shadow to a boxview.</p> <p>Firstly, we should create custom control in PCL project, which will declare some required bindable property:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">namespace</span> <span class="token namespace">Mobile<span class="token punctuation">.</span>Controls</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedBoxView</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BoxView</span></span>
    <span class="token punctuation">{</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Respresents the background color of the button.</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">BindableProperty</span> BorderRadiusProperty <span class="token operator">=</span> BindableProperty<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Create</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExtendedBoxView<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>p <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>BorderRadius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> BorderRadius
        <span class="token punctuation">{</span>
            <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token function">GetValue</span><span class="token punctuation">(</span>BorderRadiusProperty<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token keyword">set</span> <span class="token punctuation">{</span> <span class="token function">SetValue</span><span class="token punctuation">(</span>BorderRadiusProperty<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">BindableProperty</span> StrokeProperty <span class="token operator">=</span>
            BindableProperty<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Create</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExtendedBoxView<span class="token punctuation">,</span> Color<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>p <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>Stroke<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>Transparent<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name">Color</span> Stroke
        <span class="token punctuation">{</span>
            <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span>Color<span class="token punctuation">)</span><span class="token function">GetValue</span><span class="token punctuation">(</span>StrokeProperty<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token keyword">set</span> <span class="token punctuation">{</span> <span class="token function">SetValue</span><span class="token punctuation">(</span>StrokeProperty<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">BindableProperty</span> StrokeThicknessProperty <span class="token operator">=</span>
            BindableProperty<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Create</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExtendedBoxView<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>p <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>StrokeThickness<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> StrokeThickness
        <span class="token punctuation">{</span>
            <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token function">GetValue</span><span class="token punctuation">(</span>StrokeThicknessProperty<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token keyword">set</span> <span class="token punctuation">{</span> <span class="token function">SetValue</span><span class="token punctuation">(</span>StrokeThicknessProperty<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Next step will be creating a renderer for each platform.</p> <p>iOS:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token target keyword">assembly</span><span class="token punctuation">:</span> <span class="token class-name">ExportRenderer</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ExtendedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ExtendedBoxViewRenderer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">namespace</span> <span class="token namespace">Mobile<span class="token punctuation">.</span>iOS<span class="token punctuation">.</span>Renderers</span>
<span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedBoxViewRenderer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">VisualElementRenderer<span class="token punctuation">&lt;</span>BoxView<span class="token punctuation">&gt;</span></span></span>
 <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">ExtendedBoxViewRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>    
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementChanged</span><span class="token punctuation">(</span><span class="token class-name">ElementChangedEventArgs<span class="token punctuation">&lt;</span>BoxView<span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Element <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        Layer<span class="token punctuation">.</span>MasksToBounds <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        Layer<span class="token punctuation">.</span>CornerRadius <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ExtendedBoxView<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>Element<span class="token punctuation">)</span><span class="token punctuation">.</span>BorderRadius <span class="token operator">/</span> <span class="token number">2.0f</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

     
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>PropertyChangedEventArgs</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span>sender<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>PropertyName <span class="token operator">==</span> ExtendedBoxView<span class="token punctuation">.</span>BorderRadiusProperty<span class="token punctuation">.</span>PropertyName<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">SetNeedsDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token class-name">CGRect</span> rect<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">ExtendedBoxView</span> roundedBoxView <span class="token operator">=</span> <span class="token punctuation">(</span>ExtendedBoxView<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>Element<span class="token punctuation">;</span>
        <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> UIGraphics<span class="token punctuation">.</span><span class="token function">GetCurrentContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            context<span class="token punctuation">.</span><span class="token function">SetFillColor</span><span class="token punctuation">(</span>roundedBoxView<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">ToCGColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            context<span class="token punctuation">.</span><span class="token function">SetStrokeColor</span><span class="token punctuation">(</span>roundedBoxView<span class="token punctuation">.</span>Stroke<span class="token punctuation">.</span><span class="token function">ToCGColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            context<span class="token punctuation">.</span><span class="token function">SetLineWidth</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>roundedBoxView<span class="token punctuation">.</span>StrokeThickness<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> rCorner <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>Bounds<span class="token punctuation">.</span><span class="token function">Inset</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>roundedBoxView<span class="token punctuation">.</span>StrokeThickness <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>roundedBoxView<span class="token punctuation">.</span>StrokeThickness <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">nfloat</span> radius <span class="token operator">=</span> <span class="token punctuation">(</span>nfloat<span class="token punctuation">)</span>roundedBoxView<span class="token punctuation">.</span>BorderRadius<span class="token punctuation">;</span>
            radius <span class="token operator">=</span> <span class="token punctuation">(</span>nfloat<span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">Min</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span>rCorner<span class="token punctuation">.</span>Height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> rCorner<span class="token punctuation">.</span>Width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> path <span class="token operator">=</span> CGPath<span class="token punctuation">.</span><span class="token function">FromRoundedRect</span><span class="token punctuation">(</span>rCorner<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
            context<span class="token punctuation">.</span><span class="token function">AddPath</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            context<span class="token punctuation">.</span><span class="token function">DrawPath</span><span class="token punctuation">(</span>CGPathDrawingMode<span class="token punctuation">.</span>FillStroke<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Again you can customize however you want inside the draw method.</p> <p>And same for Android:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token target keyword">assembly</span><span class="token punctuation">:</span> <span class="token class-name">ExportRenderer</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ExtendedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ExtendedBoxViewRenderer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">namespace</span> <span class="token namespace">Mobile<span class="token punctuation">.</span>Droid</span>
<span class="token punctuation">{</span>
    <span class="token comment">/// &lt;summary&gt;</span>
    <span class="token comment">/// </span>
    <span class="token comment">/// &lt;/summary&gt;</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedBoxViewRenderer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">VisualElementRenderer<span class="token punctuation">&lt;</span>BoxView<span class="token punctuation">&gt;</span></span></span>
    <span class="token punctuation">{</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// </span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token function">ExtendedBoxViewRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>    
        <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// </span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;e&quot;&gt;&lt;/param&gt;</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementChanged</span><span class="token punctuation">(</span><span class="token class-name">ElementChangedEventArgs<span class="token punctuation">&lt;</span>BoxView<span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">SetWillNotDraw</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">Invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// </span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;sender&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;e&quot;&gt;&lt;/param&gt;</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>PropertyChangedEventArgs</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span>sender<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>PropertyName <span class="token operator">==</span> ExtendedBoxView<span class="token punctuation">.</span>BorderRadiusProperty<span class="token punctuation">.</span>PropertyName<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token function">Invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// </span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;canvas&quot;&gt;&lt;/param&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> box <span class="token operator">=</span> Element <span class="token keyword">as</span> <span class="token class-name">ExtendedBoxView</span><span class="token punctuation">;</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Paint</span> myPaint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            myPaint<span class="token punctuation">.</span><span class="token function">SetStyle</span><span class="token punctuation">(</span>Paint<span class="token punctuation">.</span>Style<span class="token punctuation">.</span>Stroke<span class="token punctuation">)</span><span class="token punctuation">;</span>
            myPaint<span class="token punctuation">.</span>StrokeWidth <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span>StrokeThickness<span class="token punctuation">;</span>
            myPaint<span class="token punctuation">.</span><span class="token function">SetARGB</span><span class="token punctuation">(</span><span class="token function">convertTo255ScaleColor</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>A<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">convertTo255ScaleColor</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>R<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">convertTo255ScaleColor</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>G<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">convertTo255ScaleColor</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>B<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            myPaint<span class="token punctuation">.</span><span class="token function">SetShadowLayer</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> Android<span class="token punctuation">.</span>Graphics<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">Argb</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">SetLayerType</span><span class="token punctuation">(</span>Android<span class="token punctuation">.</span>Views<span class="token punctuation">.</span>LayerType<span class="token punctuation">.</span>Software<span class="token punctuation">,</span> myPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> number <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span>StrokeThickness <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token class-name">RectF</span> rectF <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RectF</span><span class="token punctuation">(</span>
                        number<span class="token punctuation">,</span> <span class="token comment">// left</span>
                        number<span class="token punctuation">,</span> <span class="token comment">// top</span>
                        canvas<span class="token punctuation">.</span>Width <span class="token operator">-</span> number<span class="token punctuation">,</span> <span class="token comment">// right</span>
                        canvas<span class="token punctuation">.</span>Height <span class="token operator">-</span> number <span class="token comment">// bottom</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token class-name"><span class="token keyword">var</span></span> radius <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>box<span class="token punctuation">.</span>BorderRadius<span class="token punctuation">;</span>
            canvas<span class="token punctuation">.</span><span class="token function">DrawRoundRect</span><span class="token punctuation">(</span>rectF<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> myPaint<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">///</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;color&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">convertTo255ScaleColor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> color<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Math<span class="token punctuation">.</span><span class="token function">Ceiling</span><span class="token punctuation">(</span>color <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>}</p> <p>The XAML:</p> <p>We first reference to our control with the namespace we defined earlier.</p> <div class="language-cs extra-class"><pre class="language-cs"><code>xmlns<span class="token punctuation">:</span>Controls<span class="token operator">=</span><span class="token string">&quot;clr-namespace:Mobile.Controls&quot;</span>

</code></pre></div><p>We then use the Control as follows and use properties defined at the beginning:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token operator">&lt;</span>Controls<span class="token punctuation">:</span><span class="token class-name">ExtendedBoxView</span> 
    x<span class="token punctuation">:</span>Name<span class="token operator">=</span><span class="token string">&quot;search_boxview&quot;</span>
    Color<span class="token operator">=</span><span class="token string">&quot;#444&quot;</span>
    BorderRadius<span class="token operator">=</span><span class="token string">&quot;5&quot;</span>
    HorizontalOptions<span class="token operator">=</span><span class="token string">&quot;CenterAndExpand&quot;</span> 
    <span class="token operator">/</span><span class="token operator">&gt;</span>

</code></pre></div><h2 id="rounded-label-with-a-custom-renderer-for-frame-pcl-ios-parts"><a href="#rounded-label-with-a-custom-renderer-for-frame-pcl-ios-parts" class="header-anchor">#</a> Rounded label with a custom renderer for Frame (PCL &amp; iOS parts)</h2> <p><strong>First step : PCL part</strong></p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">using</span> <span class="token namespace">Xamarin<span class="token punctuation">.</span>Forms</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">ProjectNamespace</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedFrame</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Frame</span></span>
    <span class="token punctuation">{</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// The corner radius property.</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">BindableProperty</span> CornerRadiusProperty <span class="token operator">=</span>
            BindableProperty<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;CornerRadius&quot;</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">double</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ExtendedFrame</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Gets or sets the corner radius.</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> CornerRadius
        <span class="token punctuation">{</span>
            <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token function">GetValue</span><span class="token punctuation">(</span>CornerRadiusProperty<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token keyword">set</span> <span class="token punctuation">{</span> <span class="token function">SetValue</span><span class="token punctuation">(</span>CornerRadiusProperty<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Second step : iOS part</strong></p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">using</span> <span class="token namespace">ProjectNamespace</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">ProjectNamespace<span class="token punctuation">.</span>iOS</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Xamarin<span class="token punctuation">.</span>Forms</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Xamarin<span class="token punctuation">.</span>Forms<span class="token punctuation">.</span>Platform<span class="token punctuation">.</span>iOS</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token target keyword">assembly</span><span class="token punctuation">:</span> <span class="token class-name">ExportRenderer</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ExtendedFrame</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ExtendedFrameRenderer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">namespace</span> <span class="token namespace">ProjectNamespace<span class="token punctuation">.</span>iOS</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedFrameRenderer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">FrameRenderer</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementChanged</span><span class="token punctuation">(</span><span class="token class-name">ElementChangedEventArgs<span class="token punctuation">&lt;</span>Frame<span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>Element <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                Layer<span class="token punctuation">.</span>MasksToBounds <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                Layer<span class="token punctuation">.</span>CornerRadius <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Element <span class="token keyword">as</span> <span class="token class-name">ExtendedFrame</span><span class="token punctuation">)</span><span class="token punctuation">.</span>CornerRadius<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>PropertyChangedEventArgs</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span>sender<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>PropertyName <span class="token operator">==</span> ExtendedFrame<span class="token punctuation">.</span>CornerRadiusProperty<span class="token punctuation">.</span>PropertyName<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                Layer<span class="token punctuation">.</span>CornerRadius <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Element <span class="token keyword">as</span> <span class="token class-name">ExtendedFrame</span><span class="token punctuation">)</span><span class="token punctuation">.</span>CornerRadius<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Third step : XAML code to call an ExtendedFrame</strong></p> <p>If you want to use it in a XAML part, don't forget to write this :</p> <div class="language-cs extra-class"><pre class="language-cs"><code>xmlns<span class="token punctuation">:</span>controls<span class="token operator">=</span><span class="token string">&quot;clr-namespace:ProjectNamespace;assembly:ProjectNamespace&quot;</span>

</code></pre></div><p>after</p> <div class="language-cs extra-class"><pre class="language-cs"><code>xmlns<span class="token operator">=</span><span class="token string">&quot;http://xamarin.com/schemas/2014/forms&quot;</span> 
xmlns<span class="token punctuation">:</span>x<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;</span>

</code></pre></div><p>Now, you can use the ExtendedFrame like this :</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token operator">&lt;</span>controls<span class="token punctuation">:</span><span class="token class-name">ExtendedFrame</span>
    VerticalOptions<span class="token operator">=</span><span class="token string">&quot;FillAndExpand&quot;</span>
    HorizontalOptions<span class="token operator">=</span><span class="token string">&quot;FillAndExpand&quot;</span>
    BackgroundColor<span class="token operator">=</span><span class="token string">&quot;Gray&quot;</span>
    CornerRadius<span class="token operator">=</span><span class="token string">&quot;35.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Frame<span class="token punctuation">.</span>Content<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">Label</span>
            Text<span class="token operator">=</span><span class="token string">&quot;MyText&quot;</span>
            TextColor<span class="token operator">=</span><span class="token string">&quot;Blue&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Frame<span class="token punctuation">.</span>Content<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>controls<span class="token punctuation">:</span>ExtendedFrame<span class="token operator">&gt;</span>

</code></pre></div><h2 id="rounded-boxview-with-selectable-background-color"><a href="#rounded-boxview-with-selectable-background-color" class="header-anchor">#</a> Rounded BoxView with selectable background color</h2> <p><strong>First step : PCL part</strong></p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RoundedBoxView</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BoxView</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">BindableProperty</span> CornerRadiusProperty <span class="token operator">=</span>
        BindableProperty<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;CornerRadius&quot;</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">double</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">RoundedEntry</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">double</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> CornerRadius
    <span class="token punctuation">{</span>
        <span class="token keyword">get</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token function">GetValue</span><span class="token punctuation">(</span>CornerRadiusProperty<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">set</span>
        <span class="token punctuation">{</span>
            <span class="token function">SetValue</span><span class="token punctuation">(</span>CornerRadiusProperty<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">BindableProperty</span> FillColorProperty <span class="token operator">=</span>
        BindableProperty<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;FillColor&quot;</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">string</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">RoundedEntry</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">string</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> FillColor
    <span class="token punctuation">{</span>
        <span class="token keyword">get</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token function">GetValue</span><span class="token punctuation">(</span>FillColorProperty<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">set</span> 
        <span class="token punctuation">{</span>
            <span class="token function">SetValue</span><span class="token punctuation">(</span>FillColorProperty<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Second step : Droid part</strong></p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token target keyword">assembly</span><span class="token punctuation">:</span> <span class="token class-name">ExportRenderer</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">RoundedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">RoundedBoxViewRenderer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">namespace</span> <span class="token namespace">MyNamespace<span class="token punctuation">.</span>Droid</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RoundedBoxViewRenderer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">VisualElementRenderer<span class="token punctuation">&lt;</span>BoxView<span class="token punctuation">&gt;</span></span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementChanged</span><span class="token punctuation">(</span><span class="token class-name">ElementChangedEventArgs<span class="token punctuation">&lt;</span>BoxView<span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">SetWillNotDraw</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">Invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>PropertyChangedEventArgs</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span>sender<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">SetWillNotDraw</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">Invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> box <span class="token operator">=</span> Element <span class="token keyword">as</span> <span class="token class-name">RoundedBoxView</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> paint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Paint</span>
            <span class="token punctuation">{</span>
                Color <span class="token operator">=</span> Xamarin<span class="token punctuation">.</span>Forms<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">FromHex</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>FillColor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToAndroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                AntiAlias <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

            <span class="token function">GetDrawingRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> radius <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">Width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> box<span class="token punctuation">.</span>Width <span class="token operator">*</span> box<span class="token punctuation">.</span>CornerRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>

            canvas<span class="token punctuation">.</span><span class="token function">DrawRoundRect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">RectF</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">,</span> radius<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Third step : iOS part</strong></p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token target keyword">assembly</span><span class="token punctuation">:</span> <span class="token class-name">ExportRenderer</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">RoundedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">RoundedBoxViewRenderer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">namespace</span> <span class="token namespace">MyNamespace<span class="token punctuation">.</span>iOS</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RoundedBoxViewRenderer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BoxRenderer</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementChanged</span><span class="token punctuation">(</span><span class="token class-name">ElementChangedEventArgs<span class="token punctuation">&lt;</span>BoxView<span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>Element <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                Layer<span class="token punctuation">.</span>CornerRadius <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Element <span class="token keyword">as</span> <span class="token class-name">RoundedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">.</span>CornerRadius<span class="token punctuation">;</span>
                Layer<span class="token punctuation">.</span>BackgroundColor <span class="token operator">=</span> Color<span class="token punctuation">.</span><span class="token function">FromHex</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Element <span class="token keyword">as</span> <span class="token class-name">RoundedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">.</span>FillColor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToCGColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>PropertyChangedEventArgs</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnElementPropertyChanged</span><span class="token punctuation">(</span>sender<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>Element <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                Layer<span class="token punctuation">.</span>CornerRadius <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Element <span class="token keyword">as</span> <span class="token class-name">RoundedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">.</span>CornerRadius<span class="token punctuation">;</span>
                Layer<span class="token punctuation">.</span>BackgroundColor <span class="token operator">=</span> <span class="token punctuation">(</span>Element <span class="token keyword">as</span> <span class="token class-name">RoundedBoxView</span><span class="token punctuation">)</span><span class="token punctuation">.</span>FillColor<span class="token punctuation">.</span><span class="token function">ToCGColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/xamarin/custom-renderers.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/xamarin/dependencyservice.html" class="prev">
        DependencyService
      </a></span> <span class="next"><a href="/xamarin/caching.html">
        Caching
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/3528.05060f77.js" defer></script>
  </body>
</html>
