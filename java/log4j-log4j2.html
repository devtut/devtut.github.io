<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java - log4j / log4j2</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="How to get Log4j, Setting up property file, Properties-File to log to DB, How to use Log4j in Java code, Basic log4j2.xml configuration file, Migrating from log4j 1.x to 2.x, Filter Logoutput by level (log4j 1.x)">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Java - log4j / log4j2">
    <meta property="og:description" content="How to get Log4j, Setting up property file, Properties-File to log to DB, How to use Log4j in Java code, Basic log4j2.xml configuration file, Migrating from log4j 1.x to 2.x, Filter Logoutput by level (log4j 1.x)">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/java/log4j-log4j2.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Java - log4j / log4j2">
    <meta name="twitter:description" content="How to get Log4j, Setting up property file, Properties-File to log to DB, How to use Log4j in Java code, Basic log4j2.xml configuration file, Migrating from log4j 1.x to 2.x, Filter Logoutput by level (log4j 1.x)">
    <meta name="twitter:url" content="/java/log4j-log4j2.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1625.9426e6b5.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/java/java-editions-versions-releases-and-distributions.html" class="sidebar-link">Java Editions, Versions, Releases and Distributions</a></li><li><a href="/java/installing-java-standard-edition.html" class="sidebar-link">Installing Java (Standard Edition)</a></li><li><a href="/java/getting-started-with-java-language.html" class="sidebar-link">Getting started with Java Language</a></li><li><a href="/java/type-conversion.html" class="sidebar-link">Type Conversion</a></li><li><a href="/java/getters-and-setters.html" class="sidebar-link">Getters and Setters</a></li><li><a href="/java/reference-data-types.html" class="sidebar-link">Reference Data Types</a></li><li><a href="/java/java-compiler-javac.html" class="sidebar-link">Java Compiler - 'javac'</a></li><li><a href="/java/documenting-java-code.html" class="sidebar-link">Documenting Java Code</a></li><li><a href="/java/command-line-argument-processing.html" class="sidebar-link">Command line Argument Processing</a></li><li><a href="/java/the-java-command-java-and-javaw.html" class="sidebar-link">The Java Command - 'java' and 'javaw'</a></li><li><a href="/java/literals.html" class="sidebar-link">Literals</a></li><li><a href="/java/primitive-data-types.html" class="sidebar-link">Primitive Data Types</a></li><li><a href="/java/strings.html" class="sidebar-link">Strings</a></li><li><a href="/java/stringbuffer.html" class="sidebar-link">StringBuffer</a></li><li><a href="/java/stringbuilder.html" class="sidebar-link">StringBuilder</a></li><li><a href="/java/string-tokenizer.html" class="sidebar-link">String Tokenizer</a></li><li><a href="/java/splitting-a-string-into-fixed-length-parts.html" class="sidebar-link">Splitting a string into fixed length parts</a></li><li><a href="/java/date-class.html" class="sidebar-link">Date Class</a></li><li><a href="/java/dates-and-time-java-time.html" class="sidebar-link">Dates and Time (java.time.*)</a></li><li><a href="/java/localtime.html" class="sidebar-link">LocalTime</a></li><li><a href="/java/bigdecimal.html" class="sidebar-link">BigDecimal</a></li><li><a href="/java/biginteger.html" class="sidebar-link">BigInteger</a></li><li><a href="/java/numberformat.html" class="sidebar-link">NumberFormat</a></li><li><a href="/java/bit-manipulation.html" class="sidebar-link">Bit Manipulation</a></li><li><a href="/java/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/java/collections.html" class="sidebar-link">Collections</a></li><li><a href="/java/lists.html" class="sidebar-link">Lists</a></li><li><a href="/java/sets.html" class="sidebar-link">Sets</a></li><li><a href="/java/list-vs-set.html" class="sidebar-link">List vs SET</a></li><li><a href="/java/maps.html" class="sidebar-link">Maps</a></li><li><a href="/java/linkedhashmap.html" class="sidebar-link">LinkedHashMap</a></li><li><a href="/java/weakhashmap.html" class="sidebar-link">WeakHashMap</a></li><li><a href="/java/sortedmap.html" class="sidebar-link">SortedMap</a></li><li><a href="/java/treemap-and-treeset.html" class="sidebar-link">TreeMap and TreeSet</a></li><li><a href="/java/queues-and-deques.html" class="sidebar-link">Queues and Deques</a></li><li><a href="/java/dequeue-interface.html" class="sidebar-link">Dequeue Interface</a></li><li><a href="/java/enums.html" class="sidebar-link">Enums</a></li><li><a href="/java/enum-map.html" class="sidebar-link">Enum Map</a></li><li><a href="/java/enumset-class.html" class="sidebar-link">EnumSet class</a></li><li><a href="/java/enum-starting-with-number.html" class="sidebar-link">Enum starting with number</a></li><li><a href="/java/hashtable.html" class="sidebar-link">Hashtable</a></li><li><a href="/java/operators.html" class="sidebar-link">Operators</a></li><li><a href="/java/constructors.html" class="sidebar-link">Constructors</a></li><li><a href="/java/object-class-methods-and-constructor.html" class="sidebar-link">Object Class Methods and Constructor</a></li><li><a href="/java/annotations.html" class="sidebar-link">Annotations</a></li><li><a href="/java/immutable-class.html" class="sidebar-link">Immutable Class</a></li><li><a href="/java/immutable-objects.html" class="sidebar-link">Immutable Objects</a></li><li><a href="/java/visibility-controlling-access-to-members-of-a-class.html" class="sidebar-link">Visibility (controlling access to members of a class)</a></li><li><a href="/java/generics.html" class="sidebar-link">Generics</a></li><li><a href="/java/classes-and-objects.html" class="sidebar-link">Classes and Objects</a></li><li><a href="/java/local-inner-class.html" class="sidebar-link">Local Inner Class</a></li><li><a href="/java/nested-and-inner-classes.html" class="sidebar-link">Nested and Inner Classes</a></li><li><a href="/java/the-java-util-objects-class.html" class="sidebar-link">The java.util.Objects Class</a></li><li><a href="/java/default-methods.html" class="sidebar-link">Default Methods</a></li><li><a href="/java/packages.html" class="sidebar-link">Packages</a></li><li><a href="/java/inheritance.html" class="sidebar-link">Inheritance</a></li><li><a href="/java/reference-types.html" class="sidebar-link">Reference Types</a></li><li><a href="/java/console-i-o.html" class="sidebar-link">Console I/O</a></li><li><a href="/java/streams.html" class="sidebar-link">Streams</a></li><li><a href="/java/inputstreams-and-outputstreams.html" class="sidebar-link">InputStreams and OutputStreams</a></li><li><a href="/java/readers-and-writers.html" class="sidebar-link">Readers and Writers</a></li><li><a href="/java/preferences.html" class="sidebar-link">Preferences</a></li><li><a href="/java/collection-factory-methods.html" class="sidebar-link">Collection Factory Methods</a></li><li><a href="/java/alternative-collections.html" class="sidebar-link">Alternative Collections</a></li><li><a href="/java/concurrent-collections.html" class="sidebar-link">Concurrent Collections</a></li><li><a href="/java/choosing-collections.html" class="sidebar-link">Choosing Collections</a></li><li><a href="/java/super-keyword.html" class="sidebar-link">super keyword</a></li><li><a href="/java/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/java/optional.html" class="sidebar-link">Optional</a></li><li><a href="/java/object-references.html" class="sidebar-link">Object References</a></li><li><a href="/java/exceptions-and-exception-handling.html" class="sidebar-link">Exceptions and exception handling</a></li><li><a href="/java/calendar-and-its-subclasses.html" class="sidebar-link">Calendar and its Subclasses</a></li><li><a href="/java/using-the-static-keyword.html" class="sidebar-link">Using the static keyword</a></li><li><a href="/java/properties-class.html" class="sidebar-link">Properties Class</a></li><li><a href="/java/lambda-expressions.html" class="sidebar-link">Lambda Expressions</a></li><li><a href="/java/basic-control-structures.html" class="sidebar-link">Basic Control Structures</a></li><li><a href="/java/bufferedwriter.html" class="sidebar-link">BufferedWriter</a></li><li><a href="/java/new-file-i-o.html" class="sidebar-link">New File I/O</a></li><li><a href="/java/file-i-o.html" class="sidebar-link">File I/O</a></li><li><a href="/java/scanner.html" class="sidebar-link">Scanner</a></li><li><a href="/java/interfaces.html" class="sidebar-link">Interfaces</a></li><li><a href="/java/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/java/comparable-and-comparator.html" class="sidebar-link">Comparable and Comparator</a></li><li><a href="/java/java-floating-point-operations.html" class="sidebar-link">Java Floating Point Operations</a></li><li><a href="/java/currency-and-money.html" class="sidebar-link">Currency and Money</a></li><li><a href="/java/object-cloning.html" class="sidebar-link">Object Cloning</a></li><li><a href="/java/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/java/converting-to-and-from-strings.html" class="sidebar-link">Converting to and from Strings</a></li><li><a href="/java/random-number-generation.html" class="sidebar-link">Random Number Generation</a></li><li><a href="/java/singletons.html" class="sidebar-link">Singletons</a></li><li><a href="/java/autoboxing.html" class="sidebar-link">Autoboxing</a></li><li><a href="/java/2d-graphics-in-java.html" class="sidebar-link">2D Graphics in Java</a></li><li><a href="/java/jaxb.html" class="sidebar-link">JAXB</a></li><li><a href="/java/class-java-reflection.html" class="sidebar-link">Class - Java Reflection</a></li><li><a href="/java/networking.html" class="sidebar-link">Networking</a></li><li><a href="/java/nio-networking.html" class="sidebar-link">NIO - Networking</a></li><li><a href="/java/httpurlconnection.html" class="sidebar-link">HttpURLConnection</a></li><li><a href="/java/jax-ws.html" class="sidebar-link">JAX-WS</a></li><li><a href="/java/nashorn-javascript-engine.html" class="sidebar-link">Nashorn JavaScript engine</a></li><li><a href="/java/java-native-interface.html" class="sidebar-link">Java Native Interface</a></li><li><a href="/java/functional-interfaces.html" class="sidebar-link">Functional Interfaces</a></li><li><a href="/java/fluent-interface.html" class="sidebar-link">Fluent Interface</a></li><li><a href="/java/remote-method-invocation-rmi.html" class="sidebar-link">Remote Method Invocation (RMI)</a></li><li><a href="/java/iterator-and-iterable.html" class="sidebar-link">Iterator and Iterable</a></li><li><a href="/java/reflection-api.html" class="sidebar-link">Reflection API</a></li><li><a href="/java/bytebuffer.html" class="sidebar-link">ByteBuffer</a></li><li><a href="/java/applets.html" class="sidebar-link">Applets</a></li><li><a href="/java/expressions.html" class="sidebar-link">Expressions</a></li><li><a href="/java/json-in-java.html" class="sidebar-link">JSON in Java</a></li><li><a href="/java/xml-parsing-using-the-jaxp-apis.html" class="sidebar-link">XML Parsing using the JAXP APIs</a></li><li><a href="/java/xml-xpath-evaluation.html" class="sidebar-link">XML XPath Evaluation</a></li><li><a href="/java/xom-xml-object-model.html" class="sidebar-link">XOM - XML Object Model</a></li><li><a href="/java/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/java/encapsulation.html" class="sidebar-link">Encapsulation</a></li><li><a href="/java/java-agents.html" class="sidebar-link">Java Agents</a></li><li><a href="/java/varargs-variable-argument.html" class="sidebar-link">Varargs  (Variable Argument)</a></li><li><a href="/java/logging-java-util-logging.html" class="sidebar-link">Logging (java.util.logging)</a></li><li><a href="/java/log4j-log4j2.html" aria-current="page" class="active sidebar-link">log4j / log4j2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/log4j-log4j2.html#how-to-get-log4j" class="sidebar-link">How to get Log4j</a></li><li class="sidebar-sub-header"><a href="/java/log4j-log4j2.html#setting-up-property-file" class="sidebar-link">Setting up property file</a></li><li class="sidebar-sub-header"><a href="/java/log4j-log4j2.html#properties-file-to-log-to-db" class="sidebar-link">Properties-File to log to DB</a></li><li class="sidebar-sub-header"><a href="/java/log4j-log4j2.html#how-to-use-log4j-in-java-code" class="sidebar-link">How to use Log4j in Java code</a></li><li class="sidebar-sub-header"><a href="/java/log4j-log4j2.html#basic-log4j2-xml-configuration-file" class="sidebar-link">Basic log4j2.xml configuration file</a></li><li class="sidebar-sub-header"><a href="/java/log4j-log4j2.html#migrating-from-log4j-1-x-to-2-x" class="sidebar-link">Migrating from log4j 1.x to 2.x</a></li><li class="sidebar-sub-header"><a href="/java/log4j-log4j2.html#filter-logoutput-by-level-log4j-1-x" class="sidebar-link">Filter Logoutput by level (log4j 1.x)</a></li></ul></li><li><a href="/java/oracle-official-code-standard.html" class="sidebar-link">Oracle Official Code Standard</a></li><li><a href="/java/character-encoding.html" class="sidebar-link">Character encoding</a></li><li><a href="/java/apache-commons-lang.html" class="sidebar-link">Apache Commons Lang</a></li><li><a href="/java/localization-and-internationalization.html" class="sidebar-link">Localization and Internationalization</a></li><li><a href="/java/parallel-programming-with-fork-join-framework.html" class="sidebar-link">Parallel programming with Fork/Join framework</a></li><li><a href="/java/non-access-modifiers.html" class="sidebar-link">Non-Access Modifiers</a></li><li><a href="/java/process.html" class="sidebar-link">Process</a></li><li><a href="/java/java-native-access.html" class="sidebar-link">Java Native Access</a></li><li><a href="/java/modules.html" class="sidebar-link">Modules</a></li><li><a href="/java/concurrent-programming-threads.html" class="sidebar-link">Concurrent Programming (Threads)</a></li><li><a href="/java/executor-executorservice-and-thread-pools.html" class="sidebar-link">Executor, ExecutorService and Thread pools</a></li><li><a href="/java/threadlocal.html" class="sidebar-link">ThreadLocal</a></li><li><a href="/java/using-threadpoolexecutor-in-multithreaded-applications.html" class="sidebar-link">Using ThreadPoolExecutor in MultiThreaded applications.</a></li><li><a href="/java/common-java-pitfalls.html" class="sidebar-link">Common Java Pitfalls</a></li><li><a href="/java/java-pitfalls-exception-usage.html" class="sidebar-link">Java Pitfalls - Exception usage</a></li><li><a href="/java/java-pitfalls-language-syntax.html" class="sidebar-link">Java Pitfalls - Language syntax</a></li><li><a href="/java/java-pitfalls-threads-and-concurrency.html" class="sidebar-link">Java Pitfalls - Threads and Concurrency</a></li><li><a href="/java/java-pitfalls-nulls-and-nullpointerexception.html" class="sidebar-link">Java Pitfalls - Nulls and NullPointerException</a></li><li><a href="/java/java-pitfalls-performance-issues.html" class="sidebar-link">Java Pitfalls - Performance Issues</a></li><li><a href="/java/serviceloader.html" class="sidebar-link">ServiceLoader</a></li><li><a href="/java/classloaders.html" class="sidebar-link">Classloaders</a></li><li><a href="/java/creating-images-programmatically.html" class="sidebar-link">Creating Images Programmatically</a></li><li><a href="/java/atomic-types.html" class="sidebar-link">Atomic Types</a></li><li><a href="/java/rsa-encryption.html" class="sidebar-link">RSA Encryption</a></li><li><a href="/java/secure-objects.html" class="sidebar-link">Secure objects</a></li><li><a href="/java/security-cryptography.html" class="sidebar-link">Security &amp; Cryptography</a></li><li><a href="/java/securitymanager.html" class="sidebar-link">SecurityManager</a></li><li><a href="/java/jndi.html" class="sidebar-link">JNDI</a></li><li><a href="/java/sun-misc-unsafe.html" class="sidebar-link">sun.misc.Unsafe</a></li><li><a href="/java/java-memory-model.html" class="sidebar-link">Java Memory Model</a></li><li><a href="/java/java-deployment.html" class="sidebar-link">Java deployment</a></li><li><a href="/java/java-plugin-system-implementations.html" class="sidebar-link">Java plugin system implementations</a></li><li><a href="/java/javabean.html" class="sidebar-link">JavaBean</a></li><li><a href="/java/java-se-7-features.html" class="sidebar-link">Java SE 7 Features</a></li><li><a href="/java/java-se-8-features.html" class="sidebar-link">Java SE 8 Features</a></li><li><a href="/java/dynamic-method-dispatch.html" class="sidebar-link">Dynamic Method Dispatch</a></li><li><a href="/java/generating-java-code.html" class="sidebar-link">Generating Java Code</a></li><li><a href="/java/jshell.html" class="sidebar-link">JShell</a></li><li><a href="/java/stack-walking-api.html" class="sidebar-link">Stack-Walking API</a></li><li><a href="/java/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/java/java-sockets.html" class="sidebar-link">Java Sockets</a></li><li><a href="/java/ftp-file-transfer-protocol.html" class="sidebar-link">FTP (File Transfer Protocol)</a></li><li><a href="/java/using-other-scripting-languages-in-java.html" class="sidebar-link">Using Other Scripting Languages in Java</a></li><li><a href="/java/c-comparison.html" class="sidebar-link">C++ Comparison</a></li><li><a href="/java/audio.html" class="sidebar-link">Audio</a></li><li><a href="/java/java-print-service.html" class="sidebar-link">Java Print Service</a></li><li><a href="/java/completablefuture.html" class="sidebar-link">CompletableFuture</a></li><li><a href="/java/runtime-commands.html" class="sidebar-link">Runtime Commands</a></li><li><a href="/java/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/java/asserting.html" class="sidebar-link">Asserting</a></li><li><a href="/java/multi-release-jar-files.html" class="sidebar-link">Multi-Release JAR Files</a></li><li><a href="/java/just-in-time-jit-compiler.html" class="sidebar-link">Just in Time (JIT) compiler</a></li><li><a href="/java/bytecode-modification.html" class="sidebar-link">Bytecode Modification</a></li><li><a href="/java/disassembling-and-decompiling.html" class="sidebar-link">Disassembling and Decompiling</a></li><li><a href="/java/jmx.html" class="sidebar-link">JMX</a></li><li><a href="/java/java-virtual-machine-jvm.html" class="sidebar-link">Java Virtual Machine (JVM)</a></li><li><a href="/java/xjc.html" class="sidebar-link">XJC</a></li><li><a href="/java/jvm-flags.html" class="sidebar-link">JVM Flags</a></li><li><a href="/java/jvm-tool-interface.html" class="sidebar-link">JVM Tool Interface</a></li><li><a href="/java/java-memory-management.html" class="sidebar-link">Java Memory Management</a></li><li><a href="/java/java-performance-tuning.html" class="sidebar-link">Java Performance Tuning</a></li><li><a href="/java/benchmarks.html" class="sidebar-link">Benchmarks</a></li><li><a href="/java/fileupload-to-aws.html" class="sidebar-link">FileUpload to AWS</a></li><li><a href="/java/appdynamics-and-tibco-businessworks-instrumentation-for-easy-integration.html" class="sidebar-link">AppDynamics and TIBCO BusinessWorks Instrumentation for Easy Integration</a></li><li><a href="/java/the-classpath.html" class="sidebar-link">The Classpath</a></li><li><a href="/java/resources-on-classpath.html" class="sidebar-link">Resources (on classpath)</a></li><li><a href="/java/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="log4j-log4j2"><a href="#log4j-log4j2" class="header-anchor">#</a> log4j / log4j2</h1> <p><a href="https://en.wikipedia.org/wiki/Log4j" target="_blank" rel="noopener noreferrer">Apache Log4j<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a Java-based logging utility, it is one of several Java logging frameworks. This topic is to show how to setup and configure Log4j in Java with detailed examples on all of its possible aspects of usage.</p> <h2 id="how-to-get-log4j"><a href="#how-to-get-log4j" class="header-anchor">#</a> How to get Log4j</h2> <p><strong>Current version (log4j2)</strong></p> <p><strong>Using Maven:</strong><br>
Add the following dependency to your <code>POM.xml</code> file:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>log4j<span class="token operator">-</span>api<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.6</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>log4j<span class="token operator">-</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.6</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Using Ivy:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>dependency org<span class="token operator">=</span><span class="token string">&quot;org.apache.logging.log4j&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;log4j-api&quot;</span> rev<span class="token operator">=</span><span class="token string">&quot;2.6.2&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>dependency org<span class="token operator">=</span><span class="token string">&quot;org.apache.logging.log4j&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;log4j-core&quot;</span> rev<span class="token operator">=</span><span class="token string">&quot;2.6.2&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Using Gradle:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>dependencies <span class="token punctuation">{</span>
  compile group<span class="token operator">:</span> <span class="token string">'org.apache.logging.log4j'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'log4j-api'</span><span class="token punctuation">,</span> version<span class="token operator">:</span> <span class="token string">'2.6.2'</span>
  compile group<span class="token operator">:</span> <span class="token string">'org.apache.logging.log4j'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'log4j-core'</span><span class="token punctuation">,</span> version<span class="token operator">:</span> <span class="token string">'2.6.2'</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Getting log4j 1.x</strong></p> <p><strong>Note:</strong> Log4j 1.x has reached End-of-Life (EOL) (see Remarks).</p> <p><strong>Using Maven:</strong></p> <p>Declare this dependency in the <code>POM.xml</code> file:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.2</span><span class="token number">.17</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Using Ivy:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span>dependency org<span class="token operator">=</span><span class="token string">&quot;log4j&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;log4j&quot;</span> rev<span class="token operator">=</span><span class="token string">&quot;1.2.17&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

</code></pre></div><p><strong>Usign Gradle:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>compile group<span class="token operator">:</span> <span class="token string">'log4j'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'log4j'</span><span class="token punctuation">,</span> version<span class="token operator">:</span> <span class="token string">'1.2.17'</span>

</code></pre></div><p><strong>Using Buildr:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token string">'log4j:log4j:jar:1.2.17'</span>

</code></pre></div><p><strong>Adding manually in path build:</strong></p> <p>Download from Log4j <a href="http://logging.apache.org/log4j/1.2/download.html" target="_blank" rel="noopener noreferrer">website project<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="setting-up-property-file"><a href="#setting-up-property-file" class="header-anchor">#</a> Setting up property file</h2> <p>Log4j gives you posibility to log data into console and file at same time.
Create a <code>log4j.properties</code> file and put inside this basic configuration:</p> <div class="language-java extra-class"><pre class="language-java"><code># <span class="token class-name">Root</span> logger option
log4j<span class="token punctuation">.</span>rootLogger<span class="token operator">=</span>DEBUG<span class="token punctuation">,</span> stdout<span class="token punctuation">,</span> file

# <span class="token class-name">Redirect</span> log messages <span class="token keyword">to</span> <span class="token namespace">console</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>stdout<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span>ConsoleAppender</span>
<span class="token class-name"><span class="token namespace">log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span></span>Target</span><span class="token operator">=</span><span class="token class-name">System</span><span class="token punctuation">.</span>out
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>layout<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span>PatternLayout</span>
<span class="token class-name"><span class="token namespace">log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>layout<span class="token punctuation">.</span></span>ConversionPattern</span><span class="token operator">=</span><span class="token operator">%</span>d<span class="token punctuation">{</span>yyyy<span class="token operator">-</span>MM<span class="token operator">-</span>dd HH<span class="token operator">:</span>mm<span class="token operator">:</span>ss<span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">-</span><span class="token number">5</span>p <span class="token operator">%</span>c<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token operator">%</span><span class="token class-name">L</span> <span class="token operator">-</span> <span class="token operator">%</span>m<span class="token operator">%</span>n

# <span class="token class-name">Redirect</span> log messages <span class="token keyword">to</span> <span class="token namespace">a</span> log file<span class="token punctuation">,</span> support file rolling<span class="token punctuation">.</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>file<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span>RollingFileAppender</span>
<span class="token class-name"><span class="token namespace">log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span>File</span><span class="token operator">=</span><span class="token class-name">C</span><span class="token operator">:</span>\\log4j<span class="token operator">-</span>application<span class="token punctuation">.</span>log
<span class="token class-name"><span class="token namespace">log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span>MaxFileSize</span><span class="token operator">=</span><span class="token number">5</span>MB
<span class="token class-name"><span class="token namespace">log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span>MaxBackupIndex</span><span class="token operator">=</span><span class="token number">10</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>file<span class="token punctuation">.</span>layout<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span>PatternLayout</span>
<span class="token class-name"><span class="token namespace">log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>file<span class="token punctuation">.</span>layout<span class="token punctuation">.</span></span>ConversionPattern</span><span class="token operator">=</span><span class="token operator">%</span>d<span class="token punctuation">{</span>yyyy<span class="token operator">-</span>MM<span class="token operator">-</span>dd HH<span class="token operator">:</span>mm<span class="token operator">:</span>ss<span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">-</span><span class="token number">5</span>p <span class="token operator">%</span>c<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token operator">%</span><span class="token class-name">L</span> <span class="token operator">-</span> <span class="token operator">%</span>m<span class="token operator">%</span>n

</code></pre></div><p>If you are using maven, put this propertie file in path:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">/</span><span class="token class-name">ProjectFolder</span><span class="token operator">/</span>src<span class="token operator">/</span>java<span class="token operator">/</span>resources

</code></pre></div><h2 id="properties-file-to-log-to-db"><a href="#properties-file-to-log-to-db" class="header-anchor">#</a> Properties-File to log to DB</h2> <p>For this example to work you'll need a JDBC driver compatible to the system the database is running on. An opensource one that allows you to connect to DB2 databases on an IBM System i can be found here: <a href="http://jt400.sourceforge.net/" target="_blank" rel="noopener noreferrer">JT400<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Even though this example is DB2 specific, it works for almost every other system if you exchange the driver and adapt the JDBC URL.</p> <div class="language-java extra-class"><pre class="language-java"><code># <span class="token class-name">Root</span> logger option
log4j<span class="token punctuation">.</span>rootLogger<span class="token operator">=</span> ERROR<span class="token punctuation">,</span> DB

# <span class="token class-name">Redirect</span> log messages <span class="token keyword">to</span> <span class="token namespace">a</span> DB2
# <span class="token class-name">Define</span> the DB appender   
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>DB<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>JDBCAppender</span>

# <span class="token class-name">Set</span> <span class="token class-name">JDBC</span> URL <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span> adapt <span class="token keyword">to</span> <span class="token namespace">your</span> target system <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">)</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>DB<span class="token punctuation">.</span>URL<span class="token operator">=</span>jdbc<span class="token operator">:</span>as400<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">10.10</span><span class="token number">.10</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">446</span><span class="token operator">/</span>DATABASENAME<span class="token punctuation">;</span>naming<span class="token operator">=</span>system<span class="token punctuation">;</span>errors<span class="token operator">=</span>full<span class="token punctuation">;</span>

# <span class="token class-name">Set</span> <span class="token class-name">Database</span> <span class="token class-name">Driver</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span> adapt <span class="token keyword">to</span> <span class="token namespace">your</span> target system <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">)</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>DB<span class="token punctuation">.</span>driver<span class="token operator">=</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>ibm<span class="token punctuation">.</span>as400<span class="token punctuation">.</span>access<span class="token punctuation">.</span></span>AS400JDBCDriver</span>

# <span class="token class-name">Set</span> database user name and password
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>DB<span class="token punctuation">.</span>user<span class="token operator">=</span>USER
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>DB<span class="token punctuation">.</span>password<span class="token operator">=</span>PASSWORD

# <span class="token class-name">Set</span> the SQL statement <span class="token keyword">to</span> <span class="token namespace">be</span> executed<span class="token punctuation">.</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>DB<span class="token punctuation">.</span>sql<span class="token operator">=</span>INSERT INTO <span class="token class-name">DB<span class="token punctuation">.</span>TABLENAME</span> <span class="token function">VALUES</span><span class="token punctuation">(</span><span class="token string">'%d{yyyy-MM-dd}'</span><span class="token punctuation">,</span><span class="token string">'%d{HH:mm:ss}'</span><span class="token punctuation">,</span><span class="token string">'%C'</span><span class="token punctuation">,</span><span class="token string">'%p'</span><span class="token punctuation">,</span><span class="token string">'%m'</span><span class="token punctuation">)</span>

# <span class="token class-name">Define</span> the layout <span class="token keyword">for</span> file appender
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>DB<span class="token punctuation">.</span>layout<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span>PatternLayout</span>

</code></pre></div><h2 id="how-to-use-log4j-in-java-code"><a href="#how-to-use-log4j-in-java-code" class="header-anchor">#</a> How to use Log4j in Java code</h2> <p>First need to create a <code>final static logger</code> object:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>classname<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Then, call logging methods:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//logs an error message</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Information about some param: &quot;</span> <span class="token operator">+</span> parameter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Note that this line could throw a NullPointerException!</span>

<span class="token comment">//in order to improve performance, it is advised to use the `isXXXEnabled()` Methods</span>
<span class="token keyword">if</span><span class="token punctuation">(</span> logger<span class="token punctuation">.</span><span class="token function">isInfoEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Information about some param: &quot;</span> <span class="token operator">+</span> parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// In log4j2 parameter substitution is preferable due to readability and performance</span>
<span class="token comment">// The parameter substitution only takes place if info level is active which obsoletes the use of isXXXEnabled().</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Information about some param: {}&quot;</span> <span class="token punctuation">,</span> parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//logs an exception</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Information about some error: &quot;</span><span class="token punctuation">,</span> exception<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="basic-log4j2-xml-configuration-file"><a href="#basic-log4j2-xml-configuration-file" class="header-anchor">#</a> Basic log4j2.xml configuration file</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Appenders</span><span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token class-name">Console</span> name<span class="token operator">=</span><span class="token string">&quot;STDOUT&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;SYSTEM_OUT&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token class-name">PatternLayout</span> pattern<span class="token operator">=</span><span class="token string">&quot;%d %-5p [%t] %C{2} %m%n&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Console</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Appenders</span><span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Loggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token class-name">Root</span> level<span class="token operator">=</span><span class="token string">&quot;debug&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token class-name">AppenderRef</span> ref<span class="token operator">=</span><span class="token string">&quot;STDOUT&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Root</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Loggers</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Configuration</span><span class="token operator">&gt;</span>

</code></pre></div><p>This is a basic log4j2.xml configuration which has a console appender and a root logger. The pattern layout specifies which pattern should be used for logging the statements. <br>
In order to debug the loading of log4j2.xml you can add the attribute <code>status = &lt;WARN | DEBUG | ERROR | FATAL | TRACE | INFO&gt;</code> in the configuration tag of your log4j2.xml. <br>
You can also add a monitor interval so that it loads the configuration again after the specified interval period. The monitor interval can be added to the configuration tag as follows: <code>monitorInterval = 30</code>. It means that the config will be loaded every 30 seconds.</p> <h2 id="migrating-from-log4j-1-x-to-2-x"><a href="#migrating-from-log4j-1-x-to-2-x" class="header-anchor">#</a> Migrating from log4j 1.x to 2.x</h2> <p>If you want to migrate from existing log4j 1.x in your project to log4j 2.x then remove all existing log4j 1.x dependencies and add the following dependency:</p> <p><strong>Log4j 1.x API Bridge</strong></p> <p><strong>Maven Build</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>log4j<span class="token operator">-</span><span class="token number">1.2</span><span class="token operator">-</span>api<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.6</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Ivy Build</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>dependency org<span class="token operator">=</span><span class="token string">&quot;org.apache.logging.log4j&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;log4j-1.2-api&quot;</span> rev<span class="token operator">=</span><span class="token string">&quot;2.6.2&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Gradle Build</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>dependencies <span class="token punctuation">{</span>
  compile group<span class="token operator">:</span> <span class="token string">'org.apache.logging.log4j'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'log4j-1.2-api'</span><span class="token punctuation">,</span> version<span class="token operator">:</span> <span class="token string">'2.6.2'</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>Apache Commons Logging Bridge</strong>
If your project is using Apache Commons Logging which use log4j 1.x and you want to migrate it to log4j 2.x then add the following dependencies:</p> <p><strong>Maven Build</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>log4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>log4j<span class="token operator">-</span>jcl<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.6</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Ivy Build</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>dependency org<span class="token operator">=</span><span class="token string">&quot;org.apache.logging.log4j&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;log4j-jcl&quot;</span> rev<span class="token operator">=</span><span class="token string">&quot;2.6.2&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>

</code></pre></div><p><strong>Gradle Build</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>dependencies <span class="token punctuation">{</span>
  compile group<span class="token operator">:</span> <span class="token string">'org.apache.logging.log4j'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'log4j-jcl'</span><span class="token punctuation">,</span> version<span class="token operator">:</span> <span class="token string">'2.6.2'</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Note: Do not remove any existing dependencies of Apache commons logging</p> <p>Reference: <a href="https://logging.apache.org/log4j/2.x/maven-artifacts.html" target="_blank" rel="noopener noreferrer">https://logging.apache.org/log4j/2.x/maven-artifacts.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="filter-logoutput-by-level-log4j-1-x"><a href="#filter-logoutput-by-level-log4j-1-x" class="header-anchor">#</a> Filter Logoutput by level (log4j 1.x)</h2> <p>You can use a filter to log only messages &quot;lower&quot; than e.g. <code>ERROR</code> level. <strong>But the filter is not supported by PropertyConfigurator. So you must change to XML config to use it</strong>. See <a href="http://wiki.apache.org/logging-log4j/LogToAppenderByLevel?highlight=%28filter%29" target="_blank" rel="noopener noreferrer">log4j-Wiki about filters<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Example &quot;specific level&quot;</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span>appender name<span class="token operator">=</span><span class="token string">&quot;info-out&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.FileAppender&quot;</span><span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;File&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;info.log&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>layout <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.PatternLayout&quot;</span><span class="token operator">&gt;</span> 
                    <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;ConversionPattern&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;%m%n&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span><span class="token operator">/</span>layout<span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>filter <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.varia.LevelMatchFilter&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;LevelToMatch&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;info&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;AcceptOnMatch&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>filter<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>filter <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.varia.DenyAllFilter&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>appender<span class="token operator">&gt;</span> 

</code></pre></div><p>Or &quot;Level range&quot;</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span>appender name<span class="token operator">=</span><span class="token string">&quot;info-out&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.FileAppender&quot;</span><span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;File&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;info.log&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>layout <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.PatternLayout&quot;</span><span class="token operator">&gt;</span> 
                    <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;ConversionPattern&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;%m%n&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span><span class="token operator">/</span>layout<span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>filter <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.varia.LevelRangeFilter&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;LevelMax&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;info&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;LevelMin&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;info&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>param name<span class="token operator">=</span><span class="token string">&quot;AcceptOnMatch&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>filter<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>appender<span class="token operator">&gt;</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>Logger.debug(&quot;text to log&quot;); // Logging debugging info</li> <li>Logger.info(&quot;text to log&quot;);  // Logging common info</li> <li>Logger.error(&quot;text to log&quot;); // Logging error info</li> <li>Logger.warn(&quot;text to log&quot;);  // Logging warnings</li> <li>Logger.trace(&quot;text to log&quot;); // Logging trace info</li> <li>Logger.fatal(&quot;text to log&quot;); // Logging fatal errors</li> <li>Log4j2 usage with parameter logging:</li> <li>Logger.debug(&quot;Debug params {} {} {}&quot;, param1, param2, param3); // Logging debug with parameters</li> <li>Logger.info(&quot;Info params {} {} {}&quot;, param1, param2, param3); // Logging info with parameters</li> <li>Logger.error(&quot;Error params {} {} {}&quot;, param1, param2, param3); // Logging error with parameters</li> <li>Logger.warn(&quot;Warn params {} {} {}&quot;, param1, param2, param3); // Logging warnings with parameters</li> <li>Logger.trace(&quot;Trace params {} {} {}&quot;, param1, param2, param3); // Logging trace with parameters</li> <li>Logger.fatal(&quot;Fatal params {} {} {}&quot;, param1, param2, param3); // Logging fatal with parameters</li> <li>Logger.error(&quot;Caught Exception: &quot;, ex ); // Logging exception with message and stacktrace (will automatically be appended)</li></ul> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <h3 id="end-of-life-for-log4j-1-reached"><a href="#end-of-life-for-log4j-1-reached" class="header-anchor">#</a> End of Life for Log4j 1 reached</h3> <blockquote></blockquote> <p>On August 5, 2015 the Logging Services Project Management Committee announced that Log4j 1.x had reached end of life. For complete text of the announcement please see the Apache Blog. <strong>Users of Log4j 1 are recommended to upgrade to Apache Log4j 2</strong>.</p> <p>From: <a href="http://logging.apache.org/log4j/1.2/" target="_blank" rel="noopener noreferrer">http://logging.apache.org/log4j/1.2/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/java/log4j-log4j2.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/logging-java-util-logging.html" class="prev">
        Logging (java.util.logging)
      </a></span> <span class="next"><a href="/java/oracle-official-code-standard.html">
        Oracle Official Code Standard
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1625.9426e6b5.js" defer></script>
  </body>
</html>
