<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java - Preferences</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Adding event listeners, Getting sub-nodes of Preferences, Coordinating preferences access across multiple application instances, Exporting preferences, Importing preferences, Removing event listeners, Getting preferences values, Setting preferences values, Using preferences">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Java - Preferences">
    <meta property="og:description" content="Adding event listeners, Getting sub-nodes of Preferences, Coordinating preferences access across multiple application instances, Exporting preferences, Importing preferences, Removing event listeners, Getting preferences values, Setting preferences values, Using preferences">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/java/preferences.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Java - Preferences">
    <meta name="twitter:description" content="Adding event listeners, Getting sub-nodes of Preferences, Coordinating preferences access across multiple application instances, Exporting preferences, Importing preferences, Removing event listeners, Getting preferences values, Setting preferences values, Using preferences">
    <meta name="twitter:url" content="/java/preferences.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1646.147883e0.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/java/java-editions-versions-releases-and-distributions.html" class="sidebar-link">Java Editions, Versions, Releases and Distributions</a></li><li><a href="/java/installing-java-standard-edition.html" class="sidebar-link">Installing Java (Standard Edition)</a></li><li><a href="/java/getting-started-with-java-language.html" class="sidebar-link">Getting started with Java Language</a></li><li><a href="/java/type-conversion.html" class="sidebar-link">Type Conversion</a></li><li><a href="/java/getters-and-setters.html" class="sidebar-link">Getters and Setters</a></li><li><a href="/java/reference-data-types.html" class="sidebar-link">Reference Data Types</a></li><li><a href="/java/java-compiler-javac.html" class="sidebar-link">Java Compiler - 'javac'</a></li><li><a href="/java/documenting-java-code.html" class="sidebar-link">Documenting Java Code</a></li><li><a href="/java/command-line-argument-processing.html" class="sidebar-link">Command line Argument Processing</a></li><li><a href="/java/the-java-command-java-and-javaw.html" class="sidebar-link">The Java Command - 'java' and 'javaw'</a></li><li><a href="/java/literals.html" class="sidebar-link">Literals</a></li><li><a href="/java/primitive-data-types.html" class="sidebar-link">Primitive Data Types</a></li><li><a href="/java/strings.html" class="sidebar-link">Strings</a></li><li><a href="/java/stringbuffer.html" class="sidebar-link">StringBuffer</a></li><li><a href="/java/stringbuilder.html" class="sidebar-link">StringBuilder</a></li><li><a href="/java/string-tokenizer.html" class="sidebar-link">String Tokenizer</a></li><li><a href="/java/splitting-a-string-into-fixed-length-parts.html" class="sidebar-link">Splitting a string into fixed length parts</a></li><li><a href="/java/date-class.html" class="sidebar-link">Date Class</a></li><li><a href="/java/dates-and-time-java-time.html" class="sidebar-link">Dates and Time (java.time.*)</a></li><li><a href="/java/localtime.html" class="sidebar-link">LocalTime</a></li><li><a href="/java/bigdecimal.html" class="sidebar-link">BigDecimal</a></li><li><a href="/java/biginteger.html" class="sidebar-link">BigInteger</a></li><li><a href="/java/numberformat.html" class="sidebar-link">NumberFormat</a></li><li><a href="/java/bit-manipulation.html" class="sidebar-link">Bit Manipulation</a></li><li><a href="/java/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/java/collections.html" class="sidebar-link">Collections</a></li><li><a href="/java/lists.html" class="sidebar-link">Lists</a></li><li><a href="/java/sets.html" class="sidebar-link">Sets</a></li><li><a href="/java/list-vs-set.html" class="sidebar-link">List vs SET</a></li><li><a href="/java/maps.html" class="sidebar-link">Maps</a></li><li><a href="/java/linkedhashmap.html" class="sidebar-link">LinkedHashMap</a></li><li><a href="/java/weakhashmap.html" class="sidebar-link">WeakHashMap</a></li><li><a href="/java/sortedmap.html" class="sidebar-link">SortedMap</a></li><li><a href="/java/treemap-and-treeset.html" class="sidebar-link">TreeMap and TreeSet</a></li><li><a href="/java/queues-and-deques.html" class="sidebar-link">Queues and Deques</a></li><li><a href="/java/dequeue-interface.html" class="sidebar-link">Dequeue Interface</a></li><li><a href="/java/enums.html" class="sidebar-link">Enums</a></li><li><a href="/java/enum-map.html" class="sidebar-link">Enum Map</a></li><li><a href="/java/enumset-class.html" class="sidebar-link">EnumSet class</a></li><li><a href="/java/enum-starting-with-number.html" class="sidebar-link">Enum starting with number</a></li><li><a href="/java/hashtable.html" class="sidebar-link">Hashtable</a></li><li><a href="/java/operators.html" class="sidebar-link">Operators</a></li><li><a href="/java/constructors.html" class="sidebar-link">Constructors</a></li><li><a href="/java/object-class-methods-and-constructor.html" class="sidebar-link">Object Class Methods and Constructor</a></li><li><a href="/java/annotations.html" class="sidebar-link">Annotations</a></li><li><a href="/java/immutable-class.html" class="sidebar-link">Immutable Class</a></li><li><a href="/java/immutable-objects.html" class="sidebar-link">Immutable Objects</a></li><li><a href="/java/visibility-controlling-access-to-members-of-a-class.html" class="sidebar-link">Visibility (controlling access to members of a class)</a></li><li><a href="/java/generics.html" class="sidebar-link">Generics</a></li><li><a href="/java/classes-and-objects.html" class="sidebar-link">Classes and Objects</a></li><li><a href="/java/local-inner-class.html" class="sidebar-link">Local Inner Class</a></li><li><a href="/java/nested-and-inner-classes.html" class="sidebar-link">Nested and Inner Classes</a></li><li><a href="/java/the-java-util-objects-class.html" class="sidebar-link">The java.util.Objects Class</a></li><li><a href="/java/default-methods.html" class="sidebar-link">Default Methods</a></li><li><a href="/java/packages.html" class="sidebar-link">Packages</a></li><li><a href="/java/inheritance.html" class="sidebar-link">Inheritance</a></li><li><a href="/java/reference-types.html" class="sidebar-link">Reference Types</a></li><li><a href="/java/console-i-o.html" class="sidebar-link">Console I/O</a></li><li><a href="/java/streams.html" class="sidebar-link">Streams</a></li><li><a href="/java/inputstreams-and-outputstreams.html" class="sidebar-link">InputStreams and OutputStreams</a></li><li><a href="/java/readers-and-writers.html" class="sidebar-link">Readers and Writers</a></li><li><a href="/java/preferences.html" aria-current="page" class="active sidebar-link">Preferences</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/preferences.html#adding-event-listeners" class="sidebar-link">Adding event listeners</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#getting-sub-nodes-of-preferences" class="sidebar-link">Getting sub-nodes of Preferences</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#coordinating-preferences-access-across-multiple-application-instances" class="sidebar-link">Coordinating preferences access across multiple application instances</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#exporting-preferences" class="sidebar-link">Exporting preferences</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#importing-preferences" class="sidebar-link">Importing preferences</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#removing-event-listeners" class="sidebar-link">Removing event listeners</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#getting-preferences-values" class="sidebar-link">Getting preferences values</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#setting-preferences-values" class="sidebar-link">Setting preferences values</a></li><li class="sidebar-sub-header"><a href="/java/preferences.html#using-preferences" class="sidebar-link">Using preferences</a></li></ul></li><li><a href="/java/collection-factory-methods.html" class="sidebar-link">Collection Factory Methods</a></li><li><a href="/java/alternative-collections.html" class="sidebar-link">Alternative Collections</a></li><li><a href="/java/concurrent-collections.html" class="sidebar-link">Concurrent Collections</a></li><li><a href="/java/choosing-collections.html" class="sidebar-link">Choosing Collections</a></li><li><a href="/java/super-keyword.html" class="sidebar-link">super keyword</a></li><li><a href="/java/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/java/optional.html" class="sidebar-link">Optional</a></li><li><a href="/java/object-references.html" class="sidebar-link">Object References</a></li><li><a href="/java/exceptions-and-exception-handling.html" class="sidebar-link">Exceptions and exception handling</a></li><li><a href="/java/calendar-and-its-subclasses.html" class="sidebar-link">Calendar and its Subclasses</a></li><li><a href="/java/using-the-static-keyword.html" class="sidebar-link">Using the static keyword</a></li><li><a href="/java/properties-class.html" class="sidebar-link">Properties Class</a></li><li><a href="/java/lambda-expressions.html" class="sidebar-link">Lambda Expressions</a></li><li><a href="/java/basic-control-structures.html" class="sidebar-link">Basic Control Structures</a></li><li><a href="/java/bufferedwriter.html" class="sidebar-link">BufferedWriter</a></li><li><a href="/java/new-file-i-o.html" class="sidebar-link">New File I/O</a></li><li><a href="/java/file-i-o.html" class="sidebar-link">File I/O</a></li><li><a href="/java/scanner.html" class="sidebar-link">Scanner</a></li><li><a href="/java/interfaces.html" class="sidebar-link">Interfaces</a></li><li><a href="/java/regular-expressions.html" class="sidebar-link">Regular Expressions</a></li><li><a href="/java/comparable-and-comparator.html" class="sidebar-link">Comparable and Comparator</a></li><li><a href="/java/java-floating-point-operations.html" class="sidebar-link">Java Floating Point Operations</a></li><li><a href="/java/currency-and-money.html" class="sidebar-link">Currency and Money</a></li><li><a href="/java/object-cloning.html" class="sidebar-link">Object Cloning</a></li><li><a href="/java/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/java/converting-to-and-from-strings.html" class="sidebar-link">Converting to and from Strings</a></li><li><a href="/java/random-number-generation.html" class="sidebar-link">Random Number Generation</a></li><li><a href="/java/singletons.html" class="sidebar-link">Singletons</a></li><li><a href="/java/autoboxing.html" class="sidebar-link">Autoboxing</a></li><li><a href="/java/2d-graphics-in-java.html" class="sidebar-link">2D Graphics in Java</a></li><li><a href="/java/jaxb.html" class="sidebar-link">JAXB</a></li><li><a href="/java/class-java-reflection.html" class="sidebar-link">Class - Java Reflection</a></li><li><a href="/java/networking.html" class="sidebar-link">Networking</a></li><li><a href="/java/nio-networking.html" class="sidebar-link">NIO - Networking</a></li><li><a href="/java/httpurlconnection.html" class="sidebar-link">HttpURLConnection</a></li><li><a href="/java/jax-ws.html" class="sidebar-link">JAX-WS</a></li><li><a href="/java/nashorn-javascript-engine.html" class="sidebar-link">Nashorn JavaScript engine</a></li><li><a href="/java/java-native-interface.html" class="sidebar-link">Java Native Interface</a></li><li><a href="/java/functional-interfaces.html" class="sidebar-link">Functional Interfaces</a></li><li><a href="/java/fluent-interface.html" class="sidebar-link">Fluent Interface</a></li><li><a href="/java/remote-method-invocation-rmi.html" class="sidebar-link">Remote Method Invocation (RMI)</a></li><li><a href="/java/iterator-and-iterable.html" class="sidebar-link">Iterator and Iterable</a></li><li><a href="/java/reflection-api.html" class="sidebar-link">Reflection API</a></li><li><a href="/java/bytebuffer.html" class="sidebar-link">ByteBuffer</a></li><li><a href="/java/applets.html" class="sidebar-link">Applets</a></li><li><a href="/java/expressions.html" class="sidebar-link">Expressions</a></li><li><a href="/java/json-in-java.html" class="sidebar-link">JSON in Java</a></li><li><a href="/java/xml-parsing-using-the-jaxp-apis.html" class="sidebar-link">XML Parsing using the JAXP APIs</a></li><li><a href="/java/xml-xpath-evaluation.html" class="sidebar-link">XML XPath Evaluation</a></li><li><a href="/java/xom-xml-object-model.html" class="sidebar-link">XOM - XML Object Model</a></li><li><a href="/java/polymorphism.html" class="sidebar-link">Polymorphism</a></li><li><a href="/java/encapsulation.html" class="sidebar-link">Encapsulation</a></li><li><a href="/java/java-agents.html" class="sidebar-link">Java Agents</a></li><li><a href="/java/varargs-variable-argument.html" class="sidebar-link">Varargs  (Variable Argument)</a></li><li><a href="/java/logging-java-util-logging.html" class="sidebar-link">Logging (java.util.logging)</a></li><li><a href="/java/log4j-log4j2.html" class="sidebar-link">log4j / log4j2</a></li><li><a href="/java/oracle-official-code-standard.html" class="sidebar-link">Oracle Official Code Standard</a></li><li><a href="/java/character-encoding.html" class="sidebar-link">Character encoding</a></li><li><a href="/java/apache-commons-lang.html" class="sidebar-link">Apache Commons Lang</a></li><li><a href="/java/localization-and-internationalization.html" class="sidebar-link">Localization and Internationalization</a></li><li><a href="/java/parallel-programming-with-fork-join-framework.html" class="sidebar-link">Parallel programming with Fork/Join framework</a></li><li><a href="/java/non-access-modifiers.html" class="sidebar-link">Non-Access Modifiers</a></li><li><a href="/java/process.html" class="sidebar-link">Process</a></li><li><a href="/java/java-native-access.html" class="sidebar-link">Java Native Access</a></li><li><a href="/java/modules.html" class="sidebar-link">Modules</a></li><li><a href="/java/concurrent-programming-threads.html" class="sidebar-link">Concurrent Programming (Threads)</a></li><li><a href="/java/executor-executorservice-and-thread-pools.html" class="sidebar-link">Executor, ExecutorService and Thread pools</a></li><li><a href="/java/threadlocal.html" class="sidebar-link">ThreadLocal</a></li><li><a href="/java/using-threadpoolexecutor-in-multithreaded-applications.html" class="sidebar-link">Using ThreadPoolExecutor in MultiThreaded applications.</a></li><li><a href="/java/common-java-pitfalls.html" class="sidebar-link">Common Java Pitfalls</a></li><li><a href="/java/java-pitfalls-exception-usage.html" class="sidebar-link">Java Pitfalls - Exception usage</a></li><li><a href="/java/java-pitfalls-language-syntax.html" class="sidebar-link">Java Pitfalls - Language syntax</a></li><li><a href="/java/java-pitfalls-threads-and-concurrency.html" class="sidebar-link">Java Pitfalls - Threads and Concurrency</a></li><li><a href="/java/java-pitfalls-nulls-and-nullpointerexception.html" class="sidebar-link">Java Pitfalls - Nulls and NullPointerException</a></li><li><a href="/java/java-pitfalls-performance-issues.html" class="sidebar-link">Java Pitfalls - Performance Issues</a></li><li><a href="/java/serviceloader.html" class="sidebar-link">ServiceLoader</a></li><li><a href="/java/classloaders.html" class="sidebar-link">Classloaders</a></li><li><a href="/java/creating-images-programmatically.html" class="sidebar-link">Creating Images Programmatically</a></li><li><a href="/java/atomic-types.html" class="sidebar-link">Atomic Types</a></li><li><a href="/java/rsa-encryption.html" class="sidebar-link">RSA Encryption</a></li><li><a href="/java/secure-objects.html" class="sidebar-link">Secure objects</a></li><li><a href="/java/security-cryptography.html" class="sidebar-link">Security &amp; Cryptography</a></li><li><a href="/java/securitymanager.html" class="sidebar-link">SecurityManager</a></li><li><a href="/java/jndi.html" class="sidebar-link">JNDI</a></li><li><a href="/java/sun-misc-unsafe.html" class="sidebar-link">sun.misc.Unsafe</a></li><li><a href="/java/java-memory-model.html" class="sidebar-link">Java Memory Model</a></li><li><a href="/java/java-deployment.html" class="sidebar-link">Java deployment</a></li><li><a href="/java/java-plugin-system-implementations.html" class="sidebar-link">Java plugin system implementations</a></li><li><a href="/java/javabean.html" class="sidebar-link">JavaBean</a></li><li><a href="/java/java-se-7-features.html" class="sidebar-link">Java SE 7 Features</a></li><li><a href="/java/java-se-8-features.html" class="sidebar-link">Java SE 8 Features</a></li><li><a href="/java/dynamic-method-dispatch.html" class="sidebar-link">Dynamic Method Dispatch</a></li><li><a href="/java/generating-java-code.html" class="sidebar-link">Generating Java Code</a></li><li><a href="/java/jshell.html" class="sidebar-link">JShell</a></li><li><a href="/java/stack-walking-api.html" class="sidebar-link">Stack-Walking API</a></li><li><a href="/java/sockets.html" class="sidebar-link">Sockets</a></li><li><a href="/java/java-sockets.html" class="sidebar-link">Java Sockets</a></li><li><a href="/java/ftp-file-transfer-protocol.html" class="sidebar-link">FTP (File Transfer Protocol)</a></li><li><a href="/java/using-other-scripting-languages-in-java.html" class="sidebar-link">Using Other Scripting Languages in Java</a></li><li><a href="/java/c-comparison.html" class="sidebar-link">C++ Comparison</a></li><li><a href="/java/audio.html" class="sidebar-link">Audio</a></li><li><a href="/java/java-print-service.html" class="sidebar-link">Java Print Service</a></li><li><a href="/java/completablefuture.html" class="sidebar-link">CompletableFuture</a></li><li><a href="/java/runtime-commands.html" class="sidebar-link">Runtime Commands</a></li><li><a href="/java/unit-testing.html" class="sidebar-link">Unit Testing</a></li><li><a href="/java/asserting.html" class="sidebar-link">Asserting</a></li><li><a href="/java/multi-release-jar-files.html" class="sidebar-link">Multi-Release JAR Files</a></li><li><a href="/java/just-in-time-jit-compiler.html" class="sidebar-link">Just in Time (JIT) compiler</a></li><li><a href="/java/bytecode-modification.html" class="sidebar-link">Bytecode Modification</a></li><li><a href="/java/disassembling-and-decompiling.html" class="sidebar-link">Disassembling and Decompiling</a></li><li><a href="/java/jmx.html" class="sidebar-link">JMX</a></li><li><a href="/java/java-virtual-machine-jvm.html" class="sidebar-link">Java Virtual Machine (JVM)</a></li><li><a href="/java/xjc.html" class="sidebar-link">XJC</a></li><li><a href="/java/jvm-flags.html" class="sidebar-link">JVM Flags</a></li><li><a href="/java/jvm-tool-interface.html" class="sidebar-link">JVM Tool Interface</a></li><li><a href="/java/java-memory-management.html" class="sidebar-link">Java Memory Management</a></li><li><a href="/java/java-performance-tuning.html" class="sidebar-link">Java Performance Tuning</a></li><li><a href="/java/benchmarks.html" class="sidebar-link">Benchmarks</a></li><li><a href="/java/fileupload-to-aws.html" class="sidebar-link">FileUpload to AWS</a></li><li><a href="/java/appdynamics-and-tibco-businessworks-instrumentation-for-easy-integration.html" class="sidebar-link">AppDynamics and TIBCO BusinessWorks Instrumentation for Easy Integration</a></li><li><a href="/java/the-classpath.html" class="sidebar-link">The Classpath</a></li><li><a href="/java/resources-on-classpath.html" class="sidebar-link">Resources (on classpath)</a></li><li><a href="/java/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="preferences"><a href="#preferences" class="header-anchor">#</a> Preferences</h1> <h2 id="adding-event-listeners"><a href="#adding-event-listeners" class="header-anchor">#</a> Adding event listeners</h2> <p>There are two types of events emitted by a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/prefs/Preferences.html" target="_blank" rel="noopener noreferrer"><code>Preferences</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> object: <a href="https://docs.oracle.com/javase/8/docs/api/java/util/prefs/PreferenceChangeEvent.html" target="_blank" rel="noopener noreferrer"><code>PreferenceChangeEvent</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://docs.oracle.com/javase/8/docs/api/java/util/prefs/NodeChangeEvent.html" target="_blank" rel="noopener noreferrer"><code>NodeChangeEvent</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="preferencechangeevent"><a href="#preferencechangeevent" class="header-anchor">#</a> PreferenceChangeEvent</h3> <p>A <code>PreferenceChangeEvent</code> gets emitted by a <code>Properties</code> object every time one of the node's key-value-pairs changes. <code>PreferenceChangeEvent</code>s can be listened for with a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/prefs/PreferenceChangeListener.html" target="_blank" rel="noopener noreferrer"><code>PreferenceChangeListener</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-java extra-class"><pre class="language-java"><code>preferences<span class="token punctuation">.</span><span class="token function">addPreferenceChangeListener</span><span class="token punctuation">(</span>evt <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> newValue <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getNewValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> changedPreferenceKey <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Preferences</span> changedNode <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code>preferences<span class="token punctuation">.</span><span class="token function">addPreferenceChangeListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PreferenceChangeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preferenceChange</span><span class="token punctuation">(</span><span class="token class-name">PreferenceChangeEvent</span> evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> newValue <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getNewValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> changedPreferenceKey <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Preferences</span> changedNode <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>This listener will not listen to changed key-value pairs of child nodes.</p> <h3 id="nodechangeevent"><a href="#nodechangeevent" class="header-anchor">#</a> NodeChangeEvent</h3> <p>This event will be fired whenever a child node of a <code>Properties</code> node is added or removed.</p> <div class="language-java extra-class"><pre class="language-java"><code>preferences<span class="token punctuation">.</span><span class="token function">addNodeChangeListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">NodeChangeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">childAdded</span><span class="token punctuation">(</span><span class="token class-name">NodeChangeEvent</span> evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Preferences</span> addedChild <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Preferences</span> parentOfAddedChild <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">childRemoved</span><span class="token punctuation">(</span><span class="token class-name">NodeChangeEvent</span> evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Preferences</span> removedChild <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Preferences</span> parentOfRemovedChild <span class="token operator">=</span> evt<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="getting-sub-nodes-of-preferences"><a href="#getting-sub-nodes-of-preferences" class="header-anchor">#</a> Getting sub-nodes of Preferences</h2> <p><code>Preferences</code> objects always represent a specific node in a whole <code>Preferences</code> tree, kind of like this:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">/</span>userRoot<span class="token operator">*</span><span class="token operator">*</span>
├── <span class="token operator">*</span><span class="token operator">*</span>com<span class="token operator">*</span><span class="token operator">*</span>
│   └── <span class="token operator">*</span><span class="token operator">*</span>mycompany<span class="token operator">*</span><span class="token operator">*</span>
│       └── <span class="token operator">*</span><span class="token operator">*</span>myapp<span class="token operator">*</span><span class="token operator">*</span>
│           ├── darkApplicationMode<span class="token operator">=</span><span class="token boolean">true</span>
│           ├── showExitConfirmation<span class="token operator">=</span><span class="token boolean">false</span>
│           └── windowMaximized<span class="token operator">=</span><span class="token boolean">true</span>
└── <span class="token operator">*</span><span class="token operator">*</span>org<span class="token operator">*</span><span class="token operator">*</span>
    └── <span class="token operator">*</span><span class="token operator">*</span>myorganization<span class="token operator">*</span><span class="token operator">*</span>
        └── <span class="token operator">*</span><span class="token operator">*</span>anotherapp<span class="token operator">*</span><span class="token operator">*</span>
            ├── defaultFont<span class="token operator">=</span><span class="token class-name">Helvetica</span>
            ├── defaultSavePath<span class="token operator">=</span><span class="token operator">/</span>home<span class="token operator">/</span>matt<span class="token operator">/</span><span class="token class-name">Documents</span>
            └── <span class="token operator">*</span><span class="token operator">*</span>exporting<span class="token operator">*</span><span class="token operator">*</span>
                ├── defaultFormat<span class="token operator">=</span>pdf
                └── openInBrowserAfterExport<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">&lt;</span><span class="token operator">/</span>pre<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>code<span class="token operator">&gt;</span>
<span class="token class-name">To</span> select the `<span class="token operator">/</span>com<span class="token operator">/</span>mycompany<span class="token operator">/</span>myapp` node<span class="token operator">:</span>
<span class="token generics"><span class="token punctuation">&lt;</span>ol<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>li<span class="token punctuation">&gt;</span></span>
<span class="token class-name">By</span> convention<span class="token punctuation">,</span> based on the <span class="token keyword">package</span> <span class="token namespace">of</span> a <span class="token keyword">class</span><span class="token operator">:</span>

```java
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mycompany<span class="token punctuation">.</span>myapp</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// Because this class is in the com.mycompany.myapp package, the node</span>
<span class="token comment">// /com/mycompany/myapp will be returned.</span>
<span class="token class-name">Preferences</span> myApp <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userNodeForPackage</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><li>
By convention, based on the package of a class:
<div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mycompany<span class="token punctuation">.</span>myapp</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// Because this class is in the com.mycompany.myapp package, the node</span>
<span class="token comment">// /com/mycompany/myapp will be returned.</span>
<span class="token class-name">Preferences</span> myApp <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userNodeForPackage</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div></li> <li>
By relative path:
<div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> myApp <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token string">&quot;com/mycompany/myapp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Using a relative path (a path not starting with a <code>/</code>) will cause the path to be resolved relative to the parent node it is resolved on. For example, the following example will return the node of the path <code>/one/two/three/com/mycompany/myapp</code>:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> prefix <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token string">&quot;one/two/three&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Preferences</span> myAppWithPrefix <span class="token operator">=</span> prefix<span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token string">&quot;com/mycompany/myapp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// prefix          is /one/two/three</span>
<span class="token comment">// myAppWithPrefix is /one/two/three/com/mycompany/myapp</span>

</code></pre></div></li> <li>
By absolute path:
<div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> myApp <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token string">&quot;/com/mycompany/myapp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Using an absolute path on the root node will not be different from using a relative path. The difference is that, if called on a sub-node, the path will be resolved relative to the root node.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> prefix <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token string">&quot;one/two/three&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Preferences</span> myAppWitoutPrefix <span class="token operator">=</span> prefix<span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token string">&quot;/com/mycompany/myapp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// prefix            is /one/two/three</span>
<span class="token comment">// myAppWitoutPrefix is /com/mycompany/myapp</span>

</code></pre></div></li> <h2 id="coordinating-preferences-access-across-multiple-application-instances"><a href="#coordinating-preferences-access-across-multiple-application-instances" class="header-anchor">#</a> Coordinating preferences access across multiple application instances</h2> <p>All instances of <code>Preferences</code> are always thread-safe across the threads of a single Java Virtual Machine (JVM). Because <code>Preferences</code> can be shared across multiple JVMs, there are special methods that deal with synchronizing changes across virtual machines.</p> <p>If you have an application which is supposed to run in a <strong>single instance</strong> only, then <strong>no external synchronization</strong> is required.</p> <p>If you have an application which runs in <strong>multiple instances</strong> on a single system and therefore <code>Preferences</code> access needs to be coordinated between the JVMs on the system, then the <strong><code>sync()</code> method</strong> of any <code>Preferences</code> node may be used to ensure changes to the <code>Preferences</code> node are visible to other JVMs on the system:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Warning: don't use this if your application is intended</span>
<span class="token comment">// to only run a single instance on a machine once</span>
<span class="token comment">// (this is probably the case for most desktop applications)</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    preferences<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">BackingStoreException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Deal with any errors while saving the preferences to the backing storage</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="exporting-preferences"><a href="#exporting-preferences" class="header-anchor">#</a> Exporting preferences</h2> <p><code>Preferences</code> nodes can be exported into a XML document representing that node. The resulting XML tree can be imported again. The resulting XML document will remember whether it was exported from the user or system <code>Preferences</code>.</p> <p>To export a single node, but <strong>not its child nodes</strong>:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    preferences<span class="token punctuation">.</span><span class="token function">exportNode</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst writing data to the OutputStream</span>
    ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">BackingStoreException</span> bse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst reading from the backing preferences store</span>
    bse<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    os <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    preferences<span class="token punctuation">.</span><span class="token function">exportSubtree</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst writing data to the OutputStream</span>
    ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">BackingStoreException</span> bse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst reading from the backing preferences store</span>
    bse<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>os <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>To export a single node <strong>with its child nodes</strong>:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    preferences<span class="token punctuation">.</span><span class="token function">exportNode</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst writing data to the OutputStream</span>
    ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">BackingStoreException</span> bse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst reading from the backing preferences store</span>
    bse<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    os <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    preferences<span class="token punctuation">.</span><span class="token function">exportSubtree</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst writing data to the OutputStream</span>
    ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">BackingStoreException</span> bse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst reading from the backing preferences store</span>
    bse<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>os <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="importing-preferences"><a href="#importing-preferences" class="header-anchor">#</a> Importing preferences</h2> <p><code>Preferences</code> nodes can be imported from a XML document. Importing is meant to be used in conjunction with the exporting functionality of <code>Preferences</code>, since it creates the correct corresponding XML documents.</p> <p>The XML documents will remember whether they were exported from the user or system <code>Preferences</code>. Therefore, they can be imported into their respective <code>Preferences</code> trees again, without you having to figure out or know where they came from. The static function will automatically find out whether the XML document was exported from the user or system <code>Preferences</code> and will automatically import them into the tree they were exported from.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// This is a static call on the Preferences class</span>
    <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">importPreferences</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst reading data from the InputStream</span>
    ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InvalidPreferencesFormatException</span> ipfe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst parsing the XML document tree</span>
    ipfe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    is <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token comment">// This is a static call on the Preferences class</span>
    <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">importPreferences</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst reading data from the InputStream</span>
    ioe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InvalidPreferencesFormatException</span> ipfe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception whilst parsing the XML document tree</span>
    ipfe<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>is <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="removing-event-listeners"><a href="#removing-event-listeners" class="header-anchor">#</a> Removing event listeners</h2> <p>Event listeners can be removed again from any <code>Properties</code> node, but the instance of the listener has to be kept around for that.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> preferences <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userNodeForPackage</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">PreferenceChangeListener</span> listener <span class="token operator">=</span> evt <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; got new value &quot;</span> <span class="token operator">+</span> evt<span class="token punctuation">.</span><span class="token function">getNewValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">addPreferenceChangeListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//</span>
<span class="token comment">// later...</span>
<span class="token comment">//</span>

preferences<span class="token punctuation">.</span><span class="token function">removePreferenceChangeListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> preferences <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userNodeForPackage</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">PreferenceChangeListener</span> listener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PreferenceChangeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preferenceChange</span><span class="token punctuation">(</span><span class="token class-name">PreferenceChangeEvent</span> evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; got new value &quot;</span> <span class="token operator">+</span> evt<span class="token punctuation">.</span><span class="token function">getNewValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">addPreferenceChangeListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//</span>
<span class="token comment">// later...</span>
<span class="token comment">//</span>

preferences<span class="token punctuation">.</span><span class="token function">removePreferenceChangeListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The same applies for <code>NodeChangeListener</code>.</p> <h2 id="getting-preferences-values"><a href="#getting-preferences-values" class="header-anchor">#</a> Getting preferences values</h2> <p>A value of a <code>Preferences</code> node can be of the type <code>String</code>, <code>boolean</code>, <code>byte[]</code>, <code>double</code>, <code>float</code>, <code>int</code> or <code>long</code>. All invocations must provide a default value, in case the specified value is not present in the <code>Preferences</code> node.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> preferences <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userNodeForPackage</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> someString <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;this is the default value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> someBoolean <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">getBoolean</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> someByteArray <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">getByteArray</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> someDouble <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">887284.4d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> someFloat <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">getFloat</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">38723.3f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> someInt <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">13232</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> someLong <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">2827637868234L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="setting-preferences-values"><a href="#setting-preferences-values" class="header-anchor">#</a> Setting preferences values</h2> <p>To store a value into the <code>Preferences</code> node, one of the <code>putXXX()</code> methods is used. A value of a <code>Preferences</code> node can be of the type <code>String</code>, <code>boolean</code>, <code>byte[]</code>, <code>double</code>, <code>float</code>, <code>int</code> or <code>long</code>.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Preferences</span> preferences <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userNodeForPackage</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

preferences<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;some String value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">putBoolean</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">putByteArray</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">putDouble</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">187398123.4454d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">putFloat</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">298321.445f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">77637</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preferences<span class="token punctuation">.</span><span class="token function">putLong</span><span class="token punctuation">(</span><span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token number">2873984729834L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="using-preferences"><a href="#using-preferences" class="header-anchor">#</a> Using preferences</h2> <p><code>Preferences</code> can be used to store user settings that reflect a user's personal application settings, e.g. their editor font, whether they prefer the application to be started in full-screen mode, whether they checked a &quot;don't show this again&quot; checkbox and things like that.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExitConfirmer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">confirmExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Preferences</span> preferences <span class="token operator">=</span> <span class="token class-name">Preferences</span><span class="token punctuation">.</span><span class="token function">userNodeForPackage</span><span class="token punctuation">(</span><span class="token class-name">ExitConfirmer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> doShowDialog <span class="token operator">=</span> preferences<span class="token punctuation">.</span><span class="token function">getBoolean</span><span class="token punctuation">(</span><span class="token string">&quot;showExitConfirmation&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true is default value</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>doShowDialog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//</span>
        <span class="token comment">// Show a dialog here...</span>
        <span class="token comment">//</span>
        <span class="token keyword">boolean</span> exitWasConfirmed <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token comment">// whether the user clicked OK or Cancel</span>
        <span class="token keyword">boolean</span> doNotShowAgain <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token comment">// get value from &quot;Do not show again&quot; checkbox</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>exitWasConfirmed <span class="token operator">&amp;&amp;</span> doNotShowAgain<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Exit was confirmed and the user chose that the dialog should not be shown again</span>
            <span class="token comment">// Save these settings to the Preferences object so the dialog will not show again next time</span>
            preferences<span class="token punctuation">.</span><span class="token function">putBoolean</span><span class="token punctuation">(</span><span class="token string">&quot;showExitConfirmation&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> exitWasConfirmed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirmExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/java/preferences.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/readers-and-writers.html" class="prev">
        Readers and Writers
      </a></span> <span class="next"><a href="/java/collection-factory-methods.html">
        Collection Factory Methods
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1646.147883e0.js" defer></script>
  </body>
</html>
