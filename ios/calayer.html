<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>iOS - CALayer</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Adding Transforms to a CALayer (translate, rotate, scale), Emitter View with custom image, Shadows, Creating particles with CAEmitterLayer, How to add a UIImage to a CALayer, Disable Animations, Rounded corners, Creating a CALayer">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="iOS - CALayer">
    <meta property="og:description" content="Adding Transforms to a CALayer (translate, rotate, scale), Emitter View with custom image, Shadows, Creating particles with CAEmitterLayer, How to add a UIImage to a CALayer, Disable Animations, Rounded corners, Creating a CALayer">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/ios/calayer.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="iOS - CALayer">
    <meta name="twitter:description" content="Adding Transforms to a CALayer (translate, rotate, scale), Emitter View with custom image, Shadows, Creating particles with CAEmitterLayer, How to add a UIImage to a CALayer, Disable Animations, Rounded corners, Creating a CALayer">
    <meta name="twitter:url" content="/ios/calayer.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/1327.29f21d48.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>iOS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ios/" class="sidebar-link">Disclaimer</a></li><li><a href="/ios/getting-started-with-ios.html" class="sidebar-link">Getting started with iOS</a></li><li><a href="/ios/uilabel.html" class="sidebar-link">UILabel</a></li><li><a href="/ios/uilabel-text-underlining.html" class="sidebar-link">UILabel text underlining</a></li><li><a href="/ios/attributedtext-in-uilabel.html" class="sidebar-link">attributedText in UILabel</a></li><li><a href="/ios/uibutton.html" class="sidebar-link">UIButton</a></li><li><a href="/ios/uidatepicker.html" class="sidebar-link">UIDatePicker</a></li><li><a href="/ios/uilocalnotification.html" class="sidebar-link">UILocalNotification</a></li><li><a href="/ios/uiimage.html" class="sidebar-link">UIImage</a></li><li><a href="/ios/convert-nsattributedstring-to-uiimage.html" class="sidebar-link">Convert NSAttributedString to UIImage</a></li><li><a href="/ios/uiimagepickercontroller.html" class="sidebar-link">UIImagePickerController</a></li><li><a href="/ios/uiimageview.html" class="sidebar-link">UIImageView</a></li><li><a href="/ios/resizing-uiimage.html" class="sidebar-link">Resizing UIImage</a></li><li><a href="/ios/cut-a-uiimage-into-a-circle.html" class="sidebar-link">Cut a UIImage into a circle</a></li><li><a href="/ios/uitableview.html" class="sidebar-link">UITableView</a></li><li><a href="/ios/uitableviewcontroller.html" class="sidebar-link">UITableViewController</a></li><li><a href="/ios/uirefreshcontrol-tableview.html" class="sidebar-link">UIRefreshControl TableView</a></li><li><a href="/ios/uitableviewcell.html" class="sidebar-link">UITableViewCell</a></li><li><a href="/ios/custom-methods-of-selection-of-uitableviewcells.html" class="sidebar-link">Custom methods of selection of UITableViewCells</a></li><li><a href="/ios/custom-methods-of-selection-of-uitableviewcells.html" class="sidebar-link">Custom methods of selection of UITableViewCells</a></li><li><a href="/ios/uiview.html" class="sidebar-link">UIView</a></li><li><a href="/ios/snapshot-of-uiview.html" class="sidebar-link">Snapshot of UIView</a></li><li><a href="/ios/uialertcontroller.html" class="sidebar-link">UIAlertController</a></li><li><a href="/ios/uicolor.html" class="sidebar-link">UIColor</a></li><li><a href="/ios/uitextview.html" class="sidebar-link">UITextView</a></li><li><a href="/ios/uitextfield-delegate.html" class="sidebar-link">UITextField Delegate</a></li><li><a href="/ios/uinavigationcontroller.html" class="sidebar-link">UINavigationController</a></li><li><a href="/ios/uigesturerecognizer.html" class="sidebar-link">UIGestureRecognizer</a></li><li><a href="/ios/uibarbuttonitem.html" class="sidebar-link">UIBarButtonItem</a></li><li><a href="/ios/uiscrollview.html" class="sidebar-link">UIScrollView</a></li><li><a href="/ios/uistackview.html" class="sidebar-link">UIStackView</a></li><li><a href="/ios/dynamically-updating-a-uistackview.html" class="sidebar-link">Dynamically updating a UIStackView</a></li><li><a href="/ios/uiscrollview-with-stackview-child.html" class="sidebar-link">UIScrollView with StackView child</a></li><li><a href="/ios/uiscrollview-autolayout.html" class="sidebar-link">UIScrollView AutoLayout</a></li><li><a href="/ios/uitextfield.html" class="sidebar-link">UITextField</a></li><li><a href="/ios/custom-uitextfield.html" class="sidebar-link">Custom UITextField</a></li><li><a href="/ios/uiviewcontroller.html" class="sidebar-link">UIViewController</a></li><li><a href="/ios/uiswitch.html" class="sidebar-link">UISwitch</a></li><li><a href="/ios/uicollectionview.html" class="sidebar-link">UICollectionView</a></li><li><a href="/ios/uisearchcontroller.html" class="sidebar-link">UISearchController</a></li><li><a href="/ios/uitabbarcontroller.html" class="sidebar-link">UITabBarController</a></li><li><a href="/ios/uiwebview.html" class="sidebar-link">UIWebView</a></li><li><a href="/ios/uiactivityviewcontroller.html" class="sidebar-link">UIActivityViewController</a></li><li><a href="/ios/uicontrol-event-handling-with-blocks.html" class="sidebar-link">UIControl - Event Handling with Blocks</a></li><li><a href="/ios/uisplitviewcontroller.html" class="sidebar-link">UISplitViewController</a></li><li><a href="/ios/uislider.html" class="sidebar-link">UISlider</a></li><li><a href="/ios/uistoryboard.html" class="sidebar-link">UIStoryboard</a></li><li><a href="/ios/uipageviewcontroller.html" class="sidebar-link">UIPageViewController</a></li><li><a href="/ios/uisplitviewcontroller.html" class="sidebar-link">UISplitViewController</a></li><li><a href="/ios/uifont.html" class="sidebar-link">UIFont</a></li><li><a href="/ios/uidevice.html" class="sidebar-link">UIDevice</a></li><li><a href="/ios/make-selective-uiview-corners-rounded.html" class="sidebar-link">Make selective UIView corners rounded</a></li><li><a href="/ios/custom-uiviews-from-xib-files.html" class="sidebar-link">Custom UIViews from XIB files</a></li><li><a href="/ios/uibezierpath.html" class="sidebar-link">UIBezierPath</a></li><li><a href="/ios/uipickerview.html" class="sidebar-link">UIPickerView</a></li><li><a href="/ios/uifeedbackgenerator.html" class="sidebar-link">UIFeedbackGenerator</a></li><li><a href="/ios/uiappearance.html" class="sidebar-link">UIAppearance</a></li><li><a href="/ios/uikit-dynamics-with-uicollectionview.html" class="sidebar-link">UIKit Dynamics with UICollectionView</a></li><li><a href="/ios/uipheonix-easy-flexible-dynamic-highly-scalable-ui-framework.html" class="sidebar-link">UIPheonix - easy, flexible, dynamic &amp; highly scalable UI framework</a></li><li><a href="/ios/uikit-dynamics.html" class="sidebar-link">UIKit Dynamics</a></li><li><a href="/ios/ui-testing.html" class="sidebar-link">UI Testing</a></li><li><a href="/ios/change-status-bar-color.html" class="sidebar-link">Change Status Bar Color</a></li><li><a href="/ios/uisegmentedcontrol.html" class="sidebar-link">UISegmentedControl</a></li><li><a href="/ios/passing-data-between-view-controllers.html" class="sidebar-link">Passing Data between View Controllers</a></li><li><a href="/ios/managing-the-keyboard.html" class="sidebar-link">Managing the Keyboard</a></li><li><a href="/ios/checking-for-network-connectivity.html" class="sidebar-link">Checking for Network Connectivity</a></li><li><a href="/ios/accessibility.html" class="sidebar-link">Accessibility</a></li><li><a href="/ios/auto-layout.html" class="sidebar-link">Auto Layout</a></li><li><a href="/ios/mkmapview.html" class="sidebar-link">MKMapView</a></li><li><a href="/ios/nsarray.html" class="sidebar-link">NSArray</a></li><li><a href="/ios/nsattributedstring.html" class="sidebar-link">NSAttributedString</a></li><li><a href="/ios/convert-html-to-nsattributed-string-and-vice-verse.html" class="sidebar-link">Convert HTML to NSAttributed string and vice verse</a></li><li><a href="/ios/nstimer.html" class="sidebar-link">NSTimer</a></li><li><a href="/ios/nsdate.html" class="sidebar-link">NSDate</a></li><li><a href="/ios/nsnotificationcenter.html" class="sidebar-link">NSNotificationCenter</a></li><li><a href="/ios/nsurlsession.html" class="sidebar-link">NSURLSession</a></li><li><a href="/ios/nsuserdefaults.html" class="sidebar-link">NSUserDefaults</a></li><li><a href="/ios/nshttpcookiestorage.html" class="sidebar-link">NSHTTPCookieStorage</a></li><li><a href="/ios/nsurlconnection.html" class="sidebar-link">NSURLConnection</a></li><li><a href="/ios/nsurl.html" class="sidebar-link">NSURL</a></li><li><a href="/ios/nsdata.html" class="sidebar-link">NSData</a></li><li><a href="/ios/nsinvocation.html" class="sidebar-link">NSInvocation</a></li><li><a href="/ios/nsuseractivity.html" class="sidebar-link">NSUserActivity</a></li><li><a href="/ios/nspredicate.html" class="sidebar-link">NSPredicate</a></li><li><a href="/ios/nsbundle.html" class="sidebar-link">NSBundle</a></li><li><a href="/ios/caanimation.html" class="sidebar-link">CAAnimation</a></li><li><a href="/ios/concurrency.html" class="sidebar-link">Concurrency</a></li><li><a href="/ios/cagradientlayer.html" class="sidebar-link">CAGradientLayer</a></li><li><a href="/ios/safari-services.html" class="sidebar-link">Safari Services</a></li><li><a href="/ios/calayer.html" class="active sidebar-link">CALayer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ios/calayer.html#adding-transforms-to-a-calayer-translate-rotate-scale" class="sidebar-link">Adding Transforms to a CALayer (translate, rotate, scale)</a></li><li class="sidebar-sub-header"><a href="/ios/calayer.html#emitter-view-with-custom-image" class="sidebar-link">Emitter View with custom image</a></li><li class="sidebar-sub-header"><a href="/ios/calayer.html#shadows" class="sidebar-link">Shadows</a></li><li class="sidebar-sub-header"><a href="/ios/calayer.html#creating-particles-with-caemitterlayer" class="sidebar-link">Creating particles with CAEmitterLayer</a></li><li class="sidebar-sub-header"><a href="/ios/calayer.html#how-to-add-a-uiimage-to-a-calayer" class="sidebar-link">How to add a UIImage to a CALayer</a></li><li class="sidebar-sub-header"><a href="/ios/calayer.html#disable-animations" class="sidebar-link">Disable Animations</a></li><li class="sidebar-sub-header"><a href="/ios/calayer.html#rounded-corners" class="sidebar-link">Rounded corners</a></li><li class="sidebar-sub-header"><a href="/ios/calayer.html#creating-a-calayer" class="sidebar-link">Creating a CALayer</a></li></ul></li><li><a href="/ios/ios-implementation-of-xmpp-with-robbie-hanson-framework.html" class="sidebar-link">iOS - Implementation of XMPP with Robbie Hanson framework</a></li><li><a href="/ios/swift-and-objective-c-interoperability.html" class="sidebar-link">Swift and Objective-C interoperability</a></li><li><a href="/ios/custom-fonts.html" class="sidebar-link">Custom fonts</a></li><li><a href="/ios/avspeechsynthesizer.html" class="sidebar-link">AVSpeechSynthesizer</a></li><li><a href="/ios/localization.html" class="sidebar-link">Localization</a></li><li><a href="/ios/alamofire.html" class="sidebar-link">Alamofire</a></li><li><a href="/ios/ibeacon.html" class="sidebar-link">iBeacon</a></li><li><a href="/ios/cllocation.html" class="sidebar-link">CLLocation</a></li><li><a href="/ios/checking-ios-version.html" class="sidebar-link">Checking iOS version</a></li><li><a href="/ios/universal-links.html" class="sidebar-link">Universal Links</a></li><li><a href="/ios/pdf-creation-in-ios.html" class="sidebar-link">PDF Creation in iOS</a></li><li><a href="/ios/in-app-purchase.html" class="sidebar-link">In-App Purchase</a></li><li><a href="/ios/cgcontext-reference.html" class="sidebar-link">CGContext Reference</a></li><li><a href="/ios/core-location.html" class="sidebar-link">Core Location</a></li><li><a href="/ios/facebooksdk.html" class="sidebar-link">FacebookSDK</a></li><li><a href="/ios/afnetworking.html" class="sidebar-link">AFNetworking</a></li><li><a href="/ios/ctcallcenter.html" class="sidebar-link">CTCallCenter</a></li><li><a href="/ios/push-notifications.html" class="sidebar-link">Push Notifications</a></li><li><a href="/ios/extension-for-rich-push-notification-ios-10.html" class="sidebar-link">Extension for rich Push Notification - iOS 10.</a></li><li><a href="/ios/rich-notifications.html" class="sidebar-link">Rich Notifications</a></li><li><a href="/ios/key-value-coding-key-value-observation.html" class="sidebar-link">Key Value Coding-Key Value Observation</a></li><li><a href="/ios/initialization-idioms.html" class="sidebar-link">Initialization idioms</a></li><li><a href="/ios/storyboard.html" class="sidebar-link">Storyboard</a></li><li><a href="/ios/background-modes-and-events.html" class="sidebar-link">Background Modes and Events</a></li><li><a href="/ios/fastlane.html" class="sidebar-link">Fastlane</a></li><li><a href="/ios/cashapelayer.html" class="sidebar-link">CAShapeLayer</a></li><li><a href="/ios/wkwebview.html" class="sidebar-link">WKWebView</a></li><li><a href="/ios/uuid-universally-unique-identifier.html" class="sidebar-link">UUID (Universally Unique Identifier)</a></li><li><a href="/ios/categories.html" class="sidebar-link">Categories</a></li><li><a href="/ios/handling-url-schemes.html" class="sidebar-link">Handling URL Schemes</a></li><li><a href="/ios/realm.html" class="sidebar-link">Realm</a></li><li><a href="/ios/arc-automatic-reference-counting.html" class="sidebar-link">ARC (Automatic Reference Counting)</a></li><li><a href="/ios/dynamic-type.html" class="sidebar-link">Dynamic Type</a></li><li><a href="/ios/swrevealviewcontroller.html" class="sidebar-link">SWRevealViewController</a></li><li><a href="/ios/dispatchgroup.html" class="sidebar-link">DispatchGroup</a></li><li><a href="/ios/gcd-grand-central-dispatch.html" class="sidebar-link">GCD (Grand Central Dispatch)</a></li><li><a href="/ios/size-classes-and-adaptivity.html" class="sidebar-link">Size Classes and Adaptivity</a></li><li><a href="/ios/iboutlets.html" class="sidebar-link">IBOutlets</a></li><li><a href="/ios/aws-sdk.html" class="sidebar-link">AWS SDK</a></li><li><a href="/ios/debugging-crashes.html" class="sidebar-link">Debugging Crashes</a></li><li><a href="/ios/cloudkit.html" class="sidebar-link">CloudKit</a></li><li><a href="/ios/gameplaykit.html" class="sidebar-link">GameplayKit</a></li><li><a href="/ios/xcode-build-archive-from-command-line.html" class="sidebar-link">Xcode Build &amp; Archive From Command Line</a></li><li><a href="/ios/xctest-framework-unit-testing.html" class="sidebar-link">XCTest framework - Unit Testing</a></li><li><a href="/ios/avplayer-and-avplayerviewcontroller.html" class="sidebar-link">AVPlayer and AVPlayerViewController</a></li><li><a href="/ios/deep-linking-in-ios.html" class="sidebar-link">Deep Linking in iOS</a></li><li><a href="/ios/core-graphics.html" class="sidebar-link">Core Graphics</a></li><li><a href="/ios/segues.html" class="sidebar-link">Segues</a></li><li><a href="/ios/eventkit.html" class="sidebar-link">EventKit</a></li><li><a href="/ios/sirikit.html" class="sidebar-link">SiriKit</a></li><li><a href="/ios/contacts-framework.html" class="sidebar-link">Contacts Framework</a></li><li><a href="/ios/ios-10-speech-recognition-api.html" class="sidebar-link">iOS 10 Speech Recognition API</a></li><li><a href="/ios/storekit.html" class="sidebar-link">StoreKit</a></li><li><a href="/ios/code-signing.html" class="sidebar-link">Code signing</a></li><li><a href="/ios/create-ipa-file-to-upload-on-appstore-with-applicationloader.html" class="sidebar-link">Create .ipa File to upload on appstore with Applicationloader</a></li><li><a href="/ios/size-classes-and-adaptivity.html" class="sidebar-link">Size Classes and Adaptivity</a></li><li><a href="/ios/mkdistanceformatter.html" class="sidebar-link">MKDistanceFormatter</a></li><li><a href="/ios/3d-touch.html" class="sidebar-link">3D Touch</a></li><li><a href="/ios/gamecenter-leaderboards.html" class="sidebar-link">GameCenter Leaderboards</a></li><li><a href="/ios/keychain.html" class="sidebar-link">Keychain</a></li><li><a href="/ios/handle-multiple-environment-using-macro.html" class="sidebar-link">Handle Multiple Environment using Macro</a></li><li><a href="/ios/set-view-background.html" class="sidebar-link">Set View Background</a></li><li><a href="/ios/block.html" class="sidebar-link">Block</a></li><li><a href="/ios/content-hugging-content-compression-in-autolayout.html" class="sidebar-link">Content Hugging/Content Compression in Autolayout</a></li><li><a href="/ios/ios-google-places-api.html" class="sidebar-link">iOS Google Places API</a></li><li><a href="/ios/navigation-bar.html" class="sidebar-link">Navigation Bar</a></li><li><a href="/ios/app-wide-operations.html" class="sidebar-link">App wide operations</a></li><li><a href="/ios/coreimage-filters.html" class="sidebar-link">CoreImage Filters</a></li><li><a href="/ios/face-detection-using-coreimage-opencv.html" class="sidebar-link">Face Detection Using CoreImage/OpenCV</a></li><li><a href="/ios/mpmediapickerdelegate.html" class="sidebar-link">MPMediaPickerDelegate</a></li><li><a href="/ios/graph-coreplot.html" class="sidebar-link">Graph (Coreplot)</a></li><li><a href="/ios/fcm-messaging-in-swift.html" class="sidebar-link">FCM Messaging in Swift</a></li><li><a href="/ios/create-a-custom-framework-in-ios.html" class="sidebar-link">Create a Custom framework in iOS</a></li><li><a href="/ios/custom-keyboard.html" class="sidebar-link">Custom Keyboard</a></li><li><a href="/ios/airdrop.html" class="sidebar-link">AirDrop</a></li><li><a href="/ios/slcomposeviewcontroller.html" class="sidebar-link">SLComposeViewController</a></li><li><a href="/ios/airprint-tutorial-in-ios.html" class="sidebar-link">AirPrint tutorial in iOS</a></li><li><a href="/ios/carthage-ios-setup.html" class="sidebar-link">Carthage iOS Setup</a></li><li><a href="/ios/healthkit.html" class="sidebar-link">Healthkit</a></li><li><a href="/ios/core-spotlight-in-ios.html" class="sidebar-link">Core SpotLight in iOS</a></li><li><a href="/ios/core-motion.html" class="sidebar-link">Core Motion</a></li><li><a href="/ios/qr-code-scanner.html" class="sidebar-link">QR Code Scanner</a></li><li><a href="/ios/plist-ios.html" class="sidebar-link">plist iOS</a></li><li><a href="/ios/wcsessiondelegate.html" class="sidebar-link">WCSessionDelegate</a></li><li><a href="/ios/appdelegate.html" class="sidebar-link">AppDelegate</a></li><li><a href="/ios/app-submission-process.html" class="sidebar-link">App Submission Process</a></li><li><a href="/ios/filehandle.html" class="sidebar-link">FileHandle</a></li><li><a href="/ios/basic-text-file-i-o.html" class="sidebar-link">Basic text file I/O</a></li><li><a href="/ios/ios-tts.html" class="sidebar-link">iOS TTS</a></li><li><a href="/ios/mpvolumeview.html" class="sidebar-link">MPVolumeView</a></li><li><a href="/ios/objective-c-associated-objects.html" class="sidebar-link">Objective-C Associated Objects</a></li><li><a href="/ios/passing-data-between-view-controllers-with-messagebox-concept.html" class="sidebar-link">Passing Data between View Controllers (with MessageBox-Concept)</a></li><li><a href="/ios/mvvm.html" class="sidebar-link">MVVM</a></li><li><a href="/ios/cache-online-images.html" class="sidebar-link">Cache online images</a></li><li><a href="/ios/chain-blocks-in-a-queue-with-mkblockqueue.html" class="sidebar-link">Chain Blocks in a Queue (with MKBlockQueue)</a></li><li><a href="/ios/simulator.html" class="sidebar-link">Simulator</a></li><li><a href="/ios/background-modes.html" class="sidebar-link">Background Modes</a></li><li><a href="/ios/opengl.html" class="sidebar-link">OpenGL</a></li><li><a href="/ios/mvp-architecture.html" class="sidebar-link">MVP Architecture</a></li><li><a href="/ios/configure-beacons-with-corebluetooth.html" class="sidebar-link">Configure Beacons with CoreBluetooth</a></li><li><a href="/ios/core-data.html" class="sidebar-link">Core Data</a></li><li><a href="/ios/profile-with-instruments.html" class="sidebar-link">Profile with Instruments</a></li><li><a href="/ios/application-rating-review-request.html" class="sidebar-link">Application rating/review request</a></li><li><a href="/ios/mylayout.html" class="sidebar-link">MyLayout</a></li><li><a href="/ios/simulator-builds.html" class="sidebar-link">Simulator Builds</a></li><li><a href="/ios/simulating-location-using-gpx-files-ios.html" class="sidebar-link">Simulating Location Using GPX files iOS</a></li><li><a href="/ios/sqlcipher-integration.html" class="sidebar-link">SqlCipher integration</a></li><li><a href="/ios/security.html" class="sidebar-link">Security</a></li><li><a href="/ios/app-transport-security-ats.html" class="sidebar-link">App Transport Security (ATS)</a></li><li><a href="/ios/guideline-to-choose-best-ios-architecture-patterns.html" class="sidebar-link">Guideline to choose best iOS Architecture Patterns</a></li><li><a href="/ios/multicast-delegates.html" class="sidebar-link">Multicast Delegates</a></li><li><a href="/ios/using-image-aseets.html" class="sidebar-link">Using Image Aseets</a></li><li><a href="/ios/runtime-in-objective-c.html" class="sidebar-link">Runtime in Objective-C</a></li><li><a href="/ios/modelpresentationstyles.html" class="sidebar-link">ModelPresentationStyles</a></li><li><a href="/ios/cydiasubstrate-tweak.html" class="sidebar-link">CydiaSubstrate tweak</a></li><li><a href="/ios/create-a-video-from-images.html" class="sidebar-link">Create a video from images</a></li><li><a href="/ios/codable.html" class="sidebar-link">Codable</a></li><li><a href="/ios/load-images-async.html" class="sidebar-link">Load images async</a></li><li><a href="/ios/adding-a-swift-bridging-header.html" class="sidebar-link">ADDING A SWIFT BRIDGING HEADER</a></li><li><a href="/ios/creating-an-app-id.html" class="sidebar-link">Creating an App ID</a></li><li><a href="/ios/swift-changing-the-rootviewcontroller-in-appdelegate-to-present-main-or-login-onboarding-flow.html" class="sidebar-link">Swift: Changing the rootViewController in AppDelegate to present main or login/onboarding flow</a></li><li><a href="/ios/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="calayer"><a href="#calayer" class="header-anchor">#</a> CALayer</h1> <h2 id="adding-transforms-to-a-calayer-translate-rotate-scale"><a href="#adding-transforms-to-a-calayer-translate-rotate-scale" class="header-anchor">#</a> Adding Transforms to a CALayer (translate, rotate, scale)</h2> <h3 id="basics"><a href="#basics" class="header-anchor">#</a> Basics</h3> <p>There are a number of different transforms you can do on a layer, but the basic ones are</p> <ul><li>translate (move)</li> <li>scale</li> <li>rotate</li></ul> <p><a href="http://i.stack.imgur.com/M6hZN.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/M6hZN.png" alt="basic transforms"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>To do transforms on a <code>CALayer</code>, you set the layer's <code>transform</code> property to a <code>CATransform3D</code> type. For example, to translate a layer, you would do something like this:</p> <div class="language-swift extra-class"><pre class="language-swift"><code>myLayer<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token function">CATransform3DMakeTranslation</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

</code></pre></div><p>The word <code>Make</code> is used in the name for creating the initial transform: CATransform3D<strong>Make</strong>Translation. Subsequent transforms that are applied omit the <code>Make</code>. See, for example, this rotation followed by a translation:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> rotation <span class="token operator">=</span> <span class="token function">CATransform3DMakeRotation</span><span class="token punctuation">(</span><span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token number">30.0</span> <span class="token operator">*</span> <span class="token constant">M_PI</span> <span class="token operator">/</span> <span class="token number">180.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
myLayer<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token function">CATransform3DTranslate</span><span class="token punctuation">(</span>rotation<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

</code></pre></div><p>Now that we have the basis of how to make a transform, let's look at some examples of how to do each one. First, though, I'll show how I set up the project in case you want to play around with it, too.</p> <h3 id="setup"><a href="#setup" class="header-anchor">#</a> Setup</h3> <p>For the following examples I set up a Single View Application and added a <code>UIView</code> with a light blue background to the storyboard. I hooked up the view to the view controller with the following code:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token keyword">class</span> <span class="token class-name">ViewController</span><span class="token punctuation">:</span> <span class="token builtin">UIViewController</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">var</span> myLayer <span class="token operator">=</span> <span class="token function">CATextLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token atrule">@IBOutlet</span> <span class="token keyword">weak</span> <span class="token keyword">var</span> myView<span class="token punctuation">:</span> <span class="token builtin">UIView</span><span class="token operator">!</span>
    
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// setup the sublayer</span>
        <span class="token function">addSubLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// do the transform</span>
        <span class="token function">transformExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">addSubLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        myLayer<span class="token punctuation">.</span>frame <span class="token operator">=</span> <span class="token function">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span>
        myLayer<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token builtin">UIColor</span><span class="token punctuation">.</span><span class="token function">blueColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">CGColor</span>
        myLayer<span class="token punctuation">.</span>string <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span>
        myView<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">addSublayer</span><span class="token punctuation">(</span>myLayer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//******** Replace this function with the examples below ********</span>

    <span class="token keyword">func</span> <span class="token function">transformExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// add transform code here ...</span>
        
        
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> 

</code></pre></div><p><a href="http://www.raywenderlich.com/90488/calayer-in-ios-with-swift-10-examples" target="_blank" rel="noopener noreferrer">There are many different kinds of <code>CALayer</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, but I chose to use <code>CATextLayer</code> so that the transforms will be more clear visually.</p> <h3 id="translate"><a href="#translate" class="header-anchor">#</a> Translate</h3> <p>The translation transform moves the layer. The basic syntax is</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token function">CATransform3DMakeTranslation</span><span class="token punctuation">(</span>tx<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> ty<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> tz<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">)</span>

</code></pre></div><p>where <code>tx</code> is the change in the x coordinates, <code>ty</code> is the change in y, and <code>tz</code> is the change in z.</p> <p><strong>Example</strong></p> <p><a href="http://i.stack.imgur.com/yoEez.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/yoEez.png" alt="translate example"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>In iOS the origin of the coordinate system is in the top left, so if we wanted to move the layer 90 points to the right and 50 points down, we would do the following:</p> <div class="language-swift extra-class"><pre class="language-swift"><code>myLayer<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token function">CATransform3DMakeTranslation</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

</code></pre></div><p>Notes</p> <ul><li>Remember that you can paste this into the <code>transformExample()</code> method in the project code above.</li> <li>Since we are just going to deal with two dimensions here, <code>tz</code> is set to <code>0</code>.</li> <li>The red line in the image above goes from the center of the original location to the center of the new location. That's because transforms are done in relation to the anchor point and the anchor point by default is in the center of the layer.</li></ul> <h3 id="scale"><a href="#scale" class="header-anchor">#</a> Scale</h3> <p>The scale transform stretches or squishes the layer.  The basic syntax is</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token function">CATransform3DMakeScale</span><span class="token punctuation">(</span>sx<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> sy<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> sz<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">)</span>

</code></pre></div><p>where <code>sx</code>, <code>sy</code>, and <code>sz</code> are the numbers by which to scale (multiply) the x, y, and z coordinates respectively.</p> <p><strong>Example</strong></p> <p><a href="http://i.stack.imgur.com/W9W99.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/W9W99.png" alt="scale example"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>If we wanted to half the width and triple the height, we would do the following</p> <div class="language-swift extra-class"><pre class="language-swift"><code>myLayer<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token function">CATransform3DMakeScale</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>

</code></pre></div><p>Notes</p> <ul><li>Since we are only working in two dimensions, we just multiply the z coordinates by 1.0 to leave them unaffected.</li> <li>The red dot in the image above represents the anchor point. Notice how the scaling is done in relation to the anchor point. That is, everything is either stretched toward or away from the anchor point.</li></ul> <h3 id="rotate"><a href="#rotate" class="header-anchor">#</a> Rotate</h3> <p>The rotation transform rotates the layer around the anchor point (the center of the layer by default). The basic syntax is</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token function">CATransform3DMakeRotation</span><span class="token punctuation">(</span>angle<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">)</span>

</code></pre></div><p>where <code>angle</code> is the angle in radians that the layer should be rotated and <code>x</code>, <code>y</code>, and <code>z</code> are the axes about which to rotate. Setting an axis to 0 cancels a rotation around that particular axis.</p> <p><strong>Example</strong></p> <p><a href="http://i.stack.imgur.com/Kbnun.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/Kbnun.png" alt="rotate example"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>If we wanted to rotate a layer clockwise 30 degrees, we would do the following:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> degrees <span class="token operator">=</span> <span class="token number">30.0</span>
<span class="token keyword">let</span> radians <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span>degrees <span class="token operator">*</span> <span class="token constant">M_PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
myLayer<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token function">CATransform3DMakeRotation</span><span class="token punctuation">(</span>radians<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>

</code></pre></div><p>Notes</p> <ul><li>Since we are working in two dimentions, we only want the xy plane to be rotated around the z axis. Thus we set <code>x</code> and <code>y</code> to <code>0.0</code> and set <code>z</code> to <code>1.0</code>.</li> <li>This rotated the layer in a clockwise direction. We could have rotated counterclockwise by setting <code>z</code> to <code>-1.0</code>.</li> <li>The red dot shows where the anchor point is. The rotation is done around the anchor point.</li></ul> <h3 id="multiple-transforms"><a href="#multiple-transforms" class="header-anchor">#</a> Multiple transforms</h3> <p>In order to combine multiple transforms we could use concatination like this</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token function">CATransform3DConcat</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token builtin">CATransform3D</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">CATransform3D</span><span class="token punctuation">)</span>

</code></pre></div><p>However, we will just do one after another. The first transform will use the <code>Make</code> in its name. The following transforms will not use <code>Make</code>, but they will take the previous transform as a parameter.</p> <p><strong>Example</strong></p> <p><a href="http://i.stack.imgur.com/w9osU.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/w9osU.png" alt="multiple transforms example"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>This time we combine all three of the previous transforms.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> degrees <span class="token operator">=</span> <span class="token number">30.0</span>
<span class="token keyword">let</span> radians <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span>degrees <span class="token operator">*</span> <span class="token constant">M_PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>

<span class="token comment">// translate</span>
<span class="token keyword">var</span> transform <span class="token operator">=</span> <span class="token function">CATransform3DMakeTranslation</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// rotate</span>
transform <span class="token operator">=</span> <span class="token function">CATransform3DRotate</span><span class="token punctuation">(</span>transform<span class="token punctuation">,</span> radians<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>

<span class="token comment">// scale</span>
transform <span class="token operator">=</span> <span class="token function">CATransform3DScale</span><span class="token punctuation">(</span>transform<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>

<span class="token comment">// apply the transforms</span>
myLayer<span class="token punctuation">.</span>transform <span class="token operator">=</span> transform

</code></pre></div><p>Notes</p> <ul><li>The order that the transforms are done in matters.</li> <li>Everything was done in relation to the anchor point (red dot).</li></ul> <h3 id="a-note-about-anchor-point-and-position"><a href="#a-note-about-anchor-point-and-position" class="header-anchor">#</a> A Note about Anchor Point and Position</h3> <p>We did all our transforms above without changing the anchor point. Sometimes it is necessary to change it, though, like if you want to rotate around some other point besides the center. However, this can be a little tricky.</p> <p>The anchor point and position are both at the same place. The anchor point is expressed as a unit of the layer's coordinate system (default is <code>0.5, 0.5</code>) and the position is expressed in the superlayer's coordinate system. They can be set like this</p> <div class="language-swift extra-class"><pre class="language-swift"><code>myLayer<span class="token punctuation">.</span>anchorPoint <span class="token operator">=</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
myLayer<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>

</code></pre></div><p>If you only set the anchor point without changing the position, then the frame changes so that the position will be in the right spot. Or more precisely, the frame is recalculated based on the new anchor point and old position. This usually gives unexpected results. The following two articles have an excellent discussion of this.</p> <ul><li><a href="http://ronnqvi.st/about-the-anchorpoint/" target="_blank" rel="noopener noreferrer">About the anchorPoint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://ronnqvi.st/translate-rotate-translate/" target="_blank" rel="noopener noreferrer">Translate rotate translate?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="see-also"><a href="#see-also" class="header-anchor">#</a> See also</h3> <ul><li><a href="http://stackoverflow.com/a/34984063/3681880" target="_blank" rel="noopener noreferrer">Border, rounded corners, and shadow on a <code>CALayer</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://stackoverflow.com/a/34659468/3681880" target="_blank" rel="noopener noreferrer">Using a border with a Bezier path for a layer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><strong>This example originally comes from <a href="http://stackoverflow.com/a/34438890/3681880" target="_blank" rel="noopener noreferrer">this Stack Overflow example<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</strong></p> <h2 id="emitter-view-with-custom-image"><a href="#emitter-view-with-custom-image" class="header-anchor">#</a> Emitter View with custom image</h2> <p>For example we will create view that contains emitter layer and animates particles.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token builtin">QuartzCore</span>

<span class="token keyword">class</span> <span class="token class-name">ConfettiView</span><span class="token punctuation">:</span> <span class="token builtin">UIView</span> <span class="token punctuation">{</span>
    <span class="token comment">// main emitter layer</span>
    <span class="token keyword">var</span> emitter<span class="token punctuation">:</span> <span class="token builtin">CAEmitterLayer</span><span class="token operator">!</span>

    <span class="token comment">// array of color to emit</span>
    <span class="token keyword">var</span> colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">UIColor</span><span class="token punctuation">]</span><span class="token operator">!</span>

    <span class="token comment">// intensity of appearance</span>
    <span class="token keyword">var</span> intensity<span class="token punctuation">:</span> <span class="token builtin">Float</span><span class="token operator">!</span>
    
    <span class="token keyword">private</span> <span class="token keyword">var</span> active <span class="token punctuation">:</span><span class="token builtin">Bool</span><span class="token operator">!</span>
    
    <span class="token keyword">required</span> <span class="token keyword">init</span><span class="token operator">?</span><span class="token punctuation">(</span>coder aDecoder<span class="token punctuation">:</span> <span class="token builtin">NSCoder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>coder<span class="token punctuation">:</span> aDecoder<span class="token punctuation">)</span>
        <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">override</span> <span class="token keyword">init</span><span class="token punctuation">(</span>frame<span class="token punctuation">:</span> <span class="token builtin">CGRect</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>frame<span class="token punctuation">:</span> frame<span class="token punctuation">)</span>
        <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// initialization</span>
        colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">UIColor</span><span class="token punctuation">.</span><span class="token function">redColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token builtin">UIColor</span><span class="token punctuation">.</span><span class="token function">greenColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token builtin">UIColor</span><span class="token punctuation">.</span><span class="token function">blueColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                  <span class="token punctuation">]</span>
        intensity <span class="token operator">=</span> <span class="token number">0.2</span>
        
        active <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">startConfetti</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        emitter <span class="token operator">=</span> <span class="token function">CAEmitterLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        emitter<span class="token punctuation">.</span>emitterPosition <span class="token operator">=</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> frame<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span>
        emitter<span class="token punctuation">.</span>emitterShape <span class="token operator">=</span> <span class="token constant">kCAEmitterLayerLine</span>
        emitter<span class="token punctuation">.</span>emitterSize <span class="token operator">=</span> <span class="token function">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> frame<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
        
        <span class="token keyword">var</span> cells <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">CAEmitterCell</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> color <span class="token keyword">in</span> colors <span class="token punctuation">{</span>
            cells<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">confettiWithColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        
        emitter<span class="token punctuation">.</span>emitterCells <span class="token operator">=</span> cells
        layer<span class="token punctuation">.</span><span class="token function">addSublayer</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span>
        active <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">stopConfetti</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        emitter<span class="token operator">?</span><span class="token punctuation">.</span>birthRate <span class="token operator">=</span> <span class="token number">0</span>
        active <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">confettiWithColor</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token builtin">UIColor</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CAEmitterCell</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> confetti <span class="token operator">=</span> <span class="token function">CAEmitterCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        confetti<span class="token punctuation">.</span>birthRate <span class="token operator">=</span> <span class="token number">10.0</span> <span class="token operator">*</span> intensity
        confetti<span class="token punctuation">.</span>lifetime <span class="token operator">=</span> <span class="token number">180.0</span> <span class="token operator">*</span> intensity
        confetti<span class="token punctuation">.</span>lifetimeRange <span class="token operator">=</span> <span class="token number">0</span>
        confetti<span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">.</span><span class="token builtin">CGColor</span>
        confetti<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token number">350.0</span> <span class="token operator">*</span> intensity<span class="token punctuation">)</span>
        confetti<span class="token punctuation">.</span>velocityRange <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token number">40.0</span> <span class="token operator">*</span> intensity<span class="token punctuation">)</span>
        confetti<span class="token punctuation">.</span>emissionLongitude <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token constant">M_PI</span><span class="token punctuation">)</span>
        confetti<span class="token punctuation">.</span>emissionRange <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token builtin">M_PI_4</span><span class="token punctuation">)</span>
        confetti<span class="token punctuation">.</span>spin <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token number">3.5</span> <span class="token operator">*</span> intensity<span class="token punctuation">)</span>
        confetti<span class="token punctuation">.</span>spinRange <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token number">4.0</span> <span class="token operator">*</span> intensity<span class="token punctuation">)</span>
        
        <span class="token comment">// WARNING: A layer can set this property to a CGImageRef to display the image as its contents.</span>
        confetti<span class="token punctuation">.</span>contents <span class="token operator">=</span> <span class="token function">UIImage</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token string">&quot;confetti&quot;</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token builtin">CGImage</span>
        <span class="token keyword">return</span> confetti
    <span class="token punctuation">}</span>
    
    <span class="token keyword">internal</span> <span class="token keyword">func</span> <span class="token function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span>active
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>You need to add &quot;confetti&quot; image or define rect with <strong>confetti.contentsRect</strong></p> <h2 id="shadows"><a href="#shadows" class="header-anchor">#</a> Shadows</h2> <p>You can use 5 properties on each layer to configure your shadows:</p> <ul><li><code>shadowOffset</code> - this property moves your shadow left/right or up/down</li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token function">CGSizeMake</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1px left and up</span>

<span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token function">CGSizeMake</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1px down and right</span>

</code></pre></div><ul><li><code>shadowColor</code> - this sets the color of your shadow</li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">UIColor</span> blackColor<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">CGColor</span><span class="token punctuation">;</span>

</code></pre></div><ul><li><code>shadowOpacity</code> - this is the opacity of the shadow, from <code>0</code> to <code>1</code></li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">0.2</span><span class="token punctuation">;</span>

</code></pre></div><ul><li><code>shadowRadius</code> - this is the blur radius (equivalent of the blur property in Sketch or Photoshop)</li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

</code></pre></div><ul><li><code>shadowPath</code> - this is an important property for performance, when unset iOS bases the shadow on the alpha channel of the view, which can be performance intensive with a complex PNG with alpha. This property lets you force a shape for your shadow and be more performant because of it.</li></ul> <p><strong>Objective-C</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">UIBezierPath</span> bezierPathWithOvalInRect<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//this does a circular shadow</span>

</code></pre></div><p><strong>Swift 3</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span>ovalIn<span class="token punctuation">:</span> <span class="token function">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cgPath

</code></pre></div><h2 id="creating-particles-with-caemitterlayer"><a href="#creating-particles-with-caemitterlayer" class="header-anchor">#</a> Creating particles with CAEmitterLayer</h2> <p>The <strong>CAEmitterLayer</strong> class provides a particle emitter system for Core Animation. The particles are defined by instances of <strong>CAEmitterCell</strong>.</p> <p>The particles are drawn above the layers background color and border.</p> <div class="language- extra-class"><pre class="language-text"><code>
       var emitter = CAEmitterLayer()
        
        emitter.emitterPosition = CGPoint(x: frame.size.width / 2.0, y: -20)
        emitter.emitterShape = kCAEmitterLayerLine
        emitter.emitterSize = CGSize(width: frame.size.width, height: 1)

        emitter.emitterCells = cells
        layer.addSublayer(emitter)

</code></pre></div><h2 id="how-to-add-a-uiimage-to-a-calayer"><a href="#how-to-add-a-uiimage-to-a-calayer" class="header-anchor">#</a> How to add a UIImage to a CALayer</h2> <p>You can add an image to a view's <code>layer</code> simply by using its <code>contents</code> property:</p> <div class="language-swift extra-class"><pre class="language-swift"><code>myView<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>contents <span class="token operator">=</span> <span class="token function">UIImage</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token string">&quot;star&quot;</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token builtin">CGImage</span>

</code></pre></div><ul><li>Note that the <code>UIImage</code> needs to be converted to a <code>CGImage</code>.</li></ul> <p>If you wish to add the image in its own layer, you can do it like this:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> myLayer <span class="token operator">=</span> <span class="token function">CALayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> myImage <span class="token operator">=</span> <span class="token function">UIImage</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token string">&quot;star&quot;</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token builtin">CGImage</span>
myLayer<span class="token punctuation">.</span>frame <span class="token operator">=</span> myView<span class="token punctuation">.</span>bounds
myLayer<span class="token punctuation">.</span>contents <span class="token operator">=</span> myImage
myView<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">addSublayer</span><span class="token punctuation">(</span>myLayer<span class="token punctuation">)</span>

</code></pre></div><h3 id="modifying-the-appearance"><a href="#modifying-the-appearance" class="header-anchor">#</a> Modifying the appearance</h3> <p>The above code produces a view like this. The light blue is the <code>UIView</code> and the dark blue star is the <code>UIImage</code>.</p> <p><a href="http://i.stack.imgur.com/j1NW1.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/j1NW1.png" alt="star image on a CALayer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>As you can see, though, it looks pixelated. This is because the <code>UIImage</code> is smaller than the <code>UIView</code> so it is being scaled to fill the view, which is the default it you don't specify anything else.</p> <p>The examples below show variations on the layer's <code>contentsGravity</code> property. The code looks like this:</p> <div class="language-swift extra-class"><pre class="language-swift"><code>myView<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>contents <span class="token operator">=</span> <span class="token function">UIImage</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token string">&quot;star&quot;</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token builtin">CGImage</span>
myView<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>contentsGravity <span class="token operator">=</span> <span class="token constant">kCAGravityTop</span>
myView<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>geometryFlipped <span class="token operator">=</span> <span class="token boolean">true</span>

</code></pre></div><p>In iOS, you may want to set the <a href="https://developer.apple.com/library/ios/documentation/GraphicsImaging/Reference/CALayer_class/#//apple_ref/occ/instp/CALayer/geometryFlipped" target="_blank" rel="noopener noreferrer"><code>geometryFlipped</code> property<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to <code>true</code> if you are doing anything with top or bottom gravity, otherwise it will be the opposite of what you expect. (Only the gravity is flipped vertically, not the content rendering. If you are having trouble with the content being flipped, see <a href="http://stackoverflow.com/a/34407999/3681880" target="_blank" rel="noopener noreferrer">this Stack Overflow answer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.)</p> <p>There are two <code>UIView</code> examples below for every <code>contentsGravity</code> setting, one view is larger than the <code>UIImage</code> and the other is smaller. This way you can see the effects of the scaling and gravity.</p> <p><strong><code>kCAGravityResize</code></strong></p> <p>This is the default.</p> <p><a href="http://i.stack.imgur.com/rfejR.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/rfejR.png" alt="kCAGravityResize"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityResizeAspect</code></strong></p> <p><a href="http://i.stack.imgur.com/w5zBS.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/w5zBS.png" alt="kCAGravityResizeAspect"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityResizeAspectFill</code></strong></p> <p><a href="http://i.stack.imgur.com/7406s.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/7406s.png" alt="kCAGravityResizeAspectFill"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityCenter</code></strong></p> <p><a href="http://i.stack.imgur.com/1imPL.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/1imPL.png" alt="kCAGravityCenter"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityTop</code></strong></p> <p><a href="http://i.stack.imgur.com/Ge3i4.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/Ge3i4.png" alt="kCAGravityTop"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityBottom</code></strong></p> <p><a href="http://i.stack.imgur.com/H00Hn.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/H00Hn.png" alt="kCAGravityBottom"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityLeft</code></strong></p> <p><a href="http://i.stack.imgur.com/kjgww.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/kjgww.png" alt="kCAGravityLeft"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityRight</code></strong></p> <p><a href="http://i.stack.imgur.com/uUtkW.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/uUtkW.png" alt="kCAGravityRight"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityTopLeft</code></strong></p> <p><a href="http://i.stack.imgur.com/VdJUV.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/VdJUV.png" alt="kCAGravityTopLeft"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityTopRight</code></strong></p> <p><a href="http://i.stack.imgur.com/U7jLd.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/U7jLd.png" alt="kCAGravityTopRight"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityBottomLeft</code></strong></p> <p><a href="http://i.stack.imgur.com/FDktZ.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/FDktZ.png" alt="kCAGravityBottomLeft"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>kCAGravityBottomRight</code></strong></p> <p><a href="http://i.stack.imgur.com/dEf1W.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/dEf1W.png" alt="kCAGravityBottomRight"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="related"><a href="#related" class="header-anchor">#</a> Related</h3> <ul><li><a href="http://stackoverflow.com/a/32151862/3681880" target="_blank" rel="noopener noreferrer">Content mode property of a view<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://stackoverflow.com/a/34407999/3681880" target="_blank" rel="noopener noreferrer">Drawing a <code>UIImage</code> in <code>drawRect</code> with <code>CGContextDrawImage</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.raywenderlich.com/90488/calayer-in-ios-with-swift-10-examples" target="_blank" rel="noopener noreferrer">CALayer Tutorial: Getting Started<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="notes"><a href="#notes" class="header-anchor">#</a> Notes</h3> <ul><li>This example comes originally from <a href="http://stackoverflow.com/a/34603690/3681880" target="_blank" rel="noopener noreferrer">this Stack Overflow answer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ul> <h2 id="disable-animations"><a href="#disable-animations" class="header-anchor">#</a> Disable Animations</h2> <p><code>CALayer</code> property animations are enabled by default. When this is undesirable, they can be disabled as follows.</p> <p><strong>Swift</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token builtin">CATransaction</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">CATransaction</span><span class="token punctuation">.</span><span class="token function">setDisableActions</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// change layer properties that you don't want to animate</span>

<span class="token builtin">CATransaction</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Objective-C</strong></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token punctuation">[</span><span class="token builtin">CATransaction</span> begin<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token builtin">CATransaction</span> setDisableActions<span class="token punctuation">:</span><span class="token constant">YES</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// change layer properties that you don't want to animate</span>

<span class="token punctuation">[</span><span class="token builtin">CATransaction</span> commit<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="rounded-corners"><a href="#rounded-corners" class="header-anchor">#</a> Rounded corners</h2> <div class="language-swift extra-class"><pre class="language-swift"><code>layer<span class="token punctuation">.</span>masksToBounds <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
layer<span class="token punctuation">.</span>cornerRadius <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="creating-a-calayer"><a href="#creating-a-calayer" class="header-anchor">#</a> Creating a CALayer</h2> <p>You can create a CALayer and set its frame like this:</p> <p>Swift:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> layer <span class="token operator">=</span> <span class="token function">CALayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
layer<span class="token punctuation">.</span>frame <span class="token operator">=</span> <span class="token function">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">)</span>

</code></pre></div><p>Objective-C:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token builtin">CALayer</span> <span class="token operator">*</span>layer <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">CALayer</span> alloc<span class="token punctuation">]</span> <span class="token keyword">init</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
layer<span class="token punctuation">.</span>frame <span class="token operator">=</span> <span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>You can then add it as a sublayer to an existing CALayer:</p> <p>Swift:</p> <div class="language-swift extra-class"><pre class="language-swift"><code>existingLayer<span class="token punctuation">.</span><span class="token function">addSublayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span>

</code></pre></div><p>Objective-C:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token punctuation">[</span>existingLayer addSublayer<span class="token punctuation">:</span>layer<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><p>Note:</p> <p>To do this you need to include the QuartzCore framework.</p> <p>Swift:</p> <div class="language- extra-class"><pre class="language-text"><code>
@import QuartzCore

</code></pre></div><p>Objective-C</p> <div class="language-swift extra-class"><pre class="language-swift"><code>#<span class="token keyword">import</span> <span class="token operator">&lt;</span><span class="token builtin">QuartzCore</span><span class="token operator">/</span><span class="token builtin">QuartzCore</span><span class="token punctuation">.</span>h<span class="token operator">&gt;</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/ios/calayer.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/ios/safari-services.html" class="prev">
        Safari Services
      </a></span> <span class="next"><a href="/ios/ios-implementation-of-xmpp-with-robbie-hanson-framework.html">
        iOS - Implementation of XMPP with Robbie Hanson framework
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/1327.29f21d48.js" defer></script>
  </body>
</html>
