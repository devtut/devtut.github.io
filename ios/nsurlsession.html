<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>iOS - NSURLSession</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Objective-C Create a Session And Data Task, Setting up background configuration, Simple GET request, Sending a POST Request with arguments using NSURLSession in Objective-C">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="iOS - NSURLSession">
    <meta property="og:description" content="Objective-C Create a Session And Data Task, Setting up background configuration, Simple GET request, Sending a POST Request with arguments using NSURLSession in Objective-C">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/ios/nsurlsession.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="iOS - NSURLSession">
    <meta name="twitter:description" content="Objective-C Create a Session And Data Task, Setting up background configuration, Simple GET request, Sending a POST Request with arguments using NSURLSession in Objective-C">
    <meta name="twitter:url" content="/ios/nsurlsession.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1424.b0d1b74a.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>iOS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ios/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/ios/getting-started-with-ios.html" class="sidebar-link">Getting started with iOS</a></li><li><a href="/ios/uilabel.html" class="sidebar-link">UILabel</a></li><li><a href="/ios/uilabel-text-underlining.html" class="sidebar-link">UILabel text underlining</a></li><li><a href="/ios/attributedtext-in-uilabel.html" class="sidebar-link">attributedText in UILabel</a></li><li><a href="/ios/uibutton.html" class="sidebar-link">UIButton</a></li><li><a href="/ios/uidatepicker.html" class="sidebar-link">UIDatePicker</a></li><li><a href="/ios/uilocalnotification.html" class="sidebar-link">UILocalNotification</a></li><li><a href="/ios/uiimage.html" class="sidebar-link">UIImage</a></li><li><a href="/ios/convert-nsattributedstring-to-uiimage.html" class="sidebar-link">Convert NSAttributedString to UIImage</a></li><li><a href="/ios/uiimagepickercontroller.html" class="sidebar-link">UIImagePickerController</a></li><li><a href="/ios/uiimageview.html" class="sidebar-link">UIImageView</a></li><li><a href="/ios/resizing-uiimage.html" class="sidebar-link">Resizing UIImage</a></li><li><a href="/ios/cut-a-uiimage-into-a-circle.html" class="sidebar-link">Cut a UIImage into a circle</a></li><li><a href="/ios/uitableview.html" class="sidebar-link">UITableView</a></li><li><a href="/ios/uitableviewcontroller.html" class="sidebar-link">UITableViewController</a></li><li><a href="/ios/uirefreshcontrol-tableview.html" class="sidebar-link">UIRefreshControl TableView</a></li><li><a href="/ios/uitableviewcell.html" class="sidebar-link">UITableViewCell</a></li><li><a href="/ios/custom-methods-of-selection-of-uitableviewcells.html" class="sidebar-link">Custom methods of selection of UITableViewCells</a></li><li><a href="/ios/custom-methods-of-selection-of-uitableviewcells.html" class="sidebar-link">Custom methods of selection of UITableViewCells</a></li><li><a href="/ios/uiview.html" class="sidebar-link">UIView</a></li><li><a href="/ios/snapshot-of-uiview.html" class="sidebar-link">Snapshot of UIView</a></li><li><a href="/ios/uialertcontroller.html" class="sidebar-link">UIAlertController</a></li><li><a href="/ios/uicolor.html" class="sidebar-link">UIColor</a></li><li><a href="/ios/uitextview.html" class="sidebar-link">UITextView</a></li><li><a href="/ios/uitextfield-delegate.html" class="sidebar-link">UITextField Delegate</a></li><li><a href="/ios/uinavigationcontroller.html" class="sidebar-link">UINavigationController</a></li><li><a href="/ios/uigesturerecognizer.html" class="sidebar-link">UIGestureRecognizer</a></li><li><a href="/ios/uibarbuttonitem.html" class="sidebar-link">UIBarButtonItem</a></li><li><a href="/ios/uiscrollview.html" class="sidebar-link">UIScrollView</a></li><li><a href="/ios/uistackview.html" class="sidebar-link">UIStackView</a></li><li><a href="/ios/dynamically-updating-a-uistackview.html" class="sidebar-link">Dynamically updating a UIStackView</a></li><li><a href="/ios/uiscrollview-with-stackview-child.html" class="sidebar-link">UIScrollView with StackView child</a></li><li><a href="/ios/uiscrollview-autolayout.html" class="sidebar-link">UIScrollView AutoLayout</a></li><li><a href="/ios/uitextfield.html" class="sidebar-link">UITextField</a></li><li><a href="/ios/custom-uitextfield.html" class="sidebar-link">Custom UITextField</a></li><li><a href="/ios/uiviewcontroller.html" class="sidebar-link">UIViewController</a></li><li><a href="/ios/uiswitch.html" class="sidebar-link">UISwitch</a></li><li><a href="/ios/uicollectionview.html" class="sidebar-link">UICollectionView</a></li><li><a href="/ios/uisearchcontroller.html" class="sidebar-link">UISearchController</a></li><li><a href="/ios/uitabbarcontroller.html" class="sidebar-link">UITabBarController</a></li><li><a href="/ios/uiwebview.html" class="sidebar-link">UIWebView</a></li><li><a href="/ios/uiactivityviewcontroller.html" class="sidebar-link">UIActivityViewController</a></li><li><a href="/ios/uicontrol-event-handling-with-blocks.html" class="sidebar-link">UIControl - Event Handling with Blocks</a></li><li><a href="/ios/uisplitviewcontroller.html" class="sidebar-link">UISplitViewController</a></li><li><a href="/ios/uislider.html" class="sidebar-link">UISlider</a></li><li><a href="/ios/uistoryboard.html" class="sidebar-link">UIStoryboard</a></li><li><a href="/ios/uipageviewcontroller.html" class="sidebar-link">UIPageViewController</a></li><li><a href="/ios/uisplitviewcontroller.html" class="sidebar-link">UISplitViewController</a></li><li><a href="/ios/uifont.html" class="sidebar-link">UIFont</a></li><li><a href="/ios/uidevice.html" class="sidebar-link">UIDevice</a></li><li><a href="/ios/make-selective-uiview-corners-rounded.html" class="sidebar-link">Make selective UIView corners rounded</a></li><li><a href="/ios/custom-uiviews-from-xib-files.html" class="sidebar-link">Custom UIViews from XIB files</a></li><li><a href="/ios/uibezierpath.html" class="sidebar-link">UIBezierPath</a></li><li><a href="/ios/uipickerview.html" class="sidebar-link">UIPickerView</a></li><li><a href="/ios/uifeedbackgenerator.html" class="sidebar-link">UIFeedbackGenerator</a></li><li><a href="/ios/uiappearance.html" class="sidebar-link">UIAppearance</a></li><li><a href="/ios/uikit-dynamics-with-uicollectionview.html" class="sidebar-link">UIKit Dynamics with UICollectionView</a></li><li><a href="/ios/uipheonix-easy-flexible-dynamic-highly-scalable-ui-framework.html" class="sidebar-link">UIPheonix - easy, flexible, dynamic &amp; highly scalable UI framework</a></li><li><a href="/ios/uikit-dynamics.html" class="sidebar-link">UIKit Dynamics</a></li><li><a href="/ios/ui-testing.html" class="sidebar-link">UI Testing</a></li><li><a href="/ios/change-status-bar-color.html" class="sidebar-link">Change Status Bar Color</a></li><li><a href="/ios/uisegmentedcontrol.html" class="sidebar-link">UISegmentedControl</a></li><li><a href="/ios/passing-data-between-view-controllers.html" class="sidebar-link">Passing Data between View Controllers</a></li><li><a href="/ios/managing-the-keyboard.html" class="sidebar-link">Managing the Keyboard</a></li><li><a href="/ios/checking-for-network-connectivity.html" class="sidebar-link">Checking for Network Connectivity</a></li><li><a href="/ios/accessibility.html" class="sidebar-link">Accessibility</a></li><li><a href="/ios/auto-layout.html" class="sidebar-link">Auto Layout</a></li><li><a href="/ios/mkmapview.html" class="sidebar-link">MKMapView</a></li><li><a href="/ios/nsarray.html" class="sidebar-link">NSArray</a></li><li><a href="/ios/nsattributedstring.html" class="sidebar-link">NSAttributedString</a></li><li><a href="/ios/convert-html-to-nsattributed-string-and-vice-verse.html" class="sidebar-link">Convert HTML to NSAttributed string and vice verse</a></li><li><a href="/ios/nstimer.html" class="sidebar-link">NSTimer</a></li><li><a href="/ios/nsdate.html" class="sidebar-link">NSDate</a></li><li><a href="/ios/nsnotificationcenter.html" class="sidebar-link">NSNotificationCenter</a></li><li><a href="/ios/nsurlsession.html" aria-current="page" class="active sidebar-link">NSURLSession</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ios/nsurlsession.html#objective-c-create-a-session-and-data-task" class="sidebar-link">Objective-C Create a Session And Data Task</a></li><li class="sidebar-sub-header"><a href="/ios/nsurlsession.html#setting-up-background-configuration" class="sidebar-link">Setting up background configuration</a></li><li class="sidebar-sub-header"><a href="/ios/nsurlsession.html#simple-get-request" class="sidebar-link">Simple GET request</a></li><li class="sidebar-sub-header"><a href="/ios/nsurlsession.html#sending-a-post-request-with-arguments-using-nsurlsession-in-objective-c" class="sidebar-link">Sending a POST Request with arguments using NSURLSession in Objective-C</a></li></ul></li><li><a href="/ios/nsuserdefaults.html" class="sidebar-link">NSUserDefaults</a></li><li><a href="/ios/nshttpcookiestorage.html" class="sidebar-link">NSHTTPCookieStorage</a></li><li><a href="/ios/nsurlconnection.html" class="sidebar-link">NSURLConnection</a></li><li><a href="/ios/nsurl.html" class="sidebar-link">NSURL</a></li><li><a href="/ios/nsdata.html" class="sidebar-link">NSData</a></li><li><a href="/ios/nsinvocation.html" class="sidebar-link">NSInvocation</a></li><li><a href="/ios/nsuseractivity.html" class="sidebar-link">NSUserActivity</a></li><li><a href="/ios/nspredicate.html" class="sidebar-link">NSPredicate</a></li><li><a href="/ios/nsbundle.html" class="sidebar-link">NSBundle</a></li><li><a href="/ios/caanimation.html" class="sidebar-link">CAAnimation</a></li><li><a href="/ios/concurrency.html" class="sidebar-link">Concurrency</a></li><li><a href="/ios/cagradientlayer.html" class="sidebar-link">CAGradientLayer</a></li><li><a href="/ios/safari-services.html" class="sidebar-link">Safari Services</a></li><li><a href="/ios/calayer.html" class="sidebar-link">CALayer</a></li><li><a href="/ios/ios-implementation-of-xmpp-with-robbie-hanson-framework.html" class="sidebar-link">iOS - Implementation of XMPP with Robbie Hanson framework</a></li><li><a href="/ios/swift-and-objective-c-interoperability.html" class="sidebar-link">Swift and Objective-C interoperability</a></li><li><a href="/ios/custom-fonts.html" class="sidebar-link">Custom fonts</a></li><li><a href="/ios/avspeechsynthesizer.html" class="sidebar-link">AVSpeechSynthesizer</a></li><li><a href="/ios/localization.html" class="sidebar-link">Localization</a></li><li><a href="/ios/alamofire.html" class="sidebar-link">Alamofire</a></li><li><a href="/ios/ibeacon.html" class="sidebar-link">iBeacon</a></li><li><a href="/ios/cllocation.html" class="sidebar-link">CLLocation</a></li><li><a href="/ios/checking-ios-version.html" class="sidebar-link">Checking iOS version</a></li><li><a href="/ios/universal-links.html" class="sidebar-link">Universal Links</a></li><li><a href="/ios/pdf-creation-in-ios.html" class="sidebar-link">PDF Creation in iOS</a></li><li><a href="/ios/in-app-purchase.html" class="sidebar-link">In-App Purchase</a></li><li><a href="/ios/cgcontext-reference.html" class="sidebar-link">CGContext Reference</a></li><li><a href="/ios/core-location.html" class="sidebar-link">Core Location</a></li><li><a href="/ios/facebooksdk.html" class="sidebar-link">FacebookSDK</a></li><li><a href="/ios/afnetworking.html" class="sidebar-link">AFNetworking</a></li><li><a href="/ios/ctcallcenter.html" class="sidebar-link">CTCallCenter</a></li><li><a href="/ios/push-notifications.html" class="sidebar-link">Push Notifications</a></li><li><a href="/ios/extension-for-rich-push-notification-ios-10.html" class="sidebar-link">Extension for rich Push Notification - iOS 10.</a></li><li><a href="/ios/rich-notifications.html" class="sidebar-link">Rich Notifications</a></li><li><a href="/ios/key-value-coding-key-value-observation.html" class="sidebar-link">Key Value Coding-Key Value Observation</a></li><li><a href="/ios/initialization-idioms.html" class="sidebar-link">Initialization idioms</a></li><li><a href="/ios/storyboard.html" class="sidebar-link">Storyboard</a></li><li><a href="/ios/background-modes-and-events.html" class="sidebar-link">Background Modes and Events</a></li><li><a href="/ios/fastlane.html" class="sidebar-link">Fastlane</a></li><li><a href="/ios/cashapelayer.html" class="sidebar-link">CAShapeLayer</a></li><li><a href="/ios/wkwebview.html" class="sidebar-link">WKWebView</a></li><li><a href="/ios/uuid-universally-unique-identifier.html" class="sidebar-link">UUID (Universally Unique Identifier)</a></li><li><a href="/ios/categories.html" class="sidebar-link">Categories</a></li><li><a href="/ios/handling-url-schemes.html" class="sidebar-link">Handling URL Schemes</a></li><li><a href="/ios/realm.html" class="sidebar-link">Realm</a></li><li><a href="/ios/arc-automatic-reference-counting.html" class="sidebar-link">ARC (Automatic Reference Counting)</a></li><li><a href="/ios/dynamic-type.html" class="sidebar-link">Dynamic Type</a></li><li><a href="/ios/swrevealviewcontroller.html" class="sidebar-link">SWRevealViewController</a></li><li><a href="/ios/dispatchgroup.html" class="sidebar-link">DispatchGroup</a></li><li><a href="/ios/gcd-grand-central-dispatch.html" class="sidebar-link">GCD (Grand Central Dispatch)</a></li><li><a href="/ios/size-classes-and-adaptivity.html" class="sidebar-link">Size Classes and Adaptivity</a></li><li><a href="/ios/iboutlets.html" class="sidebar-link">IBOutlets</a></li><li><a href="/ios/aws-sdk.html" class="sidebar-link">AWS SDK</a></li><li><a href="/ios/debugging-crashes.html" class="sidebar-link">Debugging Crashes</a></li><li><a href="/ios/cloudkit.html" class="sidebar-link">CloudKit</a></li><li><a href="/ios/gameplaykit.html" class="sidebar-link">GameplayKit</a></li><li><a href="/ios/xcode-build-archive-from-command-line.html" class="sidebar-link">Xcode Build &amp; Archive From Command Line</a></li><li><a href="/ios/xctest-framework-unit-testing.html" class="sidebar-link">XCTest framework - Unit Testing</a></li><li><a href="/ios/avplayer-and-avplayerviewcontroller.html" class="sidebar-link">AVPlayer and AVPlayerViewController</a></li><li><a href="/ios/deep-linking-in-ios.html" class="sidebar-link">Deep Linking in iOS</a></li><li><a href="/ios/core-graphics.html" class="sidebar-link">Core Graphics</a></li><li><a href="/ios/segues.html" class="sidebar-link">Segues</a></li><li><a href="/ios/eventkit.html" class="sidebar-link">EventKit</a></li><li><a href="/ios/sirikit.html" class="sidebar-link">SiriKit</a></li><li><a href="/ios/contacts-framework.html" class="sidebar-link">Contacts Framework</a></li><li><a href="/ios/ios-10-speech-recognition-api.html" class="sidebar-link">iOS 10 Speech Recognition API</a></li><li><a href="/ios/storekit.html" class="sidebar-link">StoreKit</a></li><li><a href="/ios/code-signing.html" class="sidebar-link">Code signing</a></li><li><a href="/ios/create-ipa-file-to-upload-on-appstore-with-applicationloader.html" class="sidebar-link">Create .ipa File to upload on appstore with Applicationloader</a></li><li><a href="/ios/size-classes-and-adaptivity.html" class="sidebar-link">Size Classes and Adaptivity</a></li><li><a href="/ios/mkdistanceformatter.html" class="sidebar-link">MKDistanceFormatter</a></li><li><a href="/ios/3d-touch.html" class="sidebar-link">3D Touch</a></li><li><a href="/ios/gamecenter-leaderboards.html" class="sidebar-link">GameCenter Leaderboards</a></li><li><a href="/ios/keychain.html" class="sidebar-link">Keychain</a></li><li><a href="/ios/handle-multiple-environment-using-macro.html" class="sidebar-link">Handle Multiple Environment using Macro</a></li><li><a href="/ios/set-view-background.html" class="sidebar-link">Set View Background</a></li><li><a href="/ios/block.html" class="sidebar-link">Block</a></li><li><a href="/ios/content-hugging-content-compression-in-autolayout.html" class="sidebar-link">Content Hugging/Content Compression in Autolayout</a></li><li><a href="/ios/ios-google-places-api.html" class="sidebar-link">iOS Google Places API</a></li><li><a href="/ios/navigation-bar.html" class="sidebar-link">Navigation Bar</a></li><li><a href="/ios/app-wide-operations.html" class="sidebar-link">App wide operations</a></li><li><a href="/ios/coreimage-filters.html" class="sidebar-link">CoreImage Filters</a></li><li><a href="/ios/face-detection-using-coreimage-opencv.html" class="sidebar-link">Face Detection Using CoreImage/OpenCV</a></li><li><a href="/ios/mpmediapickerdelegate.html" class="sidebar-link">MPMediaPickerDelegate</a></li><li><a href="/ios/graph-coreplot.html" class="sidebar-link">Graph (Coreplot)</a></li><li><a href="/ios/fcm-messaging-in-swift.html" class="sidebar-link">FCM Messaging in Swift</a></li><li><a href="/ios/create-a-custom-framework-in-ios.html" class="sidebar-link">Create a Custom framework in iOS</a></li><li><a href="/ios/custom-keyboard.html" class="sidebar-link">Custom Keyboard</a></li><li><a href="/ios/airdrop.html" class="sidebar-link">AirDrop</a></li><li><a href="/ios/slcomposeviewcontroller.html" class="sidebar-link">SLComposeViewController</a></li><li><a href="/ios/airprint-tutorial-in-ios.html" class="sidebar-link">AirPrint tutorial in iOS</a></li><li><a href="/ios/carthage-ios-setup.html" class="sidebar-link">Carthage iOS Setup</a></li><li><a href="/ios/healthkit.html" class="sidebar-link">Healthkit</a></li><li><a href="/ios/core-spotlight-in-ios.html" class="sidebar-link">Core SpotLight in iOS</a></li><li><a href="/ios/core-motion.html" class="sidebar-link">Core Motion</a></li><li><a href="/ios/qr-code-scanner.html" class="sidebar-link">QR Code Scanner</a></li><li><a href="/ios/plist-ios.html" class="sidebar-link">plist iOS</a></li><li><a href="/ios/wcsessiondelegate.html" class="sidebar-link">WCSessionDelegate</a></li><li><a href="/ios/appdelegate.html" class="sidebar-link">AppDelegate</a></li><li><a href="/ios/app-submission-process.html" class="sidebar-link">App Submission Process</a></li><li><a href="/ios/filehandle.html" class="sidebar-link">FileHandle</a></li><li><a href="/ios/basic-text-file-i-o.html" class="sidebar-link">Basic text file I/O</a></li><li><a href="/ios/ios-tts.html" class="sidebar-link">iOS TTS</a></li><li><a href="/ios/mpvolumeview.html" class="sidebar-link">MPVolumeView</a></li><li><a href="/ios/objective-c-associated-objects.html" class="sidebar-link">Objective-C Associated Objects</a></li><li><a href="/ios/passing-data-between-view-controllers-with-messagebox-concept.html" class="sidebar-link">Passing Data between View Controllers (with MessageBox-Concept)</a></li><li><a href="/ios/mvvm.html" class="sidebar-link">MVVM</a></li><li><a href="/ios/cache-online-images.html" class="sidebar-link">Cache online images</a></li><li><a href="/ios/chain-blocks-in-a-queue-with-mkblockqueue.html" class="sidebar-link">Chain Blocks in a Queue (with MKBlockQueue)</a></li><li><a href="/ios/simulator.html" class="sidebar-link">Simulator</a></li><li><a href="/ios/background-modes.html" class="sidebar-link">Background Modes</a></li><li><a href="/ios/opengl.html" class="sidebar-link">OpenGL</a></li><li><a href="/ios/mvp-architecture.html" class="sidebar-link">MVP Architecture</a></li><li><a href="/ios/configure-beacons-with-corebluetooth.html" class="sidebar-link">Configure Beacons with CoreBluetooth</a></li><li><a href="/ios/core-data.html" class="sidebar-link">Core Data</a></li><li><a href="/ios/profile-with-instruments.html" class="sidebar-link">Profile with Instruments</a></li><li><a href="/ios/application-rating-review-request.html" class="sidebar-link">Application rating/review request</a></li><li><a href="/ios/mylayout.html" class="sidebar-link">MyLayout</a></li><li><a href="/ios/simulator-builds.html" class="sidebar-link">Simulator Builds</a></li><li><a href="/ios/simulating-location-using-gpx-files-ios.html" class="sidebar-link">Simulating Location Using GPX files iOS</a></li><li><a href="/ios/sqlcipher-integration.html" class="sidebar-link">SqlCipher integration</a></li><li><a href="/ios/security.html" class="sidebar-link">Security</a></li><li><a href="/ios/app-transport-security-ats.html" class="sidebar-link">App Transport Security (ATS)</a></li><li><a href="/ios/guideline-to-choose-best-ios-architecture-patterns.html" class="sidebar-link">Guideline to choose best iOS Architecture Patterns</a></li><li><a href="/ios/multicast-delegates.html" class="sidebar-link">Multicast Delegates</a></li><li><a href="/ios/using-image-aseets.html" class="sidebar-link">Using Image Aseets</a></li><li><a href="/ios/runtime-in-objective-c.html" class="sidebar-link">Runtime in Objective-C</a></li><li><a href="/ios/modelpresentationstyles.html" class="sidebar-link">ModelPresentationStyles</a></li><li><a href="/ios/cydiasubstrate-tweak.html" class="sidebar-link">CydiaSubstrate tweak</a></li><li><a href="/ios/create-a-video-from-images.html" class="sidebar-link">Create a video from images</a></li><li><a href="/ios/codable.html" class="sidebar-link">Codable</a></li><li><a href="/ios/load-images-async.html" class="sidebar-link">Load images async</a></li><li><a href="/ios/adding-a-swift-bridging-header.html" class="sidebar-link">ADDING A SWIFT BRIDGING HEADER</a></li><li><a href="/ios/creating-an-app-id.html" class="sidebar-link">Creating an App ID</a></li><li><a href="/ios/swift-changing-the-rootviewcontroller-in-appdelegate-to-present-main-or-login-onboarding-flow.html" class="sidebar-link">Swift: Changing the rootViewController in AppDelegate to present main or login/onboarding flow</a></li><li><a href="/ios/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nsurlsession"><a href="#nsurlsession" class="header-anchor">#</a> NSURLSession</h1> <h2 id="objective-c-create-a-session-and-data-task"><a href="#objective-c-create-a-session-and-data-task" class="header-anchor">#</a> Objective-C Create a Session And Data Task</h2> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token constant">NSURL</span> <span class="token operator">*</span>url <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> <span class="token class-name">URLWithString</span><span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;http://www.example.com/&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">NSURLSessionConfiguration</span> <span class="token operator">*</span>configuration <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLSessionConfiguration</span> defaultSessionConfiguration<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Configure the session here.</span>

<span class="token class-name">NSURLSession</span> <span class="token operator">*</span>session <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLSession</span> sessionWithConfiguration<span class="token punctuation">:</span>configuration<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
<span class="token punctuation">[</span><span class="token punctuation">[</span>session dataTaskWithURL<span class="token punctuation">:</span>url
        completionHandler<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token class-name">NSData</span> <span class="token operator">*</span>data<span class="token punctuation">,</span> <span class="token class-name">NSURLResponse</span> <span class="token operator">*</span>response<span class="token punctuation">,</span> <span class="token class-name">NSError</span> <span class="token operator">*</span>error<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// The response object contains the metadata (HTTP headers, status code)</span>

    <span class="token comment">// The data object contains the response body</span>

    <span class="token comment">// The error object contains any client-side errors (e.g. connection</span>
    <span class="token comment">// failures) and, in some cases, may report server-side errors.</span>
    <span class="token comment">// In general, however, you should detect server-side errors by</span>
    <span class="token comment">// checking the HTTP status code in the response object.</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span> resume<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="setting-up-background-configuration"><a href="#setting-up-background-configuration" class="header-anchor">#</a> Setting up background configuration</h2> <p>To create a background session</p> <div class="language- extra-class"><pre class="language-text"><code>
// Swift:
 let mySessionID = &quot;com.example.bgSession&quot;
 let bgSessionConfig = NSURLSessionConfiguration.backgroundSessionConfigurationWithIdentifier(mySessionID)
 
 let session = NSURLSession(configuration: bgSessionConfig)
 
 // add tasks here


 // Objective-C:
 NSString *mySessionID = @&quot;com.example.bgSession&quot;;
 NSURLSessionConfiguration *configuration =
     [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier: mySessionID];
 NSURLSession *session = [NSURLSession sessionWithConfiguration:configuration
                                                       delegate:self]

</code></pre></div><p>Additionally, in iOS, you must set up support for handling background app relaunch.  When your app's <code>application:handleEventsForBackgroundURLSession:completionHandler:</code> method (Objective-C) or
<code>application(_:handleEventsForBackgroundURLSession:completionHandler:)</code> method (Swift) gets called, it means your app has been relaunched in the background to handle activity on a session.</p> <p>In that method, you should create a new session with the provided identifier and configure it with a delegate to handle events just like you normally would in the foreground.  Additionally, you should store the provided completion handler in a dictionary, using the session as the key.</p> <p>When the delegate's <code>URLSessionDidFinishEventsForBackgroundURLSession:</code> (Obj-C) / <code>URLSessionDidFinishEventsForBackgroundURLSession</code> (Swift) method gets called to tell you that there are no more events to handle, your app should look up the completion handler for that session, remove the session from the dictionary, and call the completion handler, thus telling the operating system that you no longer have any outstanding processing related to the session.  (If you are still doing something for some reason when you get that delegate call, wait until done.)  As soon as you call that method, the background session immediately gets invalidated.</p> <p>If your application then receives an <code>application:application:didFinishLaunchingWithOptions:</code> call (likely indicating that the user foregrounded your app while you were busy processing background events), it is safe to create a background session with that same identifier, because the old session with that identifier no longer exists.</p> <p>If you're curious about the details, at a high level, when you create a background session, you're doing two things:</p> <ul><li>Creating a session in an external daemon (nsurlsessiond) to handle the downloads</li> <li>Creating a session within your app that talks to that external daemon via NSXPC</li></ul> <p>Normally, it is dangerous to create two sessions with the same session ID in a single launch of the app, because they both are trying to talk to the same session in the background daemon.  This is why the official documentation says to never create multiple sessions with the same identifier.  However, if the first session was a temporary session created as part of a <code>handleEventsForBackgroundURLSession</code> call, the association between the now-invalidated in-app session and the session in the background daemon no longer exists.</p> <h2 id="simple-get-request"><a href="#simple-get-request" class="header-anchor">#</a> Simple GET request</h2> <div class="language- extra-class"><pre class="language-text"><code>
   // define url
    let url = NSURL(string: &quot;https://urlToGet.com&quot;)

    //create a task to get data from a url
    let task = NSURLSession.sharedSession().dataTaskWithURL(url!)
    {

       /*inside this block, we have access to NSData *data, NSURLResponse *response, and NSError *error returned by the dataTaskWithURL() function*/
      (data, response, error) in

      if error == nil 
      {
          // Data from the request can be manipulated here
      }
      else
      {
          // An error occurred 
      }
    }

    //make the request
    task.resume()

</code></pre></div><h2 id="sending-a-post-request-with-arguments-using-nsurlsession-in-objective-c"><a href="#sending-a-post-request-with-arguments-using-nsurlsession-in-objective-c" class="header-anchor">#</a> Sending a POST Request with arguments using NSURLSession in Objective-C</h2> <p>There are two common ways to encode a POST request body: URL encoding (application/x-www-form-urlencoded) and form data (multipart/form-data).  Much of the code is similar, but the way you construct the body data is different.</p> <p><strong>Sending a request using URL encoding</strong></p> <p>Be it you have a server for your small application or your working in a team with a full out back-end engineer, you'll want to talk to that server at one point with your iOS application.</p> <p>In the following code we will be composing a string of arguments that the destination server script will use to do something that changes depending on your case. For example we may want to send the string:</p> <blockquote></blockquote> <p>name=Brendon&amp;password=abcde</p> <p>To the server when a user signs up to your application, so the server can store this information in a database.</p> <p>Let's get started. You'll want to create a NSURLSession POST request with the following code.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// Create the configuration, which is necessary so we can cancel cacheing amongst other things.</span>
<span class="token class-name">NSURLSessionConfiguration</span> <span class="token operator">*</span> defaultConfigObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLSessionConfiguration</span> defaultSessionConfiguration<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Disables cacheing</span>
defaultConfigObject<span class="token punctuation">.</span>requestCachePolicy <span class="token operator">=</span> <span class="token class-name">NSURLRequestReloadIgnoringLocalCacheData</span><span class="token punctuation">;</span>
<span class="token class-name">NSURLSession</span> <span class="token operator">*</span> defaultSession <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLSession</span> sessionWithConfiguration<span class="token punctuation">:</span>defaultConfigObject delegate<span class="token punctuation">:</span><span class="token keyword">self</span> delegateQueue<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">NSOperationQueue</span> mainQueue<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token class-name">NSString</span> <span class="token operator">*</span> scriptURL <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;https://server.io/api/script.php&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//Converts the URL string to a URL usable by NSURLSession</span>
<span class="token class-name">NSMutableURLRequest</span> <span class="token operator">*</span> urlRequest <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSMutableURLRequest</span> requestWithURL<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token constant">NSURL</span> <span class="token class-name">URLWithString</span><span class="token punctuation">:</span>scriptURL<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">NSString</span> <span class="token operator">*</span> postDataString <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;name=%@&amp;password=%@&quot;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token keyword">self</span> nameString<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token keyword">self</span> <span class="token class-name">URLEncode</span><span class="token punctuation">:</span>passwordString<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>urlRequest setHTTPMethod<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;POST&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>urlRequest setHTTPBody<span class="token punctuation">:</span><span class="token punctuation">[</span>postDataString dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token class-name">NSURLSessionDataTask</span> <span class="token operator">*</span> dataTask <span class="token operator">=</span> <span class="token punctuation">[</span>defaultSession dataTaskWithRequest<span class="token punctuation">:</span>urlRequest<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Fire the data task.</span>
<span class="token punctuation">[</span>dataTask resume<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><p>The above code just created and fired the POST request to the server. Remember that the script URL and the POST data string changes depending on your situation. If you're reading this, you'll know what to fill those variables with.</p> <p>You'll also need to add a small method that does the URL encoding:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">NSString</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token class-name">URLEncode</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSString</span> <span class="token operator">*</span><span class="token punctuation">)</span>originalString encoding<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSStringEncoding</span><span class="token punctuation">)</span>encoding
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>__bridge_transfer <span class="token class-name">NSString</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token class-name">CFURLCreateStringByAddingPercentEscapes</span><span class="token punctuation">(</span>
        <span class="token constant">kCFAllocatorDefault</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>__bridge <span class="token class-name">CFStringRef</span><span class="token punctuation">)</span>originalString<span class="token punctuation">,</span>
        <span class="token constant">NULL</span><span class="token punctuation">,</span>
        <span class="token function">CFSTR</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;:/?#[]@!$&amp;'()*+,;=&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">CFStringConvertNSStringEncodingToEncoding</span><span class="token punctuation">(</span>encoding<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>So, when the server is finished processing this data it will send a return to your iOS app. So we need to process this return, but how?</p> <p>We use event-driven programming and use NSURLSession's delegate methods. This means as the server sends back a response these methods will start triggering. The following 5 methods are the ones that'll be triggered throughout the ENTIRE request, each time one is made:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session dataTask<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionDataTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>dataTask didReceiveResponse<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLResponse</span> <span class="token operator">*</span><span class="token punctuation">)</span>response
 completionHandler<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token function">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionResponseDisposition</span> disposition<span class="token punctuation">)</span><span class="token punctuation">)</span>completionHandler<span class="token punctuation">;</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session dataTask<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionDataTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>dataTask didReceiveData<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSData</span> <span class="token operator">*</span><span class="token punctuation">)</span>data<span class="token punctuation">;</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session task<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>task didCompleteWithError<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSError</span> <span class="token operator">*</span><span class="token punctuation">)</span>error<span class="token punctuation">;</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session didReceiveChallenge<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLAuthenticationChallenge</span> <span class="token operator">*</span><span class="token punctuation">)</span>challenge completionHandler<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token function">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionAuthChallengeDisposition</span><span class="token punctuation">,</span> <span class="token class-name">NSURLCredential</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span>completionHandler<span class="token punctuation">;</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session task<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>task didReceiveChallenge<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLAuthenticationChallenge</span> <span class="token operator">*</span><span class="token punctuation">)</span>challenge completionHandler<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token function">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionAuthChallengeDisposition</span><span class="token punctuation">,</span> <span class="token class-name">NSURLCredential</span> <span class="token operator">*</span> _Nullable<span class="token punctuation">)</span><span class="token punctuation">)</span>completionHandler<span class="token punctuation">;</span>

</code></pre></div><p>Below you'll see the above methods used in context. Each of their purposes are pretty self-explanatory thanks to Apple, but I've commented their uses anyway:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// Response handling delegates</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session dataTask<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionDataTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>dataTask didReceiveResponse<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLResponse</span> <span class="token operator">*</span><span class="token punctuation">)</span>response
 completionHandler<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token function">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionResponseDisposition</span> disposition<span class="token punctuation">)</span><span class="token punctuation">)</span>completionHandler<span class="token punctuation">{</span>
    <span class="token comment">// Handler allows us to receive and parse responses from the server</span>
    <span class="token function">completionHandler</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionResponseAllow</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session dataTask<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionDataTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>dataTask didReceiveData<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSData</span> <span class="token operator">*</span><span class="token punctuation">)</span>data<span class="token punctuation">{</span>

    <span class="token comment">// Parse the JSON that came in into an NSDictionary</span>
    <span class="token class-name">NSError</span> <span class="token operator">*</span> err <span class="token operator">=</span> <span class="token nil constant">nil</span><span class="token punctuation">;</span>
    <span class="token class-name">NSDictionary</span> <span class="token operator">*</span> jsonDict <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSJSONSerialization</span> <span class="token class-name">JSONObjectWithData</span><span class="token punctuation">:</span>data options<span class="token punctuation">:</span><span class="token class-name">NSJSONReadingAllowFragments</span> error<span class="token punctuation">:</span><span class="token operator">&amp;</span>err<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// if no error occurred, parse the array of objects as normal</span>
        <span class="token comment">// Parse the JSON dictionary 'jsonDict' here</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> <span class="token comment">// an error occurred so we need to let the user know</span>
        <span class="token comment">// Handle your error here</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Error handling delegate</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session task<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>task didCompleteWithError<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSError</span> <span class="token operator">*</span><span class="token punctuation">)</span>error<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>error <span class="token operator">==</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// Download from API was successful</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string-literal"><span class="token string">&quot;Data Network Request Did Complete Successfully.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">// Describes and logs the error preventing us from receiving a response</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string-literal"><span class="token string">&quot;Error: %@&quot;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>error userInfo<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Handle network error, letting the user know what happened.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// When the session receives a challenge (because of iOS 9 App Transport Security blocking non-valid SSL certificates) we use the following methods to tell NSURLSession &quot;Chill out, I can trust me&quot;.</span>
<span class="token comment">// The following is not necessary unless your server is using HTTP, not HTTPS</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session didReceiveChallenge<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLAuthenticationChallenge</span> <span class="token operator">*</span><span class="token punctuation">)</span>challenge completionHandler<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token function">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionAuthChallengeDisposition</span><span class="token punctuation">,</span> <span class="token class-name">NSURLCredential</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span>completionHandler<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>challenge<span class="token punctuation">.</span>protectionSpace<span class="token punctuation">.</span>authenticationMethod isEqualToString<span class="token punctuation">:</span><span class="token class-name">NSURLAuthenticationMethodServerTrust</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>challenge<span class="token punctuation">.</span>protectionSpace<span class="token punctuation">.</span>host isEqualToString<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;DomainNameOfServer.io&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">NSURLCredential</span> <span class="token operator">*</span> credential <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLCredential</span> credentialForTrust<span class="token punctuation">:</span>challenge<span class="token punctuation">.</span>protectionSpace<span class="token punctuation">.</span>serverTrust<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">completionHandler</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionAuthChallengeUseCredential</span><span class="token punctuation">,</span>credential<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span><span class="token class-name">URLSession</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session task<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionTask</span> <span class="token operator">*</span><span class="token punctuation">)</span>task didReceiveChallenge<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">NSURLAuthenticationChallenge</span> <span class="token operator">*</span><span class="token punctuation">)</span>challenge completionHandler<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token function">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionAuthChallengeDisposition</span><span class="token punctuation">,</span> <span class="token class-name">NSURLCredential</span> <span class="token operator">*</span> _Nullable<span class="token punctuation">)</span><span class="token punctuation">)</span>completionHandler<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>challenge<span class="token punctuation">.</span>protectionSpace<span class="token punctuation">.</span>authenticationMethod isEqualToString<span class="token punctuation">:</span><span class="token class-name">NSURLAuthenticationMethodServerTrust</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>challenge<span class="token punctuation">.</span>protectionSpace<span class="token punctuation">.</span>host isEqualToString<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;DomainNameOfServer.io&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">NSURLCredential</span> <span class="token operator">*</span> credential <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLCredential</span> credentialForTrust<span class="token punctuation">:</span>challenge<span class="token punctuation">.</span>protectionSpace<span class="token punctuation">.</span>serverTrust<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">completionHandler</span><span class="token punctuation">(</span><span class="token class-name">NSURLSessionAuthChallengeUseCredential</span><span class="token punctuation">,</span>credential<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>So that's it! That's all the code you need to send, receive and parse a request for an API in iOS 9! Okay...it was kind of a lot of code. But if implemented right like above, it'll be fail-safe! Make sure to always handle errors where suggested above.</p> <p><strong>Sending a request using form encoding</strong></p> <p>URL encoding is a broadly compatible way to encode arbitrary data.  However, it is relatively inefficient for uploading binary data (such as photos) because every non-ASCII byte turns into a three-character code.  It also does not support file attachments, so you would have to pass filenames and file data as separate fields.</p> <p>Suppose we want to upload a photograph in a way that is efficient and actually looks like a file on the server side.  One way to do that is to use form encoding instead.  To do this, edit the code that creates the NSURLSession as follows:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token class-name">UIImage</span> <span class="token operator">*</span> imgToSend<span class="token punctuation">;</span>

<span class="token comment">// 2nd parameter of UIImageJPEGRepresentation represents compression quality. 0 being most compressed, 1 being the least</span>
<span class="token comment">// Using 0.4 likely stops us hitting the servers upload limit and costs us less server space</span>
<span class="token class-name">NSData</span> <span class="token operator">*</span> imageData <span class="token operator">=</span> <span class="token class-name">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>imgToSend<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">.</span>4f<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Alternatively, if the photo is on disk, you can retrieve it with</span>
<span class="token comment">// [NSData dataWithContentsOfURL:...]</span>

<span class="token comment">// Set up the body of the POST request.</span>

<span class="token comment">// This boundary serves as a separator between one form field and the next.</span>
<span class="token comment">// It must not appear anywhere within the actual data that you intend to</span>
<span class="token comment">// upload.</span>
<span class="token class-name">NSString</span> <span class="token operator">*</span> boundary <span class="token operator">=</span> @<span class="token string-literal"><span class="token string">&quot;---------------------------14737809831466499882746641449&quot;</span></span><span class="token punctuation">;</span>

<span class="token comment">// Body of the POST method</span>
<span class="token class-name">NSMutableData</span> <span class="token operator">*</span> body <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSMutableData</span> data<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// The body must start with the boundary preceded by two hyphens, followed</span>
<span class="token comment">// by a carriage return and newline pair.</span>
<span class="token comment">//</span>
<span class="token comment">// Notice that we prepend two additional hyphens to the boundary when</span>
<span class="token comment">// we actually use it as part of the body data.</span>
<span class="token comment">//</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;\r\n--%@\r\n&quot;</span></span><span class="token punctuation">,</span>boundary<span class="token punctuation">]</span> dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// This is followed by a series of headers for the first field and then</span>
<span class="token comment">// TWO CR-LF pairs.</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;Content-Disposition: form-data; name=\&quot;tag_name\&quot;\r\n\r\n&quot;</span></span><span class="token punctuation">]</span> dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Next is the actual data for that field (called &quot;tag_name&quot;) followed by</span>
<span class="token comment">// a CR-LF pair, a boundary, and another CR-LF pair.</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span>strippedCompanyName dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;\r\n--%@\r\n&quot;</span></span><span class="token punctuation">,</span> boundary<span class="token punctuation">]</span> dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Encode the filename and image data as the &quot;userfile&quot; CGI parameter.</span>
<span class="token comment">// This is similar to the previous field, except that it is being sent</span>
<span class="token comment">// as an actual file attachment rather than a blob of data, which means</span>
<span class="token comment">// it has both a filename and the actual file contents.</span>
<span class="token comment">//</span>
<span class="token comment">// IMPORTANT: The filename MUST be plain ASCII (and if encoded like this,</span>
<span class="token comment">//            must not include quotation marks in the filename).</span>
<span class="token comment">//</span>
<span class="token class-name">NSString</span> <span class="token operator">*</span> picFileName <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;photoName&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">NSString</span> <span class="token operator">*</span> appendDataString <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;Content-Disposition: form-data; name=\&quot;userfile\&quot;; filename=\&quot;%@.jpg\&quot;\r\n&quot;</span></span><span class="token punctuation">,</span> picFileName<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span>appendDataString dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span>@<span class="token string-literal"><span class="token string">&quot;Content-Type: application/octet-stream\r\n\r\n&quot;</span></span> dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">NSData</span> dataWithData<span class="token punctuation">:</span>imageData<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Close the request body with one last boundary with two</span>
<span class="token comment">// additional hyphens prepended **and** two additional hyphens appended.</span>
<span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;\r\n--%@--\r\n&quot;</span></span><span class="token punctuation">,</span> boundary<span class="token punctuation">]</span> dataUsingEncoding<span class="token punctuation">:</span><span class="token class-name">NSUTF8StringEncoding</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Create the session</span>
<span class="token comment">// We can use the delegate to track upload progress and disable cacheing</span>
<span class="token class-name">NSURLSessionConfiguration</span> <span class="token operator">*</span> defaultConfigObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLSessionConfiguration</span> defaultSessionConfiguration<span class="token punctuation">]</span><span class="token punctuation">;</span>
defaultConfigObject<span class="token punctuation">.</span>requestCachePolicy <span class="token operator">=</span> <span class="token class-name">NSURLRequestReloadIgnoringLocalCacheData</span><span class="token punctuation">;</span>
<span class="token class-name">NSURLSession</span> <span class="token operator">*</span> defaultSession <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSURLSession</span> sessionWithConfiguration<span class="token punctuation">:</span> defaultConfigObject delegate<span class="token punctuation">:</span> <span class="token keyword">self</span> delegateQueue<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">NSOperationQueue</span> mainQueue<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Data uploading task.</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span> url <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> <span class="token class-name">URLWithString</span><span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;https://server.io/api/script.php&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">NSMutableURLRequest</span> <span class="token operator">*</span> request <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSMutableURLRequest</span> requestWithURL<span class="token punctuation">:</span>url<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">NSString</span> <span class="token operator">*</span> contentType <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSString</span> stringWithFormat<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;multipart/form-data; boundary=%@&quot;</span></span><span class="token punctuation">,</span>boundary<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>request addValue<span class="token punctuation">:</span>contentType forHTTPHeaderField<span class="token punctuation">:</span>@<span class="token string-literal"><span class="token string">&quot;Content-Type&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token class-name">HTTPMethod</span> <span class="token operator">=</span> @<span class="token string-literal"><span class="token string">&quot;POST&quot;</span></span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token class-name">HTTPBody</span> <span class="token operator">=</span> body<span class="token punctuation">;</span>
<span class="token class-name">NSURLSessionDataTask</span> <span class="token operator">*</span> uploadTask <span class="token operator">=</span> <span class="token punctuation">[</span>defaultSession dataTaskWithRequest<span class="token punctuation">:</span>request<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>uploadTask resume<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><p>This creates and fires the NSURLSession request just as before, and as a result the delegate methods will behave exactly the same way. Make sure that the script the image is being sent to (located at the url in the variable <code>url</code>) is expecting an image and can parse it correctly.</p> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>The <strong>NSURLSession</strong> class and related classes provide an API for downloading content. This API provides a rich set of delegate methods for supporting authentication and gives your app the ability to perform background downloads when your app is not running or, in iOS, while your app is suspended.</p> <p>At a high level, <strong>NSURLSession</strong> is based around the concept of sessions and tasks.  A task represents a single request for a single URL (or a single upload to a single URL).  A session is a group of related requests.</p> <p>The operating system provides a single preexisting session—the shared session, which basically works like NSURLConnection.  Additionally, you can create your own sessions in your app as needed.</p> <p>Different apps use sessions in different ways.  Many apps create a single session on launch and just keep reusing it.  Other apps benefit from being able to cancel a group of related tasks (e.g. a web browser canceling all outstanding requests when you close a tab), and thus create one session to hold each group of related requests.</p> <p>The first step when using NSURLSession is to create a session configuration object.  The (usually) reusable object contains various session settings that you can tweak for your particular needs, such as maximum concurrency, extra headers to send with each request, whether to allow requests to be sent over the cellular radio (iOS only), timeouts, credential storage, minimum TLS version, and even proxy settings.</p> <p>There are three types of session configurations, depending on how you want the resulting session to behave:</p> <ul><li><strong>Default configurations</strong> create sessions that work much like NSURLConnection.</li> <li><strong>Background configurations</strong> create sessions in which requests happen out-of-process, allowing downloads to continue even when the app is no longer running.</li> <li><strong>Ephemeral configurations</strong> create sessions that do not cache anything to disk, do not store cookies to disk, etc. and thus are suitable for backing things like incognito browser windows.</li></ul> <p>When you create a background configuration, you must provide a session identifier that allows you to reassociate the background session later (if your app exits or is suspended or terminated by the OS).  You must not have more than one instance of a session with the same identifier active in your app, so as a rule, these configurations are not reusable.  All other session configurations can be reused to create as many sessions as you want.  So if you need to create multiple sessions with similar settings, you can create the configuration once and reuse it every time you create a new session.</p> <p>After you create a session, you can create tasks in that session.  There are three types of tasks:</p> <ul><li><strong>Data tasks</strong> return data as an <strong>NSData</strong> object.  These are suitable for general use, but are not supported in background sessions.</li> <li><strong>Download tasks</strong> return data as a file on disk.  These are suitable for larger requests, or for use in background sessions.</li> <li><strong>Upload tasks</strong> upload data from an NSData object or from a file on disk.  You provide a data object or file that provides the POST body.  The body data/file that you provide on the task overrides any body data/file provided in the NSURLRequest object (if applicable).</li></ul> <p>Each of these types lets you obtain the response data in a couple of different ways—either by using block-based callbacks or by providing a delegate on the session and implementing delegate methods.</p> <p>Additionally NSURLSession lets you provide delegate methods for handling  authentication, performing custom TLS certificate handling (both for client certificates and server validation), changing the caching behavior, and so on.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/ios/nsurlsession.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ios/nsnotificationcenter.html" class="prev">
        NSNotificationCenter
      </a></span> <span class="next"><a href="/ios/nsuserdefaults.html">
        NSUserDefaults
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1424.b0d1b74a.js" defer></script>
  </body>
</html>
