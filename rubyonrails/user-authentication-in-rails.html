<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ruby on Rails - User Authentication in Rails</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Authentication using Devise, Devise Controller Filters & Helpers, Omniauth, has_secure_password, has_secure_token">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Ruby on Rails - User Authentication in Rails">
    <meta property="og:description" content="Authentication using Devise, Devise Controller Filters & Helpers, Omniauth, has_secure_password, has_secure_token">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/rubyonrails/user-authentication-in-rails.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Ruby on Rails - User Authentication in Rails">
    <meta name="twitter:description" content="Authentication using Devise, Devise Controller Filters & Helpers, Omniauth, has_secure_password, has_secure_token">
    <meta name="twitter:url" content="/rubyonrails/user-authentication-in-rails.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/3190.b7329f08.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ruby on Rails</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rubyonrails/" class="sidebar-link">Disclaimer</a></li><li><a href="/rubyonrails/getting-started-with-ruby-on-rails.html" class="sidebar-link">Getting started with Ruby on Rails</a></li><li><a href="/rubyonrails/routing.html" class="sidebar-link">Routing</a></li><li><a href="/rubyonrails/activerecord.html" class="sidebar-link">ActiveRecord</a></li><li><a href="/rubyonrails/views.html" class="sidebar-link">Views</a></li><li><a href="/rubyonrails/activerecord-migrations.html" class="sidebar-link">ActiveRecord Migrations</a></li><li><a href="/rubyonrails/rails-best-practices.html" class="sidebar-link">Rails Best Practices</a></li><li><a href="/rubyonrails/naming-conventions.html" class="sidebar-link">Naming Conventions</a></li><li><a href="/rubyonrails/actioncable.html" class="sidebar-link">ActionCable</a></li><li><a href="/rubyonrails/activemodel.html" class="sidebar-link">ActiveModel</a></li><li><a href="/rubyonrails/user-authentication-in-rails.html" class="active sidebar-link">User Authentication in Rails</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rubyonrails/user-authentication-in-rails.html#authentication-using-devise" class="sidebar-link">Authentication using Devise</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/user-authentication-in-rails.html#devise-controller-filters-helpers" class="sidebar-link">Devise Controller Filters &amp; Helpers</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/user-authentication-in-rails.html#omniauth" class="sidebar-link">Omniauth</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/user-authentication-in-rails.html#has-secure-password" class="sidebar-link">hassecurepassword</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/user-authentication-in-rails.html#has-secure-token" class="sidebar-link">hassecuretoken</a></li></ul></li><li><a href="/rubyonrails/activerecord-associations.html" class="sidebar-link">ActiveRecord Associations</a></li><li><a href="/rubyonrails/activerecord-validations.html" class="sidebar-link">ActiveRecord Validations</a></li><li><a href="/rubyonrails/activerecord-query-interface.html" class="sidebar-link">ActiveRecord Query Interface</a></li><li><a href="/rubyonrails/actionmailer.html" class="sidebar-link">ActionMailer</a></li><li><a href="/rubyonrails/rails-generate-commands.html" class="sidebar-link">Rails generate commands</a></li><li><a href="/rubyonrails/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/rubyonrails/i18n-internationalization.html" class="sidebar-link">I18n - Internationalization</a></li><li><a href="/rubyonrails/using-googlemaps-with-rails.html" class="sidebar-link">Using GoogleMaps with Rails</a></li><li><a href="/rubyonrails/file-uploads.html" class="sidebar-link">File Uploads</a></li><li><a href="/rubyonrails/caching.html" class="sidebar-link">Caching</a></li><li><a href="/rubyonrails/actioncontroller.html" class="sidebar-link">ActionController</a></li><li><a href="/rubyonrails/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/rubyonrails/safe-constantize.html" class="sidebar-link">Safe Constantize</a></li><li><a href="/rubyonrails/rails-5.html" class="sidebar-link">Rails 5</a></li><li><a href="/rubyonrails/authorization-with-cancan.html" class="sidebar-link">Authorization with CanCan</a></li><li><a href="/rubyonrails/mongoid.html" class="sidebar-link">Mongoid</a></li><li><a href="/rubyonrails/gems.html" class="sidebar-link">Gems</a></li><li><a href="/rubyonrails/change-default-timezone.html" class="sidebar-link">Change default timezone</a></li><li><a href="/rubyonrails/asset-pipeline.html" class="sidebar-link">Asset Pipeline</a></li><li><a href="/rubyonrails/upgrading-rails.html" class="sidebar-link">Upgrading Rails</a></li><li><a href="/rubyonrails/activerecord-locking.html" class="sidebar-link">ActiveRecord Locking</a></li><li><a href="/rubyonrails/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/rubyonrails/configure-angular-with-rails.html" class="sidebar-link">Configure Angular with Rails</a></li><li><a href="/rubyonrails/rails-logger.html" class="sidebar-link">Rails logger</a></li><li><a href="/rubyonrails/prawn-pdf.html" class="sidebar-link">Prawn PDF</a></li><li><a href="/rubyonrails/rails-api.html" class="sidebar-link">Rails API</a></li><li><a href="/rubyonrails/deploying-a-rails-app-on-heroku.html" class="sidebar-link">Deploying a Rails app on Heroku</a></li><li><a href="/rubyonrails/activesupport.html" class="sidebar-link">ActiveSupport</a></li><li><a href="/rubyonrails/form-helpers.html" class="sidebar-link">Form Helpers</a></li><li><a href="/rubyonrails/activerecord-transactions.html" class="sidebar-link">ActiveRecord Transactions</a></li><li><a href="/rubyonrails/rspec-and-ruby-on-rails.html" class="sidebar-link">RSpec and Ruby on Rails</a></li><li><a href="/rubyonrails/decorator-pattern.html" class="sidebar-link">Decorator pattern</a></li><li><a href="/rubyonrails/elasticsearch.html" class="sidebar-link">Elasticsearch</a></li><li><a href="/rubyonrails/react-with-rails-using-react-rails-gem.html" class="sidebar-link">React with Rails using react-rails gem</a></li><li><a href="/rubyonrails/rails-cookbook-advanced-rails-recipes-learnings-and-coding-techniques.html" class="sidebar-link">Rails Cookbook - Advanced rails recipes/learnings and coding techniques</a></li><li><a href="/rubyonrails/multipurpose-activerecord-columns.html" class="sidebar-link">Multipurpose ActiveRecord columns</a></li><li><a href="/rubyonrails/class-organization.html" class="sidebar-link">Class Organization</a></li><li><a href="/rubyonrails/shallow-routing.html" class="sidebar-link">Shallow Routing</a></li><li><a href="/rubyonrails/model-states-aasm.html" class="sidebar-link">Model states: AASM</a></li><li><a href="/rubyonrails/rails-5-api-authetication.html" class="sidebar-link">Rails 5 API Authetication</a></li><li><a href="/rubyonrails/testing-rails-applications.html" class="sidebar-link">Testing Rails Applications</a></li><li><a href="/rubyonrails/active-jobs.html" class="sidebar-link">Active Jobs</a></li><li><a href="/rubyonrails/rails-frameworks-over-the-years.html" class="sidebar-link">Rails frameworks over the years</a></li><li><a href="/rubyonrails/nested-form-in-ruby-on-rails.html" class="sidebar-link">Nested form in Ruby on Rails</a></li><li><a href="/rubyonrails/factory-girl.html" class="sidebar-link">Factory Girl</a></li><li><a href="/rubyonrails/import-whole-csv-files-from-specific-folder.html" class="sidebar-link">Import whole CSV files from specific folder</a></li><li><a href="/rubyonrails/tools-for-ruby-on-rails-code-optimization-and-cleanup.html" class="sidebar-link">Tools for Ruby on Rails code optimization and cleanup</a></li><li><a href="/rubyonrails/activejob.html" class="sidebar-link">ActiveJob</a></li><li><a href="/rubyonrails/active-model-serializers.html" class="sidebar-link">Active Model Serializers</a></li><li><a href="/rubyonrails/rails-engine-modular-rails.html" class="sidebar-link">Rails Engine -  Modular Rails</a></li><li><a href="/rubyonrails/single-table-inheritance.html" class="sidebar-link">Single Table Inheritance</a></li><li><a href="/rubyonrails/activerecord-transactions.html" class="sidebar-link">ActiveRecord Transactions</a></li><li><a href="/rubyonrails/turbolinks.html" class="sidebar-link">Turbolinks</a></li><li><a href="/rubyonrails/friendly-id.html" class="sidebar-link">Friendly ID</a></li><li><a href="/rubyonrails/securely-storing-authentication-keys.html" class="sidebar-link">Securely storing authentication keys</a></li><li><a href="/rubyonrails/authenticate-api-using-devise.html" class="sidebar-link">Authenticate Api using Devise</a></li><li><a href="/rubyonrails/integrating-react-js-with-rails-using-hyperloop.html" class="sidebar-link">Integrating React.js with Rails Using Hyperloop</a></li><li><a href="/rubyonrails/change-a-default-rails-application-enviornment.html" class="sidebar-link">Change a default Rails application enviornment</a></li><li><a href="/rubyonrails/rails-engines.html" class="sidebar-link">Rails -Engines</a></li><li><a href="/rubyonrails/adding-an-amazon-rds-to-your-rails-application.html" class="sidebar-link">Adding an Amazon RDS to your rails application</a></li><li><a href="/rubyonrails/payment-feature-in-rails.html" class="sidebar-link">Payment feature in rails</a></li><li><a href="/rubyonrails/rails-on-docker.html" class="sidebar-link">Rails on docker</a></li><li><a href="/rubyonrails/reserved-words.html" class="sidebar-link">Reserved Words</a></li><li><a href="/rubyonrails/add-admin-panel.html" class="sidebar-link">Add Admin Panel</a></li><li><a href="/rubyonrails/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="user-authentication-in-rails"><a href="#user-authentication-in-rails" class="header-anchor">#</a> User Authentication in Rails</h1> <p>Devise is a very powerful gem, it allows you to sign up, sign in and sign out options just after installing. Moreover user can add authentications and restrictions to its applications. Devise also come with its own views, if user wants to use. A user can also customize sign up and sign in forms according to its need and requirement.
It should be noted that Devise recommends that you implement your own login if you're new to rails.</p> <h2 id="authentication-using-devise"><a href="#authentication-using-devise" class="header-anchor">#</a> Authentication using Devise</h2> <p>Add gem to the Gemfile:</p> <p><code>gem 'devise'</code></p> <p>Then run the <code>bundle install</code> command.</p> <p>Use command <code>$ rails generate devise:install</code> to generate required configuration file.</p> <p>Set up the default URL options for the Devise mailer in each environment
In development environment add this line:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>config<span class="token punctuation">.</span>action_mailer<span class="token punctuation">.</span>default_url_options <span class="token operator">=</span> <span class="token punctuation">{</span> host<span class="token punctuation">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span> port<span class="token punctuation">:</span> <span class="token number">3000</span> <span class="token punctuation">}</span>

</code></pre></div><p>to your <code>config/environments/development.rb</code></p> <p>similarly in production this edit <code>config/environments/production.rb</code> file and add</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>config<span class="token punctuation">.</span>action_mailer<span class="token punctuation">.</span>default_url_options <span class="token operator">=</span> <span class="token punctuation">{</span> host<span class="token punctuation">:</span> <span class="token string">'your-site-url'</span><span class="token punctuation">}</span>

</code></pre></div><p>Then create a model using:<code>$ rails generate devise USER</code>
Where <code>USER</code> is the class name for which you want to implement authentication.</p> <p>Finally, run: <code>rake db:migrate</code> and you are all set.</p> <h3 id="custom-views"><a href="#custom-views" class="header-anchor">#</a> Custom views</h3> <p>If you need to configure your views, you can use the <code>rails generate devise:views</code> generator that will copy all views to your application. Then you can edit them as desired.</p> <p>If you have more than one Devise model in your application (for example User and Admin), you will notice that Devise uses the same views for all models. Devise offers an easy way to customize views. Set <code>config.scoped_views = true</code> inside the <code>config/initializers/devise.rb</code> file.</p> <p>You can also use the generator to create scoped views: <code>rails generate devise:views users</code></p> <p>If you would like to generate only a few sets of views, such as the ones for the registerable and confirmable module use the -v flag: <code>rails generate devise:views -v registrations confirmations</code></p> <h2 id="devise-controller-filters-helpers"><a href="#devise-controller-filters-helpers" class="header-anchor">#</a> Devise Controller Filters &amp; Helpers</h2> <p>To set up a controller with user authentication using devise, add this before_action: (assuming your devise model is 'User'):</p> <p><code>before_action :authenticate_user!</code></p> <p>To verify if a user is signed in, use the following helper:</p> <p><code>user_signed_in?</code></p> <p>For the current signed-in user, use this helper:</p> <p><code>current_user</code></p> <p>You can access the session for this scope:</p> <p><code>user_session</code></p> <ul><li>Note that if your Devise model is called <code>Member</code> instead of <code>User</code>, replace <code>user</code> above with <code>member</code></li></ul> <h2 id="omniauth"><a href="#omniauth" class="header-anchor">#</a> Omniauth</h2> <p>First choose your auth strategy and add it to your <code>Gemfile</code>. You can find a list of strategies here: <a href="https://github.com/intridea/omniauth/wiki/List-of-Strategies" target="_blank" rel="noopener noreferrer">https://github.com/intridea/omniauth/wiki/List-of-Strategies<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>gem <span class="token string">'omniauth-github'</span><span class="token punctuation">,</span> <span class="token symbol">:github</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'intridea/omniauth-github'</span>
gem <span class="token string">'omniauth-openid'</span><span class="token punctuation">,</span> <span class="token symbol">:github</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'intridea/omniauth-openid'</span>

</code></pre></div><p>You can add this to your rails middleware like so:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">Rails</span><span class="token punctuation">.</span>application<span class="token punctuation">.</span>config<span class="token punctuation">.</span>middleware<span class="token punctuation">.</span>use <span class="token constant">OmniAuth</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Builder</span> <span class="token keyword">do</span>
  <span class="token keyword">require</span> <span class="token string">'openid/store/filesystem'</span> 
  provider <span class="token symbol">:github</span><span class="token punctuation">,</span> <span class="token constant">ENV</span><span class="token punctuation">[</span><span class="token string">'GITHUB_KEY'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">ENV</span><span class="token punctuation">[</span><span class="token string">'GITHUB_SECRET'</span><span class="token punctuation">]</span>
  provider <span class="token symbol">:openid</span><span class="token punctuation">,</span> <span class="token symbol">:store</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token constant">OpenID</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Store</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Filesystem</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">'/tmp'</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre></div><p>By default, OmniAuth will add <code>/auth/:provider</code> to your routes and you can start by using these paths.</p> <p>By default, if there is a failure, omniauth will redirect to <code>/auth/failure</code></p> <h2 id="has-secure-password"><a href="#has-secure-password" class="header-anchor">#</a> has_secure_password</h2> <h3 id="create-user-model"><a href="#create-user-model" class="header-anchor">#</a> Create User Model</h3> <p><code>rails generate model User email:string password_digest:string</code></p> <h3 id="add-has-secure-password-module-to-user-model"><a href="#add-has-secure-password-module-to-user-model" class="header-anchor">#</a> Add has_secure_password module to User model</h3> <div class="language-ruby extra-class"><pre class="language-ruby"><code>user <span class="token operator">=</span> <span class="token constant">User</span><span class="token punctuation">.</span><span class="token keyword">new</span> email<span class="token punctuation">:</span> <span class="token string">'bob@bob.com'</span><span class="token punctuation">,</span> password<span class="token punctuation">:</span> <span class="token string">'Password1'</span><span class="token punctuation">,</span> password_confirmation<span class="token punctuation">:</span> <span class="token string">'Password1'</span>

</code></pre></div><p>Verify password with authenticate method</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>user<span class="token punctuation">.</span>authenticate<span class="token punctuation">(</span><span class="token string">'somepassword'</span><span class="token punctuation">)</span>  

</code></pre></div><h2 id="has-secure-token"><a href="#has-secure-token" class="header-anchor">#</a> has_secure_token</h2> <p>Create User Model</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># Schema: User(token:string, auth_token:string)</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span>
  has_secure_token
  has_secure_token <span class="token symbol">:auth_token</span>
<span class="token keyword">end</span>

</code></pre></div><p>Now when you create a new user a token and auth_token are automatically generated</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>user <span class="token operator">=</span> <span class="token constant">User</span><span class="token punctuation">.</span><span class="token keyword">new</span>
user<span class="token punctuation">.</span>save
user<span class="token punctuation">.</span>token <span class="token comment"># =&gt; &quot;pX27zsMN2ViQKta1bGfLmVJE&quot;</span>
user<span class="token punctuation">.</span>auth_token <span class="token comment"># =&gt; &quot;77TMHrHJFvFDwodq8w7Ev2m7&quot;</span>

</code></pre></div><p>You can update the tokens using <code>regenerate_token</code> and <code>regenerate_auth_token</code></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>user<span class="token punctuation">.</span>regenerate_token <span class="token comment"># =&gt; true</span>
user<span class="token punctuation">.</span>regenerate_auth_token <span class="token comment"># =&gt; true</span>

</code></pre></div><h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>At the time of generating devise configs using <code>rails generate devise:install</code>, devise will list out bunch of instructions on the terminal to follow.</p> <p>If you already have a <code>USER</code> model, running this command <code>rails generate devise USER</code> will append necessary columns to your existing <code>USER</code> model.</p> <p>Use this helper method <code>before_action :authenticate_user!</code> at the top of your controller to check whether <code>user</code> is logged-in or not. if not then they will be redirected to sign-in page.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/rubyonrails/user-authentication-in-rails.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/rubyonrails/activemodel.html" class="prev">
        ActiveModel
      </a></span> <span class="next"><a href="/rubyonrails/activerecord-associations.html">
        ActiveRecord Associations
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/3190.b7329f08.js" defer></script>
  </body>
</html>
