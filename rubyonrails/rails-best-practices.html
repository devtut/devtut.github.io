<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ruby on Rails - Rails Best Practices</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Fat Model, Skinny Controller, Domain Objects (No More Fat Models), Convention Over Configuration, Beware of  default_scope, Don't Repeat Yourself (DRY), You Ain’t Gonna Need it (YAGNI)">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Ruby on Rails - Rails Best Practices">
    <meta property="og:description" content="Fat Model, Skinny Controller, Domain Objects (No More Fat Models), Convention Over Configuration, Beware of  default_scope, Don't Repeat Yourself (DRY), You Ain’t Gonna Need it (YAGNI)">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/rubyonrails/rails-best-practices.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Ruby on Rails - Rails Best Practices">
    <meta name="twitter:description" content="Fat Model, Skinny Controller, Domain Objects (No More Fat Models), Convention Over Configuration, Beware of  default_scope, Don't Repeat Yourself (DRY), You Ain’t Gonna Need it (YAGNI)">
    <meta name="twitter:url" content="/rubyonrails/rails-best-practices.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/3170.459446d8.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ruby on Rails</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rubyonrails/" class="sidebar-link">Disclaimer</a></li><li><a href="/rubyonrails/getting-started-with-ruby-on-rails.html" class="sidebar-link">Getting started with Ruby on Rails</a></li><li><a href="/rubyonrails/routing.html" class="sidebar-link">Routing</a></li><li><a href="/rubyonrails/activerecord.html" class="sidebar-link">ActiveRecord</a></li><li><a href="/rubyonrails/views.html" class="sidebar-link">Views</a></li><li><a href="/rubyonrails/activerecord-migrations.html" class="sidebar-link">ActiveRecord Migrations</a></li><li><a href="/rubyonrails/rails-best-practices.html" class="active sidebar-link">Rails Best Practices</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rubyonrails/rails-best-practices.html#fat-model-skinny-controller" class="sidebar-link">Fat Model, Skinny Controller</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/rails-best-practices.html#domain-objects-no-more-fat-models" class="sidebar-link">Domain Objects (No More Fat Models)</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/rails-best-practices.html#convention-over-configuration" class="sidebar-link">Convention Over Configuration</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/rails-best-practices.html#beware-of-default-scope" class="sidebar-link">Beware of  default_scope</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/rails-best-practices.html#don-t-repeat-yourself-dry" class="sidebar-link">Don't Repeat Yourself (DRY)</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/rails-best-practices.html#you-ain-t-gonna-need-it-yagni" class="sidebar-link">You Ain’t Gonna Need it (YAGNI)</a></li></ul></li><li><a href="/rubyonrails/naming-conventions.html" class="sidebar-link">Naming Conventions</a></li><li><a href="/rubyonrails/actioncable.html" class="sidebar-link">ActionCable</a></li><li><a href="/rubyonrails/activemodel.html" class="sidebar-link">ActiveModel</a></li><li><a href="/rubyonrails/user-authentication-in-rails.html" class="sidebar-link">User Authentication in Rails</a></li><li><a href="/rubyonrails/activerecord-associations.html" class="sidebar-link">ActiveRecord Associations</a></li><li><a href="/rubyonrails/activerecord-validations.html" class="sidebar-link">ActiveRecord Validations</a></li><li><a href="/rubyonrails/activerecord-query-interface.html" class="sidebar-link">ActiveRecord Query Interface</a></li><li><a href="/rubyonrails/actionmailer.html" class="sidebar-link">ActionMailer</a></li><li><a href="/rubyonrails/rails-generate-commands.html" class="sidebar-link">Rails generate commands</a></li><li><a href="/rubyonrails/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/rubyonrails/i18n-internationalization.html" class="sidebar-link">I18n - Internationalization</a></li><li><a href="/rubyonrails/using-googlemaps-with-rails.html" class="sidebar-link">Using GoogleMaps with Rails</a></li><li><a href="/rubyonrails/file-uploads.html" class="sidebar-link">File Uploads</a></li><li><a href="/rubyonrails/caching.html" class="sidebar-link">Caching</a></li><li><a href="/rubyonrails/actioncontroller.html" class="sidebar-link">ActionController</a></li><li><a href="/rubyonrails/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/rubyonrails/safe-constantize.html" class="sidebar-link">Safe Constantize</a></li><li><a href="/rubyonrails/rails-5.html" class="sidebar-link">Rails 5</a></li><li><a href="/rubyonrails/authorization-with-cancan.html" class="sidebar-link">Authorization with CanCan</a></li><li><a href="/rubyonrails/mongoid.html" class="sidebar-link">Mongoid</a></li><li><a href="/rubyonrails/gems.html" class="sidebar-link">Gems</a></li><li><a href="/rubyonrails/change-default-timezone.html" class="sidebar-link">Change default timezone</a></li><li><a href="/rubyonrails/asset-pipeline.html" class="sidebar-link">Asset Pipeline</a></li><li><a href="/rubyonrails/upgrading-rails.html" class="sidebar-link">Upgrading Rails</a></li><li><a href="/rubyonrails/activerecord-locking.html" class="sidebar-link">ActiveRecord Locking</a></li><li><a href="/rubyonrails/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/rubyonrails/configure-angular-with-rails.html" class="sidebar-link">Configure Angular with Rails</a></li><li><a href="/rubyonrails/rails-logger.html" class="sidebar-link">Rails logger</a></li><li><a href="/rubyonrails/prawn-pdf.html" class="sidebar-link">Prawn PDF</a></li><li><a href="/rubyonrails/rails-api.html" class="sidebar-link">Rails API</a></li><li><a href="/rubyonrails/deploying-a-rails-app-on-heroku.html" class="sidebar-link">Deploying a Rails app on Heroku</a></li><li><a href="/rubyonrails/activesupport.html" class="sidebar-link">ActiveSupport</a></li><li><a href="/rubyonrails/form-helpers.html" class="sidebar-link">Form Helpers</a></li><li><a href="/rubyonrails/activerecord-transactions.html" class="sidebar-link">ActiveRecord Transactions</a></li><li><a href="/rubyonrails/rspec-and-ruby-on-rails.html" class="sidebar-link">RSpec and Ruby on Rails</a></li><li><a href="/rubyonrails/decorator-pattern.html" class="sidebar-link">Decorator pattern</a></li><li><a href="/rubyonrails/elasticsearch.html" class="sidebar-link">Elasticsearch</a></li><li><a href="/rubyonrails/react-with-rails-using-react-rails-gem.html" class="sidebar-link">React with Rails using react-rails gem</a></li><li><a href="/rubyonrails/rails-cookbook-advanced-rails-recipes-learnings-and-coding-techniques.html" class="sidebar-link">Rails Cookbook - Advanced rails recipes/learnings and coding techniques</a></li><li><a href="/rubyonrails/multipurpose-activerecord-columns.html" class="sidebar-link">Multipurpose ActiveRecord columns</a></li><li><a href="/rubyonrails/class-organization.html" class="sidebar-link">Class Organization</a></li><li><a href="/rubyonrails/shallow-routing.html" class="sidebar-link">Shallow Routing</a></li><li><a href="/rubyonrails/model-states-aasm.html" class="sidebar-link">Model states: AASM</a></li><li><a href="/rubyonrails/rails-5-api-authetication.html" class="sidebar-link">Rails 5 API Authetication</a></li><li><a href="/rubyonrails/testing-rails-applications.html" class="sidebar-link">Testing Rails Applications</a></li><li><a href="/rubyonrails/active-jobs.html" class="sidebar-link">Active Jobs</a></li><li><a href="/rubyonrails/rails-frameworks-over-the-years.html" class="sidebar-link">Rails frameworks over the years</a></li><li><a href="/rubyonrails/nested-form-in-ruby-on-rails.html" class="sidebar-link">Nested form in Ruby on Rails</a></li><li><a href="/rubyonrails/factory-girl.html" class="sidebar-link">Factory Girl</a></li><li><a href="/rubyonrails/import-whole-csv-files-from-specific-folder.html" class="sidebar-link">Import whole CSV files from specific folder</a></li><li><a href="/rubyonrails/tools-for-ruby-on-rails-code-optimization-and-cleanup.html" class="sidebar-link">Tools for Ruby on Rails code optimization and cleanup</a></li><li><a href="/rubyonrails/activejob.html" class="sidebar-link">ActiveJob</a></li><li><a href="/rubyonrails/active-model-serializers.html" class="sidebar-link">Active Model Serializers</a></li><li><a href="/rubyonrails/rails-engine-modular-rails.html" class="sidebar-link">Rails Engine -  Modular Rails</a></li><li><a href="/rubyonrails/single-table-inheritance.html" class="sidebar-link">Single Table Inheritance</a></li><li><a href="/rubyonrails/activerecord-transactions.html" class="sidebar-link">ActiveRecord Transactions</a></li><li><a href="/rubyonrails/turbolinks.html" class="sidebar-link">Turbolinks</a></li><li><a href="/rubyonrails/friendly-id.html" class="sidebar-link">Friendly ID</a></li><li><a href="/rubyonrails/securely-storing-authentication-keys.html" class="sidebar-link">Securely storing authentication keys</a></li><li><a href="/rubyonrails/authenticate-api-using-devise.html" class="sidebar-link">Authenticate Api using Devise</a></li><li><a href="/rubyonrails/integrating-react-js-with-rails-using-hyperloop.html" class="sidebar-link">Integrating React.js with Rails Using Hyperloop</a></li><li><a href="/rubyonrails/change-a-default-rails-application-enviornment.html" class="sidebar-link">Change a default Rails application enviornment</a></li><li><a href="/rubyonrails/rails-engines.html" class="sidebar-link">Rails -Engines</a></li><li><a href="/rubyonrails/adding-an-amazon-rds-to-your-rails-application.html" class="sidebar-link">Adding an Amazon RDS to your rails application</a></li><li><a href="/rubyonrails/payment-feature-in-rails.html" class="sidebar-link">Payment feature in rails</a></li><li><a href="/rubyonrails/rails-on-docker.html" class="sidebar-link">Rails on docker</a></li><li><a href="/rubyonrails/reserved-words.html" class="sidebar-link">Reserved Words</a></li><li><a href="/rubyonrails/add-admin-panel.html" class="sidebar-link">Add Admin Panel</a></li><li><a href="/rubyonrails/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rails-best-practices"><a href="#rails-best-practices" class="header-anchor">#</a> Rails Best Practices</h1> <h2 id="fat-model-skinny-controller"><a href="#fat-model-skinny-controller" class="header-anchor">#</a> Fat Model, Skinny Controller</h2> <p>“Fat Model, Skinny Controller” refers to how the M and C parts of MVC ideally work together. Namely, any non-response-related logic should go in the model, ideally in a nice, testable method. Meanwhile, the “skinny” controller is simply a nice interface between the view and model.</p> <p>In practice, this can require a range of different types of refactoring, but it all comes down to one idea: by moving any logic that isn’t about the response to the model (instead of the controller), not only have you promoted reuse where possible but you’ve also made it possible to test your code outside of the context of a request.</p> <p>Let’s look at a simple example. Say you have code like this:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">index</span></span>
  <span class="token variable">@published_posts</span> <span class="token operator">=</span> <span class="token constant">Post</span><span class="token punctuation">.</span>where<span class="token punctuation">(</span><span class="token string">'published_at &lt;= ?'</span><span class="token punctuation">,</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token punctuation">)</span>
  <span class="token variable">@unpublished_posts</span> <span class="token operator">=</span> <span class="token constant">Post</span><span class="token punctuation">.</span>where<span class="token punctuation">(</span><span class="token string">'published_at IS NULL OR published_at &gt; ?'</span><span class="token punctuation">,</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre></div><p>You can change it to this:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">index</span></span>
  <span class="token variable">@published_posts</span> <span class="token operator">=</span> <span class="token constant">Post</span><span class="token punctuation">.</span>published
  <span class="token variable">@unpublished_posts</span> <span class="token operator">=</span> <span class="token constant">Post</span><span class="token punctuation">.</span>unpublished
<span class="token keyword">end</span>

</code></pre></div><p>Then, you can move the logic to your post model, where it might look like this:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>scope <span class="token symbol">:published</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>timestamp <span class="token operator">=</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token punctuation">)</span> <span class="token punctuation">{</span> where<span class="token punctuation">(</span><span class="token string">'published_at &lt;= ?'</span><span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span> <span class="token punctuation">}</span>
scope <span class="token symbol">:unpublished</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>timestamp <span class="token operator">=</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token punctuation">)</span> <span class="token punctuation">{</span> where<span class="token punctuation">(</span><span class="token string">'published_at IS NULL OR published_at &gt; ?'</span><span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span> <span class="token punctuation">}</span>

</code></pre></div><h2 id="domain-objects-no-more-fat-models"><a href="#domain-objects-no-more-fat-models" class="header-anchor">#</a> Domain Objects (No More Fat Models)</h2> <p>&quot;Fat Model, Skinny Controller&quot; is a very good first step, but it doesn't scale well once your codebase starts to grow.</p> <p>Let's think on the <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle" target="_blank" rel="noopener noreferrer">Single Responsibility<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of models. What is the single responsibility of models? Is it to hold business logic? Is it to hold non-response-related logic?</p> <p>No. Its responsibility is to handle the persistence layer and its abstraction.</p> <p>Business logic, as well as any non-response-related logic and non-persistence-related logic, should go in domain objects.</p> <p>Domain objects are classes designed to have only one responsibility in the domain of the problem. Let your classes &quot;<a href="https://8thlight.com/blog/uncle-bob/2011/09/30/Screaming-Architecture.html" target="_blank" rel="noopener noreferrer">Scream Their Architecture<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot; for the problems they solve.</p> <p>In practice, you should strive towards skinny models, skinny views and skinny controllers. The architecture of your solution shouldn't be influenced by the framework you're choosing.</p> <p><strong>For example</strong></p> <p>Let's say you're a marketplace which charges a fixed 15% commission to your customers via Stripe. If you charge a fixed 15% commission, that means that your commission changes depending on the order's amount because Stripe charges 2.9% + 30¢.</p> <p>The amount you charge as commission should be: <code>amount*0.15 - (amount*0.029 + 0.30)</code>.</p> <p>Don't write this logic in the model:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># app/models/order.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span>
  <span class="token constant">SERVICE_COMMISSION</span> <span class="token operator">=</span> <span class="token number">0.15</span>
  <span class="token constant">STRIPE_PERCENTAGE_COMMISSION</span> <span class="token operator">=</span> <span class="token number">0.029</span>
  <span class="token constant">STRIPE_FIXED_COMMISSION</span> <span class="token operator">=</span> <span class="token number">0.30</span>

  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">commission</span></span>
    amount<span class="token operator">*</span><span class="token constant">SERVICE_COMMISSION</span> <span class="token operator">-</span> stripe_commission  
  <span class="token keyword">end</span>

  <span class="token keyword">private</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">stripe_commission</span></span>
    amount<span class="token operator">*</span><span class="token constant">STRIPE_PERCENTAGE_COMMISSION</span> <span class="token operator">+</span> <span class="token constant">STRIPE_FIXED_COMMISSION</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

</code></pre></div><p>As soon as you integrate with a new payment method, you won't be able to scale this functionality inside this model.</p> <p>Also, as soon as you start to integrate more business logic, your <code>Order</code> object will start to lose <a href="https://thebojan.ninja/2015/04/08/high-cohesion-loose-coupling/" target="_blank" rel="noopener noreferrer">cohesion<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Prefer domain objects, with the calculation of the commission completely abstracted from the responsibility of persisting orders:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># app/models/order.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token comment"># No reference to commission calculation</span>
<span class="token keyword">end</span>

<span class="token comment"># lib/commission.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Commission</span>
  <span class="token constant">SERVICE_COMMISSION</span> <span class="token operator">=</span> <span class="token number">0.15</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">calculate</span></span><span class="token punctuation">(</span>payment_method<span class="token punctuation">,</span> model<span class="token punctuation">)</span>
    model<span class="token punctuation">.</span>amount<span class="token operator">*</span><span class="token constant">SERVICE_COMMISSION</span> <span class="token operator">-</span> payment_commission<span class="token punctuation">(</span>payment_method<span class="token punctuation">,</span> model<span class="token punctuation">)</span>  
  <span class="token keyword">end</span>

  <span class="token keyword">private</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">payment_commission</span></span><span class="token punctuation">(</span>payment_method<span class="token punctuation">,</span> model<span class="token punctuation">)</span>
    <span class="token comment"># There are better ways to implement a static registry,</span>
    <span class="token comment"># this is only for illustration purposes.</span>
    <span class="token builtin">Object</span><span class="token punctuation">.</span>const_get<span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter tag">#{</span>payment_method<span class="token delimiter tag">}</span></span>Commission&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>calculate<span class="token punctuation">(</span>model<span class="token punctuation">)</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token comment"># lib/stripe_commission.rb</span>
<span class="token keyword">class</span> <span class="token class-name">StripeCommission</span>
  <span class="token constant">STRIPE_PERCENTAGE_COMMISSION</span> <span class="token operator">=</span> <span class="token number">0.029</span>
  <span class="token constant">STRIPE_FIXED_COMMISSION</span> <span class="token operator">=</span> <span class="token number">0.30</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">calculate</span></span><span class="token punctuation">(</span>model<span class="token punctuation">)</span>
    model<span class="token punctuation">.</span>amount<span class="token operator">*</span><span class="token constant">STRIPE_PERCENTAGE_COMMISSION</span>
      <span class="token operator">+</span> <span class="token constant">STRIPE_PERCENTAGE_COMMISSION</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token comment"># app/controllers/orders_controller.rb</span>
<span class="token keyword">class</span> <span class="token class-name">OrdersController</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationController</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">create</span></span>
    <span class="token variable">@order</span> <span class="token operator">=</span> <span class="token constant">Order</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>order_params<span class="token punctuation">)</span>
    <span class="token variable">@order</span><span class="token punctuation">.</span>commission <span class="token operator">=</span> <span class="token constant">Commission</span><span class="token punctuation">.</span>calculate<span class="token punctuation">(</span><span class="token string">&quot;Stripe&quot;</span><span class="token punctuation">,</span> <span class="token variable">@order</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

</code></pre></div><p>Using domain objects has the following architectural advantages:</p> <ul><li>it's extremely easy to unit test, as no fixtures or factories are required to instantiate the objects with the logic.</li> <li>works with everything that accepts the message <code>amount</code>.</li> <li>keeps each domain object small, with clearly defined responsibilities, and with higher cohesion.</li> <li>easily scales with new payment methods by <a href="https://en.wikipedia.org/wiki/Open/closed_principle" target="_blank" rel="noopener noreferrer">addition, not modification<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>stops the tendency to have an ever-growing <code>User</code> object in each Ruby on Rails application.</li></ul> <p>I personally like to put domain objects in <code>lib</code>. If you do so, remember to add it to <code>autoload_paths</code>:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># config/application.rb</span>
config<span class="token punctuation">.</span>autoload_paths <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token constant">Rails</span><span class="token punctuation">.</span>root<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'lib'</span><span class="token punctuation">)</span>

</code></pre></div><p>You may also prefer to create domain objects more action-oriented, following the Command/Query pattern. In such case, putting these objects in <code>app/commands</code> might be a better place as all <code>app</code> subdirectories are automatically added to the autoload path.</p> <h2 id="convention-over-configuration"><a href="#convention-over-configuration" class="header-anchor">#</a> Convention Over Configuration</h2> <p>In Rails, you find yourself looking at <strong>controllers, views, and models</strong> for your database.</p> <p>To reduce the need for heavy configuration, Rails implements rules to ease up working with the application. You may define your own rules but for the beginning (and for later on) it's a good idea to stick to conventions that Rails offers.</p> <p>These conventions will speed up development, keep your code concise and readable, and allow you an easy navigation inside your application.</p> <p>Conventions also lower the barriers to entry for beginners. There are so many conventions in Rails that a beginner doesn’t even need to know about, but can just benefit from in ignorance. It’s possible to create great applications without knowing why everything is the way it is.</p> <p><strong>For Example</strong></p> <p>If you have a database table called <code>orders</code> with the primary key <code>id</code>, the matching model is called <code>order</code> and the controller that handles all the logic is named <code>orders_controller</code>. The view is split in different actions: if the controller has a <code>new</code> and <code>edit</code> action, there is also a <code>new</code> and <code>edit</code> view.</p> <p><strong>For Example</strong></p> <p>To create an app you simply run <code>rails new app_name</code>. This will generate roughly 70 files and folders that comprise the infrastructure and foundation for your Rails app.</p> <p>It includes:</p> <ul><li>Folders to hold your models (database layer), controllers, and views</li> <li>Folders to hold unit tests for your application</li> <li>Folders to hold your web assets like Javascript and CSS files</li> <li>Default files for HTTP 400 responses (i.e. file not found)</li> <li>Many others</li></ul> <h2 id="beware-of-default-scope"><a href="#beware-of-default-scope" class="header-anchor">#</a> Beware of  default_scope</h2> <p>ActiveRecord includes <code>default_scope</code>, to automatically scope a model by default.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">class</span> <span class="token class-name">Post</span>
  default_scope <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">{</span> where<span class="token punctuation">(</span>published<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span>created_at<span class="token punctuation">:</span> <span class="token symbol">:desc</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">end</span>

</code></pre></div><p>The above code will serve posts which are already published when you perform any query on the model.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">Post</span><span class="token punctuation">.</span>all <span class="token comment"># will only list published posts </span>

</code></pre></div><p>That scope, while innocuous-looking, has multiple hidden side-effect that you may not want.</p> <h3 id="default-scope-and-order"><a href="#default-scope-and-order" class="header-anchor">#</a> <code>default_scope</code> and <code>order</code></h3> <p>Since you declared an <code>order</code> in the <code>default_scope</code>, calling <code>order</code> on <code>Post</code> will be added as additional orders instead of overriding the default.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">Post</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span>updated_at<span class="token punctuation">:</span> <span class="token symbol">:desc</span><span class="token punctuation">)</span>

</code></pre></div><div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">SELECT</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token constant">FROM</span> <span class="token string">&quot;posts&quot;</span> <span class="token constant">WHERE</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;published&quot;</span> <span class="token operator">=</span> <span class="token string">'t'</span> <span class="token constant">ORDER</span> <span class="token constant">BY</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;created_at&quot;</span> <span class="token constant">DESC</span><span class="token punctuation">,</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;updated_at&quot;</span> <span class="token constant">DESC</span>

</code></pre></div><p>This is probably not the behavior you wanted; you can override this by excluding the <code>order</code> from the scope first</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">Post</span><span class="token punctuation">.</span>except<span class="token punctuation">(</span><span class="token symbol">:order</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span>updated_at<span class="token punctuation">:</span> <span class="token symbol">:desc</span><span class="token punctuation">)</span>

</code></pre></div><div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">SELECT</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token constant">FROM</span> <span class="token string">&quot;posts&quot;</span> <span class="token constant">WHERE</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;published&quot;</span> <span class="token operator">=</span> <span class="token string">'t'</span> <span class="token constant">ORDER</span> <span class="token constant">BY</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;updated_at&quot;</span> <span class="token constant">DESC</span>

</code></pre></div><h3 id="default-scope-and-model-initialization"><a href="#default-scope-and-model-initialization" class="header-anchor">#</a> <code>default_scope</code> and model initialization</h3> <p>As with any other <code>ActiveRecord::Relation</code>, <code>default_scope</code> will alter the default state of models initialized from it.</p> <p>In the above example, <code>Post</code> has <code>where(published: true)</code> set by default, and so new models from <code>Post</code> will also have it set.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">Post</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token comment"># =&gt; &lt;Post published: true&gt;</span>

</code></pre></div><h3 id="unscoped"><a href="#unscoped" class="header-anchor">#</a> <code>unscoped</code></h3> <p><code>default_scope</code> can nominally be cleared by calling <code>unscoped</code> first, but this also has side-effects. Take, for example, an STI model:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token operator">&lt;</span> <span class="token constant">Document</span>
  default_scope <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">{</span> where<span class="token punctuation">(</span>published<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span>created_at<span class="token punctuation">:</span> <span class="token symbol">:desc</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">end</span>

</code></pre></div><p>By default, queries against <code>Post</code> will be scoped to <code>type</code> columns containing <code>'Post'</code>. But <code>unscoped</code> will clear this along with your own <code>default_scope</code>, so if you use <code>unscoped</code> you have to remember to account for this as well.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">Post</span><span class="token punctuation">.</span>unscoped<span class="token punctuation">.</span>where<span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token string">'Post'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span>updated_at<span class="token punctuation">:</span> <span class="token symbol">:desc</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="unscoped-and-model-associations"><a href="#unscoped-and-model-associations" class="header-anchor">#</a> <code>unscoped</code> and Model Associations</h3> <p>Consider a relationship between <code>Post</code> and <code>User</code></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
  belongs_to <span class="token symbol">:user</span>
  default_scope <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">{</span> where<span class="token punctuation">(</span>published<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span>created_at<span class="token punctuation">:</span> <span class="token symbol">:desc</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">end</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
  has_many <span class="token symbol">:posts</span>
<span class="token keyword">end</span>

</code></pre></div><p>By getting an individual <code>User</code>, you can see the posts related to it:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>user <span class="token operator">=</span> <span class="token constant">User</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span>posts

</code></pre></div><div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">SELECT</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token constant">FROM</span> <span class="token string">&quot;posts&quot;</span> <span class="token constant">WHERE</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;published&quot;</span> <span class="token operator">=</span> <span class="token string">'t'</span> <span class="token constant">AND</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;user_id&quot;</span> <span class="token operator">=</span> <span class="token operator">?</span> <span class="token constant">ORDER</span> <span class="token constant">BY</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;created_at&quot;</span> <span class="token constant">DESC</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;user_id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

</code></pre></div><p>But you want to clear the <code>default_scope</code> from the <code>posts</code> relation, so you use <code>unscoped</code></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>user<span class="token punctuation">.</span>posts<span class="token punctuation">.</span>unscoped

</code></pre></div><div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token constant">SELECT</span> <span class="token string">&quot;posts&quot;</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token constant">FROM</span> <span class="token string">&quot;posts&quot;</span>

</code></pre></div><p>This wipes out the <code>user_id</code> condition as well as the <code>default_scope</code>.</p> <h3 id="an-example-use-case-for-default-scope"><a href="#an-example-use-case-for-default-scope" class="header-anchor">#</a> An example use-case for <code>default_scope</code></h3> <p>Despite all of that, there are situations where using <code>default_scope</code> is justifiable.</p> <p>Consider a multi-tenant system where multiple subdomains are served from the same application but with isolated data. One way to achieve this isolation is through <code>default_scope</code>. The downsides in other cases become upsides here.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">class</span> <span class="token class-name">ApplicationRecord</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">inherited</span></span><span class="token punctuation">(</span>subclass<span class="token punctuation">)</span>
    <span class="token keyword">super</span>

    <span class="token keyword">return</span> <span class="token keyword">unless</span> subclass<span class="token punctuation">.</span>superclass <span class="token operator">==</span> <span class="token keyword">self</span>
    <span class="token keyword">return</span> <span class="token keyword">unless</span> subclass<span class="token punctuation">.</span>column_names<span class="token punctuation">.</span><span class="token keyword">include</span><span class="token operator">?</span> <span class="token string">'tenant_id'</span>

    subclass<span class="token punctuation">.</span>class_eval <span class="token keyword">do</span>
      default_scope <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">{</span> where<span class="token punctuation">(</span>tenant_id<span class="token punctuation">:</span> <span class="token constant">Tenant</span><span class="token punctuation">.</span>current_id<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

</code></pre></div><p>All you need to do is set <code>Tenant.current_id</code> to something early in the request, and any table that contains <code>tenant_id</code> will automatically become scoped without any additional code. Instantiating records will automatically inherit the tenant id they were created under.</p> <p>The important thing about this use-case is that the scope is set once per request, and it doesn't change. The only cases you will need <code>unscoped</code> here are special cases like background workers that run outside of a request scope.</p> <h2 id="don-t-repeat-yourself-dry"><a href="#don-t-repeat-yourself-dry" class="header-anchor">#</a> Don't Repeat Yourself (DRY)</h2> <p>To help to maintain clean code, Rails follows the principle of DRY.</p> <p>It involves whenever possible, re-using as much code as possible rather than duplicating similar code in multiple places (for example, using partials). This reduces <strong>errors</strong>, keeps your code <strong>clean</strong> and enforces the principle of <strong>writing code once</strong> and then reusing it. It is also easier and more efficient to update code in one place than to update multiple parts of the same code. Thus making your code more modular and robust.</p> <p>Also <strong>Fat Model, Skinny Controller</strong> is DRY, because you write the code in your model and in the controller only do the call, like:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># Post model</span>
scope <span class="token symbol">:unpublished</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>timestamp <span class="token operator">=</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token punctuation">)</span> <span class="token punctuation">{</span> where<span class="token punctuation">(</span><span class="token string">'published_at IS NULL OR published_at &gt; ?'</span><span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span> <span class="token punctuation">}</span> 


<span class="token comment"># Any controller</span>
<span class="token keyword">def</span> <span class="token method-definition"><span class="token function">index</span></span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token variable">@unpublished_posts</span> <span class="token operator">=</span> <span class="token constant">Post</span><span class="token punctuation">.</span>unpublished
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">end</span>

<span class="token keyword">def</span> <span class="token method-definition"><span class="token function">others</span></span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token variable">@unpublished_posts</span> <span class="token operator">=</span> <span class="token constant">Post</span><span class="token punctuation">.</span>unpublished
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">end</span>

</code></pre></div><p>This also helps lead to an API driven structure where internal methods are hidden and changes are achieved through passing parameters in an API fashion.</p> <h2 id="you-ain-t-gonna-need-it-yagni"><a href="#you-ain-t-gonna-need-it-yagni" class="header-anchor">#</a> You Ain’t Gonna Need it (YAGNI)</h2> <p>If you can say “YAGNI” (You ain’t gonna need it) about a feature, you better not implement it. There can be a lot of development time saved through focussing onto simplicity.
Implementing such features anyway can lead to problems:</p> <h3 id="problems"><a href="#problems" class="header-anchor">#</a> Problems</h3> <h3 id="overengineering"><a href="#overengineering" class="header-anchor">#</a> Overengineering</h3> <p>If a product is more complicated than it has to be, it is over engineered. Usually these “not yet used” features will never be used in the intended way they were written and have to be refactored if they ever get used.
Premature optimisations, especially performance optimisations, often lead to design decisions which will be proved wrong in the future.</p> <h3 id="code-bloat"><a href="#code-bloat" class="header-anchor">#</a> Code Bloat</h3> <p>Code Bloat means unnecessary complicated code. This can occur for example by abstraction, redundancy or incorrect application of design patterns. The code base becomes difficult to understand, confusing and expensive to maintain.</p> <h3 id="feature-creep"><a href="#feature-creep" class="header-anchor">#</a> Feature Creep</h3> <p>Feature Creep refers to adding new features that go beyond the core functionality of the product and lead to an unnecessarily high complexity of the product.</p> <h3 id="long-development-time"><a href="#long-development-time" class="header-anchor">#</a> Long development time</h3> <p>The time which could be used to develop necessary features is spent to develop unnecessary features. The product takes longer to deliver.</p> <h3 id="solutions"><a href="#solutions" class="header-anchor">#</a> Solutions</h3> <h3 id="kiss-keep-it-simple-stupid"><a href="#kiss-keep-it-simple-stupid" class="header-anchor">#</a> KISS - Keep it simple, stupid</h3> <p>According to KISS, most systems work the best if they are designed simple. Simplicity should be a primary design goal to reduce complexity. It can be achieved by following the “Single Responsibility Principle” for example.</p> <h3 id="yagni-you-ain-t-gonna-need-it"><a href="#yagni-you-ain-t-gonna-need-it" class="header-anchor">#</a> YAGNI – You Ain’t Gonna Need it</h3> <p>Less is more. Think about every feature, is it really needed? If you can think of any way that it’s YAGNI, leave it away. It’s better to develop it when it’s needed.</p> <h3 id="continuous-refactoring"><a href="#continuous-refactoring" class="header-anchor">#</a> Continuous Refactoring</h3> <p>The product is being improved steadily. With refactoring, we can make sure that the product is being done according to best practice and does not degenerate to a patch work.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/rubyonrails/rails-best-practices.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/rubyonrails/activerecord-migrations.html" class="prev">
        ActiveRecord Migrations
      </a></span> <span class="next"><a href="/rubyonrails/naming-conventions.html">
        Naming Conventions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/3170.459446d8.js" defer></script>
  </body>
</html>
