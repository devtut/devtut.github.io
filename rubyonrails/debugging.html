<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ruby on Rails - Debugging</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Debugging Rails Application, Debugging Ruby on Rails Quickly + Beginner advice, Debugging in your IDE, Debugging ruby-on-rails application with pry">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Ruby on Rails - Debugging">
    <meta property="og:description" content="Debugging Rails Application, Debugging Ruby on Rails Quickly + Beginner advice, Debugging in your IDE, Debugging ruby-on-rails application with pry">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/rubyonrails/debugging.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Ruby on Rails - Debugging">
    <meta name="twitter:description" content="Debugging Rails Application, Debugging Ruby on Rails Quickly + Beginner advice, Debugging in your IDE, Debugging ruby-on-rails application with pry">
    <meta name="twitter:url" content="/rubyonrails/debugging.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/3149.f6910134.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ruby on Rails</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rubyonrails/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/rubyonrails/getting-started-with-ruby-on-rails.html" class="sidebar-link">Getting started with Ruby on Rails</a></li><li><a href="/rubyonrails/routing.html" class="sidebar-link">Routing</a></li><li><a href="/rubyonrails/activerecord.html" class="sidebar-link">ActiveRecord</a></li><li><a href="/rubyonrails/views.html" class="sidebar-link">Views</a></li><li><a href="/rubyonrails/activerecord-migrations.html" class="sidebar-link">ActiveRecord Migrations</a></li><li><a href="/rubyonrails/rails-best-practices.html" class="sidebar-link">Rails Best Practices</a></li><li><a href="/rubyonrails/naming-conventions.html" class="sidebar-link">Naming Conventions</a></li><li><a href="/rubyonrails/actioncable.html" class="sidebar-link">ActionCable</a></li><li><a href="/rubyonrails/activemodel.html" class="sidebar-link">ActiveModel</a></li><li><a href="/rubyonrails/user-authentication-in-rails.html" class="sidebar-link">User Authentication in Rails</a></li><li><a href="/rubyonrails/activerecord-associations.html" class="sidebar-link">ActiveRecord Associations</a></li><li><a href="/rubyonrails/activerecord-validations.html" class="sidebar-link">ActiveRecord Validations</a></li><li><a href="/rubyonrails/activerecord-query-interface.html" class="sidebar-link">ActiveRecord Query Interface</a></li><li><a href="/rubyonrails/actionmailer.html" class="sidebar-link">ActionMailer</a></li><li><a href="/rubyonrails/rails-generate-commands.html" class="sidebar-link">Rails generate commands</a></li><li><a href="/rubyonrails/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/rubyonrails/i18n-internationalization.html" class="sidebar-link">I18n - Internationalization</a></li><li><a href="/rubyonrails/using-googlemaps-with-rails.html" class="sidebar-link">Using GoogleMaps with Rails</a></li><li><a href="/rubyonrails/file-uploads.html" class="sidebar-link">File Uploads</a></li><li><a href="/rubyonrails/caching.html" class="sidebar-link">Caching</a></li><li><a href="/rubyonrails/actioncontroller.html" class="sidebar-link">ActionController</a></li><li><a href="/rubyonrails/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/rubyonrails/safe-constantize.html" class="sidebar-link">Safe Constantize</a></li><li><a href="/rubyonrails/rails-5.html" class="sidebar-link">Rails 5</a></li><li><a href="/rubyonrails/authorization-with-cancan.html" class="sidebar-link">Authorization with CanCan</a></li><li><a href="/rubyonrails/mongoid.html" class="sidebar-link">Mongoid</a></li><li><a href="/rubyonrails/gems.html" class="sidebar-link">Gems</a></li><li><a href="/rubyonrails/change-default-timezone.html" class="sidebar-link">Change default timezone</a></li><li><a href="/rubyonrails/asset-pipeline.html" class="sidebar-link">Asset Pipeline</a></li><li><a href="/rubyonrails/upgrading-rails.html" class="sidebar-link">Upgrading Rails</a></li><li><a href="/rubyonrails/activerecord-locking.html" class="sidebar-link">ActiveRecord Locking</a></li><li><a href="/rubyonrails/debugging.html" aria-current="page" class="active sidebar-link">Debugging</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rubyonrails/debugging.html#debugging-rails-application" class="sidebar-link">Debugging Rails Application</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/debugging.html#debugging-ruby-on-rails-quickly-beginner-advice" class="sidebar-link">Debugging Ruby on Rails Quickly + Beginner advice</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/debugging.html#debugging-in-your-ide" class="sidebar-link">Debugging in your IDE</a></li><li class="sidebar-sub-header"><a href="/rubyonrails/debugging.html#debugging-ruby-on-rails-application-with-pry" class="sidebar-link">Debugging ruby-on-rails application with pry</a></li></ul></li><li><a href="/rubyonrails/configure-angular-with-rails.html" class="sidebar-link">Configure Angular with Rails</a></li><li><a href="/rubyonrails/rails-logger.html" class="sidebar-link">Rails logger</a></li><li><a href="/rubyonrails/prawn-pdf.html" class="sidebar-link">Prawn PDF</a></li><li><a href="/rubyonrails/rails-api.html" class="sidebar-link">Rails API</a></li><li><a href="/rubyonrails/deploying-a-rails-app-on-heroku.html" class="sidebar-link">Deploying a Rails app on Heroku</a></li><li><a href="/rubyonrails/activesupport.html" class="sidebar-link">ActiveSupport</a></li><li><a href="/rubyonrails/form-helpers.html" class="sidebar-link">Form Helpers</a></li><li><a href="/rubyonrails/activerecord-transactions.html" class="sidebar-link">ActiveRecord Transactions</a></li><li><a href="/rubyonrails/rspec-and-ruby-on-rails.html" class="sidebar-link">RSpec and Ruby on Rails</a></li><li><a href="/rubyonrails/decorator-pattern.html" class="sidebar-link">Decorator pattern</a></li><li><a href="/rubyonrails/elasticsearch.html" class="sidebar-link">Elasticsearch</a></li><li><a href="/rubyonrails/react-with-rails-using-react-rails-gem.html" class="sidebar-link">React with Rails using react-rails gem</a></li><li><a href="/rubyonrails/rails-cookbook-advanced-rails-recipes-learnings-and-coding-techniques.html" class="sidebar-link">Rails Cookbook - Advanced rails recipes/learnings and coding techniques</a></li><li><a href="/rubyonrails/multipurpose-activerecord-columns.html" class="sidebar-link">Multipurpose ActiveRecord columns</a></li><li><a href="/rubyonrails/class-organization.html" class="sidebar-link">Class Organization</a></li><li><a href="/rubyonrails/shallow-routing.html" class="sidebar-link">Shallow Routing</a></li><li><a href="/rubyonrails/model-states-aasm.html" class="sidebar-link">Model states: AASM</a></li><li><a href="/rubyonrails/rails-5-api-authetication.html" class="sidebar-link">Rails 5 API Authetication</a></li><li><a href="/rubyonrails/testing-rails-applications.html" class="sidebar-link">Testing Rails Applications</a></li><li><a href="/rubyonrails/active-jobs.html" class="sidebar-link">Active Jobs</a></li><li><a href="/rubyonrails/rails-frameworks-over-the-years.html" class="sidebar-link">Rails frameworks over the years</a></li><li><a href="/rubyonrails/nested-form-in-ruby-on-rails.html" class="sidebar-link">Nested form in Ruby on Rails</a></li><li><a href="/rubyonrails/factory-girl.html" class="sidebar-link">Factory Girl</a></li><li><a href="/rubyonrails/import-whole-csv-files-from-specific-folder.html" class="sidebar-link">Import whole CSV files from specific folder</a></li><li><a href="/rubyonrails/tools-for-ruby-on-rails-code-optimization-and-cleanup.html" class="sidebar-link">Tools for Ruby on Rails code optimization and cleanup</a></li><li><a href="/rubyonrails/activejob.html" class="sidebar-link">ActiveJob</a></li><li><a href="/rubyonrails/active-model-serializers.html" class="sidebar-link">Active Model Serializers</a></li><li><a href="/rubyonrails/rails-engine-modular-rails.html" class="sidebar-link">Rails Engine -  Modular Rails</a></li><li><a href="/rubyonrails/single-table-inheritance.html" class="sidebar-link">Single Table Inheritance</a></li><li><a href="/rubyonrails/activerecord-transactions.html" class="sidebar-link">ActiveRecord Transactions</a></li><li><a href="/rubyonrails/turbolinks.html" class="sidebar-link">Turbolinks</a></li><li><a href="/rubyonrails/friendly-id.html" class="sidebar-link">Friendly ID</a></li><li><a href="/rubyonrails/securely-storing-authentication-keys.html" class="sidebar-link">Securely storing authentication keys</a></li><li><a href="/rubyonrails/authenticate-api-using-devise.html" class="sidebar-link">Authenticate Api using Devise</a></li><li><a href="/rubyonrails/integrating-react-js-with-rails-using-hyperloop.html" class="sidebar-link">Integrating React.js with Rails Using Hyperloop</a></li><li><a href="/rubyonrails/change-a-default-rails-application-enviornment.html" class="sidebar-link">Change a default Rails application enviornment</a></li><li><a href="/rubyonrails/rails-engines.html" class="sidebar-link">Rails -Engines</a></li><li><a href="/rubyonrails/adding-an-amazon-rds-to-your-rails-application.html" class="sidebar-link">Adding an Amazon RDS to your rails application</a></li><li><a href="/rubyonrails/payment-feature-in-rails.html" class="sidebar-link">Payment feature in rails</a></li><li><a href="/rubyonrails/rails-on-docker.html" class="sidebar-link">Rails on docker</a></li><li><a href="/rubyonrails/reserved-words.html" class="sidebar-link">Reserved Words</a></li><li><a href="/rubyonrails/add-admin-panel.html" class="sidebar-link">Add Admin Panel</a></li><li><a href="/rubyonrails/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="debugging"><a href="#debugging" class="header-anchor">#</a> Debugging</h1> <h2 id="debugging-rails-application"><a href="#debugging-rails-application" class="header-anchor">#</a> Debugging Rails Application</h2> <p>To be able to debug an application is very important to understand the flow of an application's logic and data. It helps solving logical bugs and adds value to the programming experience and code quality.
Two popular gems for debugging are <a href="https://github.com/cldwalker/debugger" target="_blank" rel="noopener noreferrer">debugger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (for ruby 1.9.2 and 1.9.3) and <a href="https://github.com/deivid-rodriguez/byebug" target="_blank" rel="noopener noreferrer">byebug<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (for ruby &gt;= 2.x).</p> <p>For debugging <code>.rb</code> files, follow these steps:</p> <ol><li>Add <code>debugger</code> or <code>byebug</code> to the <code>development</code> group of <code>Gemfile</code></li> <li>Run <code>bundle install</code></li> <li>Add <code>debugger</code> or <code>byebug</code> as the breakpoint</li> <li>Run the code or make request</li> <li>See the rails server log stopped at the specified breakpoint</li> <li>At this point you can use your server terminal just like <code>rails console</code> and check the values of variable and params</li> <li>For moving to next instruction, type <code>next</code> and press <code>enter</code></li> <li>For stepping out type <code>c</code> and press <code>enter</code></li></ol> <p>If you want to debug <code>.html.erb</code> files, break point will be added as <code>&lt;% debugger %&gt;</code></p> <h2 id="debugging-ruby-on-rails-quickly-beginner-advice"><a href="#debugging-ruby-on-rails-quickly-beginner-advice" class="header-anchor">#</a> Debugging Ruby on Rails Quickly + Beginner advice</h2> <p><strong><strong>Debugging by raising exceptions</strong></strong> is <strong>far easier</strong> than squinting through <code>print</code> log statements, and for most bugs, its generally <strong>much faster</strong> than opening up an irb debugger like <code>pry</code> or <code>byebug</code>.  Those tools should not be your first step.</p> <h3 id="debugging-ruby-rails-quickly"><a href="#debugging-ruby-rails-quickly" class="header-anchor">#</a> Debugging Ruby/Rails Quickly:</h3> <h3>1. Fast Method:  Raise an `Exception` then and `.inspect` its result</h3> <p>The <strong>fastest</strong> way to debug Ruby (especially Rails) code is to <code>raise</code> an exception along the execution path of your code while calling <code>.inspect</code> on the method or object (e.g. <code>foo</code>):</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">raise</span> foo<span class="token punctuation">.</span>inspect

</code></pre></div><p>In the above code, <strong><code>raise</code></strong> triggers an <strong><code>Exception</code></strong> that <strong>halts execution of your code</strong>, and returns an error message that conveniently contains <code>.inspect</code> information about the object/method (i.e. <code>foo</code>) on the line that you're trying to debug.</p> <p>This technique is useful for <strong>quickly</strong> examining an object or method (<strong>e.g. is it <code>nil</code>?</strong>) and for immediately confirming whether a line of code is even getting executed at all within a given context.</p> <h3>2. Fallback: Use a ruby *IRB* debugger like `byebug` or `pry`</h3> <p>Only after you have information about the state of your codes execution flow should you consider moving to a ruby gem irb debugger like <code>pry</code> or <code>byebug</code> where you can delve more deeply into the state of objects within your execution path.</p> <p>To use the <code>byebug</code> gem for debugging in Rails:</p> <ol><li>Add <code>gem 'byebug'</code> inside the <strong>development</strong> group in your <strong>Gemfile</strong></li> <li>Run <code>bundle install</code></li> <li>Then to use, insert the phrase <code>byebug</code> inside the execution path of the code you want examined.</li></ol> <p>This <code>byebug</code> variable when executed will open up an ruby IRB session of your code, giving you direct access to the state of objects as they are at that point in the code's execution.</p> <p>IRB debuggers like Byebug are useful for deeply analyzing the state of your code as it executes.  However, they are more time consuming procedure compared to raising errors, so in most situations they should not be your first step.</p> <h3 id="general-beginner-advice"><a href="#general-beginner-advice" class="header-anchor">#</a> General Beginner Advice</h3> <p>When you are trying to debug a problem, good advice is to always:  <strong>Read The !@#$ing Error Message (RTFM)</strong></p> <p>That means reading error messages <strong>carefully</strong> and <strong>completely</strong> before acting so that you <strong>understand what it's trying to tell you.</strong>  When you debug, ask the following mental questions, <strong>in this order</strong>, when reading an error message:</p> <ol><li>What <strong><strong>class</strong></strong> does the error reference? (i.e. <strong>do I have the correct object class or is my object <code>nil</code>?</strong>)</li> <li>What <strong><strong>method</strong></strong> does the error reference? (i.e. <strong>is their a type in the method; can I call this method on this type/class of object?</strong>)</li> <li>Finally, using what I can infer from my last two questions, what <strong><strong>lines of code</strong></strong> should I investigate? (remember: the last line of code in the stack trace is not necessarily where the problem lies.)</li></ol> <p>In the stack trace pay particular attention to lines of code that come from your project (e.g. lines starting with <code>app/...</code> if you are using Rails). 99% of the time the problem is with your own code.</p> <p>To illustrate why interpreting <strong>in this order</strong> is important...</p> <h3>E.g. a Ruby error message that confuses many beginners:</h3> <p>You execute code that at some point executes as such:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token variable">@foo</span> <span class="token operator">=</span> <span class="token constant">Foo</span><span class="token punctuation">.</span><span class="token keyword">new</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token variable">@foo</span><span class="token punctuation">.</span>bar

</code></pre></div><p>and you get an error that states:</p> <p><strong><code>undefined method &quot;bar&quot; for Nil:nilClass</code></strong></p> <p>Beginners see this error and think the problem is that the method <code>bar</code> is <strong>undefined</strong>. <strong>It's not.</strong> In this error the real part that matters is:</p> <p><code>for Nil:nilClass</code></p> <p><strong><code>for Nil:nilClass</code> means that <code>@foo</code> is Nil!</strong> <code>@foo</code> is not a <code>Foo</code> instance variable! You have an object that is <code>Nil</code>. When you see this error, it's simply ruby trying to tell you that the method <code>bar</code> doesn't exist for objects of the class <code>Nil</code>. (well duh! since we are trying to use a method for an object of the class <code>Foo</code> not <code>Nil</code>).</p> <p>Unfortunately, due to how this error is written (<code>undefined method &quot;bar&quot; for Nil:nilClass</code>) its easy to get tricked into thinking this error has to do with <code>bar</code> being <code>undefined</code>.  When not read carefully this error causes beginners to mistakenly go digging into the details of the <code>bar</code> method on <code>Foo</code>, entirely missing the part of the error that hints that the object is of the wrong class (in this case: nil).  It's a mistake that's easily avoided by reading error messages in their entirety.</p> <p><strong>Summary:</strong></p> <p>Always carefully <strong>read the <strong>entire</strong> error message</strong> before beginning any debugging.  That means:  Always check the <strong><strong>class</strong></strong> type of an object in an error message <strong>first</strong>, then its <strong><strong>methods</strong></strong>, <strong>before</strong> you begin sleuthing into any stacktrace or line of code where you think the error may be occurring.  Those 5 seconds can save you 5 hours of frustration.</p> <p><strong>tl;dr:</strong> Don't squint at print logs: raise exceptions instead.  Avoid rabbit holes by reading errors carefully before debugging.</p> <h2 id="debugging-in-your-ide"><a href="#debugging-in-your-ide" class="header-anchor">#</a> Debugging in your IDE</h2> <p>Every good <a href="https://en.wikipedia.org/wiki/Integrated_development_environment" target="_blank" rel="noopener noreferrer">IDE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> provides a <a href="https://en.wikipedia.org/wiki/Graphical_user_interface" target="_blank" rel="noopener noreferrer">GUI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for interactively debugging Ruby (and thus Rails) applications where you can add breakpoints, watches, auto pausing on exception and allows you to follow the code execution even step by step, line by line.</p> <p>For example, take a look at one of the best Ruby IDE's, RubyMine's debugging features on the picture</p> <p><a href="http://i.stack.imgur.com/pZQO7.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/pZQO7.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="debugging-ruby-on-rails-application-with-pry"><a href="#debugging-ruby-on-rails-application-with-pry" class="header-anchor">#</a> Debugging ruby-on-rails application with pry</h2> <p><a href="https://github.com/pry/pry" target="_blank" rel="noopener noreferrer">pry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a powerful tool that can be used to debug any ruby application. Setting up a ruby-on-rails application with this gem is very easy and straightforward.</p> <p><strong>Setup</strong></p> <p>To start debugging your application with pry</p> <ul><li>Add <code>gem 'pry'</code> to the application's <code>Gemfile</code> and bundle it</li></ul> <div class="language-ruby extra-class"><pre class="language-ruby"><code>group <span class="token symbol">:development</span><span class="token punctuation">,</span> <span class="token symbol">:test</span> <span class="token keyword">do</span>
  gem <span class="token string">'pry'</span>
<span class="token keyword">end</span>

</code></pre></div><ul><li>Navigate to the application's root directory on terminal console and run <code>bundle install</code>. You're all set to start using it anywhere on your application.</li></ul> <p><strong>Use</strong></p> <p>Using pry in your application is just including <code>binding.pry</code> on the breakpoints you want to inspect while debugging. You can add <code>binding.pry</code> breakpoints anywhere in your application that is interpreted by ruby interpreter (any app/controllers, app/models, app/views files)</p> <p>i) Debugging a Controller</p> <p><strong>app/controllers/users_controller.rb</strong></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">class</span> <span class="token class-name">UsersController</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationController</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">show</span></span>
    use_id <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token symbol">:id</span><span class="token punctuation">]</span>
    <span class="token operator">/</span><span class="token operator">/</span> breakpoint to inspect <span class="token keyword">if</span> the action is receiving param as expected
    binding<span class="token punctuation">.</span>pry
    <span class="token variable">@user</span> <span class="token operator">=</span> <span class="token constant">User</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
    respond_to <span class="token keyword">do</span> <span class="token operator">|</span>format<span class="token operator">|</span>
      format<span class="token punctuation">.</span>html
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

</code></pre></div><p>In this example, the rails server pauses with a pry console at the break-point when you try to visit a page routing to <code>show</code> action on <code>UsersController</code>. You can inspect <code>params</code> object and make ActiveRecord query on <code>User</code> model from that breakpoint</p> <p>ii) Debugging a View</p> <p><strong>app/views/users/show.html.haml</strong></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token operator">%</span>table
  <span class="token operator">%</span>tbody
    <span class="token operator">%</span>tr
      <span class="token operator">%</span>td <span class="token constant">ID</span>
      <span class="token operator">%</span>td<span class="token operator">=</span> <span class="token variable">@user</span><span class="token punctuation">.</span>id
    <span class="token operator">%</span>tr
      <span class="token operator">%</span>td email
      <span class="token operator">%</span>td<span class="token operator">=</span> <span class="token variable">@user</span><span class="token punctuation">.</span>email
    <span class="token operator">%</span>tr
      <span class="token operator">%</span>td logged <span class="token keyword">in</span> <span class="token operator">?</span>          
      <span class="token operator">%</span>td
        <span class="token operator">-</span> binding<span class="token punctuation">.</span>pry
        <span class="token operator">-</span> <span class="token keyword">if</span> <span class="token variable">@user</span><span class="token punctuation">.</span>logged_in<span class="token operator">?</span>
          <span class="token operator">%</span>p<span class="token operator">=</span> <span class="token string">&quot;Logged in&quot;</span>
        <span class="token operator">-</span> <span class="token keyword">else</span>
          <span class="token operator">%</span>p<span class="token operator">=</span> <span class="token string">&quot;Logged out&quot;</span>

</code></pre></div><p>In this example, the break-point pauses with pry console when the <code>users/show</code> page is pre-compiled in the rails server before sending it back to the client's browser. This break-point allows to debug correctness of <code>@user.logged_in?</code> when it is misbehaving.</p> <p>ii) Debugging a Model</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>app<span class="token operator">/</span>models<span class="token operator">/</span>user<span class="token punctuation">.</span>rb

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span>    
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">full_name</span></span>
    binding<span class="token punctuation">.</span>pry
    <span class="token string">&quot;<span class="token interpolation"><span class="token delimiter tag">#{</span><span class="token keyword">self</span><span class="token punctuation">.</span>first_name<span class="token delimiter tag">}</span></span> <span class="token interpolation"><span class="token delimiter tag">#{</span><span class="token keyword">self</span><span class="token punctuation">.</span>last_name<span class="token delimiter tag">}</span></span>&quot;</span>
  <span class="token keyword">end</span>      
<span class="token keyword">end</span>

</code></pre></div><p>In this example, the break-point can be used to debug <code>User</code> model's instance method <code>full_name</code> when this method is called from anywhere in the application.</p> <p>In conclusion, pry is a powerful debugging tool for rails application with easy setup and straightforward debugging guideline. Give this a try.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/rubyonrails/debugging.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/rubyonrails/activerecord-locking.html" class="prev">
        ActiveRecord Locking
      </a></span> <span class="next"><a href="/rubyonrails/configure-angular-with-rails.html">
        Configure Angular with Rails
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/3149.f6910134.js" defer></script>
  </body>
</html>
