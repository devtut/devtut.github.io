<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>R - Subsetting</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Data frames, Atomic vectors, Matrices, Lists, Other objects, Vector indexing, Elementwise Matrix Operations">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="R - Subsetting">
    <meta property="og:description" content="Data frames, Atomic vectors, Matrices, Lists, Other objects, Vector indexing, Elementwise Matrix Operations">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/r/subsetting.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="R - Subsetting">
    <meta name="twitter:description" content="Data frames, Atomic vectors, Matrices, Lists, Other objects, Vector indexing, Elementwise Matrix Operations">
    <meta name="twitter:url" content="/r/subsetting.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/2964.875f5f98.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>R</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/r/" class="sidebar-link">Disclaimer</a></li><li><a href="/r/getting-started-with-r-language.html" class="sidebar-link">Getting started with R Language</a></li><li><a href="/r/variables.html" class="sidebar-link">Variables</a></li><li><a href="/r/arithmetic-operators.html" class="sidebar-link">Arithmetic Operators</a></li><li><a href="/r/matrices.html" class="sidebar-link">Matrices</a></li><li><a href="/r/formula.html" class="sidebar-link">Formula</a></li><li><a href="/r/reading-and-writing-strings.html" class="sidebar-link">Reading and writing strings</a></li><li><a href="/r/string-manipulation-with-stringi-package.html" class="sidebar-link">String manipulation with stringi package</a></li><li><a href="/r/classes.html" class="sidebar-link">Classes</a></li><li><a href="/r/lists.html" class="sidebar-link">Lists</a></li><li><a href="/r/hashmaps.html" class="sidebar-link">Hashmaps</a></li><li><a href="/r/creating-vectors.html" class="sidebar-link">Creating vectors</a></li><li><a href="/r/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/r/the-date-class.html" class="sidebar-link">The Date class</a></li><li><a href="/r/date-time-classes-posixct-and-posixlt.html" class="sidebar-link">Date-time classes (POSIXct and POSIXlt)</a></li><li><a href="/r/the-character-class.html" class="sidebar-link">The character class</a></li><li><a href="/r/numeric-classes-and-storage-modes.html" class="sidebar-link">Numeric classes and storage modes</a></li><li><a href="/r/the-logical-class.html" class="sidebar-link">The logical class</a></li><li><a href="/r/data-frames.html" class="sidebar-link">Data frames</a></li><li><a href="/r/split-function.html" class="sidebar-link">Split function</a></li><li><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html" class="sidebar-link">Reading and writing tabular data in plain-text files (CSV, TSV, etc.)</a></li><li><a href="/r/pipe-operators-and-others.html" class="sidebar-link">Pipe operators (%&gt;% and others)</a></li><li><a href="/r/linear-models-regression.html" class="sidebar-link">Linear Models (Regression)</a></li><li><a href="/r/data-table.html" class="sidebar-link">data.table</a></li><li><a href="/r/pivot-and-unpivot-with-data-table.html" class="sidebar-link">Pivot and unpivot with data.table</a></li><li><a href="/r/bar-chart.html" class="sidebar-link">Bar Chart</a></li><li><a href="/r/base-plotting.html" class="sidebar-link">Base Plotting</a></li><li><a href="/r/boxplot.html" class="sidebar-link">boxplot</a></li><li><a href="/r/ggplot2.html" class="sidebar-link">ggplot2</a></li><li><a href="/r/factors.html" class="sidebar-link">Factors</a></li><li><a href="/r/pattern-matching-and-replacement.html" class="sidebar-link">Pattern Matching and Replacement</a></li><li><a href="/r/run-length-encoding.html" class="sidebar-link">Run-length encoding</a></li><li><a href="/r/speeding-up-tough-to-vectorize-code.html" class="sidebar-link">Speeding up tough-to-vectorize code</a></li><li><a href="/r/introduction-to-geographical-maps.html" class="sidebar-link">Introduction to Geographical Maps</a></li><li><a href="/r/set-operations.html" class="sidebar-link">Set operations</a></li><li><a href="/r/tidyverse.html" class="sidebar-link">tidyverse</a></li><li><a href="/r/rcpp.html" class="sidebar-link">Rcpp</a></li><li><a href="/r/random-numbers-generator.html" class="sidebar-link">Random Numbers Generator</a></li><li><a href="/r/parallel-processing.html" class="sidebar-link">Parallel processing</a></li><li><a href="/r/subsetting.html" class="active sidebar-link">Subsetting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/r/subsetting.html#data-frames" class="sidebar-link">Data frames</a></li><li class="sidebar-sub-header"><a href="/r/subsetting.html#atomic-vectors" class="sidebar-link">Atomic vectors</a></li><li class="sidebar-sub-header"><a href="/r/subsetting.html#matrices" class="sidebar-link">Matrices</a></li><li class="sidebar-sub-header"><a href="/r/subsetting.html#lists" class="sidebar-link">Lists</a></li><li class="sidebar-sub-header"><a href="/r/subsetting.html#other-objects" class="sidebar-link">Other objects</a></li><li class="sidebar-sub-header"><a href="/r/subsetting.html#vector-indexing" class="sidebar-link">Vector indexing</a></li><li class="sidebar-sub-header"><a href="/r/subsetting.html#elementwise-matrix-operations" class="sidebar-link">Elementwise Matrix Operations</a></li></ul></li><li><a href="/r/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/r/installing-packages.html" class="sidebar-link">Installing packages</a></li><li><a href="/r/updating-r-and-the-package-library.html" class="sidebar-link">Updating R and the package library</a></li><li><a href="/r/inspecting-packages.html" class="sidebar-link">Inspecting packages</a></li><li><a href="/r/creating-packages-with-devtools.html" class="sidebar-link">Creating packages with devtools</a></li><li><a href="/r/using-pipe-assignment-in-your-own-package-how-to.html" class="sidebar-link">Using pipe assignment in your own package %%: How to ?</a></li><li><a href="/r/arima-models.html" class="sidebar-link">Arima Models</a></li><li><a href="/r/distribution-functions.html" class="sidebar-link">Distribution Functions</a></li><li><a href="/r/shiny.html" class="sidebar-link">Shiny</a></li><li><a href="/r/spatial-analysis.html" class="sidebar-link">spatial analysis</a></li><li><a href="/r/sqldf.html" class="sidebar-link">sqldf</a></li><li><a href="/r/code-profiling.html" class="sidebar-link">Code profiling</a></li><li><a href="/r/control-flow-structures.html" class="sidebar-link">Control flow structures</a></li><li><a href="/r/column-wise-operation.html" class="sidebar-link">Column wise operation</a></li><li><a href="/r/json.html" class="sidebar-link">JSON</a></li><li><a href="/r/rodbc.html" class="sidebar-link">RODBC</a></li><li><a href="/r/lubridate.html" class="sidebar-link">lubridate</a></li><li><a href="/r/time-series-and-forecasting.html" class="sidebar-link">Time Series and Forecasting</a></li><li><a href="/r/strsplit-function.html" class="sidebar-link">strsplit function</a></li><li><a href="/r/web-scraping-and-parsing.html" class="sidebar-link">Web scraping and parsing</a></li><li><a href="/r/generalized-linear-models.html" class="sidebar-link">Generalized linear models</a></li><li><a href="/r/reshaping-data-between-long-and-wide-forms.html" class="sidebar-link">Reshaping data between long and wide forms</a></li><li><a href="/r/rmarkdown-and-knitr-presentation.html" class="sidebar-link">RMarkdown and knitr presentation</a></li><li><a href="/r/scope-of-variables.html" class="sidebar-link">Scope of variables</a></li><li><a href="/r/performing-a-permutation-test.html" class="sidebar-link">Performing a Permutation Test</a></li><li><a href="/r/xgboost.html" class="sidebar-link">xgboost</a></li><li><a href="/r/r-code-vectorization-best-practices.html" class="sidebar-link">R code vectorization best practices</a></li><li><a href="/r/missing-values.html" class="sidebar-link">Missing values</a></li><li><a href="/r/hierarchical-linear-modeling.html" class="sidebar-link">Hierarchical Linear Modeling</a></li><li><a href="/r/apply-family-of-functions-functionals.html" class="sidebar-link">*apply family of functions (functionals)</a></li><li><a href="/r/text-mining.html" class="sidebar-link">Text mining</a></li><li><a href="/r/anova.html" class="sidebar-link">ANOVA</a></li><li><a href="/r/raster-and-image-analysis.html" class="sidebar-link">Raster and Image Analysis</a></li><li><a href="/r/survival-analysis.html" class="sidebar-link">Survival analysis</a></li><li><a href="/r/fault-tolerant-resilient-code.html" class="sidebar-link">Fault-tolerant/resilient code</a></li><li><a href="/r/reproducible-r.html" class="sidebar-link">Reproducible R</a></li><li><a href="/r/fourier-series-and-transformations.html" class="sidebar-link">Fourier Series and Transformations</a></li><li><a href="/r/rprofile.html" class="sidebar-link">.Rprofile</a></li><li><a href="/r/dplyr.html" class="sidebar-link">dplyr</a></li><li><a href="/r/caret.html" class="sidebar-link">caret</a></li><li><a href="/r/extracting-and-listing-files-in-compressed-archives.html" class="sidebar-link">Extracting and Listing Files in Compressed Archives</a></li><li><a href="/r/probability-distributions-with-r.html" class="sidebar-link">Probability Distributions with R</a></li><li><a href="/r/r-in-latex-with-knitr.html" class="sidebar-link">R in LaTeX with knitr</a></li><li><a href="/r/web-crawling-in-r.html" class="sidebar-link">Web Crawling in R</a></li><li><a href="/r/creating-reports-with-rmarkdown.html" class="sidebar-link">Creating reports with RMarkdown</a></li><li><a href="/r/gpu-accelerated-computing.html" class="sidebar-link">GPU-accelerated computing</a></li><li><a href="/r/heatmap-and-heatmap-2.html" class="sidebar-link">heatmap and heatmap.2</a></li><li><a href="/r/network-analysis-with-the-igraph-package.html" class="sidebar-link">Network analysis with the igraph package</a></li><li><a href="/r/functional-programming.html" class="sidebar-link">Functional programming</a></li><li><a href="/r/get-user-input.html" class="sidebar-link">Get user input</a></li><li><a href="/r/spark-api-sparkr.html" class="sidebar-link">Spark API (SparkR)</a></li><li><a href="/r/meta-documentation-guidelines.html" class="sidebar-link">Meta: Documentation Guidelines</a></li><li><a href="/r/input-and-output.html" class="sidebar-link">Input and output</a></li><li><a href="/r/i-o-for-foreign-tables-excel-sas-spss-stata.html" class="sidebar-link">I/O for foreign tables (Excel, SAS, SPSS, Stata)</a></li><li><a href="/r/i-o-for-database-tables.html" class="sidebar-link">I/O for database tables</a></li><li><a href="/r/i-o-for-geographic-data-shapefiles-etc.html" class="sidebar-link">I/O for geographic data (shapefiles, etc.)</a></li><li><a href="/r/i-o-for-raster-images.html" class="sidebar-link">I/O for raster images</a></li><li><a href="/r/i-o-for-r-s-binary-format.html" class="sidebar-link">I/O for R's binary format</a></li><li><a href="/r/recycling.html" class="sidebar-link">Recycling</a></li><li><a href="/r/expression-parse-eval.html" class="sidebar-link">Expression: parse + eval</a></li><li><a href="/r/regular-expression-syntax-in-r.html" class="sidebar-link">Regular Expression Syntax in R</a></li><li><a href="/r/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (regex)</a></li><li><a href="/r/combinatorics.html" class="sidebar-link">Combinatorics</a></li><li><a href="/r/solving-odes-in-r.html" class="sidebar-link">Solving ODEs in R</a></li><li><a href="/r/feature-selection-in-r-removing-extraneous-features.html" class="sidebar-link">Feature Selection in R -- Removing Extraneous Features</a></li><li><a href="/r/bibliography-in-rmd.html" class="sidebar-link">Bibliography in RMD</a></li><li><a href="/r/writing-functions-in-r.html" class="sidebar-link">Writing functions in R</a></li><li><a href="/r/color-schemes-for-graphics.html" class="sidebar-link">Color schemes for graphics</a></li><li><a href="/r/hierarchical-clustering-with-hclust.html" class="sidebar-link">Hierarchical clustering with hclust</a></li><li><a href="/r/random-forest-algorithm.html" class="sidebar-link">Random Forest Algorithm</a></li><li><a href="/r/restful-r-services.html" class="sidebar-link">RESTful R Services</a></li><li><a href="/r/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/r/using-texreg-to-export-models-in-a-paper-ready-way.html" class="sidebar-link">Using texreg to export models in a paper-ready way</a></li><li><a href="/r/publishing.html" class="sidebar-link">Publishing</a></li><li><a href="/r/implement-state-machine-pattern-using-s4-class.html" class="sidebar-link">Implement State Machine Pattern using S4 Class</a></li><li><a href="/r/reshape-using-tidyr.html" class="sidebar-link">Reshape using tidyr</a></li><li><a href="/r/modifying-strings-by-substitution.html" class="sidebar-link">Modifying strings by substitution</a></li><li><a href="/r/non-standard-evaluation-and-standard-evaluation.html" class="sidebar-link">Non-standard evaluation and standard evaluation</a></li><li><a href="/r/randomization.html" class="sidebar-link">Randomization</a></li><li><a href="/r/object-oriented-programming-in-r.html" class="sidebar-link">Object-Oriented Programming in R</a></li><li><a href="/r/coercion.html" class="sidebar-link">Coercion</a></li><li><a href="/r/standardize-analyses-by-writing-standalone-r-scripts.html" class="sidebar-link">Standardize analyses by writing standalone R scripts</a></li><li><a href="/r/analyze-tweets-with-r.html" class="sidebar-link">Analyze tweets with R</a></li><li><a href="/r/natural-language-processing.html" class="sidebar-link">Natural language processing</a></li><li><a href="/r/r-markdown-notebooks-from-rstudio.html" class="sidebar-link">R Markdown Notebooks (from RStudio)</a></li><li><a href="/r/aggregating-data-frames.html" class="sidebar-link">Aggregating data frames</a></li><li><a href="/r/data-acquisition.html" class="sidebar-link">Data acquisition</a></li><li><a href="/r/r-memento-by-examples.html" class="sidebar-link">R memento by examples</a></li><li><a href="/r/updating-r-version.html" class="sidebar-link">Updating R version</a></li><li><a href="/r/introspection.html" class="sidebar-link">Introspection</a></li><li><a href="/r/roxygen2.html" class="sidebar-link">roxygen2</a></li><li><a href="/r/cleaning-data.html" class="sidebar-link">Cleaning data</a></li><li><a href="/r/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="subsetting"><a href="#subsetting" class="header-anchor">#</a> Subsetting</h1> <p>Given an R object, we may require separate analysis for one or more parts of the data contained in it. The process of obtaining these parts of the data from a given object is called <code>subsetting</code>.</p> <h2 id="data-frames"><a href="#data-frames" class="header-anchor">#</a> Data frames</h2> <p><strong>Subsetting a data frame into a smaller data frame</strong> can be accomplished the same as subsetting a list.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> df3 <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> y <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stringsAsFactors <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span> df3
<span class="token comment">##   x y</span>
<span class="token comment">## 1 1 a</span>
<span class="token comment">## 2 2 b</span>
<span class="token comment">## 3 3 c</span>

<span class="token operator">&gt;</span> df3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>   <span class="token comment"># Subset a variable by number</span>
<span class="token comment">##   x</span>
<span class="token comment">## 1 1</span>
<span class="token comment">## 2 2</span>
<span class="token comment">## 3 3</span>

<span class="token operator">&gt;</span> df3<span class="token punctuation">[</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">]</span>   <span class="token comment"># Subset a variable by name </span>
<span class="token comment">##   x</span>
<span class="token comment">## 1 1</span>
<span class="token comment">## 2 2</span>
<span class="token comment">## 3 3</span>

<span class="token operator">&gt;</span> is.data.frame<span class="token punctuation">(</span>df3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">## TRUE</span>

<span class="token operator">&gt;</span> is.list<span class="token punctuation">(</span>df3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">## TRUE</span>

</code></pre></div><p><strong>Subsetting a dataframe into a column vector</strong> can be accomplished using double brackets [[  ]] or the dollar sign operator $.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> df3<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>    <span class="token comment"># Subset a variable by number using [[ ]]</span>
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

<span class="token operator">&gt;</span> df3<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment"># Subset a variable by name using [[ ]]</span>
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

<span class="token operator">&gt;</span> df3<span class="token operator">$</span>x    <span class="token comment"># Subset a variable by name using $</span>
<span class="token comment">## [1] 1 2 3</span>

<span class="token operator">&gt;</span> typeof<span class="token punctuation">(</span>df3<span class="token operator">$</span>x<span class="token punctuation">)</span>
<span class="token comment">## &quot;integer&quot;</span>

<span class="token operator">&gt;</span> is.vector<span class="token punctuation">(</span>df3<span class="token operator">$</span>x<span class="token punctuation">)</span>
<span class="token comment">## TRUE</span>

</code></pre></div><p><strong>Subsetting a data as a two dimensional matrix</strong> can be accomplished using <code>i</code> and <code>j</code> terms.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> df3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>    <span class="token comment"># Subset row and column by number</span>
<span class="token comment">## [1] &quot;a&quot;</span>

<span class="token operator">&gt;</span> df3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">]</span>  <span class="token comment"># Subset row by number and column by name</span>
<span class="token comment">## [1] &quot;a&quot;</span>

<span class="token operator">&gt;</span> df3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">]</span>     <span class="token comment"># Subset entire row by number  </span>
<span class="token comment">##   x y</span>
<span class="token comment">## 2 2 b</span>

<span class="token operator">&gt;</span> df3<span class="token punctuation">[</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>    <span class="token comment"># Subset all first variables </span>
<span class="token comment">## [1] 1 2 3</span>

<span class="token operator">&gt;</span> df3<span class="token punctuation">[</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> drop <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">]</span>
<span class="token comment">##   x</span>
<span class="token comment">## 1 1</span>
<span class="token comment">## 2 2</span>
<span class="token comment">## 3 3</span>

</code></pre></div><p>Note: Subsetting by <code>j</code> (column) alone simplifies to the variable's own type, but subsetting by <code>i</code> alone returns a <code>data.frame</code>, as the different variables may have different types and classes. Setting the <code>drop</code> parameter to <code>FALSE</code> keeps the data frame.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> is.vector<span class="token punctuation">(</span>df3<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">## TRUE</span>

<span class="token operator">&gt;</span> is.data.frame<span class="token punctuation">(</span>df3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">## TRUE</span>

<span class="token operator">&gt;</span> is.data.frame<span class="token punctuation">(</span>df3<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> drop <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">## TRUE</span>

</code></pre></div><h2 id="atomic-vectors"><a href="#atomic-vectors" class="header-anchor">#</a> Atomic vectors</h2> <p>Atomic vectors (which excludes lists and expressions, which are also vectors) are subset using the <code>[</code> operator:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># create an example vector</span>
v1 <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># select the third element</span>
v1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment">## [1] &quot;c&quot;</span>

</code></pre></div><p>The <code>[</code> operator can also take a vector as the argument. For example, to select the first and third elements:</p> <div class="language-r extra-class"><pre class="language-r"><code>v1 <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span>

v1<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">## [1] &quot;a&quot; &quot;c&quot;</span>

</code></pre></div><p>Some times we may require to omit a particular value from the vector. This can be achieved using a negative sign(<code>-</code>) before the index of that value. For example, to omit to omit the first value from v1, use <code>v1[-1]</code>. This can be extended to more than one value in a straight forward way. For example, <code>v1[-c(1,3)]</code>.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> v1<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">&quot;b&quot;</span> <span class="token string">&quot;c&quot;</span> <span class="token string">&quot;d&quot;</span>
<span class="token operator">&gt;</span> v1<span class="token punctuation">[</span><span class="token operator">-</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">&quot;b&quot;</span> <span class="token string">&quot;d&quot;</span>

</code></pre></div><p>On some occasions, we would like to know, especially, when the length of the vector is large, index of a particular value, if it exists:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> v1<span class="token operator">==</span><span class="token string">&quot;c&quot;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">FALSE</span> <span class="token boolean">FALSE</span>  <span class="token boolean">TRUE</span> <span class="token boolean">FALSE</span>
<span class="token operator">&gt;</span> which<span class="token punctuation">(</span>v1<span class="token operator">==</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">3</span>

</code></pre></div><p>If the atomic vector has names (a <code>names</code> attribute), it can be subset using a character vector of names:</p> <div class="language-r extra-class"><pre class="language-r"><code>v <span class="token operator">&lt;-</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span>
names<span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;three&quot;</span><span class="token punctuation">)</span>

v
<span class="token comment">##  one   two three </span>
<span class="token comment">##    1     2     3 </span>

v<span class="token punctuation">[</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">]</span>
<span class="token comment">## two </span>
<span class="token comment">##   2</span>

</code></pre></div><p>The <code>[[</code> operator can also be used to index atomic vectors, with differences in that it accepts a indexing vector with a length of one and strips any names present:</p> <div class="language-r extra-class"><pre class="language-r"><code>v<span class="token punctuation">[</span><span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## Error in v[[c(1, 2)]] : </span>
<span class="token comment">##  attempt to select more than one element in vectorIndex</span>

v<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## [1] 2</span>

</code></pre></div><p>Vectors can also be subset using a logical vector. In contrast to subsetting with numeric and character vectors, the logical vector used to subset has to be equal to the length of the vector whose elements are extracted, so if a logical vector <code>y</code> is used to subset <code>x</code>, i.e. <code>x[y]</code>, if <code>length(y) &lt; length(x)</code> then <code>y</code> will be recycled to match <code>length(x)</code>:</p> <div class="language-r extra-class"><pre class="language-r"><code>v<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">##  one three </span>
<span class="token comment">##    1     3 </span>

v<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment"># recycled to 'c(FALSE, TRUE, FALSE)'</span>
<span class="token comment">## two </span>
<span class="token comment">##   2 </span>

v<span class="token punctuation">[</span><span class="token boolean">TRUE</span><span class="token punctuation">]</span>   <span class="token comment"># recycled to 'c(TRUE, TRUE, TRUE)'</span>
<span class="token comment">##  one   two three </span>
<span class="token comment">##    1     2     3 </span>

v<span class="token punctuation">[</span><span class="token boolean">FALSE</span><span class="token punctuation">]</span>   <span class="token comment"># handy to discard elements but save the vector's type and basic structure</span>
<span class="token comment">## named integer(0)</span>

</code></pre></div><h2 id="matrices"><a href="#matrices" class="header-anchor">#</a> Matrices</h2> <p>For each dimension of an object, the <code>[</code> operator takes one argument. Vectors have one dimension and take one argument. Matrices and data frames have two dimensions and take two arguments, given as <code>[i, j]</code> where <code>i</code> is the row and <code>j</code> is the column. Indexing starts at 1.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment">## a sample matrix</span>
mat <span class="token operator">&lt;-</span> matrix<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span> nrow <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> dimnames <span class="token operator">=</span> list<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">&quot;row1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;row2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token string">&quot;col1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;col2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;col3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

mat
<span class="token comment">#      col1 col2 col3</span>
<span class="token comment"># row1    1    3    5</span>
<span class="token comment"># row2    2    4    6</span>

</code></pre></div><p><code>mat[i,j]</code> is the element in the <code>i</code>-th row, <code>j</code>-th column of the matrix <code>mat</code>. For example, an <code>i</code> value of <code>2</code> and a <code>j</code> value of <code>1</code> gives the number in the second row and the first column of the matrix. Omitting <code>i</code> or <code>j</code> returns all values in that dimension.</p> <div class="language-r extra-class"><pre class="language-r"><code>mat<span class="token punctuation">[</span> <span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment">## row1 row2 </span>
<span class="token comment">##    5    6 </span>

mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">]</span>
<span class="token comment"># col1 col2 col3 </span>
<span class="token comment">#    1    3    5 </span>

</code></pre></div><p>When the matrix has row or column names (not required), these can be used for subsetting:</p> <div class="language-r extra-class"><pre class="language-r"><code>mat<span class="token punctuation">[</span> <span class="token punctuation">,</span> <span class="token string">'col1'</span><span class="token punctuation">]</span>
<span class="token comment"># row1 row2 </span>
<span class="token comment">#    1    2 </span>

</code></pre></div><p>By default, the result of a subset will be simplified if possible. If the subset only has one dimension, as in the examples above, the result will be a one-dimensional vector rather than a two-dimensional matrix. This default can be overriden with the <code>drop = FALSE</code> argument to <code>[</code>:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment">## This selects the first row as a vector</span>
class<span class="token punctuation">(</span>mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># [1] &quot;integer&quot;</span>

<span class="token comment">## Whereas this selects the first row as a 1x3 matrix:</span>
class<span class="token punctuation">(</span>mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> drop <span class="token operator">=</span> F<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># [1] &quot;matrix&quot;</span>

</code></pre></div><p>Of course, dimensions cannot be dropped if the selection itself has two dimensions:</p> <div class="language-r extra-class"><pre class="language-r"><code>mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">## A 2x2 matrix</span>
<span class="token comment">#      col2 col3</span>
<span class="token comment"># row1    3    5</span>
<span class="token comment"># row2    4    6</span>

</code></pre></div><h3 id="selecting-individual-matrix-entries-by-their-positions"><a href="#selecting-individual-matrix-entries-by-their-positions" class="header-anchor">#</a> Selecting individual matrix entries by their positions</h3> <p>It is also possible to use a Nx2 matrix to select N individual elements from a matrix (like how a coordinate system works). If you wanted to extract, in a vector, the entries of a matrix in the <code>(1st row, 1st column), (1st row, 3rd column), (2nd row, 3rd column), (2nd row, 1st column)</code> this can be done easily by creating a index matrix with those coordinates and using that to subset the matrix:</p> <div class="language-r extra-class"><pre class="language-r"><code>mat
<span class="token comment">#      col1 col2 col3</span>
<span class="token comment"># row1    1    3    5</span>
<span class="token comment"># row2    2    4    6</span>

ind <span class="token operator">=</span> rbind<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ind
<span class="token comment">#      [,1] [,2]</span>
<span class="token comment"># [1,]    1    1</span>
<span class="token comment"># [2,]    1    3</span>
<span class="token comment"># [3,]    2    3</span>
<span class="token comment"># [4,]    2    1</span>

mat<span class="token punctuation">[</span>ind<span class="token punctuation">]</span>
<span class="token comment"># [1] 1 5 6 2</span>

</code></pre></div><p>In the above example, the 1st column of the <code>ind</code> matrix refers to rows in <code>mat</code>, the 2nd column of <code>ind</code> refers to columns in <code>mat</code>.</p> <h2 id="lists"><a href="#lists" class="header-anchor">#</a> Lists</h2> <p>A list can be subset with <code>[</code>:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1 <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'two'</span> <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
l1
<span class="token comment">## [[1]]</span>
<span class="token comment">## [1] 1 2 3</span>
<span class="token comment">## </span>
<span class="token comment">## $two</span>
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>
<span class="token comment">##</span>
<span class="token comment">## [[3]]</span>
<span class="token comment">## [[3]][[1]]</span>
<span class="token comment">## [1] 10</span>
<span class="token comment">##</span>
<span class="token comment">## [[3]][[2]]</span>
<span class="token comment">## [1] 20</span>

l1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">## [[1]]</span>
<span class="token comment">## [1] 1 2 3</span>

l1<span class="token punctuation">[</span><span class="token string">'two'</span><span class="token punctuation">]</span>
<span class="token comment">## $two</span>
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

l1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

l1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'two'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

</code></pre></div><p>Note the result of <code>l1[2]</code> is still a list, as the <code>[</code> operator selects elements of a list, returning a smaller list. The <code>[[</code> operator extracts list elements, returning an object of the type of the list element.</p> <p>Elements can be indexed by number or a character string of the name (if it exists). Multiple elements can be selected with <code>[</code> by passing a vector of numbers or strings of names. Indexing with a vector of <code>length &gt; 1</code> in <code>[</code> and <code>[[</code> returns a &quot;list&quot; with the specified elements and a recursive subset (if available), <strong>respectively</strong>:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">## [[1]]</span>
<span class="token comment">## [[1]][[1]]</span>
<span class="token comment">## [1] 10</span>
<span class="token comment">## </span>
<span class="token comment">## [[1]][[2]]</span>
<span class="token comment">## [1] 20</span>
<span class="token comment">## </span>
<span class="token comment">## </span>
<span class="token comment">## [[2]]</span>
<span class="token comment">## [1] 1 2 3</span>

</code></pre></div><p>Compared to:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1<span class="token punctuation">[</span><span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## [1] 10</span>

</code></pre></div><p>which is equivalent to:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## [1] 10</span>

</code></pre></div><p>The <code>$</code> operator allows you to select list elements solely by name, but unlike <code>[</code> and <code>[[</code>, does not require quotes. As an infix operator, <code>$</code> can only take a single name:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1<span class="token operator">$</span>two
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

</code></pre></div><p>Also, the <code>$</code> operator allows for partial matching by default:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1<span class="token operator">$</span>t
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

</code></pre></div><p>in contrast with <code>[[</code> where it needs to be specified whether partial matching is allowed:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;t&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## NULL</span>
l1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span> exact <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>

</code></pre></div><p>Setting <code>options(warnPartialMatchDollar = TRUE)</code>, a &quot;warning&quot; is given when partial matching happens with <code>$</code>:</p> <div class="language-r extra-class"><pre class="language-r"><code>l1<span class="token operator">$</span>t
<span class="token comment">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span>
<span class="token comment">## Warning message:</span>
<span class="token comment">## In l1$t : partial match of 't' to 'two'</span>

</code></pre></div><h2 id="other-objects"><a href="#other-objects" class="header-anchor">#</a> Other objects</h2> <p>The <code>[</code> and <code>[[</code> operators are primitive functions that are generic. This means that any <strong>object</strong> in R (specifically <code>isTRUE(is.object(x))</code> --i.e. has an explicit &quot;class&quot; attribute) can have its own specified behaviour when subsetted; i.e. has its own <strong>methods</strong> for <code>[</code> and/or <code>[[</code>.</p> <p>For example, this is the case with &quot;data.frame&quot; (<code>is.object(iris)</code>) objects where <code>[.data.frame</code> and <code>[[.data.frame</code> methods are defined and they are made to exhibit both &quot;matrix&quot;-like and &quot;list&quot;-like subsetting. With forcing an error when subsetting a &quot;data.frame&quot;, we see that, actually, a function <code>[.data.frame</code> was called when we -just- used <code>[</code>.</p> <div class="language-r extra-class"><pre class="language-r"><code>iris<span class="token punctuation">[</span>invalidArgument<span class="token punctuation">,</span> <span class="token punctuation">]</span>
<span class="token comment">## Error in `[.data.frame`(iris, invalidArgument, ) : </span>
<span class="token comment">##   object 'invalidArgument' not found</span>

</code></pre></div><p>Without further details on the current topic, an example<code>[</code> method:</p> <div class="language-r extra-class"><pre class="language-r"><code>x <span class="token operator">=</span> structure<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> class <span class="token operator">=</span> <span class="token string">&quot;myClass&quot;</span><span class="token punctuation">)</span>
x<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">## [1] 3 2 4</span>
<span class="token string">'[.myClass'</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> i<span class="token punctuation">)</span> cat<span class="token punctuation">(</span>sprintf<span class="token punctuation">(</span><span class="token string">&quot;We'd expect '%s[%s]' to be returned but this a custom `[` method and should have a `?[.myClass` help page for its behaviour\n&quot;</span><span class="token punctuation">,</span> deparse<span class="token punctuation">(</span>substitute<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> deparse<span class="token punctuation">(</span>substitute<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

x<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">## We'd expect 'x[c(3, 2, 4)]' to be returned but this a custom `[` method and should have a `?[.myClass` help page for its behaviour</span>
<span class="token comment">## NULL</span>

</code></pre></div><p>We can overcome the method dispatching of <code>[</code> by using the equivalent non-generic <code>.subset</code> (and <code>.subset2</code> for <code>[[</code>). This is especially useful and efficient when programming our own &quot;class&quot;es and want to avoid work-arounds (like <code>unclass(x)</code>) when computing on our &quot;class&quot;es efficiently (avoiding method dispatch and copying objects):</p> <div class="language-r extra-class"><pre class="language-r"><code>.subset<span class="token punctuation">(</span>x<span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">## [1] 3 2 4</span>

</code></pre></div><h2 id="vector-indexing"><a href="#vector-indexing" class="header-anchor">#</a> Vector indexing</h2> <p>For this example, we will use the vector:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> x <span class="token operator">&lt;-</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">20</span>
<span class="token operator">&gt;</span> x
 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>

</code></pre></div><p>R vectors are 1-indexed, so for example <code>x[1]</code> will return <code>11</code>.  We can also extract a sub-vector of <code>x</code> by passing a vector of indices to the bracket operator:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> x<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">12</span> <span class="token number">14</span> <span class="token number">16</span>

</code></pre></div><p>If we pass a vector of negative indices, R will return a sub-vector with the specified indices excluded:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> x<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">12</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>

</code></pre></div><p>We can also pass a boolean vector to the bracket operator, in which case it returns a sub-vector corresponding to the coordinates where the indexing vector is <code>TRUE</code>:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> x<span class="token punctuation">[</span>c<span class="token punctuation">(</span>rep<span class="token punctuation">(</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rep<span class="token punctuation">(</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span>

</code></pre></div><p>If the indexing vector is shorter than the length of the array, then it will be repeated, as in:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token operator">&gt;</span> x<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">11</span> <span class="token number">13</span> <span class="token number">15</span> <span class="token number">17</span> <span class="token number">19</span>
<span class="token operator">&gt;</span> x<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">11</span> <span class="token number">14</span> <span class="token number">17</span> <span class="token number">20</span>

</code></pre></div><h2 id="elementwise-matrix-operations"><a href="#elementwise-matrix-operations" class="header-anchor">#</a> Elementwise Matrix Operations</h2> <p>Let A and B be two matrices of same dimension. The operators <code>+</code>,<code>-</code>,<code>/</code>,<code>*</code>,<code>^</code> when used with matrices of same dimension perform the required operations on the corresponding elements of the matrices and return a new matrix of the same dimension. These operations are usually referred to as element-wise operations.</p> <table><thead><tr><th>Operator</th> <th>A op B</th> <th>Meaning</th></tr></thead> <tbody><tr><td>+</td> <td>A + B</td> <td>Addition of corresponding elements of A and B</td></tr> <tr><td>-</td> <td>A - B</td> <td>Subtracts the elements of B from the corresponding elements of A</td></tr> <tr><td>/</td> <td>A / B</td> <td>Divides the elements of A by the corresponding elements of B</td></tr> <tr><td>*</td> <td>A * B</td> <td>Multiplies the elements of A by the corresponding elements of B</td></tr> <tr><td>^</td> <td>A^(-1)</td> <td>For example, gives a matrix whose elements are reciprocals of A</td></tr></tbody></table> <p>For &quot;true&quot; matrix multiplication, as seen in <strong>Linear Algebra</strong>, use <code>%*%</code>. For example, multiplication of A with B is:  <code>A %*% B</code>. The dimensional requirements are that the <code>ncol()</code> of <code>A</code> be the same as <code>nrow()</code> of <code>B</code></p> <h3 id="some-functions-used-with-matrices"><a href="#some-functions-used-with-matrices" class="header-anchor">#</a> <strong>Some Functions used with Matrices</strong></h3> <table><thead><tr><th>Function</th> <th>Example</th> <th>Purpose</th></tr></thead> <tbody><tr><td>nrow()</td> <td>nrow(A)</td> <td>determines the number of rows of A</td></tr> <tr><td>ncol()</td> <td>ncol(A)</td> <td>determines the number of columns of A</td></tr> <tr><td>rownames()</td> <td>rownames(A)</td> <td>prints out the row names of the matrix A</td></tr> <tr><td>colnames()</td> <td>colnames(A)</td> <td>prints out the column names of the matrix A</td></tr> <tr><td>rowMeans()</td> <td>rowMeans(A)</td> <td>computes means of each row of the matrix A</td></tr> <tr><td>colMeans()</td> <td>colMeans(A)</td> <td>computes means of each column of the matrix A</td></tr> <tr><td>upper.tri()</td> <td>upper.tri(A)</td> <td>returns a vector whose elements are the upper</td></tr> <tr><td></td> <td></td> <td>triangular matrix of square matrix A</td></tr> <tr><td>lower.tri()</td> <td>lower.tri(A)</td> <td>returns a vector whose elements are the lower</td></tr> <tr><td></td> <td></td> <td>triangular matrix of square matrix A</td></tr> <tr><td>det()</td> <td>det(A)</td> <td>results in the determinant of the  matrix A</td></tr> <tr><td>solve()</td> <td>solve(A)</td> <td>results in the inverse of the non-singular matrix A</td></tr> <tr><td>diag()</td> <td>diag(A)</td> <td>returns a diagonal matrix whose off-diagnal elemts are zeros and</td></tr> <tr><td></td> <td></td> <td>diagonals are the same as that of the square matrix A</td></tr> <tr><td>t()</td> <td>t(A)</td> <td>returns the the transpose of the matrix A</td></tr> <tr><td>eigen()</td> <td>eigen(A)</td> <td>retuens the eigenvalues and eigenvectors of the matrix A</td></tr> <tr><td>is.matrix()</td> <td>is.matrix(A)</td> <td>returns TRUE or FALSE depending on whether A is a matrix or not.</td></tr> <tr><td>as.matrix()</td> <td>as.matrix(x)</td> <td>creates a matrix out of the vector x</td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p><strong>Missing values:</strong></p> <p>Missing values (<code>NA</code>s) used in subsetting with <code>[</code> return <code>NA</code> since a <code>NA</code> index</p> <blockquote></blockquote> <p>picks an unknown element and so returns NA in the corresponding element..</p> <p>The &quot;default&quot; type of <code>NA</code> is &quot;logical&quot; (<code>typeof(NA)</code>) which means that, as any &quot;logical&quot; vector used in subsetting, will be <strong>recycled</strong> to match the length of the subsetted object. So <code>x[NA]</code> is equivalent to <code>x[as.logical(NA)]</code> which is equivalent to <code>x[rep_len(as.logical(NA), length(x))]</code> and, consequently, it returns a missing value (<code>NA</code>) for each element of <code>x</code>. As an example:</p> <div class="language-r extra-class"><pre class="language-r"><code>x <span class="token operator">&lt;-</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span>
x<span class="token punctuation">[</span><span class="token keyword">NA</span><span class="token punctuation">]</span>
<span class="token comment">## [1] NA NA NA</span>

</code></pre></div><p>While indexing with &quot;numeric&quot;/&quot;integer&quot; <code>NA</code> picks a single <code>NA</code> element (for each <code>NA</code> in index):</p> <div class="language-r extra-class"><pre class="language-r"><code>x<span class="token punctuation">[</span>as.integer<span class="token punctuation">(</span><span class="token keyword">NA</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">## [1] NA</span>

x<span class="token punctuation">[</span>c<span class="token punctuation">(</span><span class="token keyword">NA</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">NA</span><span class="token punctuation">,</span> <span class="token keyword">NA</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">## [1] NA  1 NA NA</span>

</code></pre></div><p><strong>Subsetting out of bounds:</strong></p> <p>The <code>[</code> operator, with one argument passed, allows indices that are <code>&gt; length(x)</code> and returns <code>NA</code> for atomic vectors or <code>NULL</code> for generic vectors. In contrast, with <code>[[</code> and when <code>[</code> is passed more arguments (i.e. subsetting out of bounds objects with <code>length(dim(x)) &gt; 2</code>)  an error is returned:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token comment">## [1] NA</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## Error in (1:3)[[10]] : subscript out of bounds</span>
as.matrix<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token comment">## [1] NA</span>
as.matrix<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
<span class="token comment">## Error in as.matrix(1:3)[, 10] : subscript out of bounds</span>
list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token comment">## [[1]]</span>
<span class="token comment">## NULL</span>
list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">## Error in list(1, 2, 3)[[10]] : subscript out of bounds</span>

</code></pre></div><p>The behaviour is the same when subsetting with &quot;character&quot; vectors, that are not matched in the &quot;names&quot; attribute of the object, too:</p> <div class="language-r extra-class"><pre class="language-r"><code>c<span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span>
<span class="token comment">## &lt;NA&gt; </span>
<span class="token comment">##   NA </span>
list<span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span>
<span class="token comment">## &lt;NA&gt;</span>
<span class="token comment">## NULL</span>

</code></pre></div><p><strong>Help topics:</strong></p> <p>See <code>?Extract</code> for further information.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/r/subsetting.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/r/parallel-processing.html" class="prev">
        Parallel processing
      </a></span> <span class="next"><a href="/r/debugging.html">
        Debugging
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/2964.875f5f98.js" defer></script>
  </body>
</html>
