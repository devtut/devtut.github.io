<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>R - Reading and writing tabular data in plain-text files (CSV, TSV, etc.)</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Importing .csv files, Importing with data.table, Exporting .csv files, Import multiple csv files, Importing fixed-width files, Importing .tsv files as matrices (basic R)">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="R - Reading and writing tabular data in plain-text files (CSV, TSV, etc.)">
    <meta property="og:description" content="Importing .csv files, Importing with data.table, Exporting .csv files, Import multiple csv files, Importing fixed-width files, Importing .tsv files as matrices (basic R)">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="R - Reading and writing tabular data in plain-text files (CSV, TSV, etc.)">
    <meta name="twitter:description" content="Importing .csv files, Importing with data.table, Exporting .csv files, Import multiple csv files, Importing fixed-width files, Importing .tsv files as matrices (basic R)">
    <meta name="twitter:url" content="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2941.dd530e39.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>R</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/r/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/r/getting-started-with-r-language.html" class="sidebar-link">Getting started with R Language</a></li><li><a href="/r/variables.html" class="sidebar-link">Variables</a></li><li><a href="/r/arithmetic-operators.html" class="sidebar-link">Arithmetic Operators</a></li><li><a href="/r/matrices.html" class="sidebar-link">Matrices</a></li><li><a href="/r/formula.html" class="sidebar-link">Formula</a></li><li><a href="/r/reading-and-writing-strings.html" class="sidebar-link">Reading and writing strings</a></li><li><a href="/r/string-manipulation-with-stringi-package.html" class="sidebar-link">String manipulation with stringi package</a></li><li><a href="/r/classes.html" class="sidebar-link">Classes</a></li><li><a href="/r/lists.html" class="sidebar-link">Lists</a></li><li><a href="/r/hashmaps.html" class="sidebar-link">Hashmaps</a></li><li><a href="/r/creating-vectors.html" class="sidebar-link">Creating vectors</a></li><li><a href="/r/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/r/the-date-class.html" class="sidebar-link">The Date class</a></li><li><a href="/r/date-time-classes-posixct-and-posixlt.html" class="sidebar-link">Date-time classes (POSIXct and POSIXlt)</a></li><li><a href="/r/the-character-class.html" class="sidebar-link">The character class</a></li><li><a href="/r/numeric-classes-and-storage-modes.html" class="sidebar-link">Numeric classes and storage modes</a></li><li><a href="/r/the-logical-class.html" class="sidebar-link">The logical class</a></li><li><a href="/r/data-frames.html" class="sidebar-link">Data frames</a></li><li><a href="/r/split-function.html" class="sidebar-link">Split function</a></li><li><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html" aria-current="page" class="active sidebar-link">Reading and writing tabular data in plain-text files (CSV, TSV, etc.)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html#importing-csv-files" class="sidebar-link">Importing .csv files</a></li><li class="sidebar-sub-header"><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html#importing-with-data-table" class="sidebar-link">Importing with data.table</a></li><li class="sidebar-sub-header"><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html#exporting-csv-files" class="sidebar-link">Exporting .csv files</a></li><li class="sidebar-sub-header"><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html#import-multiple-csv-files" class="sidebar-link">Import multiple csv files</a></li><li class="sidebar-sub-header"><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html#importing-fixed-width-files" class="sidebar-link">Importing fixed-width files</a></li><li class="sidebar-sub-header"><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html#importing-tsv-files-as-matrices-basic-r" class="sidebar-link">Importing .tsv files as matrices (basic R)</a></li></ul></li><li><a href="/r/pipe-operators-and-others.html" class="sidebar-link">Pipe operators (%&gt;% and others)</a></li><li><a href="/r/linear-models-regression.html" class="sidebar-link">Linear Models (Regression)</a></li><li><a href="/r/data-table.html" class="sidebar-link">data.table</a></li><li><a href="/r/pivot-and-unpivot-with-data-table.html" class="sidebar-link">Pivot and unpivot with data.table</a></li><li><a href="/r/bar-chart.html" class="sidebar-link">Bar Chart</a></li><li><a href="/r/base-plotting.html" class="sidebar-link">Base Plotting</a></li><li><a href="/r/boxplot.html" class="sidebar-link">boxplot</a></li><li><a href="/r/ggplot2.html" class="sidebar-link">ggplot2</a></li><li><a href="/r/factors.html" class="sidebar-link">Factors</a></li><li><a href="/r/pattern-matching-and-replacement.html" class="sidebar-link">Pattern Matching and Replacement</a></li><li><a href="/r/run-length-encoding.html" class="sidebar-link">Run-length encoding</a></li><li><a href="/r/speeding-up-tough-to-vectorize-code.html" class="sidebar-link">Speeding up tough-to-vectorize code</a></li><li><a href="/r/introduction-to-geographical-maps.html" class="sidebar-link">Introduction to Geographical Maps</a></li><li><a href="/r/set-operations.html" class="sidebar-link">Set operations</a></li><li><a href="/r/tidyverse.html" class="sidebar-link">tidyverse</a></li><li><a href="/r/rcpp.html" class="sidebar-link">Rcpp</a></li><li><a href="/r/random-numbers-generator.html" class="sidebar-link">Random Numbers Generator</a></li><li><a href="/r/parallel-processing.html" class="sidebar-link">Parallel processing</a></li><li><a href="/r/subsetting.html" class="sidebar-link">Subsetting</a></li><li><a href="/r/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/r/installing-packages.html" class="sidebar-link">Installing packages</a></li><li><a href="/r/updating-r-and-the-package-library.html" class="sidebar-link">Updating R and the package library</a></li><li><a href="/r/inspecting-packages.html" class="sidebar-link">Inspecting packages</a></li><li><a href="/r/creating-packages-with-devtools.html" class="sidebar-link">Creating packages with devtools</a></li><li><a href="/r/using-pipe-assignment-in-your-own-package-how-to.html" class="sidebar-link">Using pipe assignment in your own package %%: How to ?</a></li><li><a href="/r/arima-models.html" class="sidebar-link">Arima Models</a></li><li><a href="/r/distribution-functions.html" class="sidebar-link">Distribution Functions</a></li><li><a href="/r/shiny.html" class="sidebar-link">Shiny</a></li><li><a href="/r/spatial-analysis.html" class="sidebar-link">spatial analysis</a></li><li><a href="/r/sqldf.html" class="sidebar-link">sqldf</a></li><li><a href="/r/code-profiling.html" class="sidebar-link">Code profiling</a></li><li><a href="/r/control-flow-structures.html" class="sidebar-link">Control flow structures</a></li><li><a href="/r/column-wise-operation.html" class="sidebar-link">Column wise operation</a></li><li><a href="/r/json.html" class="sidebar-link">JSON</a></li><li><a href="/r/rodbc.html" class="sidebar-link">RODBC</a></li><li><a href="/r/lubridate.html" class="sidebar-link">lubridate</a></li><li><a href="/r/time-series-and-forecasting.html" class="sidebar-link">Time Series and Forecasting</a></li><li><a href="/r/strsplit-function.html" class="sidebar-link">strsplit function</a></li><li><a href="/r/web-scraping-and-parsing.html" class="sidebar-link">Web scraping and parsing</a></li><li><a href="/r/generalized-linear-models.html" class="sidebar-link">Generalized linear models</a></li><li><a href="/r/reshaping-data-between-long-and-wide-forms.html" class="sidebar-link">Reshaping data between long and wide forms</a></li><li><a href="/r/rmarkdown-and-knitr-presentation.html" class="sidebar-link">RMarkdown and knitr presentation</a></li><li><a href="/r/scope-of-variables.html" class="sidebar-link">Scope of variables</a></li><li><a href="/r/performing-a-permutation-test.html" class="sidebar-link">Performing a Permutation Test</a></li><li><a href="/r/xgboost.html" class="sidebar-link">xgboost</a></li><li><a href="/r/r-code-vectorization-best-practices.html" class="sidebar-link">R code vectorization best practices</a></li><li><a href="/r/missing-values.html" class="sidebar-link">Missing values</a></li><li><a href="/r/hierarchical-linear-modeling.html" class="sidebar-link">Hierarchical Linear Modeling</a></li><li><a href="/r/apply-family-of-functions-functionals.html" class="sidebar-link">*apply family of functions (functionals)</a></li><li><a href="/r/text-mining.html" class="sidebar-link">Text mining</a></li><li><a href="/r/anova.html" class="sidebar-link">ANOVA</a></li><li><a href="/r/raster-and-image-analysis.html" class="sidebar-link">Raster and Image Analysis</a></li><li><a href="/r/survival-analysis.html" class="sidebar-link">Survival analysis</a></li><li><a href="/r/fault-tolerant-resilient-code.html" class="sidebar-link">Fault-tolerant/resilient code</a></li><li><a href="/r/reproducible-r.html" class="sidebar-link">Reproducible R</a></li><li><a href="/r/fourier-series-and-transformations.html" class="sidebar-link">Fourier Series and Transformations</a></li><li><a href="/r/rprofile.html" class="sidebar-link">.Rprofile</a></li><li><a href="/r/dplyr.html" class="sidebar-link">dplyr</a></li><li><a href="/r/caret.html" class="sidebar-link">caret</a></li><li><a href="/r/extracting-and-listing-files-in-compressed-archives.html" class="sidebar-link">Extracting and Listing Files in Compressed Archives</a></li><li><a href="/r/probability-distributions-with-r.html" class="sidebar-link">Probability Distributions with R</a></li><li><a href="/r/r-in-latex-with-knitr.html" class="sidebar-link">R in LaTeX with knitr</a></li><li><a href="/r/web-crawling-in-r.html" class="sidebar-link">Web Crawling in R</a></li><li><a href="/r/creating-reports-with-rmarkdown.html" class="sidebar-link">Creating reports with RMarkdown</a></li><li><a href="/r/gpu-accelerated-computing.html" class="sidebar-link">GPU-accelerated computing</a></li><li><a href="/r/heatmap-and-heatmap-2.html" class="sidebar-link">heatmap and heatmap.2</a></li><li><a href="/r/network-analysis-with-the-igraph-package.html" class="sidebar-link">Network analysis with the igraph package</a></li><li><a href="/r/functional-programming.html" class="sidebar-link">Functional programming</a></li><li><a href="/r/get-user-input.html" class="sidebar-link">Get user input</a></li><li><a href="/r/spark-api-sparkr.html" class="sidebar-link">Spark API (SparkR)</a></li><li><a href="/r/meta-documentation-guidelines.html" class="sidebar-link">Meta: Documentation Guidelines</a></li><li><a href="/r/input-and-output.html" class="sidebar-link">Input and output</a></li><li><a href="/r/i-o-for-foreign-tables-excel-sas-spss-stata.html" class="sidebar-link">I/O for foreign tables (Excel, SAS, SPSS, Stata)</a></li><li><a href="/r/i-o-for-database-tables.html" class="sidebar-link">I/O for database tables</a></li><li><a href="/r/i-o-for-geographic-data-shapefiles-etc.html" class="sidebar-link">I/O for geographic data (shapefiles, etc.)</a></li><li><a href="/r/i-o-for-raster-images.html" class="sidebar-link">I/O for raster images</a></li><li><a href="/r/i-o-for-r-s-binary-format.html" class="sidebar-link">I/O for R's binary format</a></li><li><a href="/r/recycling.html" class="sidebar-link">Recycling</a></li><li><a href="/r/expression-parse-eval.html" class="sidebar-link">Expression: parse + eval</a></li><li><a href="/r/regular-expression-syntax-in-r.html" class="sidebar-link">Regular Expression Syntax in R</a></li><li><a href="/r/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (regex)</a></li><li><a href="/r/combinatorics.html" class="sidebar-link">Combinatorics</a></li><li><a href="/r/solving-odes-in-r.html" class="sidebar-link">Solving ODEs in R</a></li><li><a href="/r/feature-selection-in-r-removing-extraneous-features.html" class="sidebar-link">Feature Selection in R -- Removing Extraneous Features</a></li><li><a href="/r/bibliography-in-rmd.html" class="sidebar-link">Bibliography in RMD</a></li><li><a href="/r/writing-functions-in-r.html" class="sidebar-link">Writing functions in R</a></li><li><a href="/r/color-schemes-for-graphics.html" class="sidebar-link">Color schemes for graphics</a></li><li><a href="/r/hierarchical-clustering-with-hclust.html" class="sidebar-link">Hierarchical clustering with hclust</a></li><li><a href="/r/random-forest-algorithm.html" class="sidebar-link">Random Forest Algorithm</a></li><li><a href="/r/restful-r-services.html" class="sidebar-link">RESTful R Services</a></li><li><a href="/r/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/r/using-texreg-to-export-models-in-a-paper-ready-way.html" class="sidebar-link">Using texreg to export models in a paper-ready way</a></li><li><a href="/r/publishing.html" class="sidebar-link">Publishing</a></li><li><a href="/r/implement-state-machine-pattern-using-s4-class.html" class="sidebar-link">Implement State Machine Pattern using S4 Class</a></li><li><a href="/r/reshape-using-tidyr.html" class="sidebar-link">Reshape using tidyr</a></li><li><a href="/r/modifying-strings-by-substitution.html" class="sidebar-link">Modifying strings by substitution</a></li><li><a href="/r/non-standard-evaluation-and-standard-evaluation.html" class="sidebar-link">Non-standard evaluation and standard evaluation</a></li><li><a href="/r/randomization.html" class="sidebar-link">Randomization</a></li><li><a href="/r/object-oriented-programming-in-r.html" class="sidebar-link">Object-Oriented Programming in R</a></li><li><a href="/r/coercion.html" class="sidebar-link">Coercion</a></li><li><a href="/r/standardize-analyses-by-writing-standalone-r-scripts.html" class="sidebar-link">Standardize analyses by writing standalone R scripts</a></li><li><a href="/r/analyze-tweets-with-r.html" class="sidebar-link">Analyze tweets with R</a></li><li><a href="/r/natural-language-processing.html" class="sidebar-link">Natural language processing</a></li><li><a href="/r/r-markdown-notebooks-from-rstudio.html" class="sidebar-link">R Markdown Notebooks (from RStudio)</a></li><li><a href="/r/aggregating-data-frames.html" class="sidebar-link">Aggregating data frames</a></li><li><a href="/r/data-acquisition.html" class="sidebar-link">Data acquisition</a></li><li><a href="/r/r-memento-by-examples.html" class="sidebar-link">R memento by examples</a></li><li><a href="/r/updating-r-version.html" class="sidebar-link">Updating R version</a></li><li><a href="/r/introspection.html" class="sidebar-link">Introspection</a></li><li><a href="/r/roxygen2.html" class="sidebar-link">roxygen2</a></li><li><a href="/r/cleaning-data.html" class="sidebar-link">Cleaning data</a></li><li><a href="/r/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc"><a href="#reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc" class="header-anchor">#</a> Reading and writing tabular data in plain-text files (CSV, TSV, etc.)</h1> <h2 id="importing-csv-files"><a href="#importing-csv-files" class="header-anchor">#</a> Importing .csv files</h2> <h3 id="importing-using-base-r"><a href="#importing-using-base-r" class="header-anchor">#</a> Importing using base R</h3> <p>Comma separated value files (CSVs) can be imported using <code>read.csv</code>, which wraps <code>read.table</code>, but uses <code>sep = &quot;,&quot;</code> to set the delimiter to a comma.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># get the file path of a CSV included in R's utils package</span>
csv_path <span class="token operator">&lt;-</span> system.file<span class="token punctuation">(</span><span class="token string">&quot;misc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;exDIF.csv&quot;</span><span class="token punctuation">,</span> package <span class="token operator">=</span> <span class="token string">&quot;utils&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># path will vary based on installation location</span>
csv_path
<span class="token comment">## [1] &quot;/Library/Frameworks/R.framework/Resources/library/utils/misc/exDIF.csv&quot;</span>

df <span class="token operator">&lt;-</span> read.csv<span class="token punctuation">(</span>csv_path<span class="token punctuation">)</span>

df
<span class="token comment">##    Var1 Var2</span>
<span class="token comment">## 1  2.70    A</span>
<span class="token comment">## 2  3.14    B</span>
<span class="token comment">## 3 10.00    A</span>
<span class="token comment">## 4 -7.00    A</span>

</code></pre></div><p>A user friendly option, <code>file.choose</code>, allows to browse through the directories:</p> <div class="language-r extra-class"><pre class="language-r"><code>df <span class="token operator">&lt;-</span> read.csv<span class="token punctuation">(</span>file.choose<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="notes"><a href="#notes" class="header-anchor">#</a> Notes</h3> <ul><li>Unlike <code>read.table</code>, <code>read.csv</code> defaults to <code>header = TRUE</code>, and uses the first row as column names.</li> <li>All these functions will convert strings to <code>factor</code> class by default unless either <code>as.is = TRUE</code> or <code>stringsAsFactors = FALSE</code>.</li> <li>The <code>read.csv2</code> variant defaults to <code>sep = &quot;;&quot;</code> and <code>dec = &quot;,&quot;</code> for use on data from countries where the comma is used as a decimal point and the semicolon as a field separator.</li></ul> <h3 id="importing-using-packages"><a href="#importing-using-packages" class="header-anchor">#</a> Importing using packages</h3> <p>The <code>readr</code> package's <code>read_csv</code> function offers much faster performance, a progress bar for large files, and more popular default options than standard <code>read.csv</code>, including <code>stringsAsFactors = FALSE</code>.</p> <div class="language-r extra-class"><pre class="language-r"><code>library<span class="token punctuation">(</span>readr<span class="token punctuation">)</span>

df <span class="token operator">&lt;-</span> read_csv<span class="token punctuation">(</span>csv_path<span class="token punctuation">)</span>

df
<span class="token comment">## # A tibble: 4 x 2</span>
<span class="token comment">##    Var1  Var2</span>
<span class="token comment">##   &lt;dbl&gt; &lt;chr&gt;</span>
<span class="token comment">## 1  2.70     A</span>
<span class="token comment">## 2  3.14     B</span>
<span class="token comment">## 3 10.00     A</span>
<span class="token comment">## 4 -7.00     A</span>

</code></pre></div><h2 id="importing-with-data-table"><a href="#importing-with-data-table" class="header-anchor">#</a> Importing with data.table</h2> <p>The <code>data.table</code> package introduces the function <a href="http://www.inside-r.org/packages/cran/data.table/docs/fread" target="_blank" rel="noopener noreferrer"><code>fread</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. While it is similar to <code>read.table</code>, <code>fread</code> is usually faster and more flexible, guessing the file's delimiter automatically.</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># get the file path of a CSV included in R's utils package</span>
csv_path <span class="token operator">&lt;-</span> system.file<span class="token punctuation">(</span><span class="token string">&quot;misc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;exDIF.csv&quot;</span><span class="token punctuation">,</span> package <span class="token operator">=</span> <span class="token string">&quot;utils&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># path will vary based on R installation location</span>
csv_path
<span class="token comment">## [1] &quot;/Library/Frameworks/R.framework/Resources/library/utils/misc/exDIF.csv&quot;</span>

dt <span class="token operator">&lt;-</span> fread<span class="token punctuation">(</span>csv_path<span class="token punctuation">)</span>

dt
<span class="token comment">##     Var1 Var2</span>
<span class="token comment">## 1:  2.70    A</span>
<span class="token comment">## 2:  3.14    B</span>
<span class="token comment">## 3: 10.00    A</span>
<span class="token comment">## 4: -7.00    A</span>

</code></pre></div><p>Where argument <code>input</code> is a string representing:</p> <ul><li>the filename (<strong>e.g.</strong> <code>&quot;filename.csv&quot;</code>),</li> <li>a shell command that acts on a file (<strong>e.g.</strong> <code>&quot;grep 'word' filename&quot;</code>), or</li> <li>the input itself (<strong>e.g.</strong> <code>&quot;input1, input2 \n A, B \n C, D&quot;</code>).</li></ul> <p><code>fread</code> returns an object of class <code>data.table</code> that inherits from class <code>data.frame</code>, suitable for use with the data.table's usage of <code>[]</code>. To return an ordinary data.frame, set the <code>data.table</code> parameter to <code>FALSE</code>:</p> <div class="language-r extra-class"><pre class="language-r"><code>df <span class="token operator">&lt;-</span> fread<span class="token punctuation">(</span>csv_path<span class="token punctuation">,</span> data.table <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>

class<span class="token punctuation">(</span>df<span class="token punctuation">)</span>
<span class="token comment">## [1] &quot;data.frame&quot;</span>

df
<span class="token comment">##    Var1 Var2</span>
<span class="token comment">## 1  2.70    A</span>
<span class="token comment">## 2  3.14    B</span>
<span class="token comment">## 3 10.00    A</span>
<span class="token comment">## 4 -7.00    A</span>

</code></pre></div><h3 id="notes-2"><a href="#notes-2" class="header-anchor">#</a> Notes</h3> <ul><li><code>fread</code> does not have all same options as <code>read.table</code>. One missing argument is <code>na.comment</code>, which may lead in unwanted behaviors if the source file contains <code>#</code>.</li> <li><code>fread</code> uses only <code>&quot;</code> for <code>quote</code> parameter.</li> <li><code>fread</code> uses few (5) lines to guess variables types.</li></ul> <h2 id="exporting-csv-files"><a href="#exporting-csv-files" class="header-anchor">#</a> Exporting .csv files</h2> <h3 id="exporting-using-base-r"><a href="#exporting-using-base-r" class="header-anchor">#</a> Exporting using base R</h3> <p>Data can be written to a CSV file using <code>write.csv()</code>:</p> <div class="language-r extra-class"><pre class="language-r"><code>write.csv<span class="token punctuation">(</span>mtcars<span class="token punctuation">,</span> <span class="token string">&quot;mtcars.csv&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p>Commonly-specified parameters include <code>row.names = FALSE</code> and <code>na = &quot;&quot;</code>.</p> <h3 id="exporting-using-packages"><a href="#exporting-using-packages" class="header-anchor">#</a> Exporting using packages</h3> <p><code>readr::write_csv</code> is significantly faster than <code>write.csv</code> and does not write row names.</p> <div class="language-r extra-class"><pre class="language-r"><code>library<span class="token punctuation">(</span>readr<span class="token punctuation">)</span>

write_csv<span class="token punctuation">(</span>mtcars<span class="token punctuation">,</span> <span class="token string">&quot;mtcars.csv&quot;</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="import-multiple-csv-files"><a href="#import-multiple-csv-files" class="header-anchor">#</a> Import multiple csv files</h2> <div class="language-r extra-class"><pre class="language-r"><code>files <span class="token operator">=</span> list.files<span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">&quot;*.csv&quot;</span><span class="token punctuation">)</span>
data_list <span class="token operator">=</span> lapply<span class="token punctuation">(</span>files<span class="token punctuation">,</span> read.table<span class="token punctuation">,</span> header <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

</code></pre></div><p>This read every file and adds it to a list.
Afterwards, if all data.frame have the same structure they can be combined into one big data.frame:</p> <div class="language-r extra-class"><pre class="language-r"><code>df <span class="token operator">&lt;-</span> do.call<span class="token punctuation">(</span>rbind<span class="token punctuation">,</span> data_list<span class="token punctuation">)</span>

</code></pre></div><h2 id="importing-fixed-width-files"><a href="#importing-fixed-width-files" class="header-anchor">#</a> Importing fixed-width files</h2> <p>Fixed-width files are text files in which columns are not separated by any character delimiter, like <code>,</code> or <code>;</code>, but rather have a fixed character length (<strong>width</strong>). Data is usually padded with white spaces.</p> <p>An example:</p> <div class="language-r extra-class"><pre class="language-r"><code>Column1 Column2   Column3           Column4Column5 
<span class="token number">1647</span>    pi        <span class="token string">'important'</span>       <span class="token number">3.141596</span><span class="token number">.28318</span>
<span class="token number">1731</span>    euler     <span class="token string">'quite important'</span> <span class="token number">2.718285</span><span class="token number">.43656</span>
<span class="token number">1979</span>    answer    <span class="token string">'The Answer.'</span>     <span class="token number">42</span>     <span class="token number">42</span>

</code></pre></div><p>Let's assume this data table exists in the local file <code>constants.txt</code> in the working directory.</p> <h3 id="importing-with-base-r"><a href="#importing-with-base-r" class="header-anchor">#</a> Importing with base R</h3> <div class="language-r extra-class"><pre class="language-r"><code>df <span class="token operator">&lt;-</span> read.fwf<span class="token punctuation">(</span><span class="token string">'constants.txt'</span><span class="token punctuation">,</span> widths <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> header <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> skip <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>

df
<span class="token comment">#&gt;     V1     V2                 V3         V4        V5</span>
<span class="token comment">#&gt; 1 1647     pi         'important'   3.14159   6.28318</span>
<span class="token comment">#&gt; 2 1731  euler   'quite important'   2.71828   5.43656</span>
<span class="token comment">#&gt; 3 1979 answer       'The Answer.'   42        42.0000</span>

</code></pre></div><p>Note:</p> <ul><li>Column titles don't need to be separated by a character (<code>Column4Column5</code>)</li> <li>The <code>widths</code> parameter defines the width of each column</li> <li>Non-separated headers are not readable with <code>read.fwf()</code></li></ul> <h3 id="importing-with-readr"><a href="#importing-with-readr" class="header-anchor">#</a> Importing with readr</h3> <div class="language-r extra-class"><pre class="language-r"><code>library<span class="token punctuation">(</span>readr<span class="token punctuation">)</span>

df <span class="token operator">&lt;-</span> read_fwf<span class="token punctuation">(</span><span class="token string">'constants.txt'</span><span class="token punctuation">,</span> 
               fwf_cols<span class="token punctuation">(</span>Year <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> Name <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> Importance <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">,</span> Value <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> Doubled <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
               skip <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
df
<span class="token comment">#&gt; # A tibble: 3 x 5</span>
<span class="token comment">#&gt;    Year    Name        Importance    Value  Doubled</span>
<span class="token comment">#&gt;    &lt;int&gt;   &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="token comment">#&gt; 1  1647      pi       'important'  3.14159  6.28318</span>
<span class="token comment">#&gt; 2  1731   euler 'quite important'  2.71828  5.43656</span>
<span class="token comment">#&gt; 3  1979  answer     'The Answer.' 42.00000 42.00000</span>

</code></pre></div><p>Note:</p> <ul><li>readr's <code>fwf_*</code> helper functions offer alternative ways of specifying column lengths, including automatic guessing (<code>fwf_empty</code>)</li> <li>readr is faster than base R</li> <li>Column titles cannot be automatically imported from data file</li></ul> <h2 id="importing-tsv-files-as-matrices-basic-r"><a href="#importing-tsv-files-as-matrices-basic-r" class="header-anchor">#</a> Importing .tsv files as matrices (basic R)</h2> <p>Many people don't make use of <code>file.path</code> when making path to a file. But if you are working across Windows, Mac and Linux machines it's usually good practice to use it for making paths instead of <code>paste</code>.</p> <div class="language-r extra-class"><pre class="language-r"><code>FilePath <span class="token operator">&lt;-</span> file.path<span class="token punctuation">(</span>AVariableWithFullProjectPath<span class="token punctuation">,</span><span class="token string">&quot;SomeSubfolder&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;SomeFileName.txt.gz&quot;</span><span class="token punctuation">)</span>

Data <span class="token operator">&lt;-</span> as.matrix<span class="token punctuation">(</span>read.table<span class="token punctuation">(</span>FilePath<span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> sep <span class="token operator">=</span><span class="token string">&quot;\t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>Generally this is sufficient for most people.</p> <p>Sometimes it happens the matrix dimensions are so large that procedure of memory allocation must be taken into account while reading in the matrix, which means reading in the matrix line by line.</p> <p>Take the previous example, In this case <code>FilePath</code> contains a file of dimension <code>8970 8970</code> with 79% of the cells containing non-zero values.</p> <div class="language-r extra-class"><pre class="language-r"><code>system.time<span class="token punctuation">(</span>expr<span class="token operator">=</span>Data<span class="token operator">&lt;-</span>as.matrix<span class="token punctuation">(</span>read.table<span class="token punctuation">(</span>file<span class="token operator">=</span>FilePath<span class="token punctuation">,</span>header<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span>sep<span class="token operator">=</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p><code>system.time</code> says 267 seconds were taken to read the file.</p> <div class="language- extra-class"><pre class="language-text"><code>
  user  system elapsed
265.563   1.949 267.563

</code></pre></div><p>Similarly this file can be read line by line,</p> <div class="language-r extra-class"><pre class="language-r"><code>FilePath <span class="token operator">&lt;-</span> <span class="token string">&quot;SomeFile&quot;</span>
connection<span class="token operator">&lt;-</span> gzfile<span class="token punctuation">(</span>FilePath<span class="token punctuation">,</span>open<span class="token operator">=</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span>
TableList <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span><span class="token punctuation">)</span>
Counter <span class="token operator">&lt;-</span> <span class="token number">1</span>
system.time<span class="token punctuation">(</span>expr<span class="token operator">=</span> <span class="token keyword">while</span> <span class="token punctuation">(</span> length<span class="token punctuation">(</span> Vector<span class="token operator">&lt;-</span>as.matrix<span class="token punctuation">(</span>scan<span class="token punctuation">(</span>file<span class="token operator">=</span>connection<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> nlines<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> quiet<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    TableList<span class="token punctuation">[</span><span class="token punctuation">[</span>Counter<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&lt;-</span>Vector
    Counter<span class="token operator">&lt;-</span>Counter<span class="token operator">+</span><span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
   user  system elapsed
<span class="token number">165.976</span>   <span class="token number">0.060</span> <span class="token number">165.941</span>
close<span class="token punctuation">(</span>connection<span class="token punctuation">)</span>
system.time<span class="token punctuation">(</span>expr<span class="token operator">=</span><span class="token punctuation">(</span>Data <span class="token operator">&lt;-</span> do.call<span class="token punctuation">(</span>rbind<span class="token punctuation">,</span>TableList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   user  system elapsed
  <span class="token number">0.477</span>   <span class="token number">0.088</span>   <span class="token number">0.565</span>

</code></pre></div><p>There's also the <code>futile.matrix</code> package which implements a <code>read.matrix</code> method, the code itself will reveal itself to be the same thing as described in example 1.</p> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <li>
read.csv(file, header = TRUE, sep = &quot;,&quot;, quote = &quot;&quot;&quot;, dec = &quot;.&quot;, fill = TRUE, comment.char = &quot;&quot;, ...)
</li> <li>
read.csv2(file, header = TRUE, sep = &quot;;&quot;, quote = &quot;&quot;&quot;, dec = &quot;,&quot;, fill = TRUE, comment.char = &quot;&quot;, ...)
</li> <li>
readr::read_csv(file, col_names = TRUE, col_types = NULL, locale = default_locale(), na = c(&quot;&quot;, &quot;NA&quot;), comment = &quot;&quot;, trim_ws = TRUE, skip = 0, n_max = -1, progress = interactive())
</li> <li><p>data.table::fread(input, sep=&quot;auto&quot;, sep2=&quot;auto&quot;, nrows=-1L, header=&quot;auto&quot;, na.strings=&quot;NA&quot;,
stringsAsFactors=FALSE, verbose=getOption(&quot;datatable.verbose&quot;), autostart=1L,
skip=0L, select=NULL, drop=NULL, colClasses=NULL,
integer64=getOption(&quot;datatable.integer64&quot;),         # default: &quot;integer64&quot;
dec=if (sep!=&quot;.&quot;) &quot;.&quot; else &quot;,&quot;, col.names,
check.names=FALSE, encoding=&quot;unknown&quot;, strip.white=TRUE,
showProgress=getOption(&quot;datatable.showProgress&quot;),   # default: TRUE
data.table=getOption(&quot;datatable.fread.datatable&quot;)   # default: TRUE
)</p></li> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Details</th></tr></thead> <tbody><tr><td>file</td> <td>name of the CSV file to read</td></tr> <tr><td>header</td> <td>logical: does the .csv file contain a header row with column names?</td></tr> <tr><td>sep</td> <td>character: symbol that separates the cells on each row</td></tr> <tr><td>quote</td> <td>character: symbol used to quote character strings</td></tr> <tr><td>dec</td> <td>character: symbol used as decimal separator</td></tr> <tr><td>fill</td> <td>logical: when TRUE, rows with unequal length are filled with blank fields.</td></tr> <tr><td>comment.char</td> <td>character: character used as comment in the csv file. Lines preceded by this character are ignored.</td></tr> <tr><td>...</td> <td>extra arguments to be passed to <code>read.table</code></td></tr></tbody></table> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>Note that exporting to a plain text format sacrifices much of the information encoded in the data like variable classes for the sake of wide portability.  For cases that do not require such portability, a format like <a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/readRDS.html" target="_blank" rel="noopener noreferrer">.RData<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://github.com/wesm/feather" target="_blank" rel="noopener noreferrer">Feather<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> may be more useful.</p> <p>Input/output for other types of files is covered in several other topics, all linked from <a href="http://stackoverflow.com/documentation/r/5543/input-and-output#t=201608181827139672795" target="_blank" rel="noopener noreferrer">Input and output<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/r/split-function.html" class="prev">
        Split function
      </a></span> <span class="next"><a href="/r/pipe-operators-and-others.html">
        Pipe operators (%&gt;% and others)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2941.dd530e39.js" defer></script>
  </body>
</html>
