<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>R - ggplot2</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Displaying multiple plots, Prepare your data for plotting, Add horizontal and vertical lines to plot, Scatter Plots, Produce basic plots with qplot, Vertical and Horizontal Bar Chart, Violin plot">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="R - ggplot2">
    <meta property="og:description" content="Displaying multiple plots, Prepare your data for plotting, Add horizontal and vertical lines to plot, Scatter Plots, Produce basic plots with qplot, Vertical and Horizontal Bar Chart, Violin plot">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/r/ggplot2.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="R - ggplot2">
    <meta name="twitter:description" content="Displaying multiple plots, Prepare your data for plotting, Add horizontal and vertical lines to plot, Scatter Plots, Produce basic plots with qplot, Vertical and Horizontal Bar Chart, Violin plot">
    <meta name="twitter:url" content="/r/ggplot2.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2893.3e368f59.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>R</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/r/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/r/getting-started-with-r-language.html" class="sidebar-link">Getting started with R Language</a></li><li><a href="/r/variables.html" class="sidebar-link">Variables</a></li><li><a href="/r/arithmetic-operators.html" class="sidebar-link">Arithmetic Operators</a></li><li><a href="/r/matrices.html" class="sidebar-link">Matrices</a></li><li><a href="/r/formula.html" class="sidebar-link">Formula</a></li><li><a href="/r/reading-and-writing-strings.html" class="sidebar-link">Reading and writing strings</a></li><li><a href="/r/string-manipulation-with-stringi-package.html" class="sidebar-link">String manipulation with stringi package</a></li><li><a href="/r/classes.html" class="sidebar-link">Classes</a></li><li><a href="/r/lists.html" class="sidebar-link">Lists</a></li><li><a href="/r/hashmaps.html" class="sidebar-link">Hashmaps</a></li><li><a href="/r/creating-vectors.html" class="sidebar-link">Creating vectors</a></li><li><a href="/r/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/r/the-date-class.html" class="sidebar-link">The Date class</a></li><li><a href="/r/date-time-classes-posixct-and-posixlt.html" class="sidebar-link">Date-time classes (POSIXct and POSIXlt)</a></li><li><a href="/r/the-character-class.html" class="sidebar-link">The character class</a></li><li><a href="/r/numeric-classes-and-storage-modes.html" class="sidebar-link">Numeric classes and storage modes</a></li><li><a href="/r/the-logical-class.html" class="sidebar-link">The logical class</a></li><li><a href="/r/data-frames.html" class="sidebar-link">Data frames</a></li><li><a href="/r/split-function.html" class="sidebar-link">Split function</a></li><li><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html" class="sidebar-link">Reading and writing tabular data in plain-text files (CSV, TSV, etc.)</a></li><li><a href="/r/pipe-operators-and-others.html" class="sidebar-link">Pipe operators (%&gt;% and others)</a></li><li><a href="/r/linear-models-regression.html" class="sidebar-link">Linear Models (Regression)</a></li><li><a href="/r/data-table.html" class="sidebar-link">data.table</a></li><li><a href="/r/pivot-and-unpivot-with-data-table.html" class="sidebar-link">Pivot and unpivot with data.table</a></li><li><a href="/r/bar-chart.html" class="sidebar-link">Bar Chart</a></li><li><a href="/r/base-plotting.html" class="sidebar-link">Base Plotting</a></li><li><a href="/r/boxplot.html" class="sidebar-link">boxplot</a></li><li><a href="/r/ggplot2.html" aria-current="page" class="active sidebar-link">ggplot2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/r/ggplot2.html#displaying-multiple-plots" class="sidebar-link">Displaying multiple plots</a></li><li class="sidebar-sub-header"><a href="/r/ggplot2.html#prepare-your-data-for-plotting" class="sidebar-link">Prepare your data for plotting</a></li><li class="sidebar-sub-header"><a href="/r/ggplot2.html#add-horizontal-and-vertical-lines-to-plot" class="sidebar-link">Add horizontal and vertical lines to plot</a></li><li class="sidebar-sub-header"><a href="/r/ggplot2.html#scatter-plots" class="sidebar-link">Scatter Plots</a></li><li class="sidebar-sub-header"><a href="/r/ggplot2.html#produce-basic-plots-with-qplot" class="sidebar-link">Produce basic plots with qplot</a></li><li class="sidebar-sub-header"><a href="/r/ggplot2.html#vertical-and-horizontal-bar-chart" class="sidebar-link">Vertical and Horizontal Bar Chart</a></li><li class="sidebar-sub-header"><a href="/r/ggplot2.html#violin-plot" class="sidebar-link">Violin plot</a></li></ul></li><li><a href="/r/factors.html" class="sidebar-link">Factors</a></li><li><a href="/r/pattern-matching-and-replacement.html" class="sidebar-link">Pattern Matching and Replacement</a></li><li><a href="/r/run-length-encoding.html" class="sidebar-link">Run-length encoding</a></li><li><a href="/r/speeding-up-tough-to-vectorize-code.html" class="sidebar-link">Speeding up tough-to-vectorize code</a></li><li><a href="/r/introduction-to-geographical-maps.html" class="sidebar-link">Introduction to Geographical Maps</a></li><li><a href="/r/set-operations.html" class="sidebar-link">Set operations</a></li><li><a href="/r/tidyverse.html" class="sidebar-link">tidyverse</a></li><li><a href="/r/rcpp.html" class="sidebar-link">Rcpp</a></li><li><a href="/r/random-numbers-generator.html" class="sidebar-link">Random Numbers Generator</a></li><li><a href="/r/parallel-processing.html" class="sidebar-link">Parallel processing</a></li><li><a href="/r/subsetting.html" class="sidebar-link">Subsetting</a></li><li><a href="/r/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/r/installing-packages.html" class="sidebar-link">Installing packages</a></li><li><a href="/r/updating-r-and-the-package-library.html" class="sidebar-link">Updating R and the package library</a></li><li><a href="/r/inspecting-packages.html" class="sidebar-link">Inspecting packages</a></li><li><a href="/r/creating-packages-with-devtools.html" class="sidebar-link">Creating packages with devtools</a></li><li><a href="/r/using-pipe-assignment-in-your-own-package-how-to.html" class="sidebar-link">Using pipe assignment in your own package %%: How to ?</a></li><li><a href="/r/arima-models.html" class="sidebar-link">Arima Models</a></li><li><a href="/r/distribution-functions.html" class="sidebar-link">Distribution Functions</a></li><li><a href="/r/shiny.html" class="sidebar-link">Shiny</a></li><li><a href="/r/spatial-analysis.html" class="sidebar-link">spatial analysis</a></li><li><a href="/r/sqldf.html" class="sidebar-link">sqldf</a></li><li><a href="/r/code-profiling.html" class="sidebar-link">Code profiling</a></li><li><a href="/r/control-flow-structures.html" class="sidebar-link">Control flow structures</a></li><li><a href="/r/column-wise-operation.html" class="sidebar-link">Column wise operation</a></li><li><a href="/r/json.html" class="sidebar-link">JSON</a></li><li><a href="/r/rodbc.html" class="sidebar-link">RODBC</a></li><li><a href="/r/lubridate.html" class="sidebar-link">lubridate</a></li><li><a href="/r/time-series-and-forecasting.html" class="sidebar-link">Time Series and Forecasting</a></li><li><a href="/r/strsplit-function.html" class="sidebar-link">strsplit function</a></li><li><a href="/r/web-scraping-and-parsing.html" class="sidebar-link">Web scraping and parsing</a></li><li><a href="/r/generalized-linear-models.html" class="sidebar-link">Generalized linear models</a></li><li><a href="/r/reshaping-data-between-long-and-wide-forms.html" class="sidebar-link">Reshaping data between long and wide forms</a></li><li><a href="/r/rmarkdown-and-knitr-presentation.html" class="sidebar-link">RMarkdown and knitr presentation</a></li><li><a href="/r/scope-of-variables.html" class="sidebar-link">Scope of variables</a></li><li><a href="/r/performing-a-permutation-test.html" class="sidebar-link">Performing a Permutation Test</a></li><li><a href="/r/xgboost.html" class="sidebar-link">xgboost</a></li><li><a href="/r/r-code-vectorization-best-practices.html" class="sidebar-link">R code vectorization best practices</a></li><li><a href="/r/missing-values.html" class="sidebar-link">Missing values</a></li><li><a href="/r/hierarchical-linear-modeling.html" class="sidebar-link">Hierarchical Linear Modeling</a></li><li><a href="/r/apply-family-of-functions-functionals.html" class="sidebar-link">*apply family of functions (functionals)</a></li><li><a href="/r/text-mining.html" class="sidebar-link">Text mining</a></li><li><a href="/r/anova.html" class="sidebar-link">ANOVA</a></li><li><a href="/r/raster-and-image-analysis.html" class="sidebar-link">Raster and Image Analysis</a></li><li><a href="/r/survival-analysis.html" class="sidebar-link">Survival analysis</a></li><li><a href="/r/fault-tolerant-resilient-code.html" class="sidebar-link">Fault-tolerant/resilient code</a></li><li><a href="/r/reproducible-r.html" class="sidebar-link">Reproducible R</a></li><li><a href="/r/fourier-series-and-transformations.html" class="sidebar-link">Fourier Series and Transformations</a></li><li><a href="/r/rprofile.html" class="sidebar-link">.Rprofile</a></li><li><a href="/r/dplyr.html" class="sidebar-link">dplyr</a></li><li><a href="/r/caret.html" class="sidebar-link">caret</a></li><li><a href="/r/extracting-and-listing-files-in-compressed-archives.html" class="sidebar-link">Extracting and Listing Files in Compressed Archives</a></li><li><a href="/r/probability-distributions-with-r.html" class="sidebar-link">Probability Distributions with R</a></li><li><a href="/r/r-in-latex-with-knitr.html" class="sidebar-link">R in LaTeX with knitr</a></li><li><a href="/r/web-crawling-in-r.html" class="sidebar-link">Web Crawling in R</a></li><li><a href="/r/creating-reports-with-rmarkdown.html" class="sidebar-link">Creating reports with RMarkdown</a></li><li><a href="/r/gpu-accelerated-computing.html" class="sidebar-link">GPU-accelerated computing</a></li><li><a href="/r/heatmap-and-heatmap-2.html" class="sidebar-link">heatmap and heatmap.2</a></li><li><a href="/r/network-analysis-with-the-igraph-package.html" class="sidebar-link">Network analysis with the igraph package</a></li><li><a href="/r/functional-programming.html" class="sidebar-link">Functional programming</a></li><li><a href="/r/get-user-input.html" class="sidebar-link">Get user input</a></li><li><a href="/r/spark-api-sparkr.html" class="sidebar-link">Spark API (SparkR)</a></li><li><a href="/r/meta-documentation-guidelines.html" class="sidebar-link">Meta: Documentation Guidelines</a></li><li><a href="/r/input-and-output.html" class="sidebar-link">Input and output</a></li><li><a href="/r/i-o-for-foreign-tables-excel-sas-spss-stata.html" class="sidebar-link">I/O for foreign tables (Excel, SAS, SPSS, Stata)</a></li><li><a href="/r/i-o-for-database-tables.html" class="sidebar-link">I/O for database tables</a></li><li><a href="/r/i-o-for-geographic-data-shapefiles-etc.html" class="sidebar-link">I/O for geographic data (shapefiles, etc.)</a></li><li><a href="/r/i-o-for-raster-images.html" class="sidebar-link">I/O for raster images</a></li><li><a href="/r/i-o-for-r-s-binary-format.html" class="sidebar-link">I/O for R's binary format</a></li><li><a href="/r/recycling.html" class="sidebar-link">Recycling</a></li><li><a href="/r/expression-parse-eval.html" class="sidebar-link">Expression: parse + eval</a></li><li><a href="/r/regular-expression-syntax-in-r.html" class="sidebar-link">Regular Expression Syntax in R</a></li><li><a href="/r/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (regex)</a></li><li><a href="/r/combinatorics.html" class="sidebar-link">Combinatorics</a></li><li><a href="/r/solving-odes-in-r.html" class="sidebar-link">Solving ODEs in R</a></li><li><a href="/r/feature-selection-in-r-removing-extraneous-features.html" class="sidebar-link">Feature Selection in R -- Removing Extraneous Features</a></li><li><a href="/r/bibliography-in-rmd.html" class="sidebar-link">Bibliography in RMD</a></li><li><a href="/r/writing-functions-in-r.html" class="sidebar-link">Writing functions in R</a></li><li><a href="/r/color-schemes-for-graphics.html" class="sidebar-link">Color schemes for graphics</a></li><li><a href="/r/hierarchical-clustering-with-hclust.html" class="sidebar-link">Hierarchical clustering with hclust</a></li><li><a href="/r/random-forest-algorithm.html" class="sidebar-link">Random Forest Algorithm</a></li><li><a href="/r/restful-r-services.html" class="sidebar-link">RESTful R Services</a></li><li><a href="/r/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/r/using-texreg-to-export-models-in-a-paper-ready-way.html" class="sidebar-link">Using texreg to export models in a paper-ready way</a></li><li><a href="/r/publishing.html" class="sidebar-link">Publishing</a></li><li><a href="/r/implement-state-machine-pattern-using-s4-class.html" class="sidebar-link">Implement State Machine Pattern using S4 Class</a></li><li><a href="/r/reshape-using-tidyr.html" class="sidebar-link">Reshape using tidyr</a></li><li><a href="/r/modifying-strings-by-substitution.html" class="sidebar-link">Modifying strings by substitution</a></li><li><a href="/r/non-standard-evaluation-and-standard-evaluation.html" class="sidebar-link">Non-standard evaluation and standard evaluation</a></li><li><a href="/r/randomization.html" class="sidebar-link">Randomization</a></li><li><a href="/r/object-oriented-programming-in-r.html" class="sidebar-link">Object-Oriented Programming in R</a></li><li><a href="/r/coercion.html" class="sidebar-link">Coercion</a></li><li><a href="/r/standardize-analyses-by-writing-standalone-r-scripts.html" class="sidebar-link">Standardize analyses by writing standalone R scripts</a></li><li><a href="/r/analyze-tweets-with-r.html" class="sidebar-link">Analyze tweets with R</a></li><li><a href="/r/natural-language-processing.html" class="sidebar-link">Natural language processing</a></li><li><a href="/r/r-markdown-notebooks-from-rstudio.html" class="sidebar-link">R Markdown Notebooks (from RStudio)</a></li><li><a href="/r/aggregating-data-frames.html" class="sidebar-link">Aggregating data frames</a></li><li><a href="/r/data-acquisition.html" class="sidebar-link">Data acquisition</a></li><li><a href="/r/r-memento-by-examples.html" class="sidebar-link">R memento by examples</a></li><li><a href="/r/updating-r-version.html" class="sidebar-link">Updating R version</a></li><li><a href="/r/introspection.html" class="sidebar-link">Introspection</a></li><li><a href="/r/roxygen2.html" class="sidebar-link">roxygen2</a></li><li><a href="/r/cleaning-data.html" class="sidebar-link">Cleaning data</a></li><li><a href="/r/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ggplot2"><a href="#ggplot2" class="header-anchor">#</a> ggplot2</h1> <h2 id="displaying-multiple-plots"><a href="#displaying-multiple-plots" class="header-anchor">#</a> Displaying multiple plots</h2> <p>Display multiple plots in one image with the different <code>facet</code> functions. An advantage of this method is that all axes share the same scale across charts, making it easy to compare them at a glance. We'll use the <code>mpg</code> dataset included in <code>ggplot2</code>.</p> <p><strong>Wrap charts line by line (attempts to create a square layout):</strong></p> <div class="language-r extra-class"><pre class="language-r"><code>ggplot<span class="token punctuation">(</span>mpg<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> displ<span class="token punctuation">,</span> y <span class="token operator">=</span> hwy<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  facet_wrap<span class="token punctuation">(</span><span class="token operator">~</span>class<span class="token punctuation">)</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/Tvqe7.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/Tvqe7.png" alt=""><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>Display multiple charts on one row, multiple columns:</strong></p> <div class="language-r extra-class"><pre class="language-r"><code>ggplot<span class="token punctuation">(</span>mpg<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> displ<span class="token punctuation">,</span> y <span class="token operator">=</span> hwy<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  facet_grid<span class="token punctuation">(</span>.<span class="token operator">~</span>class<span class="token punctuation">)</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/SWcEZ.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/SWcEZ.png" alt=""><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>Display multiple charts on one column, multiple rows:</strong></p> <div class="language-r extra-class"><pre class="language-r"><code>ggplot<span class="token punctuation">(</span>mpg<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> displ<span class="token punctuation">,</span> y <span class="token operator">=</span> hwy<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  facet_grid<span class="token punctuation">(</span>class<span class="token operator">~</span>.<span class="token punctuation">)</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/j3iCI.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/j3iCI.png" alt=""><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>Display multiple charts in a grid by 2 variables:</strong></p> <div class="language-r extra-class"><pre class="language-r"><code>ggplot<span class="token punctuation">(</span>mpg<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> displ<span class="token punctuation">,</span> y <span class="token operator">=</span> hwy<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  facet_grid<span class="token punctuation">(</span>trans<span class="token operator">~</span>class<span class="token punctuation">)</span> <span class="token comment">#&quot;row&quot; parameter, then &quot;column&quot; parameter</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/dD1kw.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/dD1kw.png" alt=""><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="prepare-your-data-for-plotting"><a href="#prepare-your-data-for-plotting" class="header-anchor">#</a> Prepare your data for plotting</h2> <p><code>ggplot2</code> works best with a long data frame.  The following sample data which represents the prices for sweets on 20 different days, in a format described as wide, because each category has a column.</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span>
sweetsWide <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>date      <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
                         chocolate <span class="token operator">=</span> runif<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> min <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         iceCream  <span class="token operator">=</span> runif<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> min <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         candy     <span class="token operator">=</span> runif<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> min <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

head<span class="token punctuation">(</span>sweetsWide<span class="token punctuation">)</span>
<span class="token comment">##   date chocolate  iceCream    candy</span>
<span class="token comment">## 1    1  3.953924 0.5890727 1.117311</span>
<span class="token comment">## 2    2  2.747832 0.7783982 1.740851</span>
<span class="token comment">## 3    3  3.523004 0.7578975 2.196754</span>
<span class="token comment">## 4    4  3.644983 0.5667152 2.875028</span>
<span class="token comment">## 5    5  3.147089 0.8446417 1.733543</span>
<span class="token comment">## 6    6  3.382825 0.6900125 1.405674</span>

</code></pre></div><p>To convert <code>sweetsWide</code> to long format for use with <code>ggplot2</code>, several useful functions from base R, and the packages <code>reshape2</code>, <code>data.table</code> and <code>tidyr</code> (in chronological order) can be used:</p> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># reshape from base R</span>
sweetsLong <span class="token operator">&lt;-</span> reshape<span class="token punctuation">(</span>sweetsWide<span class="token punctuation">,</span> idvar <span class="token operator">=</span> <span class="token string">'date'</span><span class="token punctuation">,</span> direction <span class="token operator">=</span> <span class="token string">'long'</span><span class="token punctuation">,</span> 
                      varying <span class="token operator">=</span> list<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> new.row.names <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> times <span class="token operator">=</span> names<span class="token punctuation">(</span>sweetsWide<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># melt from 'reshape2'</span>
library<span class="token punctuation">(</span>reshape2<span class="token punctuation">)</span>
sweetsLong <span class="token operator">&lt;-</span> melt<span class="token punctuation">(</span>sweetsWide<span class="token punctuation">,</span> id.vars <span class="token operator">=</span> <span class="token string">'date'</span><span class="token punctuation">)</span>

<span class="token comment"># melt from 'data.table'</span>
<span class="token comment"># which is an optimized &amp; extended version of 'melt' from 'reshape2'</span>
library<span class="token punctuation">(</span>data.table<span class="token punctuation">)</span>
sweetsLong <span class="token operator">&lt;-</span> melt<span class="token punctuation">(</span>setDT<span class="token punctuation">(</span>sweetsWide<span class="token punctuation">)</span><span class="token punctuation">,</span> id.vars <span class="token operator">=</span> <span class="token string">'date'</span><span class="token punctuation">)</span>

<span class="token comment"># gather from 'tidyr'</span>
library<span class="token punctuation">(</span>tidyr<span class="token punctuation">)</span>
sweetsLong <span class="token operator">&lt;-</span> gather<span class="token punctuation">(</span>sweetsWide<span class="token punctuation">,</span> sweet<span class="token punctuation">,</span> price<span class="token punctuation">,</span> chocolate<span class="token operator">:</span>candy<span class="token punctuation">)</span>

</code></pre></div><p>The all give a similar result:</p> <div class="language-r extra-class"><pre class="language-r"><code>head<span class="token punctuation">(</span>sweetsLong<span class="token punctuation">)</span>
<span class="token comment">##   date     sweet    price</span>
<span class="token comment">## 1    1 chocolate 3.953924</span>
<span class="token comment">## 2    2 chocolate 2.747832</span>
<span class="token comment">## 3    3 chocolate 3.523004</span>
<span class="token comment">## 4    4 chocolate 3.644983</span>
<span class="token comment">## 5    5 chocolate 3.147089</span>
<span class="token comment">## 6    6 chocolate 3.382825</span>

</code></pre></div><p>See also <a href="http://stackoverflow.com/documentation/r/2904/reshaping-data-between-long-and-wide-forms#t=201703202122379182914" target="_blank" rel="noopener noreferrer">Reshaping data between long and wide forms<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details on converting data between <strong>long</strong> and <strong>wide</strong> format.</p> <p>The resulting <code>sweetsLong</code> has one column of prices and one column describing the type of sweet. Now plotting is much simpler:</p> <div class="language-r extra-class"><pre class="language-r"><code>library<span class="token punctuation">(</span>ggplot2<span class="token punctuation">)</span>
ggplot<span class="token punctuation">(</span>sweetsLong<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> date<span class="token punctuation">,</span> y <span class="token operator">=</span> price<span class="token punctuation">,</span> colour <span class="token operator">=</span> sweet<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> geom_line<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/yRHYz.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/yRHYz.png" alt="line graph of sweets data"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="add-horizontal-and-vertical-lines-to-plot"><a href="#add-horizontal-and-vertical-lines-to-plot" class="header-anchor">#</a> Add horizontal and vertical lines to plot</h2> <h3 id="add-one-common-horizontal-line-for-all-categorical-variables"><a href="#add-one-common-horizontal-line-for-all-categorical-variables" class="header-anchor">#</a> Add one common horizontal line for all categorical variables</h3> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># sample data</span>
df <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

p1 <span class="token operator">&lt;-</span> ggplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> 
        <span class="token operator">+</span> geom_bar<span class="token punctuation">(</span>position <span class="token operator">=</span> <span class="token string">&quot;dodge&quot;</span><span class="token punctuation">,</span> stat <span class="token operator">=</span> <span class="token string">'identity'</span><span class="token punctuation">)</span> 
        <span class="token operator">+</span> theme_bw<span class="token punctuation">(</span><span class="token punctuation">)</span>

p1 <span class="token operator">+</span> geom_hline<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>yintercept<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> colour<span class="token operator">=</span><span class="token string">&quot;#990000&quot;</span><span class="token punctuation">,</span> linetype<span class="token operator">=</span><span class="token string">&quot;dashed&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/HxBMW.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/HxBMW.png" alt="plot1"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="add-one-horizontal-line-for-each-categorical-variable"><a href="#add-one-horizontal-line-for-each-categorical-variable" class="header-anchor">#</a> Add one horizontal line for each categorical variable</h3> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># sample data</span>
df <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># add horizontal levels for drawing lines</span>
df<span class="token operator">$</span>hval <span class="token operator">&lt;-</span> df<span class="token operator">$</span>y <span class="token operator">+</span> <span class="token number">2</span>

p1 <span class="token operator">&lt;-</span> ggplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> 
        <span class="token operator">+</span> geom_bar<span class="token punctuation">(</span>position <span class="token operator">=</span> <span class="token string">&quot;dodge&quot;</span><span class="token punctuation">,</span> stat <span class="token operator">=</span> <span class="token string">'identity'</span><span class="token punctuation">)</span> 
        <span class="token operator">+</span> theme_bw<span class="token punctuation">(</span><span class="token punctuation">)</span>

p1 <span class="token operator">+</span> geom_errorbar<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>y<span class="token operator">=</span>hval<span class="token punctuation">,</span> ymax<span class="token operator">=</span>hval<span class="token punctuation">,</span> ymin<span class="token operator">=</span>hval<span class="token punctuation">)</span><span class="token punctuation">,</span> colour<span class="token operator">=</span><span class="token string">&quot;#990000&quot;</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/enjge.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/enjge.png" alt="plot2"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="add-horizontal-line-over-grouped-bars"><a href="#add-horizontal-line-over-grouped-bars" class="header-anchor">#</a> Add horizontal line over grouped bars</h3> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># sample data</span>
df <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>x <span class="token operator">=</span> rep<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> times<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
             group <span class="token operator">=</span> rep<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">'G1'</span><span class="token punctuation">,</span> <span class="token string">'G2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> each<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
             y <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
             hval <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

p1 <span class="token operator">&lt;-</span> ggplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> fill<span class="token operator">=</span>group<span class="token punctuation">)</span><span class="token punctuation">)</span> 
        <span class="token operator">+</span> geom_bar<span class="token punctuation">(</span>position<span class="token operator">=</span><span class="token string">&quot;dodge&quot;</span><span class="token punctuation">,</span> stat<span class="token operator">=</span><span class="token string">&quot;identity&quot;</span><span class="token punctuation">)</span>

p1 <span class="token operator">+</span> geom_errorbar<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>y<span class="token operator">=</span>hval<span class="token punctuation">,</span> ymax<span class="token operator">=</span>hval<span class="token punctuation">,</span> ymin<span class="token operator">=</span>hval<span class="token punctuation">)</span><span class="token punctuation">,</span> 
               colour<span class="token operator">=</span><span class="token string">&quot;#990000&quot;</span><span class="token punctuation">,</span> 
               position <span class="token operator">=</span> <span class="token string">&quot;dodge&quot;</span><span class="token punctuation">,</span> 
               linetype <span class="token operator">=</span> <span class="token string">&quot;dashed&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/ePoVp.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/ePoVp.png" alt="plot3"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="add-vertical-line"><a href="#add-vertical-line" class="header-anchor">#</a> Add vertical line</h3> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># sample data</span>
df <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>group<span class="token operator">=</span>rep<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> each<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
                 x <span class="token operator">=</span> rnorm<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
                 y <span class="token operator">=</span> rnorm<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

p1 <span class="token operator">&lt;-</span>  ggplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> colour<span class="token operator">=</span>group<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span>

p1 <span class="token operator">+</span> geom_vline<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>xintercept<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;#990000&quot;</span><span class="token punctuation">,</span> linetype<span class="token operator">=</span><span class="token string">&quot;dashed&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/vAWBd.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/vAWBd.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="scatter-plots"><a href="#scatter-plots" class="header-anchor">#</a> Scatter Plots</h2> <p>We plot a simple scatter plot using the builtin iris data set as follows:</p> <div class="language-r extra-class"><pre class="language-r"><code>library<span class="token punctuation">(</span>ggplot2<span class="token punctuation">)</span>
ggplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> Petal.Width<span class="token punctuation">,</span> y <span class="token operator">=</span> Petal.Length<span class="token punctuation">,</span> color <span class="token operator">=</span> Species<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
  geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>This gives:
<a href="http://i.stack.imgur.com/02PgG.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/02PgG.png" alt="Sample scatter plot using iris dataset"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="produce-basic-plots-with-qplot"><a href="#produce-basic-plots-with-qplot" class="header-anchor">#</a> Produce basic plots with qplot</h2> <p>qplot is intended to be similar to base r <code>plot()</code> function, trying to always plot out your data without requiring too much specifications.</p> <p><strong>basic qplot</strong></p> <div class="language-r extra-class"><pre class="language-r"><code>qplot<span class="token punctuation">(</span>x <span class="token operator">=</span> disp<span class="token punctuation">,</span> y <span class="token operator">=</span> mpg<span class="token punctuation">,</span> data <span class="token operator">=</span> mtcars<span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/mqTAR.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/mqTAR.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>adding colors</strong></p> <div class="language-r extra-class"><pre class="language-r"><code>qplot<span class="token punctuation">(</span>x <span class="token operator">=</span> disp<span class="token punctuation">,</span> y <span class="token operator">=</span> mpg<span class="token punctuation">,</span> colour <span class="token operator">=</span> cyl<span class="token punctuation">,</span>data <span class="token operator">=</span> mtcars<span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/V1K5E.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/V1K5E.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>adding a smoother</strong></p> <div class="language-r extra-class"><pre class="language-r"><code>qplot<span class="token punctuation">(</span>x <span class="token operator">=</span> disp<span class="token punctuation">,</span> y <span class="token operator">=</span> mpg<span class="token punctuation">,</span> geom <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;point&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;smooth&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data <span class="token operator">=</span> mtcars<span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/zr5jq.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/zr5jq.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="vertical-and-horizontal-bar-chart"><a href="#vertical-and-horizontal-bar-chart" class="header-anchor">#</a> Vertical and Horizontal Bar Chart</h2> <div class="language-r extra-class"><pre class="language-r"><code>ggplot<span class="token punctuation">(</span>data <span class="token operator">=</span> diamonds<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> cut<span class="token punctuation">,</span> fill <span class="token operator">=</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
  geom_bar<span class="token punctuation">(</span>stat <span class="token operator">=</span> <span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span> position <span class="token operator">=</span> <span class="token string">&quot;dodge&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/i1SpM.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/i1SpM.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>it is possible to obtain an horizontal bar chart simply adding coord_flip() aesthetic to the ggplot object:</p> <div class="language- extra-class"><pre class="language-text"><code>
 ggplot(data = diamonds, aes(x = cut, fill =color)) +
  geom_bar(stat = &quot;count&quot;, position = &quot;dodge&quot;)+
  coord_flip()

</code></pre></div><p><a href="http://i.stack.imgur.com/TMYiP.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/TMYiP.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="violin-plot"><a href="#violin-plot" class="header-anchor">#</a> Violin plot</h2> <p>Violin plots are kernel density estimates mirrored in the vertical plane. They can be used to visualize several distributions side-by-side, with the mirroring helping to highlight any differences.</p> <div class="language-r extra-class"><pre class="language-r"><code>ggplot<span class="token punctuation">(</span>diamonds<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>cut<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
  geom_violin<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="http://i.stack.imgur.com/fkpvR.png" target="_blank" rel="noopener noreferrer"><img src="http://i.stack.imgur.com/fkpvR.png" alt="basic violin plot"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Violin plots are named for their resemblance to the musical instrument, this is particularly visible when they are coupled with an overlaid boxplot. This visualisation then describes the underlying distributions both in terms of Tukey's 5 number summary (as boxplots) and full continuous density estimates (violins).</p> <div class="language-r extra-class"><pre class="language-r"><code>ggplot<span class="token punctuation">(</span>diamonds<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>cut<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
  geom_violin<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
  geom_boxplot<span class="token punctuation">(</span>width <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">,</span> fill <span class="token operator">=</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span> outlier.shape <span class="token operator">=</span> <span class="token keyword">NA</span><span class="token punctuation">)</span> <span class="token operator">+</span>
  stat_summary<span class="token punctuation">(</span>fun.y <span class="token operator">=</span> <span class="token string">&quot;median&quot;</span><span class="token punctuation">,</span> geom <span class="token operator">=</span> <span class="token string">&quot;point&quot;</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token string">&quot;white&quot;</span><span class="token punctuation">)</span>

</code></pre></div><p><a href="https://i.stack.imgur.com/XBMJh.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/XBMJh.png" alt="violin plot with boxplot"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p><code>ggplot2</code> has its own perfect reference website <a href="http://ggplot2.tidyverse.org/" target="_blank" rel="noopener noreferrer">http://ggplot2.tidyverse.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Most of the time, it is more convenient to adapt the structure or content of the plotted data (e.g. a <code>data.frame</code>) than adjusting things within the plot afterwards.</p> <p>RStudio publishes a very helpful &quot;Data Visualization with ggplot2&quot; cheatsheet that can be found <a href="https://www.rstudio.com/wp-content/uploads/2015/12/ggplot2-cheatsheet-2.0.pdf" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/r/ggplot2.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/r/boxplot.html" class="prev">
        boxplot
      </a></span> <span class="next"><a href="/r/factors.html">
        Factors
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2893.3e368f59.js" defer></script>
  </body>
</html>
