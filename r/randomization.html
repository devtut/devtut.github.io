<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>R - Randomization</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Random draws and permutations, Setting the seed">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="R - Randomization">
    <meta property="og:description" content="Random draws and permutations, Setting the seed">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/r/randomization.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="R - Randomization">
    <meta name="twitter:description" content="Random draws and permutations, Setting the seed">
    <meta name="twitter:url" content="/r/randomization.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2937.6595ed1f.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>R</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/r/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/r/getting-started-with-r-language.html" class="sidebar-link">Getting started with R Language</a></li><li><a href="/r/variables.html" class="sidebar-link">Variables</a></li><li><a href="/r/arithmetic-operators.html" class="sidebar-link">Arithmetic Operators</a></li><li><a href="/r/matrices.html" class="sidebar-link">Matrices</a></li><li><a href="/r/formula.html" class="sidebar-link">Formula</a></li><li><a href="/r/reading-and-writing-strings.html" class="sidebar-link">Reading and writing strings</a></li><li><a href="/r/string-manipulation-with-stringi-package.html" class="sidebar-link">String manipulation with stringi package</a></li><li><a href="/r/classes.html" class="sidebar-link">Classes</a></li><li><a href="/r/lists.html" class="sidebar-link">Lists</a></li><li><a href="/r/hashmaps.html" class="sidebar-link">Hashmaps</a></li><li><a href="/r/creating-vectors.html" class="sidebar-link">Creating vectors</a></li><li><a href="/r/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/r/the-date-class.html" class="sidebar-link">The Date class</a></li><li><a href="/r/date-time-classes-posixct-and-posixlt.html" class="sidebar-link">Date-time classes (POSIXct and POSIXlt)</a></li><li><a href="/r/the-character-class.html" class="sidebar-link">The character class</a></li><li><a href="/r/numeric-classes-and-storage-modes.html" class="sidebar-link">Numeric classes and storage modes</a></li><li><a href="/r/the-logical-class.html" class="sidebar-link">The logical class</a></li><li><a href="/r/data-frames.html" class="sidebar-link">Data frames</a></li><li><a href="/r/split-function.html" class="sidebar-link">Split function</a></li><li><a href="/r/reading-and-writing-tabular-data-in-plain-text-files-csv-tsv-etc.html" class="sidebar-link">Reading and writing tabular data in plain-text files (CSV, TSV, etc.)</a></li><li><a href="/r/pipe-operators-and-others.html" class="sidebar-link">Pipe operators (%&gt;% and others)</a></li><li><a href="/r/linear-models-regression.html" class="sidebar-link">Linear Models (Regression)</a></li><li><a href="/r/data-table.html" class="sidebar-link">data.table</a></li><li><a href="/r/pivot-and-unpivot-with-data-table.html" class="sidebar-link">Pivot and unpivot with data.table</a></li><li><a href="/r/bar-chart.html" class="sidebar-link">Bar Chart</a></li><li><a href="/r/base-plotting.html" class="sidebar-link">Base Plotting</a></li><li><a href="/r/boxplot.html" class="sidebar-link">boxplot</a></li><li><a href="/r/ggplot2.html" class="sidebar-link">ggplot2</a></li><li><a href="/r/factors.html" class="sidebar-link">Factors</a></li><li><a href="/r/pattern-matching-and-replacement.html" class="sidebar-link">Pattern Matching and Replacement</a></li><li><a href="/r/run-length-encoding.html" class="sidebar-link">Run-length encoding</a></li><li><a href="/r/speeding-up-tough-to-vectorize-code.html" class="sidebar-link">Speeding up tough-to-vectorize code</a></li><li><a href="/r/introduction-to-geographical-maps.html" class="sidebar-link">Introduction to Geographical Maps</a></li><li><a href="/r/set-operations.html" class="sidebar-link">Set operations</a></li><li><a href="/r/tidyverse.html" class="sidebar-link">tidyverse</a></li><li><a href="/r/rcpp.html" class="sidebar-link">Rcpp</a></li><li><a href="/r/random-numbers-generator.html" class="sidebar-link">Random Numbers Generator</a></li><li><a href="/r/parallel-processing.html" class="sidebar-link">Parallel processing</a></li><li><a href="/r/subsetting.html" class="sidebar-link">Subsetting</a></li><li><a href="/r/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/r/installing-packages.html" class="sidebar-link">Installing packages</a></li><li><a href="/r/updating-r-and-the-package-library.html" class="sidebar-link">Updating R and the package library</a></li><li><a href="/r/inspecting-packages.html" class="sidebar-link">Inspecting packages</a></li><li><a href="/r/creating-packages-with-devtools.html" class="sidebar-link">Creating packages with devtools</a></li><li><a href="/r/using-pipe-assignment-in-your-own-package-how-to.html" class="sidebar-link">Using pipe assignment in your own package %%: How to ?</a></li><li><a href="/r/arima-models.html" class="sidebar-link">Arima Models</a></li><li><a href="/r/distribution-functions.html" class="sidebar-link">Distribution Functions</a></li><li><a href="/r/shiny.html" class="sidebar-link">Shiny</a></li><li><a href="/r/spatial-analysis.html" class="sidebar-link">spatial analysis</a></li><li><a href="/r/sqldf.html" class="sidebar-link">sqldf</a></li><li><a href="/r/code-profiling.html" class="sidebar-link">Code profiling</a></li><li><a href="/r/control-flow-structures.html" class="sidebar-link">Control flow structures</a></li><li><a href="/r/column-wise-operation.html" class="sidebar-link">Column wise operation</a></li><li><a href="/r/json.html" class="sidebar-link">JSON</a></li><li><a href="/r/rodbc.html" class="sidebar-link">RODBC</a></li><li><a href="/r/lubridate.html" class="sidebar-link">lubridate</a></li><li><a href="/r/time-series-and-forecasting.html" class="sidebar-link">Time Series and Forecasting</a></li><li><a href="/r/strsplit-function.html" class="sidebar-link">strsplit function</a></li><li><a href="/r/web-scraping-and-parsing.html" class="sidebar-link">Web scraping and parsing</a></li><li><a href="/r/generalized-linear-models.html" class="sidebar-link">Generalized linear models</a></li><li><a href="/r/reshaping-data-between-long-and-wide-forms.html" class="sidebar-link">Reshaping data between long and wide forms</a></li><li><a href="/r/rmarkdown-and-knitr-presentation.html" class="sidebar-link">RMarkdown and knitr presentation</a></li><li><a href="/r/scope-of-variables.html" class="sidebar-link">Scope of variables</a></li><li><a href="/r/performing-a-permutation-test.html" class="sidebar-link">Performing a Permutation Test</a></li><li><a href="/r/xgboost.html" class="sidebar-link">xgboost</a></li><li><a href="/r/r-code-vectorization-best-practices.html" class="sidebar-link">R code vectorization best practices</a></li><li><a href="/r/missing-values.html" class="sidebar-link">Missing values</a></li><li><a href="/r/hierarchical-linear-modeling.html" class="sidebar-link">Hierarchical Linear Modeling</a></li><li><a href="/r/apply-family-of-functions-functionals.html" class="sidebar-link">*apply family of functions (functionals)</a></li><li><a href="/r/text-mining.html" class="sidebar-link">Text mining</a></li><li><a href="/r/anova.html" class="sidebar-link">ANOVA</a></li><li><a href="/r/raster-and-image-analysis.html" class="sidebar-link">Raster and Image Analysis</a></li><li><a href="/r/survival-analysis.html" class="sidebar-link">Survival analysis</a></li><li><a href="/r/fault-tolerant-resilient-code.html" class="sidebar-link">Fault-tolerant/resilient code</a></li><li><a href="/r/reproducible-r.html" class="sidebar-link">Reproducible R</a></li><li><a href="/r/fourier-series-and-transformations.html" class="sidebar-link">Fourier Series and Transformations</a></li><li><a href="/r/rprofile.html" class="sidebar-link">.Rprofile</a></li><li><a href="/r/dplyr.html" class="sidebar-link">dplyr</a></li><li><a href="/r/caret.html" class="sidebar-link">caret</a></li><li><a href="/r/extracting-and-listing-files-in-compressed-archives.html" class="sidebar-link">Extracting and Listing Files in Compressed Archives</a></li><li><a href="/r/probability-distributions-with-r.html" class="sidebar-link">Probability Distributions with R</a></li><li><a href="/r/r-in-latex-with-knitr.html" class="sidebar-link">R in LaTeX with knitr</a></li><li><a href="/r/web-crawling-in-r.html" class="sidebar-link">Web Crawling in R</a></li><li><a href="/r/creating-reports-with-rmarkdown.html" class="sidebar-link">Creating reports with RMarkdown</a></li><li><a href="/r/gpu-accelerated-computing.html" class="sidebar-link">GPU-accelerated computing</a></li><li><a href="/r/heatmap-and-heatmap-2.html" class="sidebar-link">heatmap and heatmap.2</a></li><li><a href="/r/network-analysis-with-the-igraph-package.html" class="sidebar-link">Network analysis with the igraph package</a></li><li><a href="/r/functional-programming.html" class="sidebar-link">Functional programming</a></li><li><a href="/r/get-user-input.html" class="sidebar-link">Get user input</a></li><li><a href="/r/spark-api-sparkr.html" class="sidebar-link">Spark API (SparkR)</a></li><li><a href="/r/meta-documentation-guidelines.html" class="sidebar-link">Meta: Documentation Guidelines</a></li><li><a href="/r/input-and-output.html" class="sidebar-link">Input and output</a></li><li><a href="/r/i-o-for-foreign-tables-excel-sas-spss-stata.html" class="sidebar-link">I/O for foreign tables (Excel, SAS, SPSS, Stata)</a></li><li><a href="/r/i-o-for-database-tables.html" class="sidebar-link">I/O for database tables</a></li><li><a href="/r/i-o-for-geographic-data-shapefiles-etc.html" class="sidebar-link">I/O for geographic data (shapefiles, etc.)</a></li><li><a href="/r/i-o-for-raster-images.html" class="sidebar-link">I/O for raster images</a></li><li><a href="/r/i-o-for-r-s-binary-format.html" class="sidebar-link">I/O for R's binary format</a></li><li><a href="/r/recycling.html" class="sidebar-link">Recycling</a></li><li><a href="/r/expression-parse-eval.html" class="sidebar-link">Expression: parse + eval</a></li><li><a href="/r/regular-expression-syntax-in-r.html" class="sidebar-link">Regular Expression Syntax in R</a></li><li><a href="/r/regular-expressions-regex.html" class="sidebar-link">Regular Expressions (regex)</a></li><li><a href="/r/combinatorics.html" class="sidebar-link">Combinatorics</a></li><li><a href="/r/solving-odes-in-r.html" class="sidebar-link">Solving ODEs in R</a></li><li><a href="/r/feature-selection-in-r-removing-extraneous-features.html" class="sidebar-link">Feature Selection in R -- Removing Extraneous Features</a></li><li><a href="/r/bibliography-in-rmd.html" class="sidebar-link">Bibliography in RMD</a></li><li><a href="/r/writing-functions-in-r.html" class="sidebar-link">Writing functions in R</a></li><li><a href="/r/color-schemes-for-graphics.html" class="sidebar-link">Color schemes for graphics</a></li><li><a href="/r/hierarchical-clustering-with-hclust.html" class="sidebar-link">Hierarchical clustering with hclust</a></li><li><a href="/r/random-forest-algorithm.html" class="sidebar-link">Random Forest Algorithm</a></li><li><a href="/r/restful-r-services.html" class="sidebar-link">RESTful R Services</a></li><li><a href="/r/machine-learning.html" class="sidebar-link">Machine learning</a></li><li><a href="/r/using-texreg-to-export-models-in-a-paper-ready-way.html" class="sidebar-link">Using texreg to export models in a paper-ready way</a></li><li><a href="/r/publishing.html" class="sidebar-link">Publishing</a></li><li><a href="/r/implement-state-machine-pattern-using-s4-class.html" class="sidebar-link">Implement State Machine Pattern using S4 Class</a></li><li><a href="/r/reshape-using-tidyr.html" class="sidebar-link">Reshape using tidyr</a></li><li><a href="/r/modifying-strings-by-substitution.html" class="sidebar-link">Modifying strings by substitution</a></li><li><a href="/r/non-standard-evaluation-and-standard-evaluation.html" class="sidebar-link">Non-standard evaluation and standard evaluation</a></li><li><a href="/r/randomization.html" aria-current="page" class="active sidebar-link">Randomization</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/r/randomization.html#random-draws-and-permutations" class="sidebar-link">Random draws and permutations</a></li><li class="sidebar-sub-header"><a href="/r/randomization.html#setting-the-seed" class="sidebar-link">Setting the seed</a></li></ul></li><li><a href="/r/object-oriented-programming-in-r.html" class="sidebar-link">Object-Oriented Programming in R</a></li><li><a href="/r/coercion.html" class="sidebar-link">Coercion</a></li><li><a href="/r/standardize-analyses-by-writing-standalone-r-scripts.html" class="sidebar-link">Standardize analyses by writing standalone R scripts</a></li><li><a href="/r/analyze-tweets-with-r.html" class="sidebar-link">Analyze tweets with R</a></li><li><a href="/r/natural-language-processing.html" class="sidebar-link">Natural language processing</a></li><li><a href="/r/r-markdown-notebooks-from-rstudio.html" class="sidebar-link">R Markdown Notebooks (from RStudio)</a></li><li><a href="/r/aggregating-data-frames.html" class="sidebar-link">Aggregating data frames</a></li><li><a href="/r/data-acquisition.html" class="sidebar-link">Data acquisition</a></li><li><a href="/r/r-memento-by-examples.html" class="sidebar-link">R memento by examples</a></li><li><a href="/r/updating-r-version.html" class="sidebar-link">Updating R version</a></li><li><a href="/r/introspection.html" class="sidebar-link">Introspection</a></li><li><a href="/r/roxygen2.html" class="sidebar-link">roxygen2</a></li><li><a href="/r/cleaning-data.html" class="sidebar-link">Cleaning data</a></li><li><a href="/r/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="randomization"><a href="#randomization" class="header-anchor">#</a> Randomization</h1> <p>The R language is commonly used for statistical analysis. As such, it contains a robust set of options for randomization. For specific information on sampling from probability distributions, see the documentation for <a href="http://stackoverflow.com/documentation/r/1885/distribution-functions#t=2017032914155888753" target="_blank" rel="noopener noreferrer">distribution functions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="random-draws-and-permutations"><a href="#random-draws-and-permutations" class="header-anchor">#</a> Random draws and permutations</h2> <p>The <code>sample</code> command can be used to simulate classic probability problems like drawing from an urn with and without replacement, or creating random permutations.</p> <p>Note that throughout this example, <code>set.seed</code> is used to ensure that the example code is reproducible. However, <code>sample</code> will work without explicitly calling <code>set.seed</code>.</p> <h3 id="random-permutation"><a href="#random-permutation" class="header-anchor">#</a> Random permutation</h3> <p>In the simplest form, <code>sample</code> creates a random permutation of a vector of integers. This can be accomplished with:</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">1251</span><span class="token punctuation">)</span>
sample<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">7</span>  <span class="token number">1</span>  <span class="token number">4</span>  <span class="token number">8</span>  <span class="token number">6</span>  <span class="token number">3</span> <span class="token number">10</span>  <span class="token number">5</span>  <span class="token number">2</span>  <span class="token number">9</span>

</code></pre></div><p>When given no other arguments, <code>sample</code> returns a random permutation of the vector from 1 to <code>x</code>. This can be useful when trying to randomize the order of the rows in a data frame. This is a common task when creating randomization tables for trials, or when selecting a random subset of rows for analysis.</p> <div class="language-r extra-class"><pre class="language-r"><code>library<span class="token punctuation">(</span>datasets<span class="token punctuation">)</span>
set.seed<span class="token punctuation">(</span><span class="token number">1171</span><span class="token punctuation">)</span>
iris_rand <span class="token operator">&lt;-</span> iris<span class="token punctuation">[</span>sample<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span>nrow<span class="token punctuation">(</span>iris<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span>

<span class="token operator">&gt;</span> head<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
<span class="token number">1</span>          <span class="token number">5.1</span>         <span class="token number">3.5</span>          <span class="token number">1.4</span>         <span class="token number">0.2</span>  setosa
<span class="token number">2</span>          <span class="token number">4.9</span>         <span class="token number">3.0</span>          <span class="token number">1.4</span>         <span class="token number">0.2</span>  setosa
<span class="token number">3</span>          <span class="token number">4.7</span>         <span class="token number">3.2</span>          <span class="token number">1.3</span>         <span class="token number">0.2</span>  setosa
<span class="token number">4</span>          <span class="token number">4.6</span>         <span class="token number">3.1</span>          <span class="token number">1.5</span>         <span class="token number">0.2</span>  setosa
<span class="token number">5</span>          <span class="token number">5.0</span>         <span class="token number">3.6</span>          <span class="token number">1.4</span>         <span class="token number">0.2</span>  setosa
<span class="token number">6</span>          <span class="token number">5.4</span>         <span class="token number">3.9</span>          <span class="token number">1.7</span>         <span class="token number">0.4</span>  setosa

<span class="token operator">&gt;</span> head<span class="token punctuation">(</span>iris_rand<span class="token punctuation">)</span>
    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
<span class="token number">145</span>          <span class="token number">6.7</span>         <span class="token number">3.3</span>          <span class="token number">5.7</span>         <span class="token number">2.5</span>  virginica
<span class="token number">5</span>            <span class="token number">5.0</span>         <span class="token number">3.6</span>          <span class="token number">1.4</span>         <span class="token number">0.2</span>     setosa
<span class="token number">85</span>           <span class="token number">5.4</span>         <span class="token number">3.0</span>          <span class="token number">4.5</span>         <span class="token number">1.5</span> versicolor
<span class="token number">137</span>          <span class="token number">6.3</span>         <span class="token number">3.4</span>          <span class="token number">5.6</span>         <span class="token number">2.4</span>  virginica
<span class="token number">128</span>          <span class="token number">6.1</span>         <span class="token number">3.0</span>          <span class="token number">4.9</span>         <span class="token number">1.8</span>  virginica
<span class="token number">105</span>          <span class="token number">6.5</span>         <span class="token number">3.0</span>          <span class="token number">5.8</span>         <span class="token number">2.2</span>  virginica

</code></pre></div><h3 id="draws-without-replacement"><a href="#draws-without-replacement" class="header-anchor">#</a> Draws without Replacement</h3> <p>Using <code>sample</code>, we can also simulate drawing from a set with and without replacement. To sample without replacement (the default), you must provide sample with a set to be drawn from and the number of draws. The set to be drawn from is given as a vector.</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">7043</span><span class="token punctuation">)</span>
sample<span class="token punctuation">(</span>x <span class="token operator">=</span> LETTERS<span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">&quot;S&quot;</span> <span class="token string">&quot;P&quot;</span> <span class="token string">&quot;J&quot;</span> <span class="token string">&quot;F&quot;</span> <span class="token string">&quot;Z&quot;</span> <span class="token string">&quot;G&quot;</span> <span class="token string">&quot;R&quot;</span>

</code></pre></div><p>Note that if the argument to <code>size</code> is the same as the length of the argument to <code>x</code>, you are creating a random permutation. Also note that you cannot specify a size greater than the length of <code>x</code> when doing sampling without replacement.</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">7305</span><span class="token punctuation">)</span>
sample<span class="token punctuation">(</span>x <span class="token operator">=</span> letters<span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">&quot;x&quot;</span> <span class="token string">&quot;z&quot;</span> <span class="token string">&quot;y&quot;</span> <span class="token string">&quot;i&quot;</span> <span class="token string">&quot;k&quot;</span> <span class="token string">&quot;f&quot;</span> <span class="token string">&quot;d&quot;</span> <span class="token string">&quot;s&quot;</span> <span class="token string">&quot;g&quot;</span> <span class="token string">&quot;v&quot;</span> <span class="token string">&quot;j&quot;</span> <span class="token string">&quot;o&quot;</span> <span class="token string">&quot;e&quot;</span> <span class="token string">&quot;c&quot;</span> <span class="token string">&quot;m&quot;</span> <span class="token string">&quot;n&quot;</span> <span class="token string">&quot;h&quot;</span> <span class="token string">&quot;u&quot;</span> <span class="token string">&quot;a&quot;</span> <span class="token string">&quot;b&quot;</span> <span class="token string">&quot;l&quot;</span> <span class="token string">&quot;r&quot;</span> <span class="token string">&quot;w&quot;</span> <span class="token string">&quot;t&quot;</span> <span class="token string">&quot;q&quot;</span> <span class="token string">&quot;p&quot;</span>

sample<span class="token punctuation">(</span>x <span class="token operator">=</span> letters<span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span>
Error <span class="token keyword">in</span> sample.int<span class="token punctuation">(</span>length<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> replace<span class="token punctuation">,</span> prob<span class="token punctuation">)</span> <span class="token operator">:</span> 
  cannot take a sample larger than the population when <span class="token string">'replace = FALSE'</span>

</code></pre></div><p>This brings us to drawing with replacement.</p> <h3 id="draws-with-replacement"><a href="#draws-with-replacement" class="header-anchor">#</a> Draws with Replacement</h3> <p>To make random draws from a set with replacement, you use the <code>replace</code> argument to <code>sample</code>. By default, <code>replace</code> is <code>FALSE</code>. Setting it to <code>TRUE</code> means that each element of the set being drawn from may appear more than once in the final result.</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">5062</span><span class="token punctuation">)</span>
sample<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span>replace <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">&quot;D&quot;</span> <span class="token string">&quot;C&quot;</span> <span class="token string">&quot;D&quot;</span> <span class="token string">&quot;B&quot;</span> <span class="token string">&quot;A&quot;</span> <span class="token string">&quot;A&quot;</span> <span class="token string">&quot;A&quot;</span> <span class="token string">&quot;A&quot;</span>

</code></pre></div><h3 id="changing-draw-probabilities"><a href="#changing-draw-probabilities" class="header-anchor">#</a> Changing Draw Probabilities</h3> <p>By default, when you use <code>sample</code>, it assumes that the probability of picking each element is the same. Consider it as a basic &quot;urn&quot; problem. The code below is equivalent to drawing a colored marble out of an urn 20 times, writing down the color, and then putting the marble back in the urn. The urn contains one red, one blue, and one green marble, meaning that the probability of drawing each color is 1/3.</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">6472</span><span class="token punctuation">)</span>
sample<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Blue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       size <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>
       replace <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

</code></pre></div><p>Suppose that, instead, we wanted to perform the same task, but our urn contains 2 red marbles, 1 blue marble, and 1 green marble. One option would be to change the argument we send to <code>x</code> to add an additional <code>Red</code>. However, a better choice is to use the <code>prob</code> argument to <code>sample</code>.</p> <p>The <code>prob</code> argument accepts a vector with the probability of drawing each element. In our example above, the probability of drawing a red marble would be 1/2, while the probability of drawing a blue or a green marble would be 1/4.</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">28432</span><span class="token punctuation">)</span>
sample<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Blue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       size <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>
       replace <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
       prob <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0.50</span><span class="token punctuation">,</span><span class="token number">0.25</span><span class="token punctuation">,</span><span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>Counter-intuitively, the argument given to <code>prob</code> does not need to sum to 1. R will always transform the given arguments into probabilities that total to 1. For instance, consider our above example of 2 Red, 1 Blue, and 1 Green. You can achieve the same results as our previous code using those numbers:</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">28432</span><span class="token punctuation">)</span>
frac_prob_example <span class="token operator">&lt;-</span> sample<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Blue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            size <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
                            replace <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
                            prob <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0.50</span><span class="token punctuation">,</span><span class="token number">0.25</span><span class="token punctuation">,</span><span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

set.seed<span class="token punctuation">(</span><span class="token number">28432</span><span class="token punctuation">)</span>
numeric_prob_example <span class="token operator">&lt;-</span> sample<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Blue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                               size <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
                               replace <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
                               prob <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span> identical<span class="token punctuation">(</span>frac_prob_example<span class="token punctuation">,</span>numeric_prob_example<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">TRUE</span>

</code></pre></div><p>The major restriction is that you cannot set all the probabilities to be zero, and none of them can be less than zero.</p> <p>You can also utilize <code>prob</code> when <code>replace</code> is set to <code>FALSE</code>. In that situation, after each element is drawn, the proportions of the <code>prob</code> values for the remaining elements give the probability for the next draw. In this situation, you must have enough non-zero probabilities to reach the <code>size</code> of the sample you are drawing. For example:</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">21741</span><span class="token punctuation">)</span>
sample<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Blue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       size <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
       replace <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
       prob <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span><span class="token number">0.19</span><span class="token punctuation">,</span><span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>In this example, Red is drawn in the first draw (as the first element). There was an 80% chance of Red being drawn, a 19% chance of Blue being drawn, and a 1% chance of Green being drawn.</p> <p>For the next draw, Red is no longer in the urn. The total of the probabilities among the remaining items is 20% (19% for Blue and 1% for Green). For that draw, there is a 95% chance the item will be Blue (19/20) and a 5% chance it will be Green (1/20).</p> <h2 id="setting-the-seed"><a href="#setting-the-seed" class="header-anchor">#</a> Setting the seed</h2> <p>The <code>set.seed</code> function is used to set the random seed for all randomization functions. If you are using R to create a randomization that you want to be able to reproduce, you should use <code>set.seed</code> first.</p> <div class="language-r extra-class"><pre class="language-r"><code>set.seed<span class="token punctuation">(</span><span class="token number">1643</span><span class="token punctuation">)</span>
samp1 <span class="token operator">&lt;-</span> sample<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>replace <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

set.seed<span class="token punctuation">(</span><span class="token number">1643</span><span class="token punctuation">)</span>
samp2 <span class="token operator">&lt;-</span> sample<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>replace <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span> identical<span class="token punctuation">(</span>x <span class="token operator">=</span> samp1<span class="token punctuation">,</span>y <span class="token operator">=</span> samp2<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">TRUE</span>

</code></pre></div><p>Note that parallel processing requires special treatment of the random seed, described more elsewhere.</p> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>Users who are coming from other programming languages may be confused by the lack of a <code>rand</code> function equivalent to what they may have experienced before. Basic random number generation is done using the <code>r*</code> family of functions for each distribution (see the link above). Random numbers drawn uniformly from a range can be generated using <code>runif</code>, for &quot;random uniform&quot;. Since this also looks suspiciously like &quot;run if&quot;, it is often hard to figure out for new R users.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/r/randomization.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/r/non-standard-evaluation-and-standard-evaluation.html" class="prev">
        Non-standard evaluation and standard evaluation
      </a></span> <span class="next"><a href="/r/object-oriented-programming-in-r.html">
        Object-Oriented Programming in R
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2937.6595ed1f.js" defer></script>
  </body>
</html>
