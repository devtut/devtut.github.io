<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Haskell - Typed holes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Syntax of typed holes, Semantics of typed holes, Using typed holes to define a class instance">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Haskell - Typed holes">
    <meta property="og:description" content="Syntax of typed holes, Semantics of typed holes, Using typed holes to define a class instance">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/haskell/typed-holes.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Haskell - Typed holes">
    <meta name="twitter:description" content="Syntax of typed holes, Semantics of typed holes, Using typed holes to define a class instance">
    <meta name="twitter:url" content="/haskell/typed-holes.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/1237.f5ad0ccf.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Haskell</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/haskell/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/haskell/getting-started-with-haskell-language.html" class="sidebar-link">Getting started with Haskell Language</a></li><li><a href="/haskell/overloaded-literals.html" class="sidebar-link">Overloaded Literals</a></li><li><a href="/haskell/foldable.html" class="sidebar-link">Foldable</a></li><li><a href="/haskell/traversable.html" class="sidebar-link">Traversable</a></li><li><a href="/haskell/lens.html" class="sidebar-link">Lens</a></li><li><a href="/haskell/quickcheck.html" class="sidebar-link">QuickCheck</a></li><li><a href="/haskell/common-ghc-language-extensions.html" class="sidebar-link">Common GHC Language Extensions</a></li><li><a href="/haskell/free-monads.html" class="sidebar-link">Free Monads</a></li><li><a href="/haskell/type-classes.html" class="sidebar-link">Type Classes</a></li><li><a href="/haskell/io.html" class="sidebar-link">IO</a></li><li><a href="/haskell/record-syntax.html" class="sidebar-link">Record Syntax</a></li><li><a href="/haskell/partial-application.html" class="sidebar-link">Partial Application</a></li><li><a href="/haskell/monoid.html" class="sidebar-link">Monoid</a></li><li><a href="/haskell/category-theory.html" class="sidebar-link">Category Theory</a></li><li><a href="/haskell/lists.html" class="sidebar-link">Lists</a></li><li><a href="/haskell/sorting-algorithms.html" class="sidebar-link">Sorting Algorithms</a></li><li><a href="/haskell/type-families.html" class="sidebar-link">Type Families</a></li><li><a href="/haskell/monads.html" class="sidebar-link">Monads</a></li><li><a href="/haskell/stack.html" class="sidebar-link">Stack</a></li><li><a href="/haskell/generalized-algebraic-data-types.html" class="sidebar-link">Generalized Algebraic Data Types</a></li><li><a href="/haskell/recursion-schemes.html" class="sidebar-link">Recursion Schemes</a></li><li><a href="/haskell/data-text.html" class="sidebar-link">Data.Text</a></li><li><a href="/haskell/using-ghci.html" class="sidebar-link">Using GHCi</a></li><li><a href="/haskell/strictness.html" class="sidebar-link">Strictness</a></li><li><a href="/haskell/syntax-in-functions.html" class="sidebar-link">Syntax in Functions</a></li><li><a href="/haskell/functor.html" class="sidebar-link">Functor</a></li><li><a href="/haskell/testing-with-tasty.html" class="sidebar-link">Testing with Tasty</a></li><li><a href="/haskell/creating-custom-data-types.html" class="sidebar-link">Creating Custom Data Types</a></li><li><a href="/haskell/reactive-banana.html" class="sidebar-link">Reactive-banana</a></li><li><a href="/haskell/optimization.html" class="sidebar-link">Optimization</a></li><li><a href="/haskell/concurrency.html" class="sidebar-link">Concurrency</a></li><li><a href="/haskell/function-composition.html" class="sidebar-link">Function composition</a></li><li><a href="/haskell/databases.html" class="sidebar-link">Databases</a></li><li><a href="/haskell/data-aeson-json-in-haskell.html" class="sidebar-link">Data.Aeson - JSON in Haskell</a></li><li><a href="/haskell/higher-order-functions.html" class="sidebar-link">Higher-order functions</a></li><li><a href="/haskell/containers-data-map.html" class="sidebar-link">Containers - Data.Map</a></li><li><a href="/haskell/fixity-declarations.html" class="sidebar-link">Fixity declarations</a></li><li><a href="/haskell/web-development.html" class="sidebar-link">Web Development</a></li><li><a href="/haskell/vectors.html" class="sidebar-link">Vectors</a></li><li><a href="/haskell/cabal.html" class="sidebar-link">Cabal</a></li><li><a href="/haskell/type-algebra.html" class="sidebar-link">Type algebra</a></li><li><a href="/haskell/arrows.html" class="sidebar-link">Arrows</a></li><li><a href="/haskell/typed-holes.html" aria-current="page" class="active sidebar-link">Typed holes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/typed-holes.html#syntax-of-typed-holes" class="sidebar-link">Syntax of typed holes</a></li><li class="sidebar-sub-header"><a href="/haskell/typed-holes.html#semantics-of-typed-holes" class="sidebar-link">Semantics of typed holes</a></li><li class="sidebar-sub-header"><a href="/haskell/typed-holes.html#using-typed-holes-to-define-a-class-instance" class="sidebar-link">Using typed holes to define a class instance</a></li></ul></li><li><a href="/haskell/rewrite-rules-ghc.html" class="sidebar-link">Rewrite rules (GHC)</a></li><li><a href="/haskell/date-and-time.html" class="sidebar-link">Date and Time</a></li><li><a href="/haskell/list-comprehensions.html" class="sidebar-link">List Comprehensions</a></li><li><a href="/haskell/streaming-io.html" class="sidebar-link">Streaming IO</a></li><li><a href="/haskell/google-protocol-buffers.html" class="sidebar-link">Google Protocol Buffers</a></li><li><a href="/haskell/template-haskell-quasiquotes.html" class="sidebar-link">Template Haskell &amp; QuasiQuotes</a></li><li><a href="/haskell/phantom-types.html" class="sidebar-link">Phantom types</a></li><li><a href="/haskell/modules.html" class="sidebar-link">Modules</a></li><li><a href="/haskell/tuples-pairs-triples.html" class="sidebar-link">Tuples (Pairs, Triples, ...)</a></li><li><a href="/haskell/graphics-with-gloss.html" class="sidebar-link">Graphics with Gloss</a></li><li><a href="/haskell/state-monad.html" class="sidebar-link">State Monad</a></li><li><a href="/haskell/pipes.html" class="sidebar-link">Pipes</a></li><li><a href="/haskell/infix-operators.html" class="sidebar-link">Infix operators</a></li><li><a href="/haskell/parallelism.html" class="sidebar-link">Parallelism</a></li><li><a href="/haskell/parsing-html-with-taggy-lens-and-lens.html" class="sidebar-link">Parsing HTML with taggy-lens and lens</a></li><li><a href="/haskell/foreign-function-interface.html" class="sidebar-link">Foreign Function Interface</a></li><li><a href="/haskell/gtk3.html" class="sidebar-link">Gtk3</a></li><li><a href="/haskell/monad-transformers.html" class="sidebar-link">Monad Transformers</a></li><li><a href="/haskell/bifunctor.html" class="sidebar-link">Bifunctor</a></li><li><a href="/haskell/proxies.html" class="sidebar-link">Proxies</a></li><li><a href="/haskell/applicative-functor.html" class="sidebar-link">Applicative Functor</a></li><li><a href="/haskell/common-monads-as-free-monads.html" class="sidebar-link">Common monads as free monads</a></li><li><a href="/haskell/common-functors-as-the-base-of-cofree-comonads.html" class="sidebar-link">Common functors as the base of cofree comonads</a></li><li><a href="/haskell/arithmetic.html" class="sidebar-link">Arithmetic</a></li><li><a href="/haskell/role.html" class="sidebar-link">Role</a></li><li><a href="/haskell/arbitrary-rank-polymorphism-with-rankntypes.html" class="sidebar-link">Arbitrary-rank polymorphism with RankNTypes</a></li><li><a href="/haskell/ghcjs.html" class="sidebar-link">GHCJS</a></li><li><a href="/haskell/xml.html" class="sidebar-link">XML</a></li><li><a href="/haskell/reader-readert.html" class="sidebar-link">Reader / ReaderT</a></li><li><a href="/haskell/function-call-syntax.html" class="sidebar-link">Function call syntax</a></li><li><a href="/haskell/logging.html" class="sidebar-link">Logging</a></li><li><a href="/haskell/attoparsec.html" class="sidebar-link">Attoparsec</a></li><li><a href="/haskell/zipwithm.html" class="sidebar-link">zipWithM</a></li><li><a href="/haskell/profunctor.html" class="sidebar-link">Profunctor</a></li><li><a href="/haskell/type-application.html" class="sidebar-link">Type Application</a></li><li><a href="/haskell/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typed-holes"><a href="#typed-holes" class="header-anchor">#</a> Typed holes</h1> <h2 id="syntax-of-typed-holes"><a href="#syntax-of-typed-holes" class="header-anchor">#</a> Syntax of typed holes</h2> <p>A typed hole is a single underscore (<code>_</code>) or a valid Haskell identifier which is not in scope, in an expression context. Before the existance of typed holes, both of these things would trigger an error, so the new syntax does not interfere with any old syntax.</p> <h3 id="controlling-behaviour-of-typed-holes"><a href="#controlling-behaviour-of-typed-holes" class="header-anchor">#</a> Controlling behaviour of typed holes</h3> <p>The default behaviour of typed holes is to produce a compile-time error when encountering a typed hole. However, there are several flags to fine-tune their behaviour. These flags are summarized as follows (<a href="https://ghc.haskell.org/trac/ghc/ticket/9497" target="_blank" rel="noopener noreferrer">GHC trac<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>):</p> <blockquote></blockquote> <p>By default GHC has typed holes enabled and produces a compile error
when it encounters a typed hole.</p> <p>When `-fdefer-type-errors` **or** `-fdefer-typed-holes` is enabled, hole
errors are converted to warnings and result in runtime errors when
evaluated.</p> <p>The warning flag `-fwarn-typed-holes` is on by default. Without
`-fdefer-type-errors` or `-fdefer-typed-holes` this flag is a no-op, since typed holes are an error under these conditions. If either of the
defer flags are enabled (converting typed hole errors into warnings)
the `-fno-warn-typed-holes` flag disables the warnings. This means
compilation silently succeeds and evaluating a hole will produce a
runtime error.</p> <h2 id="semantics-of-typed-holes"><a href="#semantics-of-typed-holes" class="header-anchor">#</a> Semantics of typed holes</h2> <p>The value of a type hole can simply said to be <code>undefined</code>, although a typed hole triggers a compile-time error, so it is not strictly necessary to assign it a value. However, a typed hole (when they are enabled) produces a compile time error (or warning with deferred type errors) which states the name of the typed hole, its inferred <strong>most general</strong> type, and the types of any local bindings. For example:</p> <div class="language-hs extra-class"><pre class="language-hs"><code><span class="token constant">Prelude</span><span class="token operator">&gt;</span> <span class="token operator">\</span><span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">_var</span> <span class="token operator">+</span> <span class="token builtin">length</span> <span class="token punctuation">(</span><span class="token builtin">drop</span> <span class="token number">1</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token hvariable">interactive</span><span class="token operator">&gt;:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">7</span><span class="token operator">:</span> <span class="token constant">Warning</span><span class="token operator">:</span>
    <span class="token constant">Found</span> <span class="token hvariable">hole</span> `<span class="token hvariable">_var'</span> <span class="token hvariable">with</span> <span class="token keyword">type</span><span class="token operator">:</span> <span class="token constant">Int</span>
    <span class="token constant">Relevant</span> <span class="token hvariable">bindings</span> <span class="token hvariable">include</span>
      <span class="token hvariable">x</span> <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token hvariable">bound</span> <span class="token hvariable">at</span> <span class="token operator">&lt;</span><span class="token hvariable">interactive</span><span class="token operator">&gt;:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">)</span>
      <span class="token hvariable">it</span> <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Int</span> <span class="token punctuation">(</span><span class="token hvariable">bound</span> <span class="token hvariable">at</span> <span class="token operator">&lt;</span><span class="token hvariable">interactive</span><span class="token operator">&gt;:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token constant">In</span> <span class="token hvariable">the</span> <span class="token hvariable">first</span> <span class="token hvariable">argument</span> <span class="token keyword">of</span> `<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span>'<span class="token punctuation">,</span> <span class="token hvariable">namely</span> `<span class="token hvariable">_var'</span>
    <span class="token constant">In</span> <span class="token hvariable">the</span> <span class="token hvariable">expression</span><span class="token operator">:</span> <span class="token hvariable">_var</span> <span class="token operator">+</span> <span class="token builtin">length</span> <span class="token punctuation">(</span><span class="token builtin">drop</span> <span class="token number">1</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>
    <span class="token constant">In</span> <span class="token hvariable">the</span> <span class="token hvariable">expression</span><span class="token operator">:</span> <span class="token operator">\</span> <span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">_var</span> <span class="token operator">+</span> <span class="token builtin">length</span> <span class="token punctuation">(</span><span class="token builtin">drop</span> <span class="token number">1</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>

</code></pre></div><p>Note that in the case of typed holes in expressions entered into the GHCi repl (as above), the type of the expression entered also reported, as <code>it</code> (here of type <code>[a] -&gt; Int</code>).</p> <h2 id="using-typed-holes-to-define-a-class-instance"><a href="#using-typed-holes-to-define-a-class-instance" class="header-anchor">#</a> Using typed holes to define a class instance</h2> <p>Typed holes can make it easier to define functions, through an interactive process.</p> <p>Say you want to define a class instance <code>Foo Bar</code> (for your custom <code>Bar</code> type, in order to use it with some polymorphic library function that requires a <code>Foo</code> instance). You would now traditionally look up the documentation of <code>Foo</code>, figure out which methods you need to define, scrutinise their types etc. – but with typed holes, you can actually skip that!</p> <p>First just define a dummy instance:</p> <div class="language-hs extra-class"><pre class="language-hs"><code><span class="token keyword">instance</span> <span class="token constant">Foo</span> <span class="token constant">Bar</span> <span class="token keyword">where</span>

</code></pre></div><p>The compiler will now complain</p> <div class="language-hs extra-class"><pre class="language-hs"><code><span class="token hvariable">Bar<span class="token punctuation">.</span>hs</span><span class="token operator">:</span><span class="token number">13</span><span class="token operator">:</span><span class="token number">10</span><span class="token operator">:</span> <span class="token constant">Warning</span><span class="token operator">:</span>
<span class="token constant">No</span> <span class="token hvariable">explicit</span> <span class="token hvariable">implementation</span> <span class="token hvariable">for</span>
  ‘<span class="token hvariable">foom</span>’ <span class="token builtin">and</span> ‘<span class="token hvariable">quun</span>’
<span class="token constant">In</span> <span class="token hvariable">the</span> <span class="token keyword">instance</span> <span class="token hvariable">declaration</span> <span class="token hvariable">for</span> ‘<span class="token constant">Foo</span> <span class="token constant">Bar</span>’

</code></pre></div><p>Ok, so we need to define <code>foom</code> for <code>Bar</code>. But what <strong>is</strong> that even supposed to be? Again we're too lazy to look in the documentation, and just ask the compiler:</p> <div class="language-hs extra-class"><pre class="language-hs"><code><span class="token keyword">instance</span> <span class="token constant">Foo</span> <span class="token constant">Bar</span> <span class="token keyword">where</span>
  <span class="token hvariable">foom</span> <span class="token operator">=</span> <span class="token hvariable">_</span>

</code></pre></div><p>Here we've used a typed hole as a simple “documentation query”. The compiler outputs</p> <div class="language-hs extra-class"><pre class="language-hs"><code><span class="token hvariable">Bar<span class="token punctuation">.</span>hs</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">10</span><span class="token operator">:</span>
    <span class="token constant">Found</span> <span class="token hvariable">hole</span> ‘<span class="token hvariable">_</span>’ <span class="token hvariable">with</span> <span class="token keyword">type</span><span class="token operator">:</span> <span class="token constant">Bar</span> <span class="token operator">-&gt;</span> <span class="token constant">Gronk</span> <span class="token constant">Bar</span>
    <span class="token constant">Relevant</span> <span class="token hvariable">bindings</span> <span class="token hvariable">include</span>
      <span class="token hvariable">foom</span> <span class="token operator">::</span> <span class="token constant">Bar</span> <span class="token operator">-&gt;</span> <span class="token constant">Gronk</span> <span class="token constant">Bar</span> <span class="token punctuation">(</span><span class="token hvariable">bound</span> <span class="token hvariable">at</span> <span class="token hvariable">Foo<span class="token punctuation">.</span>hs</span><span class="token operator">:</span><span class="token number">4</span><span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">)</span>
    <span class="token constant">In</span> <span class="token hvariable">the</span> <span class="token hvariable">expression</span><span class="token operator">:</span> <span class="token hvariable">_</span>
    <span class="token constant">In</span> <span class="token hvariable">an</span> <span class="token hvariable">equation</span> <span class="token hvariable">for</span> ‘<span class="token hvariable">foom</span>’<span class="token operator">:</span> <span class="token hvariable">foom</span> <span class="token operator">=</span> <span class="token hvariable">_</span>
    <span class="token constant">In</span> <span class="token hvariable">the</span> <span class="token keyword">instance</span> <span class="token hvariable">declaration</span> <span class="token hvariable">for</span> ‘<span class="token constant">Foo</span> <span class="token constant">Bar</span>’

</code></pre></div><p>Note how the compiler has already filled the class type variable with the concrete type <code>Bar</code> that we want to instantiate it for. This can make the signature a lot easier to understand than the polymorphic one found in the class documentation, especially if you're dealing with a more complicated method of e.g. a multi-parameter type class.</p> <p>But what the hell is <code>Gronk</code>? At this point, it is probably a good idea to ask <a href="http://hayoo.fh-wedel.de/?query=Gronk" target="_blank" rel="noopener noreferrer">Hayoo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. However we may still get away without that: as a blind guess, we assume that this is not only a type constructor but also the single value constructor, i.e. it can be used as a function that will somehow produce a <code>Gronk a</code> value. So we try</p> <div class="language-hs extra-class"><pre class="language-hs"><code><span class="token keyword">instance</span> <span class="token constant">Foo</span> <span class="token constant">Bar</span> <span class="token keyword">where</span>
  <span class="token hvariable">foom</span> <span class="token hvariable">bar</span> <span class="token operator">=</span> <span class="token hvariable">_</span> <span class="token constant">Gronk</span>

</code></pre></div><p>If we're lucky, <code>Gronk</code> is actually a value, and the compiler will now say</p> <div class="language- extra-class"><pre class="language-text"><code>
   Found hole ‘_’
      with type: (Int -&gt; [(Int, b0)] -&gt; Gronk b0) -&gt; Gronk Bar
    Where: ‘b0’ is an ambiguous type variable

</code></pre></div><p>Ok, that's ugly – at first just note that <code>Gronk</code> has two arguments, so we can refine our attempt:</p> <div class="language-hs extra-class"><pre class="language-hs"><code><span class="token keyword">instance</span> <span class="token constant">Foo</span> <span class="token constant">Bar</span> <span class="token keyword">where</span>
  <span class="token hvariable">foom</span> <span class="token hvariable">bar</span> <span class="token operator">=</span> <span class="token constant">Gronk</span> <span class="token hvariable">_</span> <span class="token hvariable">_</span>

</code></pre></div><p>And this now is pretty clear:</p> <div class="language- extra-class"><pre class="language-text"><code>
   Found hole ‘_’ with type: [(Int, Bar)]
    Relevant bindings include
      bar :: Bar (bound at Bar.hs:14:29)
      foom :: Bar -&gt; Gronk Bar (bound at Foo.hs:15:24)
    In the second argument of ‘Gronk’, namely ‘_’
    In the expression: Gronk _ _
    In an equation for ‘foom’: foom bar = Gronk _ _

</code></pre></div><p>You can now further progress by e.g. deconstructing the <code>bar</code> value (the components will then show up, with types, in the <code>Relevant bindings</code> section). Often, it is at some point completely obvious what the correct definition will be, because you you see all avaliable arguments and the types fit together like a jigsaw puzzle. Or alternatively, you may see that the definition is <strong>impossible</strong> and why.</p> <p>All of this works best in an editor with interactive compilation, e.g. Emacs with haskell-mode. You can then use typed holes much like mouse-over value queries in an IDE for an interpreted dynamic imperative language, but without all the limitations.</p> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>One of the strengths of Haskell is the ability to leverage the type system to model parts of your problem domain in the type system. In doing so, one often encounters very complex types. When writing programs with these types (i.e. with values having these types) it occasionally becomes nearly unmangeable to 'juggle' all of the types. As of GHC 7.8, there is a new syntactic feature called typed holes. Typed holes do not change the semantics of the core language; they are intended purely as an aid for writing programs.</p> <p>For an in-depth explanation of typed holes, as well as a discussion of the design of typed holes, see the <a href="https://wiki.haskell.org/GHC/Typed_holes" target="_blank" rel="noopener noreferrer">Haskell wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Section of the GHC user guide on <a href="https://downloads.haskell.org/%7Eghc/7.8.4/docs/html/users_guide/typed-holes.html" target="_blank" rel="noopener noreferrer">typed holes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/haskell/typed-holes.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/haskell/arrows.html" class="prev">
        Arrows
      </a></span> <span class="next"><a href="/haskell/rewrite-rules-ghc.html">
        Rewrite rules (GHC)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/1237.f5ad0ccf.js" defer></script>
  </body>
</html>
