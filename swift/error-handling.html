<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Swift - Error Handling</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Error handling basics, Catching different error types, Catch and Switch Pattern for Explicit Error Handling, Disabling Error Propagation, Create custom Error with localized description">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Swift - Error Handling">
    <meta property="og:description" content="Error handling basics, Catching different error types, Catch and Switch Pattern for Explicit Error Handling, Disabling Error Propagation, Create custom Error with localized description">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/swift/error-handling.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Swift - Error Handling">
    <meta name="twitter:description" content="Error handling basics, Catching different error types, Catch and Switch Pattern for Explicit Error Handling, Disabling Error Propagation, Create custom Error with localized description">
    <meta name="twitter:url" content="/swift/error-handling.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/3328.09a4727a.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Swift</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/swift/" class="sidebar-link">Disclaimer</a></li><li><a href="/swift/getting-started-with-swift-language.html" class="sidebar-link">Getting started with Swift Language</a></li><li><a href="/swift/variables-properties.html" class="sidebar-link">Variables &amp; Properties</a></li><li><a href="/swift/numbers.html" class="sidebar-link">Numbers</a></li><li><a href="/swift/strings-and-characters.html" class="sidebar-link">Strings and Characters</a></li><li><a href="/swift/booleans.html" class="sidebar-link">Booleans</a></li><li><a href="/swift/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/swift/tuples.html" class="sidebar-link">Tuples</a></li><li><a href="/swift/enums.html" class="sidebar-link">Enums</a></li><li><a href="/swift/structs.html" class="sidebar-link">Structs</a></li><li><a href="/swift/sets.html" class="sidebar-link">Sets</a></li><li><a href="/swift/dictionaries.html" class="sidebar-link">Dictionaries</a></li><li><a href="/swift/switch.html" class="sidebar-link">Switch</a></li><li><a href="/swift/optionals.html" class="sidebar-link">Optionals</a></li><li><a href="/swift/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/swift/error-handling.html" class="active sidebar-link">Error Handling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swift/error-handling.html#error-handling-basics" class="sidebar-link">Error handling basics</a></li><li class="sidebar-sub-header"><a href="/swift/error-handling.html#catching-different-error-types" class="sidebar-link">Catching different error types</a></li><li class="sidebar-sub-header"><a href="/swift/error-handling.html#catch-and-switch-pattern-for-explicit-error-handling" class="sidebar-link">Catch and Switch Pattern for Explicit Error Handling</a></li><li class="sidebar-sub-header"><a href="/swift/error-handling.html#disabling-error-propagation" class="sidebar-link">Disabling Error Propagation</a></li><li class="sidebar-sub-header"><a href="/swift/error-handling.html#create-custom-error-with-localized-description" class="sidebar-link">Create custom Error with localized description</a></li></ul></li><li><a href="/swift/loops.html" class="sidebar-link">Loops</a></li><li><a href="/swift/protocols.html" class="sidebar-link">Protocols</a></li><li><a href="/swift/functions.html" class="sidebar-link">Functions</a></li><li><a href="/swift/extensions.html" class="sidebar-link">Extensions</a></li><li><a href="/swift/classes.html" class="sidebar-link">Classes</a></li><li><a href="/swift/type-casting.html" class="sidebar-link">Type Casting</a></li><li><a href="/swift/generics.html" class="sidebar-link">Generics</a></li><li><a href="/swift/optionset.html" class="sidebar-link">OptionSet</a></li><li><a href="/swift/reading-writing-json.html" class="sidebar-link">Reading &amp; Writing JSON</a></li><li><a href="/swift/advanced-operators.html" class="sidebar-link">Advanced Operators</a></li><li><a href="/swift/method-swizzling.html" class="sidebar-link">Method Swizzling</a></li><li><a href="/swift/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/swift/access-control.html" class="sidebar-link">Access Control</a></li><li><a href="/swift/closures.html" class="sidebar-link">Closures</a></li><li><a href="/swift/initializers.html" class="sidebar-link">Initializers</a></li><li><a href="/swift/associated-objects.html" class="sidebar-link">Associated Objects</a></li><li><a href="/swift/concurrency.html" class="sidebar-link">Concurrency</a></li><li><a href="/swift/getting-started-with-protocol-oriented-programming.html" class="sidebar-link">Getting Started with Protocol Oriented Programming</a></li><li><a href="/swift/functional-programming-in-swift.html" class="sidebar-link">Functional Programming in Swift</a></li><li><a href="/swift/function-as-first-class-citizens-in-swift.html" class="sidebar-link">Function as first class citizens in Swift</a></li><li><a href="/swift/blocks.html" class="sidebar-link">Blocks</a></li><li><a href="/swift/the-defer-statement.html" class="sidebar-link">The Defer Statement</a></li><li><a href="/swift/style-conventions.html" class="sidebar-link">Style Conventions</a></li><li><a href="/swift/nsregularexpression-in-swift.html" class="sidebar-link">NSRegularExpression in Swift</a></li><li><a href="/swift/rxswift.html" class="sidebar-link">RxSwift</a></li><li><a href="/swift/swift-package-manager.html" class="sidebar-link">Swift Package Manager</a></li><li><a href="/swift/working-with-c-and-objective-c.html" class="sidebar-link">Working with C and Objective-C</a></li><li><a href="/swift/documentation-markup.html" class="sidebar-link">Documentation markup</a></li><li><a href="/swift/typealias.html" class="sidebar-link">Typealias</a></li><li><a href="/swift/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/swift/caching-on-disk-space.html" class="sidebar-link">Caching on disk space</a></li><li><a href="/swift/algorithms-with-swift.html" class="sidebar-link">Algorithms with Swift</a></li><li><a href="/swift/swift-advance-functions.html" class="sidebar-link">Swift Advance functions</a></li><li><a href="/swift/completion-handler.html" class="sidebar-link">Completion Handler</a></li><li><a href="/swift/swift-http-server-by-kitura.html" class="sidebar-link">Swift HTTP server by Kitura</a></li><li><a href="/swift/generate-uiimage-of-initials-from-string.html" class="sidebar-link">Generate UIImage of Initials from String</a></li><li><a href="/swift/design-patterns-creational.html" class="sidebar-link">Design Patterns - Creational</a></li><li><a href="/swift/design-patterns-structural.html" class="sidebar-link">Design Patterns - Structural</a></li><li><a href="/swift/unsafe-buffer-pointers.html" class="sidebar-link">(Unsafe) Buffer Pointers</a></li><li><a href="/swift/cryptographic-hashing.html" class="sidebar-link">Cryptographic Hashing</a></li><li><a href="/swift/aes-encryption.html" class="sidebar-link">AES encryption</a></li><li><a href="/swift/pbkdf2-key-derivation.html" class="sidebar-link">PBKDF2 Key Derivation</a></li><li><a href="/swift/logging-in-swift.html" class="sidebar-link">Logging in Swift</a></li><li><a href="/swift/memory-management.html" class="sidebar-link">Memory Management</a></li><li><a href="/swift/performance.html" class="sidebar-link">Performance</a></li><li><a href="/swift/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="error-handling"><a href="#error-handling" class="header-anchor">#</a> Error Handling</h1> <h2 id="error-handling-basics"><a href="#error-handling-basics" class="header-anchor">#</a> Error handling basics</h2> <p>Functions in Swift may return values, <strong>throw <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/ErrorHandling.html" target="_blank" rel="noopener noreferrer">errors<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong>, or both:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function">reticulateSplines</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment">// no return value and no error</span>
<span class="token keyword">func</span> <span class="token function">reticulateSplines</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span><span class="token operator">*</span>         <span class="token comment">// always returns a value</span>
<span class="token keyword">func</span> <span class="token function">reticulateSplines</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">throws</span><span class="token operator">*</span><span class="token operator">*</span>         <span class="token comment">// no return value, but may throw an error</span>
<span class="token keyword">func</span> <span class="token function">reticulateSplines</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">throws</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token operator">*</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span><span class="token operator">*</span>  <span class="token comment">// may either return a value or throw an error</span>
</code></pre></div><p>Any value which conforms to the <a href="https://developer.apple.com/library/ios/documentation/Swift/Reference/Swift_ErrorType_Protocol/index.html" target="_blank" rel="noopener noreferrer">ErrorType protocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (including NSError objects) can be thrown as an error. <a href="http://stackoverflow.com/documentation/swift/224/enums" target="_blank" rel="noopener noreferrer">Enumerations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> provide a convenient way to define custom errors:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">enum</span> <span class="token builtin">NetworkError</span><span class="token punctuation">:</span> <span class="token builtin">ErrorType</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token builtin">Offline</span>
    <span class="token keyword">case</span> <span class="token function">ServerError</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">enum</span> <span class="token builtin">NetworkError</span><span class="token punctuation">:</span> <span class="token builtin">Error</span> <span class="token punctuation">{</span>
    <span class="token comment">// Swift 3 dictates that enum cases should be `lowerCamelCase`</span>
    <span class="token keyword">case</span> offline
    <span class="token keyword">case</span> <span class="token function">serverError</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>An error indicates a non-fatal failure during program execution, and is handled with the specialized control-flow constructs <code>do</code>/<code>catch</code>, <code>throw</code>, and <code>try</code>.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function">fetchResource</span><span class="token punctuation">(</span>resource<span class="token punctuation">:</span> <span class="token constant">NSURL</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">throws</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token punctuation">(</span>statusCode<span class="token punctuation">,</span> responseString<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token comment">/* ...from elsewhere...*/</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token keyword">case</span> <span class="token number">500</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">600</span> <span class="token operator">=</span> statusCode <span class="token punctuation">{</span>
            <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">throw</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token builtin">NetworkError</span><span class="token punctuation">.</span><span class="token function">serverError</span><span class="token punctuation">(</span>responseString<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">return</span><span class="token operator">*</span><span class="token operator">*</span> responseString
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">throw</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token builtin">NetworkError</span><span class="token punctuation">.</span>offline
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Errors can be caught with <code>do</code>/<code>catch</code>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">do</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">try</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token function">fetchResource</span><span class="token punctuation">(</span>resURL<span class="token punctuation">)</span>
    <span class="token comment">// If fetchResource() didn't throw an error, execution continues here:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Got response: <span class="token interpolation"><span class="token delimiter variable">\(</span>response<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">catch</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">{</span>
    <span class="token comment">// If an error is thrown, we can handle it here.</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Whoops, couldn't fetch resource: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Any function which can throw an error <strong><strong>must</strong></strong> be called using <code>try</code>, <code>try?</code>, or <code>try!</code>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// error: call can throw but is not marked with 'try'</span>
<span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token function">fetchResource</span><span class="token punctuation">(</span>resURL<span class="token punctuation">)</span>

<span class="token comment">// &quot;try&quot; works within do/catch, or within another throwing function:</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">do</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">try</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token function">fetchResource</span><span class="token punctuation">(</span>resURL<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">catch</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">{</span>
    <span class="token comment">// Handle the error</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">throws</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">{</span>
    <span class="token comment">// If an error is thrown, continue passing it up to the caller.</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">try</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token function">fetchResource</span><span class="token punctuation">(</span>resURL<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// &quot;try?&quot; wraps the function's return value in an Optional (nil if an error was thrown).</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">try</span><span class="token operator">?</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token function">fetchResource</span><span class="token punctuation">(</span>resURL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// no error was thrown</span>
<span class="token punctuation">}</span>

<span class="token comment">// &quot;try!&quot; crashes the program at runtime if an error occurs.</span>
<span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token keyword">try</span><span class="token operator">!</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token function">fetchResource</span><span class="token punctuation">(</span>resURL<span class="token punctuation">)</span>
</code></pre></div><h2 id="catching-different-error-types"><a href="#catching-different-error-types" class="header-anchor">#</a> Catching different error types</h2> <p>Let's create our own error type for this example.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">enum</span> <span class="token builtin">CustomError</span><span class="token punctuation">:</span> <span class="token builtin">ErrorType</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token builtin">SomeError</span>
    <span class="token keyword">case</span> <span class="token builtin">AnotherError</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">throwing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token builtin">CustomError</span><span class="token punctuation">.</span><span class="token builtin">SomeError</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">enum</span> <span class="token builtin">CustomError</span><span class="token punctuation">:</span> <span class="token builtin">Error</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> someError
    <span class="token keyword">case</span> anotherError
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">throwing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token builtin">CustomError</span><span class="token punctuation">.</span>someError
<span class="token punctuation">}</span>

</code></pre></div><p>The Do-Catch syntax allows to catch a thrown error, and <strong>automatically</strong> creates a constant named <code>error</code> available in the <code>catch</code> block:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">do</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token function">throwing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>You can also declare a variable yourself:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">do</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token function">throwing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token keyword">let</span> oops <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>oops<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>It's also possible to chain different <code>catch</code> statements. This is convenient if several types of errors can be thrown in the Do block.</p> <p>Here the Do-Catch will first attempt to cast the error as a <code>CustomError</code>, then as an <code>NSError</code> if the custom type was not matched.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">do</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token function">somethingMayThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token keyword">let</span> custom <span class="token keyword">as</span> <span class="token builtin">CustomError</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>custom<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token keyword">let</span> error <span class="token keyword">as</span> <span class="token builtin">NSError</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>In Swift 3, no need to explicitly downcast to NSError.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">do</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token function">somethingMayThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token keyword">let</span> custom <span class="token keyword">as</span> <span class="token builtin">CustomError</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>custom<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="catch-and-switch-pattern-for-explicit-error-handling"><a href="#catch-and-switch-pattern-for-explicit-error-handling" class="header-anchor">#</a> Catch and Switch Pattern for Explicit Error Handling</h2> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">class</span> <span class="token class-name">Plane</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">enum</span> <span class="token builtin">Emergency</span><span class="token punctuation">:</span> <span class="token builtin">ErrorType</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token builtin">NoFuel</span>
        <span class="token keyword">case</span> <span class="token function">EngineFailure</span><span class="token punctuation">(</span>reason<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token builtin">DamagedWing</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> fuelInKilograms<span class="token punctuation">:</span> <span class="token builtin">Int</span>

    <span class="token comment">//... init and other methods not shown</span>

    <span class="token keyword">func</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        <span class="token keyword">if</span> fuelInKilograms <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
            <span class="token comment">// uh oh...</span>
            <span class="token keyword">throw</span> <span class="token builtin">Emergency</span><span class="token punctuation">.</span><span class="token builtin">NoFuel</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><p>In the client class:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> airforceOne <span class="token operator">=</span> <span class="token function">Plane</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> airforceOne<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token keyword">let</span> emergency <span class="token keyword">as</span> <span class="token builtin">Plane</span><span class="token punctuation">.</span><span class="token builtin">Emergency</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> emergency <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token builtin">NoFuel</span><span class="token punctuation">:</span>
        <span class="token comment">// call nearest airport for emergency landing</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">EngineFailure</span><span class="token punctuation">(</span><span class="token keyword">let</span> reason<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span> <span class="token comment">// let the mechanic know the reason</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token builtin">DamagedWing</span><span class="token punctuation">:</span>
        <span class="token comment">// Assess the damage and determine if the president can make it</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="disabling-error-propagation"><a href="#disabling-error-propagation" class="header-anchor">#</a> Disabling Error Propagation</h2> <p>The creators of Swift have put a lot of attention into making the language expressive and error handling is exactly that, expressive. If you try to invoke a function that can throw an error, the function call needs to be preceded by the try keyword. The try keyword isn't magical. All it does, is make the developer aware of the throwing ability of the function.</p> <p>For example, the following code uses a loadImage(atPath:) function, which loads the image resource at a given path or throws an error if the image can’t be loaded. In this case, because the image is shipped with the application, no error will be thrown at runtime, so it is appropriate to disable error propagation.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> photo <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">!</span> <span class="token function">loadImage</span><span class="token punctuation">(</span>atPath<span class="token punctuation">:</span> <span class="token string">&quot;./Resources/John Appleseed.jpg&quot;</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="create-custom-error-with-localized-description"><a href="#create-custom-error-with-localized-description" class="header-anchor">#</a> Create custom Error with localized description</h2> <p>Create <code>enum</code> of custom errors</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">enum</span> <span class="token builtin">RegistrationError</span><span class="token punctuation">:</span> <span class="token builtin">Error</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> invalidEmail
    <span class="token keyword">case</span> invalidPassword
    <span class="token keyword">case</span> invalidPhoneNumber
<span class="token punctuation">}</span>

</code></pre></div><p>Create <code>extension</code> of <code>RegistrationError</code> to handle the Localized description.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">extension</span> <span class="token builtin">RegistrationError</span><span class="token punctuation">:</span> <span class="token builtin">LocalizedError</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> errorDescription<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token keyword">self</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>invalidEmail<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token function">NSLocalizedString</span><span class="token punctuation">(</span><span class="token string">&quot;Description of invalid email address&quot;</span><span class="token punctuation">,</span> comment<span class="token punctuation">:</span> <span class="token string">&quot;Invalid Email&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>invalidPassword<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token function">NSLocalizedString</span><span class="token punctuation">(</span><span class="token string">&quot;Description of invalid password&quot;</span><span class="token punctuation">,</span> comment<span class="token punctuation">:</span> <span class="token string">&quot;Invalid Password&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>invalidPhoneNumber<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token function">NSLocalizedString</span><span class="token punctuation">(</span><span class="token string">&quot;Description of invalid phoneNumber&quot;</span><span class="token punctuation">,</span> comment<span class="token punctuation">:</span> <span class="token string">&quot;Invalid Phone Number&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Handle error:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> error<span class="token punctuation">:</span> <span class="token builtin">Error</span> <span class="token operator">=</span> <span class="token builtin">RegistrationError</span><span class="token punctuation">.</span>invalidEmail
<span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>localizedDescription<span class="token punctuation">)</span>

</code></pre></div><h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>For more information about errors, see <a href="https://developer.apple.com/library/ios/documentation/Swift/Reference/Swift_ErrorType_Protocol/index.html" target="_blank" rel="noopener noreferrer">The Swift Programming Language<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/swift/error-handling.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/swift/conditionals.html" class="prev">
        Conditionals
      </a></span> <span class="next"><a href="/swift/loops.html">
        Loops
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/3328.09a4727a.js" defer></script>
  </body>
</html>
