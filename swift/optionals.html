<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Swift - Optionals</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Types of Optionals, Unwrapping an Optional, Nil Coalescing Operator, Optional Chaining, Overview - Why Optionals?">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Swift - Optionals">
    <meta property="og:description" content="Types of Optionals, Unwrapping an Optional, Nil Coalescing Operator, Optional Chaining, Overview - Why Optionals?">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/swift/optionals.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Swift - Optionals">
    <meta name="twitter:description" content="Types of Optionals, Unwrapping an Optional, Nil Coalescing Operator, Optional Chaining, Overview - Why Optionals?">
    <meta name="twitter:url" content="/swift/optionals.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/3346.22fefe0e.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Swift</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/swift/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/swift/getting-started-with-swift-language.html" class="sidebar-link">Getting started with Swift Language</a></li><li><a href="/swift/variables-properties.html" class="sidebar-link">Variables &amp; Properties</a></li><li><a href="/swift/numbers.html" class="sidebar-link">Numbers</a></li><li><a href="/swift/strings-and-characters.html" class="sidebar-link">Strings and Characters</a></li><li><a href="/swift/booleans.html" class="sidebar-link">Booleans</a></li><li><a href="/swift/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/swift/tuples.html" class="sidebar-link">Tuples</a></li><li><a href="/swift/enums.html" class="sidebar-link">Enums</a></li><li><a href="/swift/structs.html" class="sidebar-link">Structs</a></li><li><a href="/swift/sets.html" class="sidebar-link">Sets</a></li><li><a href="/swift/dictionaries.html" class="sidebar-link">Dictionaries</a></li><li><a href="/swift/switch.html" class="sidebar-link">Switch</a></li><li><a href="/swift/optionals.html" aria-current="page" class="active sidebar-link">Optionals</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swift/optionals.html#types-of-optionals" class="sidebar-link">Types of Optionals</a></li><li class="sidebar-sub-header"><a href="/swift/optionals.html#unwrapping-an-optional" class="sidebar-link">Unwrapping an Optional</a></li><li class="sidebar-sub-header"><a href="/swift/optionals.html#nil-coalescing-operator" class="sidebar-link">Nil Coalescing Operator</a></li><li class="sidebar-sub-header"><a href="/swift/optionals.html#optional-chaining" class="sidebar-link">Optional Chaining</a></li><li class="sidebar-sub-header"><a href="/swift/optionals.html#overview-why-optionals" class="sidebar-link">Overview - Why Optionals?</a></li></ul></li><li><a href="/swift/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/swift/error-handling.html" class="sidebar-link">Error Handling</a></li><li><a href="/swift/loops.html" class="sidebar-link">Loops</a></li><li><a href="/swift/protocols.html" class="sidebar-link">Protocols</a></li><li><a href="/swift/functions.html" class="sidebar-link">Functions</a></li><li><a href="/swift/extensions.html" class="sidebar-link">Extensions</a></li><li><a href="/swift/classes.html" class="sidebar-link">Classes</a></li><li><a href="/swift/type-casting.html" class="sidebar-link">Type Casting</a></li><li><a href="/swift/generics.html" class="sidebar-link">Generics</a></li><li><a href="/swift/optionset.html" class="sidebar-link">OptionSet</a></li><li><a href="/swift/reading-writing-json.html" class="sidebar-link">Reading &amp; Writing JSON</a></li><li><a href="/swift/advanced-operators.html" class="sidebar-link">Advanced Operators</a></li><li><a href="/swift/method-swizzling.html" class="sidebar-link">Method Swizzling</a></li><li><a href="/swift/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/swift/access-control.html" class="sidebar-link">Access Control</a></li><li><a href="/swift/closures.html" class="sidebar-link">Closures</a></li><li><a href="/swift/initializers.html" class="sidebar-link">Initializers</a></li><li><a href="/swift/associated-objects.html" class="sidebar-link">Associated Objects</a></li><li><a href="/swift/concurrency.html" class="sidebar-link">Concurrency</a></li><li><a href="/swift/getting-started-with-protocol-oriented-programming.html" class="sidebar-link">Getting Started with Protocol Oriented Programming</a></li><li><a href="/swift/functional-programming-in-swift.html" class="sidebar-link">Functional Programming in Swift</a></li><li><a href="/swift/function-as-first-class-citizens-in-swift.html" class="sidebar-link">Function as first class citizens in Swift</a></li><li><a href="/swift/blocks.html" class="sidebar-link">Blocks</a></li><li><a href="/swift/the-defer-statement.html" class="sidebar-link">The Defer Statement</a></li><li><a href="/swift/style-conventions.html" class="sidebar-link">Style Conventions</a></li><li><a href="/swift/nsregularexpression-in-swift.html" class="sidebar-link">NSRegularExpression in Swift</a></li><li><a href="/swift/rxswift.html" class="sidebar-link">RxSwift</a></li><li><a href="/swift/swift-package-manager.html" class="sidebar-link">Swift Package Manager</a></li><li><a href="/swift/working-with-c-and-objective-c.html" class="sidebar-link">Working with C and Objective-C</a></li><li><a href="/swift/documentation-markup.html" class="sidebar-link">Documentation markup</a></li><li><a href="/swift/typealias.html" class="sidebar-link">Typealias</a></li><li><a href="/swift/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/swift/caching-on-disk-space.html" class="sidebar-link">Caching on disk space</a></li><li><a href="/swift/algorithms-with-swift.html" class="sidebar-link">Algorithms with Swift</a></li><li><a href="/swift/swift-advance-functions.html" class="sidebar-link">Swift Advance functions</a></li><li><a href="/swift/completion-handler.html" class="sidebar-link">Completion Handler</a></li><li><a href="/swift/swift-http-server-by-kitura.html" class="sidebar-link">Swift HTTP server by Kitura</a></li><li><a href="/swift/generate-uiimage-of-initials-from-string.html" class="sidebar-link">Generate UIImage of Initials from String</a></li><li><a href="/swift/design-patterns-creational.html" class="sidebar-link">Design Patterns - Creational</a></li><li><a href="/swift/design-patterns-structural.html" class="sidebar-link">Design Patterns - Structural</a></li><li><a href="/swift/unsafe-buffer-pointers.html" class="sidebar-link">(Unsafe) Buffer Pointers</a></li><li><a href="/swift/cryptographic-hashing.html" class="sidebar-link">Cryptographic Hashing</a></li><li><a href="/swift/aes-encryption.html" class="sidebar-link">AES encryption</a></li><li><a href="/swift/pbkdf2-key-derivation.html" class="sidebar-link">PBKDF2 Key Derivation</a></li><li><a href="/swift/logging-in-swift.html" class="sidebar-link">Logging in Swift</a></li><li><a href="/swift/memory-management.html" class="sidebar-link">Memory Management</a></li><li><a href="/swift/performance.html" class="sidebar-link">Performance</a></li><li><a href="/swift/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="optionals"><a href="#optionals" class="header-anchor">#</a> Optionals</h1> <p>“ An optional value either contains a value or contains nil to indicate that a value is missing”</p> <p>Excerpt From: Apple Inc. “The Swift Programming Language (Swift 3.1 Edition).” iBooks. <a href="https://itun.es/us/k5SW7.l" target="_blank" rel="noopener noreferrer">https://itun.es/us/k5SW7.l<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Basic optional use cases include: for a constant (let), use of an optional within a loop (if-let), safely unwrapping an optional value within a method (guard-let), and as part of switch loops (case-let), defaulting to a value if nil, using the coalesce operator (??)</p> <h2 id="types-of-optionals"><a href="#types-of-optionals" class="header-anchor">#</a> Types of Optionals</h2> <p>Optionals are a generic enum type that acts as a wrapper. This wrapper allows a variable to have one of two states: the value of the user-defined type or <code>nil</code>, which represents the absence of a value.</p> <p>This ability is particularly important in Swift because one of the stated design objectives of the language is to work well with Apple's frameworks. Many (most) of Apple's frameworks utilize <code>nil</code> due to its ease of use and significance to programming patterns and API design within Objective-C.</p> <p>In Swift, for a variable to have a <code>nil</code> value, it must be an optional. Optionals can be created by appending either a <code>!</code> or a <code>?</code> to the variable type. For example, to make an <code>Int</code> optional, you could use</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> numberOne<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>
<span class="token keyword">var</span> numberTwo<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>

</code></pre></div><p><code>?</code> optionals must be explicitly unwrapped, and should be used if you aren't certain whether or not the variable will have a value when you access it. For example, when turning a string into an <code>Int</code>, the result is an optional <code>Int?</code>, because nil will be returned if the string is not a valid number</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;42&quot;</span></span>
<span class="token keyword">let</span> num1<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span> <span class="token comment">// 42</span>

<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Hello, World!&quot;</span></span>
<span class="token keyword">let</span> num2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span> <span class="token comment">// nil</span>

</code></pre></div><p><code>!</code> optionals are automatically unwrapped, and should <strong>only</strong> be used when you are <strong>certain</strong> that the variable will have a value when you access it. For example, a global <code>UIButton!</code> variable that is initialized in <code>viewDidLoad()</code></p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">//myButton will not be accessed until viewDidLoad is called,</span>
<span class="token comment">//so a ! optional can be used here</span>
<span class="token keyword">var</span> myButton<span class="token punctuation">:</span> <span class="token class-name">UIButton</span><span class="token operator">!</span>

<span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>myButton <span class="token operator">=</span> <span class="token class-name">UIButton</span><span class="token punctuation">(</span>frame<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">.</span>view<span class="token punctuation">.</span>frame<span class="token punctuation">)</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>myButton<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span><span class="token function">redColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">addSubview</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>myButton<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="unwrapping-an-optional"><a href="#unwrapping-an-optional" class="header-anchor">#</a> Unwrapping an Optional</h2> <p>In order to access the value of an Optional, it needs to be unwrapped.</p> <p>You can <strong>conditionally unwrap</strong> an Optional using optional binding and <strong>force unwrap</strong> an Optional using the <code>!</code> operator.</p> <p>Conditionally unwrapping effectively asks &quot;Does this variable have a value?&quot; while force unwrapping says &quot;This variable has a value!&quot;.</p> <p>If you force unwrap a variable that is <code>nil</code>, your program will throw an <strong>unexpectedly found nil while unwrapping an optional</strong> exception and crash, so you need to consider carefully if using <code>!</code> is appropriate.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> text<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>
<span class="token keyword">var</span> unwrapped<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> text<span class="token operator">!</span> <span class="token comment">//crashes with &quot;unexpectedly found nil while unwrapping an Optional value&quot;</span>

</code></pre></div><p>For safe unwrapping, you can use an <code>if-let</code> statement, which will not throw an exception or crash if the wrapped value is <code>nil</code>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> unwrappedNumber <span class="token operator">=</span> number <span class="token punctuation">{</span>       <span class="token comment">// Has `number` been assigned a value?</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;number: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">unwrappedNumber</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// Will not enter this line</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;number was not assigned a value&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Or, <a href="https://stackoverflow.com/documentation/swift/475/conditionals/1558/using-guard#t=20170526044611473436" target="_blank" rel="noopener noreferrer">a guard statement<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> unwrappedNumber <span class="token operator">=</span> number <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;number: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">unwrappedNumber</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

</code></pre></div><p>Note that the scope of the <code>unwrappedNumber</code> variable is inside the <code>if-let</code> statement and outside of the <code>guard</code>  block.</p> <p>You can chain unwrapping of many optionals, this is mainly useful in cases that your code requires more then variable to run correctly:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> firstName<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span>
<span class="token keyword">var</span> lastName<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span>

<span class="token keyword">if</span> <span class="token keyword">let</span> fn <span class="token operator">=</span> firstName<span class="token punctuation">,</span> <span class="token keyword">let</span> ln <span class="token operator">=</span> lastName <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">fn</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> + </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">ln</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token comment">//pay attention that the condition will be true only if both optionals are not nil.</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Note that all the variables have to be unwrapped in order to pass successfully the test, otherwise you would have no way to determine which variables were unwrapped and which weren't.</p> <p>You can chain conditional statements using your  optionals immediately after it is unwrapped. This means no nested if - else statements!</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> firstName<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Bob&quot;</span></span>
<span class="token keyword">var</span> myBool<span class="token punctuation">:</span><span class="token class-name">Bool</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token keyword">if</span> <span class="token keyword">let</span> fn <span class="token operator">=</span> firstName<span class="token punctuation">,</span> fn <span class="token operator">==</span> <span class="token string-literal"><span class="token string">&quot;Bob&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">let</span> bool <span class="token operator">=</span> myBool<span class="token punctuation">,</span> <span class="token operator">!</span>bool <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;firstName is bob and myBool was false!&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="nil-coalescing-operator"><a href="#nil-coalescing-operator" class="header-anchor">#</a> Nil Coalescing Operator</h2> <p>You can use the <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/BasicOperators.html#//apple_ref/doc/uid/TP40014097-CH6-ID72" target="_blank" rel="noopener noreferrer"><strong>nil coalescing operator</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to unwrap a value if it is non-nil, otherwise provide a different value:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">fallbackIfNil</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str <span class="token operator">??</span> <span class="token string-literal"><span class="token string">&quot;Fallback String&quot;</span></span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">fallbackIfNil</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Hi&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Prints &quot;Hi&quot;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">fallbackIfNil</span><span class="token punctuation">(</span><span class="token nil constant">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Prints &quot;Fallback String&quot;</span>

</code></pre></div><p>This operator is able to <a href="https://en.wikipedia.org/wiki/Short-circuit_evaluation" target="_blank" rel="noopener noreferrer">short-circuit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, meaning that if the left operand is non-nil, the right operand will not be evaluated:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">someExpensiveComputation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

<span class="token keyword">var</span> foo <span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;a string&quot;</span></span>
<span class="token keyword">let</span> str <span class="token operator">=</span> foo <span class="token operator">??</span> <span class="token function">someExpensiveComputation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>In this example, as <code>foo</code> is non-nil, <code>someExpensiveComputation()</code> will not be called.</p> <p>You can also chain multiple nil coalescing statements together:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> foo <span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>
<span class="token keyword">var</span> bar <span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>

<span class="token keyword">let</span> baz <span class="token operator">=</span> foo <span class="token operator">??</span> bar <span class="token operator">??</span> <span class="token string-literal"><span class="token string">&quot;fallback string&quot;</span></span>

</code></pre></div><p>In this example <code>baz</code> will be assigned the unwrapped value of <code>foo</code> if it is non-nil, otherwise it will be assigned the unwrapped value of <code>bar</code> if it is non-nil, otherwise it will be assigned the fallback value.</p> <h2 id="optional-chaining"><a href="#optional-chaining" class="header-anchor">#</a> Optional Chaining</h2> <p>You can use <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/OptionalChaining.html#//apple_ref/doc/uid/TP40014097-CH21-ID245" target="_blank" rel="noopener noreferrer">Optional Chaining<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in order to call a <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Methods.html#//apple_ref/doc/uid/TP40014097-CH15-ID234" target="_blank" rel="noopener noreferrer">method<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, access a <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Properties.html#//apple_ref/doc/uid/TP40014097-CH14-ID254" target="_blank" rel="noopener noreferrer">property<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Subscripts.html#//apple_ref/doc/uid/TP40014097-CH16-ID305" target="_blank" rel="noopener noreferrer">subscript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> an optional. This is done by placing a <code>?</code> between the given optional variable and the given member (method, property or subscript).</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Hello World!&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> foo <span class="token punctuation">:</span> <span class="token class-name">Foo</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

foo<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// prints &quot;Hello World!&quot; as foo is non-nil</span>

</code></pre></div><p>If <code>foo</code> contains a value, <code>doSomething()</code> will be called on it. If <code>foo</code> is <code>nil</code>, then nothing bad will happen – the code will simply fail silently and continue executing.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> foo <span class="token punctuation">:</span> <span class="token class-name">Foo</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>

foo<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// will not be called as foo is nil</span>

</code></pre></div><p><sup> (This is similar behaviour to sending messages to <code>nil</code> in Objective-C) </sup></p> <p>The reason that Optional Chaining is named as such is because ‘optionality’ will be propagated through the members you call/access. What this means is that the return values of any members used with optional chaining will be optional, regardless of whether they are typed as optional or not.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> bar <span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">func</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> foo <span class="token punctuation">:</span> <span class="token class-name">Foo</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span>bar<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>foo<span class="token operator">?</span><span class="token punctuation">.</span>bar<span class="token punctuation">)</span> <span class="token comment">// Optional(5)</span>

</code></pre></div><p>Here <code>foo?.bar</code> is returning an <code>Int?</code> even though <code>bar</code> is non-optional, as <code>foo</code> itself is optional.</p> <p>As optionality is propagated, methods returning <code>Void</code> will return <code>Void?</code> when called with optional chaining. This can be useful in order to determine whether the method was called or not (and therefore if the optional has a value).</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> foo <span class="token punctuation">:</span> <span class="token class-name">Foo</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> foo<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token nil constant">nil</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;foo is non-nil, and doSomething() was called&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;foo is nil, therefore doSomething() wasn't called&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Here we’re comparing the <code>Void?</code> return value with <code>nil</code> in order to determine whether the method was called (and therefore whether <code>foo</code> is non-nil).</p> <h2 id="overview-why-optionals"><a href="#overview-why-optionals" class="header-anchor">#</a> Overview - Why Optionals?</h2> <p>Often when programming it is necessary to make some distinction between a variable that has a value and one that does not.  For reference types, such as C Pointers, a special value such as <code>null</code> can be used to indicate that the variable has no value.  For intrinsic types, such as an integer, it is more difficult.  A nominated value, such as -1 can be used, but this relies on interpretation of the value.  It also eliminates that &quot;special&quot; value from normal use.</p> <p>To address this, Swift allows any variable to be declared as an optional.  This is indicated by the use of a ? or !  after the type (See <a href="http://stackoverflow.com/documentation/swift/247/optionals/889/types-of-optionals#t=201607220020034058369" target="_blank" rel="noopener noreferrer">Types of optionals<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p>For example,</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> possiblyInt<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span>

</code></pre></div><p>declares a variable that may or may not contain an integer value.</p> <p>The special value <code>nil</code> indicates that no value is currently assigned to this variable.</p> <div class="language-swift extra-class"><pre class="language-swift"><code>possiblyInt <span class="token operator">=</span> <span class="token number">5</span>      <span class="token comment">// PossiblyInt is now 5</span>
possiblyInt <span class="token operator">=</span> <span class="token nil constant">nil</span>    <span class="token comment">// PossiblyInt is now unassigned</span>

</code></pre></div><p><code>nil</code> can also be used to test for an assigned value:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">if</span> possiblyInt <span class="token operator">!=</span> <span class="token nil constant">nil</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;possiblyInt has the value </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">possiblyInt<span class="token operator">!</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Note the use of <code>!</code> in the print statement to <a href="http://stackoverflow.com/documentation/swift/247/optionals/913/unwrapping-an-optional#t=20160722002622952402" target="_blank" rel="noopener noreferrer"><strong>unwrap</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> the optional value.</p> <p>As an example of a common use of optionals, consider a function that returns an integer from a string containing digits;  It is possible that the string may contain non-digit characters, or may even be empty.</p> <p>How can a function that returns a simple <code>Int</code> indicate failure?  It cannot do so by returning any specific value as this would preclude that value from being parsed from the string.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> someInt
someInt <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;not an integer&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// How would this function indicate failure?</span>

</code></pre></div><p>In Swift, however, that function can simply return an <strong>optional</strong> Int.  Then failure is indicated by return value of <code>nil</code>.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> someInt<span class="token operator">?</span>
someInt <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;not an integer&quot;</span></span><span class="token punctuation">)</span>  <span class="token comment">// This function returns nil if parsing fails</span>
<span class="token keyword">if</span> someInt <span class="token operator">==</span> <span class="token nil constant">nil</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;That isn't a valid integer&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>var optionalName: optionalType? // declare an optional type, defaults to nil</li> <li>var optionalName: optionalType? = value // declare an optional with a value</li> <li>var optionalName: optionalType! // declare an implicitly unwrapped optional</li> <li>optional! // force unwrap an optional</li></ul> <h4 id="remarks"><a href="#remarks" class="header-anchor">#</a> Remarks</h4> <p>For more information about optionals, see <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID330" target="_blank" rel="noopener noreferrer">The Swift Programming Language<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/swift/optionals.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/swift/switch.html" class="prev">
        Switch
      </a></span> <span class="next"><a href="/swift/conditionals.html">
        Conditionals
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/3346.22fefe0e.js" defer></script>
  </body>
</html>
