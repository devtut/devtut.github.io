<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Swift - Advanced Operators</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Bitwise Operators, Custom Operators, Commutative Operators, Overflow Operators, Overloading + for Dictionaries, Precedence of standard Swift operators">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Swift - Advanced Operators">
    <meta property="og:description" content="Bitwise Operators, Custom Operators, Commutative Operators, Overflow Operators, Overloading + for Dictionaries, Precedence of standard Swift operators">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/swift/advanced-operators.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Swift - Advanced Operators">
    <meta name="twitter:description" content="Bitwise Operators, Custom Operators, Commutative Operators, Overflow Operators, Overloading + for Dictionaries, Precedence of standard Swift operators">
    <meta name="twitter:url" content="/swift/advanced-operators.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    <link rel="preload" href="/assets/css/0.styles.8b877eb8.css" as="style"><link rel="preload" href="/assets/js/app.ced448ab.js" as="script"><link rel="preload" href="/assets/js/3.f1d73125.js" as="script"><link rel="preload" href="/assets/js/3307.fb33e36b.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.8b877eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Swift</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/swift/" class="sidebar-link">Disclaimer</a></li><li><a href="/swift/getting-started-with-swift-language.html" class="sidebar-link">Getting started with Swift Language</a></li><li><a href="/swift/variables-properties.html" class="sidebar-link">Variables &amp; Properties</a></li><li><a href="/swift/numbers.html" class="sidebar-link">Numbers</a></li><li><a href="/swift/strings-and-characters.html" class="sidebar-link">Strings and Characters</a></li><li><a href="/swift/booleans.html" class="sidebar-link">Booleans</a></li><li><a href="/swift/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/swift/tuples.html" class="sidebar-link">Tuples</a></li><li><a href="/swift/enums.html" class="sidebar-link">Enums</a></li><li><a href="/swift/structs.html" class="sidebar-link">Structs</a></li><li><a href="/swift/sets.html" class="sidebar-link">Sets</a></li><li><a href="/swift/dictionaries.html" class="sidebar-link">Dictionaries</a></li><li><a href="/swift/switch.html" class="sidebar-link">Switch</a></li><li><a href="/swift/optionals.html" class="sidebar-link">Optionals</a></li><li><a href="/swift/conditionals.html" class="sidebar-link">Conditionals</a></li><li><a href="/swift/error-handling.html" class="sidebar-link">Error Handling</a></li><li><a href="/swift/loops.html" class="sidebar-link">Loops</a></li><li><a href="/swift/protocols.html" class="sidebar-link">Protocols</a></li><li><a href="/swift/functions.html" class="sidebar-link">Functions</a></li><li><a href="/swift/extensions.html" class="sidebar-link">Extensions</a></li><li><a href="/swift/classes.html" class="sidebar-link">Classes</a></li><li><a href="/swift/type-casting.html" class="sidebar-link">Type Casting</a></li><li><a href="/swift/generics.html" class="sidebar-link">Generics</a></li><li><a href="/swift/optionset.html" class="sidebar-link">OptionSet</a></li><li><a href="/swift/reading-writing-json.html" class="sidebar-link">Reading &amp; Writing JSON</a></li><li><a href="/swift/advanced-operators.html" class="active sidebar-link">Advanced Operators</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swift/advanced-operators.html#bitwise-operators" class="sidebar-link">Bitwise Operators</a></li><li class="sidebar-sub-header"><a href="/swift/advanced-operators.html#custom-operators" class="sidebar-link">Custom Operators</a></li><li class="sidebar-sub-header"><a href="/swift/advanced-operators.html#commutative-operators" class="sidebar-link">Commutative Operators</a></li><li class="sidebar-sub-header"><a href="/swift/advanced-operators.html#overflow-operators" class="sidebar-link">Overflow Operators</a></li><li class="sidebar-sub-header"><a href="/swift/advanced-operators.html#overloading-for-dictionaries" class="sidebar-link">Overloading + for Dictionaries</a></li><li class="sidebar-sub-header"><a href="/swift/advanced-operators.html#precedence-of-standard-swift-operators" class="sidebar-link">Precedence of standard Swift operators</a></li></ul></li><li><a href="/swift/method-swizzling.html" class="sidebar-link">Method Swizzling</a></li><li><a href="/swift/reflection.html" class="sidebar-link">Reflection</a></li><li><a href="/swift/access-control.html" class="sidebar-link">Access Control</a></li><li><a href="/swift/closures.html" class="sidebar-link">Closures</a></li><li><a href="/swift/initializers.html" class="sidebar-link">Initializers</a></li><li><a href="/swift/associated-objects.html" class="sidebar-link">Associated Objects</a></li><li><a href="/swift/concurrency.html" class="sidebar-link">Concurrency</a></li><li><a href="/swift/getting-started-with-protocol-oriented-programming.html" class="sidebar-link">Getting Started with Protocol Oriented Programming</a></li><li><a href="/swift/functional-programming-in-swift.html" class="sidebar-link">Functional Programming in Swift</a></li><li><a href="/swift/function-as-first-class-citizens-in-swift.html" class="sidebar-link">Function as first class citizens in Swift</a></li><li><a href="/swift/blocks.html" class="sidebar-link">Blocks</a></li><li><a href="/swift/the-defer-statement.html" class="sidebar-link">The Defer Statement</a></li><li><a href="/swift/style-conventions.html" class="sidebar-link">Style Conventions</a></li><li><a href="/swift/nsregularexpression-in-swift.html" class="sidebar-link">NSRegularExpression in Swift</a></li><li><a href="/swift/rxswift.html" class="sidebar-link">RxSwift</a></li><li><a href="/swift/swift-package-manager.html" class="sidebar-link">Swift Package Manager</a></li><li><a href="/swift/working-with-c-and-objective-c.html" class="sidebar-link">Working with C and Objective-C</a></li><li><a href="/swift/documentation-markup.html" class="sidebar-link">Documentation markup</a></li><li><a href="/swift/typealias.html" class="sidebar-link">Typealias</a></li><li><a href="/swift/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li><li><a href="/swift/caching-on-disk-space.html" class="sidebar-link">Caching on disk space</a></li><li><a href="/swift/algorithms-with-swift.html" class="sidebar-link">Algorithms with Swift</a></li><li><a href="/swift/swift-advance-functions.html" class="sidebar-link">Swift Advance functions</a></li><li><a href="/swift/completion-handler.html" class="sidebar-link">Completion Handler</a></li><li><a href="/swift/swift-http-server-by-kitura.html" class="sidebar-link">Swift HTTP server by Kitura</a></li><li><a href="/swift/generate-uiimage-of-initials-from-string.html" class="sidebar-link">Generate UIImage of Initials from String</a></li><li><a href="/swift/design-patterns-creational.html" class="sidebar-link">Design Patterns - Creational</a></li><li><a href="/swift/design-patterns-structural.html" class="sidebar-link">Design Patterns - Structural</a></li><li><a href="/swift/unsafe-buffer-pointers.html" class="sidebar-link">(Unsafe) Buffer Pointers</a></li><li><a href="/swift/cryptographic-hashing.html" class="sidebar-link">Cryptographic Hashing</a></li><li><a href="/swift/aes-encryption.html" class="sidebar-link">AES encryption</a></li><li><a href="/swift/pbkdf2-key-derivation.html" class="sidebar-link">PBKDF2 Key Derivation</a></li><li><a href="/swift/logging-in-swift.html" class="sidebar-link">Logging in Swift</a></li><li><a href="/swift/memory-management.html" class="sidebar-link">Memory Management</a></li><li><a href="/swift/performance.html" class="sidebar-link">Performance</a></li><li><a href="/swift/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="advanced-operators"><a href="#advanced-operators" class="header-anchor">#</a> Advanced Operators</h1> <h2 id="bitwise-operators"><a href="#bitwise-operators" class="header-anchor">#</a> Bitwise Operators</h2> <p>Swift Bitwise operators allow you to perform operations on the binary form of numbers. You can specify a binary literal by prefixing the number with <code>0b</code>, so for example <code>0b110</code> is equivalent to the binary number 110 (the decimal number 6). Each 1 or 0 is a bit in the number.</p> <p>Bitwise NOT <code>~</code>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number<span class="token punctuation">:</span> <span class="token builtin">UInt8</span> <span class="token operator">=</span> <span class="token number">0b01101100</span>
<span class="token keyword">let</span> newNumber <span class="token operator">=</span> <span class="token operator">~</span>number
<span class="token comment">// newNumber is equal to 0b01101100</span>

</code></pre></div><p>Here, each bit get changed to its opposite. Declaring the number as explicitly <code>UInt8</code> ensures that the number is positive (so that we don't have to deal with negatives in the example) and that it is only 8 bits. If <code>0b01101100</code> was a larger UInt, there would be leading 0s that would be converted to 1s and become significant upon inversion:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number<span class="token punctuation">:</span> <span class="token builtin">UInt16</span> <span class="token operator">=</span> <span class="token number">0b01101100</span>
<span class="token comment">// number equals 0b0000000001101100</span>
<span class="token comment">// the 0s are not significant</span>
<span class="token keyword">let</span> newNumber <span class="token operator">=</span> <span class="token operator">~</span>number
<span class="token comment">// newNumber equals 0b1111111110010011</span>
<span class="token comment">// the 1s are now significant</span>

</code></pre></div><ul><li>0 -&gt; 1</li> <li>1 -&gt; 0</li></ul> <p>Bitwise AND <code>&amp;</code>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">0b0110</span>
<span class="token keyword">let</span> newNumber <span class="token operator">=</span> number <span class="token operator">&amp;</span> <span class="token number">0b1010</span>
<span class="token comment">// newNumber is equal to 0b0010</span>

</code></pre></div><p>Here, a given bit will be 1 if and only if the binary numbers on both sides of the <code>&amp;</code> operator contained a 1 at that bit location.</p> <ul><li>0 &amp; 0 -&gt; 0</li> <li>0 &amp; 1 -&gt; 0</li> <li>1 &amp; 1 -&gt; 1</li></ul> <p>Bitwise OR <code>|</code>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">0b0110</span>
<span class="token keyword">let</span> newNumber <span class="token operator">=</span> number <span class="token operator">|</span> <span class="token number">0b1000</span>
<span class="token comment">// newNumber is equal to 0b1110</span>

</code></pre></div><p>Here, a given bit will be 1 if and only if the binary number on at least one side of the <code>|</code> operator contained a 1 at that bit location.</p> <ul><li>0 | 0 -&gt; 0</li> <li>0 | 1 -&gt; 1</li> <li>1 | 1 -&gt; 1</li></ul> <p>Bitwise XOR (Exclusive OR) <code>^</code>:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">0b0110</span>
<span class="token keyword">let</span> newNumber <span class="token operator">=</span> number <span class="token operator">^</span> <span class="token number">0b1010</span>
<span class="token comment">// newNumber is equal to 0b1100</span>

</code></pre></div><p>Here, a given bit will be 1 if and only if the bits in that position of the two operands are different.</p> <ul><li>0 ^ 0 -&gt; 0</li> <li>0 ^ 1 -&gt; 1</li> <li>1 ^ 1 -&gt; 0</li></ul> <p>For all binary operations, the order of the operands makes no difference on the result.</p> <h2 id="custom-operators"><a href="#custom-operators" class="header-anchor">#</a> Custom Operators</h2> <p>Swift supports the creation of custom operators. New operators are declared at a global level using the <code>operator</code> keyword.</p> <p>The operator's structure is defined by three parts: operand placement, precedence, and associativity.</p> <li>
The `prefix`, `infix` and `postfix` modifiers are used to start an custom operator declaration. The `prefix` and `postfix` modifiers declare whether the operator must be before or after, respectively, the value on which it acts. Such operators are urnary, like `8` and `3++` [**](https://github.com/apple/swift-evolution/blob/master/proposals/0004-remove-pre-post-inc-decrement.md), since they can only act on one target. The `infix` declares a binary operator, which acts on the two values it is between, such as `2+3`.
</li> <li>
Operators with higher **precedence** are calculated first. The default operator  precedence is just higher than `?`...`:` (a value of 100 in Swift 2.x). The precedence of standard Swift operators can be found [here](http://stackoverflow.com/documentation/swift/1048/advanced-operators/23548/precedence-of-standard-swift-operators#t=201609230518289001195).
</li> <li>
**Associativity** defines the order of operations between operators of the same precedence. Left associative operators are calculated from left to right (reading order, like most operators), while right associative operators calculate from right to left.
</li> <p>Starting from Swift 3.0, one would define the precedence and associativity in a <strong>precedence group</strong> instead of the operator itself, so that multiple operators can easily share the same precedence without referring to the cryptic numbers. The list of standard precedence groups is shown <a href="http://stackoverflow.com/documentation/swift/1048/advanced-operators/23548/precedence-of-standard-swift-operators#t=201609230518289001195" target="_blank" rel="noopener noreferrer">below<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Operators return values based on the calculation code. This code acts as a normal function, with parameters specifying the type of input and the <code>return</code> keyword specifying the calculated value that the operator returns.</p> <p>Here is the definition of a simple exponential operator, since standard Swift does not have an exponential operator.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token builtin">Foundation</span>    

<span class="token keyword">infix</span> <span class="token keyword">operator</span> <span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">{</span> <span class="token keyword">associativity</span> <span class="token keyword">left</span> <span class="token keyword">precedence</span> <span class="token number">170</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">(</span>num<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> power<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Double</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">pow</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> power<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>The <code>infix</code> says that the <code>**</code> operator works in between two values, such as <code>9**2</code>. Because the function has left associativity, <code>3**3**2</code> is calculated as <code>(3**3)**2</code>. The precedence of <code>170</code> is higher than all standard Swift operations, meaning that <code>3+2**4</code> calculates to <code>19</code>, despite the left associativity of <code>**</code>.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token builtin">Foundation</span> 

<span class="token keyword">infix</span> <span class="token keyword">operator</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">:</span> <span class="token builtin">BitwiseShiftPrecedence</span>

<span class="token keyword">func</span> <span class="token operator">*</span><span class="token operator">*</span> <span class="token punctuation">(</span>num<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> power<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Double</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">pow</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> power<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Instead of specifying the precedence and associativity explicitly, on Swift 3.0 we could use the built-in precedence group BitwiseShiftPrecedence that gives the correct values (same as <code>&lt;&lt;</code>, <code>&gt;&gt;</code>).</p> <p>**: The increment and decrement are deprecated and will be removed in Swift 3.</p> <h2 id="commutative-operators"><a href="#commutative-operators" class="header-anchor">#</a> Commutative Operators</h2> <p>Let's add a custom operator to multiply a CGSize</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token operator">*</span><span class="token punctuation">(</span>lhs<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> rhs<span class="token punctuation">:</span> <span class="token builtin">CGSize</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CGSize</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> height <span class="token operator">=</span> lhs<span class="token operator">*</span>rhs<span class="token punctuation">.</span>height
    <span class="token keyword">let</span> width <span class="token operator">=</span> lhs<span class="token operator">*</span>rhs<span class="token punctuation">.</span>width
    <span class="token keyword">return</span> <span class="token function">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> width<span class="token punctuation">,</span> height<span class="token punctuation">:</span> height<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Now this works</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> sizeA <span class="token operator">=</span> <span class="token function">CGSize</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">)</span>    
<span class="token keyword">let</span> sizeB <span class="token operator">=</span> <span class="token number">1.1</span> <span class="token operator">*</span> sizeA         <span class="token comment">//=&gt; (height: 110, width: 220)</span>

</code></pre></div><p>But if we try to do the operation in reverse, we get an error</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> sizeC <span class="token operator">=</span> sizeB <span class="token operator">*</span> <span class="token number">20</span>          <span class="token comment">// ERROR</span>

</code></pre></div><p>But it's simple enough to add:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token operator">*</span><span class="token punctuation">(</span>lhs<span class="token punctuation">:</span> <span class="token builtin">CGSize</span><span class="token punctuation">,</span> rhs<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CGSize</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> rhs<span class="token operator">*</span>lhs
<span class="token punctuation">}</span>

</code></pre></div><p>Now the operator is commutative.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> sizeA <span class="token operator">=</span> <span class="token function">CGSize</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">)</span>    
<span class="token keyword">let</span> sizeB <span class="token operator">=</span> sizeA <span class="token operator">*</span> <span class="token number">1.1</span>              <span class="token comment">//=&gt; (height: 110, width: 220)</span>

</code></pre></div><h2 id="overflow-operators"><a href="#overflow-operators" class="header-anchor">#</a> Overflow Operators</h2> <p>Overflow refers to what happens when an operation would result in a number that is either larger or smaller than the designated amount of bits for that number may hold.</p> <p>Due to the way binary arithmetic works, after a number becomes too large for its bits, the number overflows down to the smallest possible number (for the bit size) and then continues counting up from there. Similarly, when a number becomes too small, it underflows up to the largest possible number (for its bit size) and continues counting down from there.</p> <p>Because this behavior is not often desired and can lead to serious security issues, the Swift arithmetic operators <code>+</code>, <code>-</code>, and <code>*</code> will throw errors when an operation would cause an overflow or underflow. To explicitly allow overflow and underflow, use <code>&amp;+</code>, <code>&amp;-</code>, and <code>&amp;*</code> instead.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">var</span> almostTooLarge <span class="token operator">=</span> <span class="token builtin">Int</span><span class="token punctuation">.</span><span class="token builtin">max</span>
almostTooLarge <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// not allowed</span>
almostTooLarge <span class="token operator">&amp;</span><span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// allowed, but result will be the value of Int.min</span>

</code></pre></div><h2 id="overloading-for-dictionaries"><a href="#overloading-for-dictionaries" class="header-anchor">#</a> Overloading + for Dictionaries</h2> <p>As there is currently no simple way of combining dictionaries in Swift, it can be useful to <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID42" target="_blank" rel="noopener noreferrer">overload<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> the <code>+</code> and <code>+=</code> operators in order to add this functionality using <a href="http://stackoverflow.com/documentation/swift/774/generics" target="_blank" rel="noopener noreferrer">generics<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// Combines two dictionaries together. If both dictionaries contain</span>
<span class="token comment">// the same key, the value of the right hand side dictionary is used.</span>
<span class="token keyword">func</span> <span class="token operator">+</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">(</span>lhs<span class="token punctuation">:</span> <span class="token punctuation">[</span>K <span class="token punctuation">:</span> V<span class="token punctuation">]</span><span class="token punctuation">,</span> rhs<span class="token punctuation">:</span> <span class="token punctuation">[</span>K <span class="token punctuation">:</span> V<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>K <span class="token punctuation">:</span> V<span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> combined <span class="token operator">=</span> lhs
    <span class="token keyword">for</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> rhs <span class="token punctuation">{</span>
        combined<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> combined
<span class="token punctuation">}</span>

<span class="token comment">// The mutable variant of the + overload, allowing a dictionary</span>
<span class="token comment">// to be appended to 'in-place'.</span>
<span class="token keyword">func</span> <span class="token operator">+</span><span class="token operator">=</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">inout</span> lhs<span class="token punctuation">:</span> <span class="token punctuation">[</span>K <span class="token punctuation">:</span> V<span class="token punctuation">]</span><span class="token punctuation">,</span> rhs<span class="token punctuation">:</span> <span class="token punctuation">[</span>K <span class="token punctuation">:</span> V<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> rhs <span class="token punctuation">{</span>
        lhs<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>As of Swift 3, <code>inout</code> should be placed before the argument type.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token operator">+</span><span class="token operator">=</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">(</span>lhs<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token punctuation">[</span>K <span class="token punctuation">:</span> V<span class="token punctuation">]</span><span class="token punctuation">,</span> rhs<span class="token punctuation">:</span> <span class="token punctuation">[</span>K <span class="token punctuation">:</span> V<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span> 

</code></pre></div><p>Example usage:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> firstDict <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;hello&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> secondDict <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;world&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> thirdDict <span class="token operator">=</span> firstDict <span class="token operator">+</span> secondDict <span class="token comment">// [&quot;hello&quot;: &quot;world&quot;, &quot;world&quot;: &quot;hello&quot;]</span>

thirdDict <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;qux&quot;</span><span class="token punctuation">]</span> <span class="token comment">// [&quot;hello&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;qux&quot;, &quot;world&quot;: &quot;hello&quot;]</span>

</code></pre></div><h2 id="precedence-of-standard-swift-operators"><a href="#precedence-of-standard-swift-operators" class="header-anchor">#</a> Precedence of standard Swift operators</h2> <p>Operators that bound tighter (higher precedence) are listed first.</p> <table><thead><tr><th>Operators</th> <th>Precedence group (≥3.0)</th> <th>Precedence</th> <th>Associativity</th></tr></thead> <tbody><tr><td><code>.</code></td> <td></td> <td>∞</td> <td>left</td></tr> <tr><td><code>?</code>, <code>!</code>, <code>++</code>, <code>--</code>, <code>[]</code>, <code>()</code>, <code>{}</code></td> <td>(postfix)</td> <td></td> <td></td></tr> <tr><td><code>!</code>, <code>~</code>, <code>+</code>, <code>-</code>, <code>++</code>, <code>--</code></td> <td>(prefix)</td> <td></td> <td></td></tr> <tr><td><a href="http://stackoverflow.com/questions/26758297/what-is-the-tilde-greater-than-operator-used-for-in-swift" target="_blank" rel="noopener noreferrer"><code>~&gt;</code> (swift ≤2.3)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td></td> <td>255</td> <td>left</td></tr> <tr><td><code>&lt;&lt;</code>, <code>&gt;&gt;</code></td> <td>BitwiseShiftPrecedence</td> <td>160</td> <td>none</td></tr> <tr><td><code>*</code>, <code>/</code>, <code>%</code>, <code>&amp;</code>, <code>&amp;*</code></td> <td>MultiplicationPrecedence</td> <td>150</td> <td>left</td></tr> <tr><td><code>+</code>, <code>-</code>, <code>|</code>, <code>^</code>, <code>&amp;+</code>, <code>&amp;-</code></td> <td>AdditionPrecedence</td> <td>140</td> <td>left</td></tr> <tr><td><code>...</code>, <code>..&lt;</code></td> <td>RangeFormationPrecedence</td> <td>135</td> <td>none</td></tr> <tr><td><code>is</code>, <code>as</code>, <code>as?</code>, <code>as!</code></td> <td>CastingPrecedence</td> <td>132</td> <td>left</td></tr> <tr><td><code>??</code></td> <td>NilCoalescingPrecedence</td> <td>131</td> <td>right</td></tr> <tr><td><code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>==</code>, <code>!=</code>, <code>===</code>, <code>!==</code>, <code>~=</code></td> <td>ComparisonPrecedence</td> <td>130</td> <td>none</td></tr> <tr><td><code>&amp;&amp;</code></td> <td>LogicalConjunctionPrecedence</td> <td>120</td> <td>left</td></tr> <tr><td><code>||</code></td> <td>LogicalDisjunctionPrecedence</td> <td>110</td> <td>left</td></tr> <tr><td></td> <td>DefaultPrecedence*</td> <td></td> <td>none</td></tr> <tr><td><code>?</code>...<code>:</code></td> <td>TernaryPrecedence</td> <td>100</td> <td>right</td></tr> <tr><td><code>=</code>, <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>, <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code></td> <td>AssignmentPrecedence</td> <td>90</td> <td>right, assignment</td></tr> <tr><td><code>-&gt;</code></td> <td>FunctionArrowPrecedence</td> <td></td> <td>right</td></tr></tbody></table> <ul><li><p>The <code>DefaultPrecedence</code> precedence group is higher than <code>TernaryPrecedence</code>, but is unordered with the rest of the operators. Other than this group, the rest of the precedences are linear.</p></li> <li><p>This table can be also be found on <a href="https://developer.apple.com/reference/swift/1851035-swift_standard_library_operators" target="_blank" rel="noopener noreferrer">Apple's API reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>The actual definition of the precedence groups can be found in <a href="https://github.com/apple/swift/blob/e6f8843c701a0ea72ddfe0b5538b815767a4ee5d/stdlib/public/core/Policy.swift#L532" target="_blank" rel="noopener noreferrer">the source code on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/swift/advanced-operators.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/swift/reading-writing-json.html" class="prev">
        Reading &amp; Writing JSON
      </a></span> <span class="next"><a href="/swift/method-swizzling.html">
        Method Swizzling
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ced448ab.js" defer></script><script src="/assets/js/3.f1d73125.js" defer></script><script src="/assets/js/3307.fb33e36b.js" defer></script>
  </body>
</html>
