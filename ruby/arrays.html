<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ruby - Arrays</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Create Array of Strings, Create Array with Array::new, Create Array of Symbols, Manipulating Array Elements, Creating an Array with the literal constructor [ ], Accessing elements, Arrays union, intersection and difference, Decomposition, #map, Filtering arrays, Inject, reduce, Two-dimensional array, Arrays and the splat (*) operator, Turn multi-dimensional array into a one-dimensional (flattened) array, Get unique array elements, Get all combinations / permutations of an array, Remove all nil elements from an array with #compact, Create an Array of consecutive numbers or letters, Create Array of numbers, Cast to Array from any object">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="Ruby - Arrays">
    <meta property="og:description" content="Create Array of Strings, Create Array with Array::new, Create Array of Symbols, Manipulating Array Elements, Creating an Array with the literal constructor [ ], Accessing elements, Arrays union, intersection and difference, Decomposition, #map, Filtering arrays, Inject, reduce, Two-dimensional array, Arrays and the splat (*) operator, Turn multi-dimensional array into a one-dimensional (flattened) array, Get unique array elements, Get all combinations / permutations of an array, Remove all nil elements from an array with #compact, Create an Array of consecutive numbers or letters, Create Array of numbers, Cast to Array from any object">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/ruby/arrays.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="Ruby - Arrays">
    <meta name="twitter:description" content="Create Array of Strings, Create Array with Array::new, Create Array of Symbols, Manipulating Array Elements, Creating an Array with the literal constructor [ ], Accessing elements, Arrays union, intersection and difference, Decomposition, #map, Filtering arrays, Inject, reduce, Two-dimensional array, Arrays and the splat (*) operator, Turn multi-dimensional array into a one-dimensional (flattened) array, Get unique array elements, Get all combinations / permutations of an array, Remove all nil elements from an array with #compact, Create an Array of consecutive numbers or letters, Create Array of numbers, Cast to Array from any object">
    <meta name="twitter:url" content="/ruby/arrays.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/3051.ad32e0ba.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ruby</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ruby/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/ruby/installation.html" class="sidebar-link">Installation</a></li><li><a href="/ruby/getting-started-with-ruby-language.html" class="sidebar-link">Getting started with Ruby Language</a></li><li><a href="/ruby/casting-type-conversion.html" class="sidebar-link">Casting (type conversion)</a></li><li><a href="/ruby/operators.html" class="sidebar-link">Operators</a></li><li><a href="/ruby/variable-scope-and-visibility.html" class="sidebar-link">Variable Scope and Visibility</a></li><li><a href="/ruby/environment-variables.html" class="sidebar-link">Environment Variables</a></li><li><a href="/ruby/constants.html" class="sidebar-link">Constants</a></li><li><a href="/ruby/special-constants-in-ruby.html" class="sidebar-link">Special Constants in Ruby</a></li><li><a href="/ruby/comments.html" class="sidebar-link">Comments</a></li><li><a href="/ruby/arrays.html" aria-current="page" class="active sidebar-link">Arrays</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ruby/arrays.html#create-array-of-strings" class="sidebar-link">Create Array of Strings</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#create-array-with-array-new" class="sidebar-link">Create Array with Array::new</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#create-array-of-symbols" class="sidebar-link">Create Array of Symbols</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#manipulating-array-elements" class="sidebar-link">Manipulating Array Elements</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#creating-an-array-with-the-literal-constructor" class="sidebar-link">Creating an Array with the literal constructor [ ]</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#accessing-elements" class="sidebar-link">Accessing elements</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#arrays-union-intersection-and-difference" class="sidebar-link">Arrays union, intersection and difference</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#decomposition" class="sidebar-link">Decomposition</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#map" class="sidebar-link">#map</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#filtering-arrays" class="sidebar-link">Filtering arrays</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#inject-reduce" class="sidebar-link">Inject, reduce</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#two-dimensional-array" class="sidebar-link">Two-dimensional array</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#arrays-and-the-splat-operator" class="sidebar-link">Arrays and the splat (*) operator</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#turn-multi-dimensional-array-into-a-one-dimensional-flattened-array" class="sidebar-link">Turn multi-dimensional array into a one-dimensional (flattened) array</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#get-unique-array-elements" class="sidebar-link">Get unique array elements</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#get-all-combinations-permutations-of-an-array" class="sidebar-link">Get all combinations / permutations of an array</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#remove-all-nil-elements-from-an-array-with-compact" class="sidebar-link">Remove all nil elements from an array with #compact</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#create-an-array-of-consecutive-numbers-or-letters" class="sidebar-link">Create an Array of consecutive numbers or letters</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#create-array-of-numbers" class="sidebar-link">Create Array of numbers</a></li><li class="sidebar-sub-header"><a href="/ruby/arrays.html#cast-to-array-from-any-object" class="sidebar-link">Cast to Array from any object</a></li></ul></li><li><a href="/ruby/multidimensional-arrays.html" class="sidebar-link">Multidimensional Arrays</a></li><li><a href="/ruby/strings.html" class="sidebar-link">Strings</a></li><li><a href="/ruby/datetime.html" class="sidebar-link">DateTime</a></li><li><a href="/ruby/time.html" class="sidebar-link">Time</a></li><li><a href="/ruby/numbers.html" class="sidebar-link">Numbers</a></li><li><a href="/ruby/symbols.html" class="sidebar-link">Symbols</a></li><li><a href="/ruby/comparable.html" class="sidebar-link">Comparable</a></li><li><a href="/ruby/control-flow.html" class="sidebar-link">Control Flow</a></li><li><a href="/ruby/methods.html" class="sidebar-link">Methods</a></li><li><a href="/ruby/hashes.html" class="sidebar-link">Hashes</a></li><li><a href="/ruby/blocks-and-procs-and-lambdas.html" class="sidebar-link">Blocks and Procs and Lambdas</a></li><li><a href="/ruby/iteration.html" class="sidebar-link">Iteration</a></li><li><a href="/ruby/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/ruby/enumerators.html" class="sidebar-link">Enumerators</a></li><li><a href="/ruby/enumerable-in-ruby.html" class="sidebar-link">Enumerable in Ruby</a></li><li><a href="/ruby/classes.html" class="sidebar-link">Classes</a></li><li><a href="/ruby/inheritance.html" class="sidebar-link">Inheritance</a></li><li><a href="/ruby/method-missing.html" class="sidebar-link">method_missing</a></li><li><a href="/ruby/regular-expressions-and-regex-based-operations.html" class="sidebar-link">Regular Expressions and Regex Based Operations</a></li><li><a href="/ruby/file-and-i-o-operations.html" class="sidebar-link">File and I/O Operations</a></li><li><a href="/ruby/ruby-access-modifiers.html" class="sidebar-link">Ruby Access Modifiers</a></li><li><a href="/ruby/design-patterns-and-idioms-in-ruby.html" class="sidebar-link">Design Patterns and Idioms in Ruby</a></li><li><a href="/ruby/loading-source-files.html" class="sidebar-link">Loading Source Files</a></li><li><a href="/ruby/thread.html" class="sidebar-link">Thread</a></li><li><a href="/ruby/range.html" class="sidebar-link">Range</a></li><li><a href="/ruby/modules.html" class="sidebar-link">Modules</a></li><li><a href="/ruby/introspection-in-ruby.html" class="sidebar-link">Introspection in Ruby</a></li><li><a href="/ruby/monkey-patching-in-ruby.html" class="sidebar-link">Monkey Patching in Ruby</a></li><li><a href="/ruby/recursion-in-ruby.html" class="sidebar-link">Recursion in Ruby</a></li><li><a href="/ruby/splat-operator.html" class="sidebar-link">Splat operator (*)</a></li><li><a href="/ruby/json-with-ruby.html" class="sidebar-link">JSON with Ruby</a></li><li><a href="/ruby/pure-rspec-json-api-testing.html" class="sidebar-link">Pure RSpec JSON API testing</a></li><li><a href="/ruby/gem-creation-management.html" class="sidebar-link">Gem Creation/Management</a></li><li><a href="/ruby/rbenv.html" class="sidebar-link">rbenv</a></li><li><a href="/ruby/gem-usage.html" class="sidebar-link">Gem Usage</a></li><li><a href="/ruby/singleton-class.html" class="sidebar-link">Singleton Class</a></li><li><a href="/ruby/queue.html" class="sidebar-link">Queue</a></li><li><a href="/ruby/destructuring.html" class="sidebar-link">Destructuring</a></li><li><a href="/ruby/struct.html" class="sidebar-link">Struct</a></li><li><a href="/ruby/metaprogramming.html" class="sidebar-link">Metaprogramming</a></li><li><a href="/ruby/dynamic-evaluation.html" class="sidebar-link">Dynamic Evaluation</a></li><li><a href="/ruby/instance-eval.html" class="sidebar-link">instance_eval</a></li><li><a href="/ruby/message-passing.html" class="sidebar-link">Message Passing</a></li><li><a href="/ruby/keyword-arguments.html" class="sidebar-link">Keyword Arguments</a></li><li><a href="/ruby/truthiness.html" class="sidebar-link">Truthiness</a></li><li><a href="/ruby/implicit-receivers-and-understanding-self.html" class="sidebar-link">Implicit Receivers and Understanding Self</a></li><li><a href="/ruby/introspection.html" class="sidebar-link">Introspection</a></li><li><a href="/ruby/refinements.html" class="sidebar-link">Refinements</a></li><li><a href="/ruby/catching-exceptions-with-begin-rescue.html" class="sidebar-link">Catching Exceptions with Begin / Rescue</a></li><li><a href="/ruby/command-line-apps.html" class="sidebar-link">Command Line Apps</a></li><li><a href="/ruby/irb.html" class="sidebar-link">IRB</a></li><li><a href="/ruby/erb.html" class="sidebar-link">ERB</a></li><li><a href="/ruby/generate-a-random-number.html" class="sidebar-link">Generate a random number</a></li><li><a href="/ruby/getting-started-with-hanami.html" class="sidebar-link">Getting started with Hanami</a></li><li><a href="/ruby/optionparser.html" class="sidebar-link">OptionParser</a></li><li><a href="/ruby/operating-system-or-shell-commands.html" class="sidebar-link">Operating System or Shell commands</a></li><li><a href="/ruby/c-extensions.html" class="sidebar-link">C Extensions</a></li><li><a href="/ruby/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/ruby/ruby-version-manager.html" class="sidebar-link">Ruby Version Manager</a></li><li><a href="/ruby/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="arrays"><a href="#arrays" class="header-anchor">#</a> Arrays</h1> <h2 id="create-array-of-strings"><a href="#create-array-of-strings" class="header-anchor">#</a> Create Array of Strings</h2> <p>Arrays of strings can be created using ruby's <a href="http://ruby-doc.org/core/doc/syntax/literals_rdoc.html#label-Percent+Strings" target="_blank" rel="noopener noreferrer">percent string<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> syntax:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token string">%w(one two three four)</span>

</code></pre></div><p>This is functionally equivalent to defining the array as:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span>

</code></pre></div><p>Instead of <code>%w()</code> you may use other matching pairs of delimiters: <code>%w{...}</code>, <code>%w[...]</code> or <code>%w&lt;...&gt;</code>.</p> <p>It is also possible to use arbitrary non-alphanumeric delimiters, such as: <code>%w!...!</code>, <code>%w#...#</code> or <code>%w@...@</code>.</p> <p><code>%W</code> can be used instead of <code>%w</code> to incorporate string interpolation. Consider the following:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>var <span class="token operator">=</span> <span class="token string">'hello'</span>

<span class="token string">%w(<span class="token interpolation"><span class="token delimiter tag">#{</span>var<span class="token delimiter tag">}</span></span>)</span> <span class="token comment"># =&gt; [&quot;\#{var}&quot;]</span>
<span class="token string">%W(<span class="token interpolation"><span class="token delimiter tag">#{</span>var<span class="token delimiter tag">}</span></span>)</span> <span class="token comment"># =&gt; [&quot;hello&quot;]</span>

</code></pre></div><p>Multiple words can be interpreted by escaping the space with a .</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token string">%w(Colorado California New\ York)</span> <span class="token comment"># =&gt; [&quot;Colorado&quot;, &quot;California&quot;, &quot;New York&quot;]</span>

</code></pre></div><h2 id="create-array-with-array-new"><a href="#create-array-with-array-new" class="header-anchor">#</a> Create Array with Array::new</h2> <p>An empty Array (<code>[]</code>) can be created with Array's class method, <code>Array::new</code>:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span>    

</code></pre></div><p>To set the length of the array, pass a numerical argument:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token number">3</span> <span class="token comment">#=&gt; [nil, nil, nil]</span>

</code></pre></div><p>There are two ways to populate an array with default values:</p> <ul><li>Pass an immutable value as second argument.</li> <li>Pass a block that gets current index and generates mutable values.</li></ul> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token symbol">:x</span> <span class="token comment">#=&gt; [:x, :x, :x]</span>

<span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">|</span>i<span class="token operator">|</span> i<span class="token punctuation">.</span>to_s <span class="token punctuation">}</span> <span class="token comment">#=&gt; [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;]</span>

a <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;X&quot;</span>            <span class="token comment"># Not recommended.</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>replace <span class="token string">&quot;C&quot;</span>                <span class="token comment"># a =&gt; [&quot;C&quot;, &quot;C&quot;, &quot;C&quot;]</span>

b <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string">&quot;X&quot;</span> <span class="token punctuation">}</span>        <span class="token comment"># The recommended way.</span>
b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>replace <span class="token string">&quot;C&quot;</span>                <span class="token comment"># b =&gt; [&quot;X&quot;, &quot;C&quot;, &quot;X&quot;]</span>

</code></pre></div><h2 id="create-array-of-symbols"><a href="#create-array-of-symbols" class="header-anchor">#</a> Create Array of Symbols</h2> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token string">%i(one two three four)</span>

</code></pre></div><p>Creates the array <code>[:one, :two, :three, :four]</code>.</p> <p>Instead of <code>%i(...)</code>, you may use <code>%i{...}</code> or <code>%i[...]</code> or <code>%i!...!</code></p> <p>Additionally, if you want to use interpolation, you can do this with <code>%I</code>.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a <span class="token operator">=</span> <span class="token string">'hello'</span>
b <span class="token operator">=</span> <span class="token string">'goodbye'</span>
array_one <span class="token operator">=</span> <span class="token string">%I(<span class="token interpolation"><span class="token delimiter tag">#{</span>a<span class="token delimiter tag">}</span></span> <span class="token interpolation"><span class="token delimiter tag">#{</span>b<span class="token delimiter tag">}</span></span> world)</span>
array_two <span class="token operator">=</span> <span class="token string">%i(<span class="token interpolation"><span class="token delimiter tag">#{</span>a<span class="token delimiter tag">}</span></span> <span class="token interpolation"><span class="token delimiter tag">#{</span>b<span class="token delimiter tag">}</span></span> world)</span>

</code></pre></div><p>Creates the arrays:
<code>array_one = [:hello, :goodbye, :world]</code> and <code>array_two = [:&quot;\#{a}&quot;, :&quot;\#{b}&quot;, :world]</code></p> <h2 id="manipulating-array-elements"><a href="#manipulating-array-elements" class="header-anchor">#</a> Manipulating Array Elements</h2> <p>Adding elements:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">4</span>
<span class="token comment"># =&gt; [1, 2, 3, 4]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>push<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment"># =&gt; [1, 2, 3, 4]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unshift<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment"># =&gt; [4, 1, 2, 3]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment"># =&gt; [1, 2, 3, [4, 5]]</span>

</code></pre></div><p>Removing elements:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span>pop
<span class="token comment"># =&gt; 4</span>
array
<span class="token comment"># =&gt; [1, 2, 3]</span>

array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span>shift
<span class="token comment"># =&gt; 1</span>
array
<span class="token comment"># =&gt; [2, 3, 4]</span>

array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># =&gt; 1</span>
array
<span class="token comment"># =&gt; [2, 3, 4]</span>

array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span>delete_at<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span><span class="token operator">/</span> delete from index <span class="token number">2</span>
<span class="token comment"># =&gt; 3  </span>
array 
<span class="token comment"># =&gt; [1,2,4,5,6] </span>


array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
array <span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment"># =&gt; [1, 3]    # removed all the 2s</span>
array <span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token comment"># =&gt; [1]       # the 4 did nothing</span>

</code></pre></div><p>Combining arrays:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token comment"># =&gt; [1, 2, 3, 4, 5, 6]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># =&gt; [1, 2, 3, 4, 5, 6]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment"># =&gt; [1, 4, 5, 6]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token comment"># =&gt; [1, 2, 3, 4]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token comment"># =&gt; [3]</span>

</code></pre></div><p>You can also multiply arrays, e.g.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span>
<span class="token comment"># =&gt; [1, 2, 3, 1, 2, 3]</span>

</code></pre></div><h2 id="creating-an-array-with-the-literal-constructor"><a href="#creating-an-array-with-the-literal-constructor" class="header-anchor">#</a> Creating an Array with the literal constructor [ ]</h2> <p>Arrays can be created by enclosing a list of elements in square brackets (<code>[</code> and <code>]</code>). Array elements in this notation are separated with commas:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

</code></pre></div><p>Arrays can contain any kind of objects in any combination with no restrictions on type:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

</code></pre></div><h2 id="accessing-elements"><a href="#accessing-elements" class="header-anchor">#</a> Accessing elements</h2> <p>You can access the elements of an array by their indices.
Array index numbering starts at <code>0</code>.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token string">%w(a b c)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; 'a'</span>
<span class="token string">%w(a b c)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; 'b'</span>

</code></pre></div><p>You can crop an array using range</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token string">%w(a b c d)</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.2</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; ['b', 'c'] (indices from 1 to 2, including the 2)</span>
<span class="token string">%w(a b c d)</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token punctuation">.</span><span class="token number">.2</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; ['b'] (indices from 1 to 2, excluding the 2)</span>

</code></pre></div><p>This returns a new array, but doesn't affect the original.
Ruby also supports the use of negative indices.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token string">%w(a b c)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; 'c'</span>
<span class="token string">%w(a b c)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; 'b'</span>

</code></pre></div><p>You can combine negative and positive indices as well</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token string">%w(a b c d e)</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; ['b', 'c', 'd']</span>

</code></pre></div><p><strong>Other useful methods</strong></p> <p>Use <code>first</code> to access the first element in an array:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token comment"># =&gt; 1</span>

</code></pre></div><p>Or <code>first(n)</code> to access the first <code>n</code> elements returned in an array:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; [1, 2]</span>

</code></pre></div><p>Similarly for <code>last</code> and <code>last(n)</code>:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>last    <span class="token comment"># =&gt; 4</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>last<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; [3, 4]</span>

</code></pre></div><p>Use <code>sample</code> to access a random element in a array:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sample  <span class="token comment"># =&gt; 3</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sample  <span class="token comment"># =&gt; 1</span>

</code></pre></div><p>Or <code>sample(n)</code>:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; [2, 1]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; [3, 4]</span>

</code></pre></div><h2 id="arrays-union-intersection-and-difference"><a href="#arrays-union-intersection-and-difference" class="header-anchor">#</a> Arrays union, intersection and difference</h2> <div class="language-ruby extra-class"><pre class="language-ruby"><code>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

</code></pre></div><p>Union (<code>|</code>) contains elements from both arrays, with duplicates removed:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>x <span class="token operator">|</span> y
<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

</code></pre></div><p>Intersection (<code>&amp;</code>) contains elements which are present both in first and second array:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>x <span class="token operator">&amp;</span> y
<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

</code></pre></div><p>Difference (<code>-</code>) contains elements which are present in first array and not present in second array:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>x <span class="token operator">-</span> y
<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

</code></pre></div><h2 id="decomposition"><a href="#decomposition" class="header-anchor">#</a> Decomposition</h2> <p>Any array can be quickly <strong>decomposed</strong> by assigning its elements into multiple variables. A simple example:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment"># ---</span>
a <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
b <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
c <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment"># --- or, the same</span>
a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> arr

</code></pre></div><p>Preceding a variable with the <strong>splat</strong> operator (<code>*</code>) puts into it an array of all the elements that haven't been captured by other variables. If none are left, empty array is assigned. Only one splat can be used in a single assignment:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a<span class="token punctuation">,</span> <span class="token operator">*</span>b <span class="token operator">=</span> arr       <span class="token comment"># a = 1; b = [2, 3]</span>
a<span class="token punctuation">,</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> c <span class="token operator">=</span> arr    <span class="token comment"># a = 1; b = [2]; c = 3</span>
a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token operator">*</span>d <span class="token operator">=</span> arr <span class="token comment"># a = 1; b = 2; c = 3; d = []</span>
a<span class="token punctuation">,</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> <span class="token operator">*</span>c <span class="token operator">=</span> arr   <span class="token comment"># SyntaxError: unexpected *</span>

</code></pre></div><p>Decomposition is <strong>safe</strong> and never raises errors. <code>nil</code>s are assigned where there's not enough elements, matching the behavior of <code>[]</code> operator when accessing an index out of bounds:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>arr<span class="token punctuation">[</span><span class="token number">9000</span><span class="token punctuation">]</span> <span class="token comment"># =&gt; nil</span>
a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d <span class="token operator">=</span> arr <span class="token comment"># a = 1; b = 2; c = 3; d = nil</span>

</code></pre></div><p>Decomposition tries to call <code>to_ary</code> implicitly on the object being assigned. By implementing this method in your type you get the ability to decompose it:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">to_ary</span></span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token constant">Foo</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token comment"># a = 1; b = 2</span>

</code></pre></div><p>If the object being decomposed doesn't <code>respond_to?</code> <code>to_ary</code>, it's treated as a single-element array:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token number">1.</span>respond_to<span class="token operator">?</span><span class="token punctuation">(</span><span class="token symbol">:to_ary</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; false</span>
a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment"># a = 1; b = nil</span>

</code></pre></div><p>Decomposition can also be <strong>nested</strong> by using a <code>()</code>-delimited decomposition expression in place of what otherwise would be a single element:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
a<span class="token punctuation">,</span> <span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token operator">*</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>d <span class="token operator">=</span> arr <span class="token comment"># a = 1; b = 2; c = [3, 4]; d = [5, 6]</span>
<span class="token comment">#   ^^^^^</span>

</code></pre></div><p>This is effectively the opposite of <strong>splat</strong>.</p> <p>Actually, any decomposition expression can be delimited by <code>()</code>. But for the first level decomposition is optional.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># the same thing</span>

</code></pre></div><p><strong>Edge case:</strong> <strong>a single identifier</strong> cannot be used as a destructuring pattern, be it outer or a nested one:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># SyntaxError</span>
a<span class="token punctuation">,</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment"># SyntaxError</span>

</code></pre></div><p>When assigning <strong>an array literal</strong> to a destructuring expression, outer <code>[]</code> can be omitted:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
a<span class="token punctuation">,</span> b <span class="token operator">=</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>  <span class="token comment"># exactly the same</span>

</code></pre></div><p>This is known as <strong>parallel assignment</strong>, but it uses the same decomposition under the hood. This is particularly handy for exchanging variables' values without employing additional temporary variables:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>t <span class="token operator">=</span> a<span class="token punctuation">;</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span> b <span class="token operator">=</span> t <span class="token comment"># an obvious way</span>
a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a         <span class="token comment"># an idiomatic way</span>
<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span>     <span class="token comment"># ...and how it works</span>

</code></pre></div><p>Values are captured when building the right-hand side of the assignment, so using the same variables as source and destination is relatively safe.</p> <h2 id="map"><a href="#map" class="header-anchor">#</a> #map</h2> <p><code>#map</code>, provided by Enumerable, creates an array by invoking a block on each element and collecting the results:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>map <span class="token punctuation">{</span> <span class="token operator">|</span>i<span class="token operator">|</span> i <span class="token operator">*</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token comment"># =&gt; [3, 6, 9]</span>

<span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>map <span class="token punctuation">{</span> <span class="token operator">|</span>i<span class="token operator">|</span> i<span class="token punctuation">.</span>to_i <span class="token punctuation">}</span>
<span class="token comment"># =&gt; [1, 2, 3, 4, 5]</span>

</code></pre></div><p>The original array is not modified; a new array is returned containing the transformed values in the same order as the source values. <code>map!</code> can be used if you want to modify the original array.</p> <p>In <code>map</code> method you can call method or use proc to all elements in array.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># call to_i method on all elements</span>
<span class="token string">%w(1 2 3 4 5 6 7 8 9 10)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token symbol">:to_i</span><span class="token punctuation">)</span>
<span class="token comment"># =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>

<span class="token comment"># using proc (lambda) on all elements</span>
<span class="token string">%w(1 2 3 4 5 6 7 8 9 10)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> i<span class="token punctuation">.</span>to_i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment"># =&gt; [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]</span>

</code></pre></div><p><code>map</code> is synonymous with <code>collect</code>.</p> <h2 id="filtering-arrays"><a href="#filtering-arrays" class="header-anchor">#</a> Filtering arrays</h2> <p>Often we want to operate only on elements of an array that fulfill a specific condition:</p> <h3 id="select"><a href="#select" class="header-anchor">#</a> <a href="http://www.rubydoc.info/stdlib/core/Array%3Aselect" target="_blank" rel="noopener noreferrer">Select<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Will return elements that match a specific condition</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span>select <span class="token punctuation">{</span> <span class="token operator">|</span>number<span class="token operator">|</span> number <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token comment"># =&gt; [4, 5, 6]</span>

</code></pre></div><h3 id="reject"><a href="#reject" class="header-anchor">#</a> <a href="http://www.rubydoc.info/stdlib/core/Array%3Areject" target="_blank" rel="noopener noreferrer">Reject<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>Will return elements that do not match a specific condition</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span>reject <span class="token punctuation">{</span> <span class="token operator">|</span>number<span class="token operator">|</span> number <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token comment"># =&gt; [1, 2, 3]</span>

</code></pre></div><p>Both <code>#select</code> and <code>#reject</code> return an array, so they can be chained:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
array<span class="token punctuation">.</span>select <span class="token punctuation">{</span> <span class="token operator">|</span>number<span class="token operator">|</span> number <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">.</span>reject <span class="token punctuation">{</span> <span class="token operator">|</span>number<span class="token operator">|</span> number <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token punctuation">}</span>
  <span class="token comment"># =&gt; [5, 6]</span>

</code></pre></div><h2 id="inject-reduce"><a href="#inject-reduce" class="header-anchor">#</a> Inject, reduce</h2> <p>Inject and reduce are different names for the same thing. In other languages these functions are often called folds (like foldl or foldr). These methods are available on every Enumerable object.</p> <p>Inject takes a two argument function and applies that to all of the pairs of elements in the Array.</p> <p>For the array <code>[1, 2, 3]</code> we can add all of these together with the starting value of zero by specifying a starting value and block like so:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">|</span>a<span class="token punctuation">,</span>b<span class="token operator">|</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span> <span class="token comment"># =&gt; 6</span>

</code></pre></div><p>Here we pass the function a starting value and a block that says to add all of the values together. The block is first run with <code>0</code> as <code>a</code> and <code>1</code> as <code>b</code> it then takes the result of that as the next <code>a</code> so we are then adding <code>1</code> to the second value <code>2</code>. Then we take the result of that (<code>3</code>) and add that on to the final element in the list (also <code>3</code>) giving us our result (<code>6</code>).</p> <p>If we omit the first argument, it will set <code>a</code> to being the first element in the list, so the example above is the same as:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>reduce <span class="token punctuation">{</span><span class="token operator">|</span>a<span class="token punctuation">,</span>b<span class="token operator">|</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span> <span class="token comment"># =&gt; 6</span>

</code></pre></div><p>In addition, instead of passing a block with a function, we can pass a named function as a symbol, either with a starting value, or without. With this, the above example could be written as:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; 6</span>

</code></pre></div><p>or omitting the starting value:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; 6</span>

</code></pre></div><h2 id="two-dimensional-array"><a href="#two-dimensional-array" class="header-anchor">#</a> Two-dimensional array</h2> <p>Using the <a href="http://stackoverflow.com/documentation/ruby/253/arrays/908/create-array-with-arraynew#t=201701151514516164965" target="_blank" rel="noopener noreferrer"><code>Array::new</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> constructor, your can initialize an array with a given size and a new array in each of its slots. The inner arrays can also be given a size and and initial value.</p> <p>For instance, to create a 3x4 array of zeros:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>

</code></pre></div><p>The array generated above looks like this when printed with <code>p</code>:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

</code></pre></div><p>You can read or write to elements like this:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>x <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>

</code></pre></div><h2 id="arrays-and-the-splat-operator"><a href="#arrays-and-the-splat-operator" class="header-anchor">#</a> Arrays and the splat (*) operator</h2> <p>The <code>*</code> operator can be used to unpack variables and arrays so that they can be passed as individual arguments to a method.</p> <p>This can be used to wrap a single object in an Array if it is not already:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">wrap_in_array</span></span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token operator">*</span>value<span class="token punctuation">]</span>
<span class="token keyword">end</span>

wrap_in_array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">#&gt; [1]</span>

wrap_in_array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#&gt; [1, 2, 3]</span>

wrap_in_array<span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span>
<span class="token comment">#&gt; []</span>

</code></pre></div><p>In the above example, the <code>wrap_in_array</code> method accepts one argument, <code>value</code>.</p> <p>If <code>value</code> is an <code>Array</code>, its elements are unpacked and a new array is created containing those element.</p> <p>If <code>value</code> is a single object, a new array is created containing that single object.</p> <p>If <code>value</code> is <code>nil</code>, an empty array is returned.</p> <p>The splat operator is particularly handy when used as an argument in methods in some cases. For example, it allows <code>nil</code>, single values and arrays to be handled in a consistent manner:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">list</span></span><span class="token punctuation">(</span><span class="token operator">*</span>values<span class="token punctuation">)</span>
  values<span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>value<span class="token operator">|</span>
    <span class="token comment"># do something with value</span>
    puts value
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

list<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment">#&gt; 100</span>

list<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#&gt; 100</span>
<span class="token comment">#&gt; 200</span>

list<span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span>
<span class="token comment"># nothing is outputted</span>

</code></pre></div><h2 id="turn-multi-dimensional-array-into-a-one-dimensional-flattened-array"><a href="#turn-multi-dimensional-array-into-a-one-dimensional-flattened-array" class="header-anchor">#</a> Turn multi-dimensional array into a one-dimensional (flattened) array</h2> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span>flatten  <span class="token comment"># =&gt; [1, 2, 3, 4, 5, 6]</span>

</code></pre></div><p>If you have a multi-dimensional array and you need to make it a <strong>simple</strong> (i.e. one-dimensional) array, you can use the <strong><code>#flatten</code></strong> method.</p> <h2 id="get-unique-array-elements"><a href="#get-unique-array-elements" class="header-anchor">#</a> Get unique array elements</h2> <p>In case you need to read an array elements <strong><strong>avoiding repetitions</strong></strong> you case use the <strong><code>#uniq</code></strong> method:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>uniq
<span class="token comment">#=&gt; [1, 2, 3, 4, 5]</span>

</code></pre></div><p>Instead, if you want to remove all duplicated elements from an array, you may use <strong><code>#uniq!</code></strong> method:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>uniq<span class="token operator">!</span>
<span class="token comment">#=&gt; [1, 2, 3, 4, 5]</span>

</code></pre></div><p>While the output is the same, <strong><code>#uniq!</code></strong> also stores the new array:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>uniq
<span class="token comment">#=&gt; [1, 2, 3, 4, 5]</span>
a
<span class="token comment">#=&gt; [1, 1, 2, 3, 4, 4, 5]</span>

a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>uniq<span class="token operator">!</span>
<span class="token comment">#=&gt; [1, 2, 3, 4, 5]</span>
a
<span class="token comment">#=&gt; [1, 2, 3, 4, 5]</span>

</code></pre></div><h2 id="get-all-combinations-permutations-of-an-array"><a href="#get-all-combinations-permutations-of-an-array" class="header-anchor">#</a> Get all combinations / permutations of an array</h2> <p>The <code>permutation</code> method, when called with a block yields a two dimensional array consisting of all ordered sequences of a collection of numbers.</p> <p>If this method is called without a block, it will return an <code>enumerator</code>. To convert to an array, call the <code>to_a</code> method.</p> <table><thead><tr><th>Example</th> <th>Result</th></tr></thead> <tbody><tr><td><code>[1,2,3].permutation</code></td> <td><code>#&lt;Enumerator: [1,2,3]:permutation</code></td></tr> <tr><td><code>[1,2,3].permutation.to_a</code></td> <td><code>[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</code></td></tr> <tr><td><code>[1,2,3].permutation(2).to_a</code></td> <td><code>[[1,2],[1,3],[2,1],[2,3],[3,1],[3,2]]</code></td></tr> <tr><td><code>[1,2,3].permutation(4).to_a</code></td> <td><code>[]</code> -&gt; No permutations of length 4</td></tr></tbody></table> <p>The <code>combination</code> method on the other hand, when called with a block yields a two-dimensional array consisting of all sequences of a collection of numbers. Unlike permutation, order is disregarded in combinations. For example, <code>[1,2,3]</code> is the same as <code>[3,2,1]</code></p> <table><thead><tr><th>Example</th> <th>Result</th></tr></thead> <tbody><tr><td><code>[1,2,3].combination(1)</code></td> <td><code>#&lt;Enumerator: [1,2,3]:combination</code></td></tr> <tr><td><code>[1,2,3].combination(1).to_a</code></td> <td><code>[[1],[2],[3]]</code></td></tr> <tr><td><code>[1,2,3].combination(3).to_a</code></td> <td><code>[[1,2,3]]</code></td></tr> <tr><td><code>[1,2,3].combination(4).to_a</code></td> <td><code>[]</code> -&gt; No combinations of length 4</td></tr></tbody></table> <p>Calling the combination method by itself will result in an enumerator. To get an array, call the <code>to_a</code> method.</p> <p>The <code>repeated_combination</code> and <code>repeated_permutation</code> methods are similar, except the same element can be repeated multiple times.</p> <p>For example the sequences <code>[1,1]</code>, <code>[1,3,3,1]</code>, <code>[3,3,3]</code> would not be valid in regular combinations and permutations.</p> <table><thead><tr><th>Example</th> <th># Combos</th></tr></thead> <tbody><tr><td><code>[1,2,3].combination(3).to_a.length</code></td> <td>1</td></tr> <tr><td><code>[1,2,3].repeated_combination(3).to_a.length</code></td> <td>6</td></tr> <tr><td><code>[1,2,3,4,5].combination(5).to_a.length</code></td> <td>1</td></tr> <tr><td><code>[1,2,3].repeated_combination(5).to_a.length</code></td> <td>126</td></tr></tbody></table> <h2 id="remove-all-nil-elements-from-an-array-with-compact"><a href="#remove-all-nil-elements-from-an-array-with-compact" class="header-anchor">#</a> Remove all nil elements from an array with #compact</h2> <p>If an array happens to have one or more <code>nil</code> elements and these need to be removed, the <code>Array#compact</code> or <code>Array#compact!</code> methods can be used, as below.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>

array<span class="token punctuation">.</span>compact <span class="token comment"># =&gt; [ 1, 'hello', '5', 33]</span>

<span class="token comment">#notice that the method returns a new copy of the array with nil removed,</span>
<span class="token comment">#without affecting the original</span>

array <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>

<span class="token comment">#If you need the original array modified, you can either reassign it</span>

array <span class="token operator">=</span> array<span class="token punctuation">.</span>compact <span class="token comment"># =&gt; [ 1, 'hello', '5', 33]</span>

array <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>

<span class="token comment">#Or you can use the much more elegant 'bang' version of the method</span>

array <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>

array<span class="token punctuation">.</span>compact <span class="token comment"># =&gt; [ 1, 'hello', '5', 33]</span>

array <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>

</code></pre></div><p>Finally, notice that if <code>#compact</code> or <code>#compact!</code> are called on an array with no <code>nil</code> elements, these will return nil.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>array <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'life'</span><span class="token punctuation">]</span>

array<span class="token punctuation">.</span>compact <span class="token comment"># =&gt; nil</span>

array<span class="token punctuation">.</span>compact<span class="token operator">!</span> <span class="token comment"># =&gt; nil</span>

</code></pre></div><h2 id="create-an-array-of-consecutive-numbers-or-letters"><a href="#create-an-array-of-consecutive-numbers-or-letters" class="header-anchor">#</a> Create an Array of consecutive numbers or letters</h2> <p>This can be easily accomplished by calling <a href="http://ruby-doc.org/core-2.3.1/Enumerable.html#method-i-to_a" target="_blank" rel="noopener noreferrer"><code>Enumerable#to_a</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on a <code>Range</code> object:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">(</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_a    <span class="token comment">#=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>

</code></pre></div><p><code>(a..b)</code> means that it will include all numbers between a and b. To exclude the last number, use <code>a...b</code></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>a_range <span class="token operator">=</span> <span class="token number">1.</span><span class="token punctuation">.</span><span class="token number">.5</span>
a_range<span class="token punctuation">.</span>to_a       <span class="token comment">#=&gt; [1, 2, 3, 4]</span>

</code></pre></div><p>or</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_a    <span class="token comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span>
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_a   <span class="token comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span>

</code></pre></div><p>A convenient shortcut for creating an array is <code>[*a..b]</code></p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token punctuation">[</span><span class="token operator">*</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">]</span>           <span class="token comment">#=&gt; [1,2,3,4,5,6,7,8,9,10]</span>
<span class="token punctuation">[</span><span class="token operator">*</span><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token string">'f'</span><span class="token punctuation">]</span>        <span class="token comment">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span>

</code></pre></div><h2 id="create-array-of-numbers"><a href="#create-array-of-numbers" class="header-anchor">#</a> Create Array of numbers</h2> <p>The normal way to create an array of numbers:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

</code></pre></div><p>Range objects can be used extensively to create an array of numbers:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>numbers <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>

numbers <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_a <span class="token comment"># =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>

</code></pre></div><p><code>#step</code> and <code>#map</code> methods allow us to impose conditions on the range of numbers:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>odd_numbers <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_a <span class="token comment"># =&gt; [1, 3, 5, 7, 9]</span>

even_numbers <span class="token operator">=</span> <span class="token number">2.</span>step<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_a <span class="token comment"># =&gt; [2, 4, 6, 8, 10]</span>

squared_numbers <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map <span class="token punctuation">{</span> <span class="token operator">|</span>number<span class="token operator">|</span> number <span class="token operator">*</span> number <span class="token punctuation">}</span> <span class="token comment"># =&gt; [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span>

</code></pre></div><p>All the above methods load the numbers eagerly. If you have to load them lazily:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code>number_generator <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1.</span><span class="token number">.100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lazy <span class="token comment"># =&gt; #&lt;Enumerator::Lazy: 1..100&gt;</span>

number_generator<span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment"># =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>

</code></pre></div><h2 id="cast-to-array-from-any-object"><a href="#cast-to-array-from-any-object" class="header-anchor">#</a> Cast to Array from any object</h2> <p>To get Array from any object, use <code>Kernel#Array</code>.</p> <p>The following is an example:</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string">'something'</span><span class="token punctuation">)</span> <span class="token comment">#=&gt; [&quot;something&quot;]</span>
<span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#=&gt; [2, 1, 5]</span>
<span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>           <span class="token comment">#=&gt; [1]</span>
<span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token number">2.</span><span class="token number">.4</span><span class="token punctuation">)</span>        <span class="token comment">#=&gt; [2, 3, 4]</span>
<span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>          <span class="token comment">#=&gt; []</span>
<span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span>         <span class="token comment">#=&gt; []</span>

</code></pre></div><p>For example, you could replace <code>join_as_string</code> method from the following code</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">join_as_string</span></span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token keyword">if</span> arg<span class="token punctuation">.</span>instance_of<span class="token operator">?</span><span class="token punctuation">(</span><span class="token builtin">Array</span><span class="token punctuation">)</span>
    arg<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
  <span class="token keyword">elsif</span> arg<span class="token punctuation">.</span>instance_of<span class="token operator">?</span><span class="token punctuation">(</span><span class="token builtin">Range</span><span class="token punctuation">)</span>
    arg<span class="token punctuation">.</span>to_a<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span>
    arg<span class="token punctuation">.</span>to_s
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

join_as_string<span class="token punctuation">(</span><span class="token string">'something'</span><span class="token punctuation">)</span> <span class="token comment">#=&gt; &quot;something&quot;</span>
join_as_string<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#=&gt; &quot;2,1,5&quot;</span>
join_as_string<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>           <span class="token comment">#=&gt; &quot;1&quot;</span>
join_as_string<span class="token punctuation">(</span><span class="token number">2.</span><span class="token number">.4</span><span class="token punctuation">)</span>        <span class="token comment">#=&gt; &quot;2,3,4&quot;</span>
join_as_string<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>          <span class="token comment">#=&gt; &quot;&quot;</span>
join_as_string<span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span>         <span class="token comment">#=&gt; &quot;&quot;</span>

</code></pre></div><p>to the following code.</p> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">join_as_string</span></span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token builtin">Array</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre></div><h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <ul><li>a = [] # using array literal</li> <li>a = Array.new # equivalent to using literal</li> <li>a = Array.new(5) # create an array with 5 elements with value of nil.</li> <li>a = Array.new(5, 0) # create an array with 5 elements with default value of 0.</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/ruby/arrays.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ruby/comments.html" class="prev">
        Comments
      </a></span> <span class="next"><a href="/ruby/multidimensional-arrays.html">
        Multidimensional Arrays
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/3051.ad32e0ba.js" defer></script>
  </body>
</html>
