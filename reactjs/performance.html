<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ReactJS - Performance</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Performance measurement with ReactJS, React's diff algorithm, The Basics - HTML DOM vs Virtual DOM, Tips & Tricks">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="ReactJS - Performance">
    <meta property="og:description" content="Performance measurement with ReactJS, React's diff algorithm, The Basics - HTML DOM vs Virtual DOM, Tips & Tricks">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/reactjs/performance.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="ReactJS - Performance">
    <meta name="twitter:description" content="Performance measurement with ReactJS, React's diff algorithm, The Basics - HTML DOM vs Virtual DOM, Tips & Tricks">
    <meta name="twitter:url" content="/reactjs/performance.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/2997.1d223612.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ReactJS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reactjs/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/reactjs/getting-started-with-react.html" class="sidebar-link">Getting started with React</a></li><li><a href="/reactjs/components.html" class="sidebar-link">Components</a></li><li><a href="/reactjs/using-reactjs-with-typescript.html" class="sidebar-link">Using ReactJS with Typescript</a></li><li><a href="/reactjs/state-in-react.html" class="sidebar-link">State in React</a></li><li><a href="/reactjs/props-in-react.html" class="sidebar-link">Props in React</a></li><li><a href="/reactjs/react-component-lifecycle.html" class="sidebar-link">React Component Lifecycle</a></li><li><a href="/reactjs/forms-and-user-input.html" class="sidebar-link">Forms and User Input</a></li><li><a href="/reactjs/react-boilerplate-react-babel-webpack.html" class="sidebar-link">React Boilerplate [React + Babel + Webpack]</a></li><li><a href="/reactjs/using-reactjs-with-jquery.html" class="sidebar-link">Using ReactJS with jQuery</a></li><li><a href="/reactjs/react-routing.html" class="sidebar-link">React Routing</a></li><li><a href="/reactjs/communicate-between-components.html" class="sidebar-link">Communicate Between Components</a></li><li><a href="/reactjs/how-to-setup-a-basic-webpack-react-and-babel-environment.html" class="sidebar-link">How to setup a basic webpack, react and babel environment</a></li><li><a href="/reactjs/react-createclass-vs-extends-react-component.html" class="sidebar-link">React.createClass vs extends React.Component</a></li><li><a href="/reactjs/react-ajax-call.html" class="sidebar-link">React AJAX call</a></li><li><a href="/reactjs/communication-between-components.html" class="sidebar-link">Communication Between Components</a></li><li><a href="/reactjs/stateless-functional-components.html" class="sidebar-link">Stateless Functional Components</a></li><li><a href="/reactjs/performance.html" aria-current="page" class="active sidebar-link">Performance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reactjs/performance.html#performance-measurement-with-reactjs" class="sidebar-link">Performance measurement with ReactJS</a></li><li class="sidebar-sub-header"><a href="/reactjs/performance.html#react-s-diff-algorithm" class="sidebar-link">React's diff algorithm</a></li><li class="sidebar-sub-header"><a href="/reactjs/performance.html#the-basics-html-dom-vs-virtual-dom" class="sidebar-link">The Basics - HTML DOM vs Virtual DOM</a></li><li class="sidebar-sub-header"><a href="/reactjs/performance.html#tips-tricks" class="sidebar-link">Tips &amp; Tricks</a></li></ul></li><li><a href="/reactjs/introduction-to-server-side-rendering.html" class="sidebar-link">Introduction to Server-Side Rendering</a></li><li><a href="/reactjs/setting-up-react-environment.html" class="sidebar-link">Setting Up React Environment</a></li><li><a href="/reactjs/using-react-with-flow.html" class="sidebar-link">Using React with Flow</a></li><li><a href="/reactjs/jsx.html" class="sidebar-link">JSX</a></li><li><a href="/reactjs/react-forms.html" class="sidebar-link">React Forms</a></li><li><a href="/reactjs/user-interface-solutions.html" class="sidebar-link">User interface solutions</a></li><li><a href="/reactjs/using-reactjs-in-flux-way.html" class="sidebar-link">Using ReactJS in Flux way</a></li><li><a href="/reactjs/react-webpack-typescript-installation.html" class="sidebar-link">React, Webpack &amp; Typescript installation</a></li><li><a href="/reactjs/how-and-why-to-use-keys-in-react.html" class="sidebar-link">How and why to use keys in React</a></li><li><a href="/reactjs/keys-in-react.html" class="sidebar-link">Keys in react</a></li><li><a href="/reactjs/higher-order-components.html" class="sidebar-link">Higher Order Components</a></li><li><a href="/reactjs/react-with-redux.html" class="sidebar-link">React with Redux</a></li><li><a href="/reactjs/installation.html" class="sidebar-link">Installation</a></li><li><a href="/reactjs/react-tools.html" class="sidebar-link">React Tools</a></li><li><a href="/reactjs/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="performance"><a href="#performance" class="header-anchor">#</a> Performance</h1> <h2 id="performance-measurement-with-reactjs"><a href="#performance-measurement-with-reactjs" class="header-anchor">#</a> Performance measurement with ReactJS</h2> <p><strong>You can't improve something you can't measure</strong>. To improve the performance of React components, you should be able to measure it. ReactJS provides with <strong>addon</strong> tools to measure performance. Import the <code>react-addons-perf</code> module to measure the performance</p> <p>You can use below methods from the imported <code>Perf</code> module:</p> <ul><li>Perf.printInclusive()</li> <li>Perf.printExclusive()</li> <li>Perf.printWasted()</li> <li>Perf.printOperations()</li> <li>Perf.printDOM()</li></ul> <p>The most important one which you will need most of the time is <code>Perf.printWasted()</code> which gives you the tabular representation of your individual component's wasted time</p> <p><a href="https://i.stack.imgur.com/rCKLY.png" target="_blank" rel="noopener noreferrer"><img src="https://i.stack.imgur.com/rCKLY.png" alt="enter image description here"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>You can note the <strong>Wasted time</strong> column in the table and improve Component's performance using <strong>Tips &amp; Tricks</strong> section above</p> <p>Refer the <a href="https://facebook.github.io/react/docs/perf.html" target="_blank" rel="noopener noreferrer">React Official Guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and excellent article by <a href="http://benchling.engineering/deep-dive-react-perf-debugging/" target="_blank" rel="noopener noreferrer">Benchling Engg. on React Performance<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="react-s-diff-algorithm"><a href="#react-s-diff-algorithm" class="header-anchor">#</a> React's diff algorithm</h2> <p>Generating the minimum number of operations to transform one tree into another have a complexity in the order of O(n^3) where n is the number of nodes in the tree.
React relies on two assumptions to solve this problem in a linear time - O(n)</p> <li><blockquote>
Two components of the same class will generate similar trees and tw components of different classes will generate different trees.
</blockquote></li> <li><blockquote>
It is possible to provide a unique key for elements that is stable across different renders.
</blockquote></li> <blockquote></blockquote> <p>It is possible to provide a unique key for elements that is stable across different renders.</p> <p>In order to decide if two nodes are different, React differentiates 3 cases</p> <ol><li>Two nodes are different, if they have different types.</li></ol> <ul><li>for example, <code>&lt;div&gt;...&lt;/div&gt;</code> is different from <code>&lt;span&gt;...&lt;/span&gt;</code></li></ul> <ol><li>Whenever two nodes have different keys</li></ol> <ul><li>for example, <code>&lt;div key=&quot;1&quot;&gt;...&lt;/div&gt;</code> is different from <code>&lt;div key=&quot;2&quot;&gt;...&lt;/div&gt;</code></li></ul> <p>Moreover, <strong>what follows is crucial and extremely important to understand</strong> if you want to optimise performance</p> <blockquote></blockquote> <p>If they [two nodes] are not of the same type, React is not going to
even try at matching what they render. It is just going to remove the
first one from the DOM and insert the second one.</p> <p>Here's why</p> <blockquote></blockquote> <p>It is very unlikely that a  element is going to generate a DOM
that is going to look like what a  would generate. Instead of
spending time trying to match those two structures, React just
re-builds the tree from scratch.</p> <h2 id="the-basics-html-dom-vs-virtual-dom"><a href="#the-basics-html-dom-vs-virtual-dom" class="header-anchor">#</a> The Basics - HTML DOM vs Virtual DOM</h2> <p><strong>HTML DOM is Expensive</strong></p> <p>Each web page is represented internally as a tree of objects. This representation is called <strong>Document Object Model</strong>. Moreover, it is a language-neutral interface that allows programming languages (such as JavaScript) to access the HTML elements.</p> <p>In other words</p> <blockquote></blockquote> <p>The HTML DOM is a standard for how to get, change, add, or delete HTML
elements.</p> <p>However, those <strong>DOM operations</strong> are extremely <strong>expensive</strong>.</p> <p><strong>Virtual DOM is a Solution</strong></p> <p>So React's team came up with the idea to abstract the <strong>HTML DOM</strong> and create its own <strong>Virtual DOM</strong> in order to compute the minimum number of operations we need to apply on the <strong>HTML DOM</strong> to replicate current state of our application.</p> <p><strong>The Virtual DOM saves time from unnecessary DOM modifications.</strong></p> <p><strong>How Exactly?</strong></p> <p>At each point of time, React has the application state represented as a <code>Virtual DOM</code>. Whenever application state changes, these are the steps that React performs in order to optimise performance</p> <li>
Generate a new **Virtual DOM** that represents the new state of our application
</li> <li>
Compare the old Virtual DOM (which represents the current HTML DOM) vs the new Virtual DOM
</li> <li>
Based on 2. find the minimum number of operations to transform the old Virtual DOM (which represents the current HTML DOM) into the new Virtual DOM
</li> <ul><li>to learn more about that - read React's Diff Algorithm</li></ul> <ol><li>After those operations are found, they are mapped into their equivalent <strong>HTML DOM</strong> operations</li></ol> <ul><li>remember, the <strong>Virtual DOM</strong> is only an abstraction of the <strong>HTML DOM</strong> and there is a isomorphic relation between them</li></ul> <ol><li>Now the minimum number of operations that have been found and transferred to their equivalent <strong>HTML DOM</strong> operations are now applied directly onto the application's <strong>HTML DOM</strong>, which saves time from modifying the <strong>HTML DOM</strong> unnecessarily.</li></ol> <p>Note:
Operations applied on the Virtual DOM are cheap, because the Virtual DOM is a JavaScript Object.</p> <h2 id="tips-tricks"><a href="#tips-tricks" class="header-anchor">#</a> Tips &amp; Tricks</h2> <p>When two nodes are not of the same type, React doesn't try to match them - it just removes the first node from the DOM and inserts the second one. This is why the first tip says</p> <ol><li><p>If you see yourself alternating between two components classes with very similar output, you may want to make it the same class.</p></li> <li><p>Use shouldComponentUpdate to prevent component from rerender, if you know it is not going to change, for example</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">shouldComponentUpdate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> nextProps<span class="token punctuation">.</span>id <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/reactjs/performance.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/reactjs/stateless-functional-components.html" class="prev">
        Stateless Functional Components
      </a></span> <span class="next"><a href="/reactjs/introduction-to-server-side-rendering.html">
        Introduction to Server-Side Rendering
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/2997.1d223612.js" defer></script>
  </body>
</html>
