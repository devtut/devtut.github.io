<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C - Initialization</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Initialization of Variables in C, Using designated initializers, Initializing structures and arrays of structures">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="C - Initialization">
    <meta property="og:description" content="Initialization of Variables in C, Using designated initializers, Initializing structures and arrays of structures">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/c/initialization.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="C - Initialization">
    <meta name="twitter:description" content="Initialization of Variables in C, Using designated initializers, Initializing structures and arrays of structures">
    <meta name="twitter:url" content="/c/initialization.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/575.0543bccb.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>C</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/c/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/c/getting-started-with-c-language.html" class="sidebar-link">Getting started with C Language</a></li><li><a href="/c/comments.html" class="sidebar-link">Comments</a></li><li><a href="/c/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/c/operators.html" class="sidebar-link">Operators</a></li><li><a href="/c/boolean.html" class="sidebar-link">Boolean</a></li><li><a href="/c/strings.html" class="sidebar-link">Strings</a></li><li><a href="/c/literals-for-numbers-characters-and-strings.html" class="sidebar-link">Literals for numbers, characters and strings</a></li><li><a href="/c/compound-literals.html" class="sidebar-link">Compound Literals</a></li><li><a href="/c/bit-fields.html" class="sidebar-link">Bit-fields</a></li><li><a href="/c/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/c/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/c/enumerations.html" class="sidebar-link">Enumerations</a></li><li><a href="/c/structs.html" class="sidebar-link">Structs</a></li><li><a href="/c/standard-math.html" class="sidebar-link">Standard Math</a></li><li><a href="/c/iteration-statements-loops-for-while-do-while.html" class="sidebar-link">Iteration Statements/Loops: for, while, do-while</a></li><li><a href="/c/selection-statements.html" class="sidebar-link">Selection Statements</a></li><li><a href="/c/initialization.html" aria-current="page" class="active sidebar-link">Initialization</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/c/initialization.html#initialization-of-variables-in-c" class="sidebar-link">Initialization of Variables in C</a></li><li class="sidebar-sub-header"><a href="/c/initialization.html#using-designated-initializers" class="sidebar-link">Using designated initializers</a></li><li class="sidebar-sub-header"><a href="/c/initialization.html#initializing-structures-and-arrays-of-structures" class="sidebar-link">Initializing structures and arrays of structures</a></li></ul></li><li><a href="/c/declaration-vs-definition.html" class="sidebar-link">Declaration vs Definition</a></li><li><a href="/c/files-and-i-o-streams.html" class="sidebar-link">Files and I/O streams</a></li><li><a href="/c/formatted-input-output.html" class="sidebar-link">Formatted Input/Output</a></li><li><a href="/c/pointers.html" class="sidebar-link">Pointers</a></li><li><a href="/c/sequence-points.html" class="sidebar-link">Sequence points</a></li><li><a href="/c/function-pointers.html" class="sidebar-link">Function Pointers</a></li><li><a href="/c/function-parameters.html" class="sidebar-link">Function Parameters</a></li><li><a href="/c/pass-2d-arrays-to-functions.html" class="sidebar-link">Pass 2D-arrays to functions</a></li><li><a href="/c/error-handling.html" class="sidebar-link">Error handling</a></li><li><a href="/c/undefined-behavior.html" class="sidebar-link">Undefined behavior</a></li><li><a href="/c/random-number-generation.html" class="sidebar-link">Random Number Generation</a></li><li><a href="/c/preprocessor-and-macros.html" class="sidebar-link">Preprocessor and Macros</a></li><li><a href="/c/signal-handling.html" class="sidebar-link">Signal handling</a></li><li><a href="/c/variable-arguments.html" class="sidebar-link">Variable arguments</a></li><li><a href="/c/assertion.html" class="sidebar-link">Assertion</a></li><li><a href="/c/generic-selection.html" class="sidebar-link">Generic selection</a></li><li><a href="/c/x-macros.html" class="sidebar-link">X-macros</a></li><li><a href="/c/aliasing-and-effective-type.html" class="sidebar-link">Aliasing and effective type</a></li><li><a href="/c/compilation.html" class="sidebar-link">Compilation</a></li><li><a href="/c/identifier-scope.html" class="sidebar-link">Identifier Scope</a></li><li><a href="/c/common-pitfalls.html" class="sidebar-link">Common pitfalls</a></li><li><a href="/c/implicit-and-explicit-conversions.html" class="sidebar-link">Implicit and Explicit Conversions</a></li><li><a href="/c/type-qualifiers.html" class="sidebar-link">Type Qualifiers</a></li><li><a href="/c/valgrind.html" class="sidebar-link">Valgrind</a></li><li><a href="/c/typedef.html" class="sidebar-link">Typedef</a></li><li><a href="/c/storage-classes.html" class="sidebar-link">Storage Classes</a></li><li><a href="/c/declarations.html" class="sidebar-link">Declarations</a></li><li><a href="/c/inline-assembly.html" class="sidebar-link">Inline assembly</a></li><li><a href="/c/threads-native.html" class="sidebar-link">Threads (native)</a></li><li><a href="/c/structure-padding-and-packing.html" class="sidebar-link">Structure Padding and Packing</a></li><li><a href="/c/memory-management.html" class="sidebar-link">Memory management</a></li><li><a href="/c/implementation-defined-behaviour.html" class="sidebar-link">Implementation-defined behaviour</a></li><li><a href="/c/atomics.html" class="sidebar-link">Atomics</a></li><li><a href="/c/jump-statements.html" class="sidebar-link">Jump Statements</a></li><li><a href="/c/create-and-include-header-files.html" class="sidebar-link">Create and include header files</a></li><li><a href="/c/testing-frameworks.html" class="sidebar-link">Testing frameworks</a></li><li><a href="/c/ctype-h-character-classification-conversion.html" class="sidebar-link">— character classification &amp; conversion</a></li><li><a href="/c/side-effects.html" class="sidebar-link">Side Effects</a></li><li><a href="/c/multi-character-character-sequence.html" class="sidebar-link">Multi-Character Character Sequence</a></li><li><a href="/c/constraints.html" class="sidebar-link">Constraints</a></li><li><a href="/c/inlining.html" class="sidebar-link">Inlining</a></li><li><a href="/c/unions.html" class="sidebar-link">Unions</a></li><li><a href="/c/threads-native.html" class="sidebar-link">Threads (native)</a></li><li><a href="/c/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/c/interprocess-communication-ipc.html" class="sidebar-link">Interprocess Communication (IPC)</a></li><li><a href="/c/testing-frameworks.html" class="sidebar-link">Testing frameworks</a></li><li><a href="/c/valgrind.html" class="sidebar-link">Valgrind</a></li><li><a href="/c/common-c-programming-idioms-and-developer-practices.html" class="sidebar-link">Common C programming idioms and developer practices</a></li><li><a href="/c/common-pitfalls.html" class="sidebar-link">Common pitfalls</a></li><li><a href="/c/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="initialization"><a href="#initialization" class="header-anchor">#</a> Initialization</h1> <h2 id="initialization-of-variables-in-c"><a href="#initialization-of-variables-in-c" class="header-anchor">#</a> Initialization of Variables in C</h2> <p>In the absence of explicit initialization, external and <code>static</code> variables are guaranteed to be initialized to zero; automatic variables (including <code>register</code> variables) have <strong>indeterminate</strong><sup>1</sup> (i.e., garbage) initial values.</p> <p>Scalar variables may be initialized when they are defined by following the name with an equals sign and an expression:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> squota <span class="token operator">=</span> <span class="token string">'\''</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> day <span class="token operator">=</span> <span class="token number">1000L</span> <span class="token operator">*</span> <span class="token number">60L</span> <span class="token operator">*</span> <span class="token number">60L</span> <span class="token operator">*</span> <span class="token number">24L</span><span class="token punctuation">;</span> <span class="token comment">/* milliseconds/day */</span>

</code></pre></div><p>For external and <code>static</code> variables, the initializer must be a <strong>constant expression</strong><sup>2</sup>; the initialization is done once, conceptually before the program begins execution.</p> <p>For automatic and <code>register</code> variables, the initializer is not restricted to being a constant: it may be any expression involving previously defined values, even function calls.</p> <p>For example, see the code snippet below</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">binsearch</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> high <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> mid<span class="token punctuation">;</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

</code></pre></div><p>instead of</p> <div class="language- extra-class"><pre class="language-text"><code>
  int low, high, mid;

   low = 0;
   high = n - 1;

</code></pre></div><p>In effect, initialization of automatic variables are just shorthand for assignment statements. Which form to prefer is largely a matter of taste. We generally use explicit assignments, because initializers in declarations are harder to see and further away from the point of use.  On the other hand, variables should only be declared when they're about to be used whenever possible.</p> <p><strong>Initializing an array:</strong></p> <p>An array may be initialized by following its declaration with a list of initializers enclosed in braces and separated by commas.</p> <p>For example, to initialize an array days with the number of days in each month:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> days_of_month<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span> <span class="token punctuation">}</span>

</code></pre></div><p>(Note that January is encoded as month zero in this structure.)</p> <p>When the size of the array is omitted, the compiler will compute the length by counting the initializers, of which there are 12 in this case.</p> <p>If there are fewer initializers for an array than the specified size, the others will be zero for all types of variables.</p> <p>It is an error to have too many initializers. There is no standard way to specify repetition of an initializer — but GCC has an <a href="https://gcc.gnu.org/onlinedocs/gcc/Designated-Inits.html#Designated-Inits" target="_blank" rel="noopener noreferrer">extension<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to do so.</p> <p>In C89/C90 or earlier versions of C, there was no way to initialize an element in the middle of an array without supplying all the preceding values as well.</p> <p>With C99 and above, <a href="http://stackoverflow.com/documentation/c/4547/initialization/18609/using-designated-initializers#t=201608082105205280272" target="_blank" rel="noopener noreferrer">designated initializers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> allow you to initialize arbitrary elements of an array, leaving any uninitialized values as zeros.</p> <p><strong>Initializing Character arrays:</strong></p> <p>Character arrays are a special case of initialization; a string may be used instead of the braces and commas notation:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">char</span> chr_array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>

</code></pre></div><p>is a shorthand for the longer but equivalent:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">char</span> chr_array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'\0'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>In this case, the array size is six (five characters plus the terminating <code>'\0'</code>).</p> <p><sup>1</sup> <a href="http://stackoverflow.com/questions/1597405/what-happens-to-a-declared-uninitialized-variable-in-c-does-it-have-a-value" target="_blank" rel="noopener noreferrer">What happens to a declared, uninitialized variable in C? Does it have a value?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><sup>2</sup> Note that a <strong>constant expression</strong> is defined as something that can be evaluated at compile-time. So, <code>int global_var = f();</code> is invalid. Another common misconception is thinking of a <code>const</code> qualified variable as a <strong>constant expression</strong>. In C, <code>const</code> means &quot;read-only&quot;, not &quot;compile time constant&quot;. So, global definitions like <code>const int SIZE = 10; int global_arr[SIZE];</code> and <code>const int SIZE = 10; int global_var = SIZE;</code>  are not legal in C.</p> <h2 id="using-designated-initializers"><a href="#using-designated-initializers" class="header-anchor">#</a> Using designated initializers</h2> <p>C99 introduced the concept of <strong>designated initializers.</strong>  These allow you to specify which elements of an array, structure or union are to be initialized by the values following.</p> <h3 id="designated-initializers-for-array-elements"><a href="#designated-initializers-for-array-elements" class="header-anchor">#</a> Designated initializers for array elements</h3> <p>For a simple type like plain <code>int</code>:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">107</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">109</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>The term in square brackets, which can be any constant integer expression, specifies which element of the array is to be initialized by the value of the term after the <code>=</code> sign.  Unspecified elements are default initialized, which means zeros are defined.  The example shows the designated initializers in order; they do not have to be in order.  The example shows gaps; those are legitimate.  The example doesn't show two different initializations for the same element; that too is allowed (ISO/IEC 9899:2011, §6.7.9 Initialization, ¶19 <em>The initialization shall occur in initializer list order, each initializer provided for a
particular subobject overriding any previously listed initializer for the same subobject</em>).</p> <p>In this example, the size of the array is not defined explicitly, so the maximum index specified in the designated initializers dictates the size of the array — which would be 21 elements in the example.  If the size was defined, initializing an entry beyond the end of the array would be an error, as usual.</p> <h3 id="designated-initializers-for-structures"><a href="#designated-initializers-for-structures" class="header-anchor">#</a> Designated initializers for structures</h3> <p>You can specify which elements of a structure are initialized by using the <code>.</code><strong><code>element</code></strong> notation:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">Date</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> year<span class="token punctuation">;</span>
    <span class="token keyword">int</span> month<span class="token punctuation">;</span>
    <span class="token keyword">int</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">Date</span> us_independence_day <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>day <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">1776</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>If elements are not listed, they are default initialized (zeroed).</p> <h3 id="designated-initializer-for-unions"><a href="#designated-initializer-for-unions" class="header-anchor">#</a> Designated initializer for unions</h3> <p>You can specify which element of a union is initialize with a designated initializer.</p> <p>Prior to the C standard, there was no way to initialize a <code>union</code>.  The C89/C90 standard allows you to initialize the first member of a <code>union</code> — so the choice of which member is listed first matters.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">discriminated_union</span>
<span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token punctuation">{</span> DU_INT<span class="token punctuation">,</span> DU_DOUBLE <span class="token punctuation">}</span> discriminant<span class="token punctuation">;</span>
    <span class="token keyword">union</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span>     du_int<span class="token punctuation">;</span>
        <span class="token keyword">double</span>  du_double<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> du<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">discriminated_union</span> du1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>discriminant <span class="token operator">=</span> DU_INT<span class="token punctuation">,</span> <span class="token punctuation">.</span>du <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>du_int <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">discriminated_union</span> du2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>discriminant <span class="token operator">=</span> DU_DOUBLE<span class="token punctuation">,</span> <span class="token punctuation">.</span>du <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>du_double <span class="token operator">=</span> <span class="token number">3.14159</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>Note that C11 allows you to use anonymous union members inside a structure, so that you don't need the <code>du</code> name in the previous example:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">discriminated_union</span>
<span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token punctuation">{</span> DU_INT<span class="token punctuation">,</span> DU_DOUBLE <span class="token punctuation">}</span> discriminant<span class="token punctuation">;</span>
    <span class="token keyword">union</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span>     du_int<span class="token punctuation">;</span>
        <span class="token keyword">double</span>  du_double<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">discriminated_union</span> du1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>discriminant <span class="token operator">=</span> DU_INT<span class="token punctuation">,</span> <span class="token punctuation">.</span>du_int <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">discriminated_union</span> du2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>discriminant <span class="token operator">=</span> DU_DOUBLE<span class="token punctuation">,</span> <span class="token punctuation">.</span>du_double <span class="token operator">=</span> <span class="token number">3.14159</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="designated-initializers-for-arrays-of-structures-etc"><a href="#designated-initializers-for-arrays-of-structures-etc" class="header-anchor">#</a> Designated initializers for arrays of structures, etc</h3> <p>These constructs can be combined for arrays of structures containing elements that are arrays, etc.  Using full sets of braces ensures that the notation is unambiguous.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Date</span> Date<span class="token punctuation">;</span>  <span class="token comment">// See earlier in this example</span>

<span class="token keyword">struct</span> <span class="token class-name">date_range</span>
<span class="token punctuation">{</span>
    Date    dr_from<span class="token punctuation">;</span>
    Date    dr_to<span class="token punctuation">;</span>
    <span class="token keyword">char</span>    dr_what<span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">date_range</span> ranges<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>dr_from <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">1066</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>day <span class="token operator">=</span> <span class="token number">14</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">.</span>dr_to   <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">1066</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>day <span class="token operator">=</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">.</span>dr_what <span class="token operator">=</span> <span class="token string">&quot;Battle of Hastings to Coronation of William the Conqueror&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>dr_from <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>day <span class="token operator">=</span>  <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">1776</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">.</span>dr_to   <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>day <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">1787</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">.</span>dr_what <span class="token operator">=</span> <span class="token string">&quot;US Declaration of Independence to Constitutional Convention&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="specifying-ranges-in-array-initializers"><a href="#specifying-ranges-in-array-initializers" class="header-anchor">#</a> Specifying ranges in array initializers</h3> <p>GCC provides an <a href="https://gcc.gnu.org/onlinedocs/gcc-6.1.0/gcc/Designated-Inits.html#Designated-Inits" target="_blank" rel="noopener noreferrer">extension<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that allows you to specify a range of elements in an array that should be given the same initializer:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">19</span> <span class="token operator">=</span> <span class="token number">107</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>The triple dots need to be separate from the numbers lest one of the dots be interpreted as part of a floating point number (<a href="https://en.wikipedia.org/wiki/Maximal_munch" target="_blank" rel="noopener noreferrer"><strong>maximimal munch</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> rule).</p> <h2 id="initializing-structures-and-arrays-of-structures"><a href="#initializing-structures-and-arrays-of-structures" class="header-anchor">#</a> Initializing structures and arrays of structures</h2> <p>Structures and arrays of structures can be initialized by a series of values enclosed in braces, one value per member of the structure.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">Date</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> year<span class="token punctuation">;</span>
    <span class="token keyword">int</span> month<span class="token punctuation">;</span>
    <span class="token keyword">int</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">Date</span> us_independence_day <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1776</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">Date</span> uk_battles<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">{</span> <span class="token number">1066</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Battle of Hastings</span>
    <span class="token punctuation">{</span> <span class="token number">1815</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Battle of Waterloo</span>
    <span class="token punctuation">{</span> <span class="token number">1805</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">21</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Battle of Trafalgar</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>Note that the array initialization could be written without the interior braces, and in times past (before 1990, say) often would have been written without them:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">Date</span> uk_battles<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span>
<span class="token punctuation">{</span>
    <span class="token number">1066</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span>    <span class="token comment">// Battle of Hastings</span>
    <span class="token number">1815</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span>    <span class="token comment">// Battle of Waterloo</span>
    <span class="token number">1805</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span>    <span class="token comment">// Battle of Trafalgar</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>Although this works, it is not good modern style — you should not attempt to use this notation in new code and should fix the compiler warnings it usually yields.</p> <p>See also <a href="http://stackoverflow.com/documentation/c/4547/initialization/18609/using-designated-initializers#t=201608101048503992706" target="_blank" rel="noopener noreferrer">designated initializers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/c/initialization.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/c/selection-statements.html" class="prev">
        Selection Statements
      </a></span> <span class="next"><a href="/c/declaration-vs-definition.html">
        Declaration vs Definition
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/575.0543bccb.js" defer></script>
  </body>
</html>
