<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C - Formatted Input/Output</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="description" content="Conversion Specifiers for printing, Printing the Value of a Pointer to an Object, Printing the Difference of the Values of two Pointers to an Object, The printf() Function, Printing format flags, Length modifiers">
    <meta property="og:site_name" content="DevTut">
    <meta property="og:title" content="C - Formatted Input/Output">
    <meta property="og:description" content="Conversion Specifiers for printing, Printing the Value of a Pointer to an Object, Printing the Difference of the Values of two Pointers to an Object, The printf() Function, Printing format flags, Length modifiers">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/c/formatted-input-output.html">
    <meta property="og:image" content="/logo.png">
    <meta name="twitter:title" content="C - Formatted Input/Output">
    <meta name="twitter:description" content="Conversion Specifiers for printing, Printing the Value of a Pointer to an Object, Printing the Difference of the Values of two Pointers to an Object, The printf() Function, Printing format flags, Length modifiers">
    <meta name="twitter:url" content="/c/formatted-input-output.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/logo.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="google-site-verification" content="76_rKXgwMVIjd-axJC_1zPV9OS4mEjvtgjYOWVkAdnQ">
    
    <link rel="preload" href="/assets/css/0.styles.60619e34.css" as="style"><link rel="preload" href="/assets/js/app.1779e102.js" as="script"><link rel="preload" href="/assets/js/3.2cfa8016.js" as="script"><link rel="preload" href="/assets/js/567.04bf1bde.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.60619e34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DevTut</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/devtut/generate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>C</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/c/" aria-current="page" class="sidebar-link">Disclaimer</a></li><li><a href="/c/getting-started-with-c-language.html" class="sidebar-link">Getting started with C Language</a></li><li><a href="/c/comments.html" class="sidebar-link">Comments</a></li><li><a href="/c/data-types.html" class="sidebar-link">Data Types</a></li><li><a href="/c/operators.html" class="sidebar-link">Operators</a></li><li><a href="/c/boolean.html" class="sidebar-link">Boolean</a></li><li><a href="/c/strings.html" class="sidebar-link">Strings</a></li><li><a href="/c/literals-for-numbers-characters-and-strings.html" class="sidebar-link">Literals for numbers, characters and strings</a></li><li><a href="/c/compound-literals.html" class="sidebar-link">Compound Literals</a></li><li><a href="/c/bit-fields.html" class="sidebar-link">Bit-fields</a></li><li><a href="/c/arrays.html" class="sidebar-link">Arrays</a></li><li><a href="/c/linked-lists.html" class="sidebar-link">Linked lists</a></li><li><a href="/c/enumerations.html" class="sidebar-link">Enumerations</a></li><li><a href="/c/structs.html" class="sidebar-link">Structs</a></li><li><a href="/c/standard-math.html" class="sidebar-link">Standard Math</a></li><li><a href="/c/iteration-statements-loops-for-while-do-while.html" class="sidebar-link">Iteration Statements/Loops: for, while, do-while</a></li><li><a href="/c/selection-statements.html" class="sidebar-link">Selection Statements</a></li><li><a href="/c/initialization.html" class="sidebar-link">Initialization</a></li><li><a href="/c/declaration-vs-definition.html" class="sidebar-link">Declaration vs Definition</a></li><li><a href="/c/files-and-i-o-streams.html" class="sidebar-link">Files and I/O streams</a></li><li><a href="/c/formatted-input-output.html" aria-current="page" class="active sidebar-link">Formatted Input/Output</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/c/formatted-input-output.html#conversion-specifiers-for-printing" class="sidebar-link">Conversion Specifiers for printing</a></li><li class="sidebar-sub-header"><a href="/c/formatted-input-output.html#printing-the-value-of-a-pointer-to-an-object" class="sidebar-link">Printing the Value of a Pointer to an Object</a></li><li class="sidebar-sub-header"><a href="/c/formatted-input-output.html#printing-the-difference-of-the-values-of-two-pointers-to-an-object" class="sidebar-link">Printing the Difference of the Values of two Pointers to an Object</a></li><li class="sidebar-sub-header"><a href="/c/formatted-input-output.html#the-printf-function" class="sidebar-link">The printf() Function</a></li><li class="sidebar-sub-header"><a href="/c/formatted-input-output.html#printing-format-flags" class="sidebar-link">Printing format flags</a></li><li class="sidebar-sub-header"><a href="/c/formatted-input-output.html#length-modifiers" class="sidebar-link">Length modifiers</a></li></ul></li><li><a href="/c/pointers.html" class="sidebar-link">Pointers</a></li><li><a href="/c/sequence-points.html" class="sidebar-link">Sequence points</a></li><li><a href="/c/function-pointers.html" class="sidebar-link">Function Pointers</a></li><li><a href="/c/function-parameters.html" class="sidebar-link">Function Parameters</a></li><li><a href="/c/pass-2d-arrays-to-functions.html" class="sidebar-link">Pass 2D-arrays to functions</a></li><li><a href="/c/error-handling.html" class="sidebar-link">Error handling</a></li><li><a href="/c/undefined-behavior.html" class="sidebar-link">Undefined behavior</a></li><li><a href="/c/random-number-generation.html" class="sidebar-link">Random Number Generation</a></li><li><a href="/c/preprocessor-and-macros.html" class="sidebar-link">Preprocessor and Macros</a></li><li><a href="/c/signal-handling.html" class="sidebar-link">Signal handling</a></li><li><a href="/c/variable-arguments.html" class="sidebar-link">Variable arguments</a></li><li><a href="/c/assertion.html" class="sidebar-link">Assertion</a></li><li><a href="/c/generic-selection.html" class="sidebar-link">Generic selection</a></li><li><a href="/c/x-macros.html" class="sidebar-link">X-macros</a></li><li><a href="/c/aliasing-and-effective-type.html" class="sidebar-link">Aliasing and effective type</a></li><li><a href="/c/compilation.html" class="sidebar-link">Compilation</a></li><li><a href="/c/identifier-scope.html" class="sidebar-link">Identifier Scope</a></li><li><a href="/c/common-pitfalls.html" class="sidebar-link">Common pitfalls</a></li><li><a href="/c/implicit-and-explicit-conversions.html" class="sidebar-link">Implicit and Explicit Conversions</a></li><li><a href="/c/type-qualifiers.html" class="sidebar-link">Type Qualifiers</a></li><li><a href="/c/valgrind.html" class="sidebar-link">Valgrind</a></li><li><a href="/c/typedef.html" class="sidebar-link">Typedef</a></li><li><a href="/c/storage-classes.html" class="sidebar-link">Storage Classes</a></li><li><a href="/c/declarations.html" class="sidebar-link">Declarations</a></li><li><a href="/c/inline-assembly.html" class="sidebar-link">Inline assembly</a></li><li><a href="/c/threads-native.html" class="sidebar-link">Threads (native)</a></li><li><a href="/c/structure-padding-and-packing.html" class="sidebar-link">Structure Padding and Packing</a></li><li><a href="/c/memory-management.html" class="sidebar-link">Memory management</a></li><li><a href="/c/implementation-defined-behaviour.html" class="sidebar-link">Implementation-defined behaviour</a></li><li><a href="/c/atomics.html" class="sidebar-link">Atomics</a></li><li><a href="/c/jump-statements.html" class="sidebar-link">Jump Statements</a></li><li><a href="/c/create-and-include-header-files.html" class="sidebar-link">Create and include header files</a></li><li><a href="/c/testing-frameworks.html" class="sidebar-link">Testing frameworks</a></li><li><a href="/c/ctype-h-character-classification-conversion.html" class="sidebar-link">— character classification &amp; conversion</a></li><li><a href="/c/side-effects.html" class="sidebar-link">Side Effects</a></li><li><a href="/c/multi-character-character-sequence.html" class="sidebar-link">Multi-Character Character Sequence</a></li><li><a href="/c/constraints.html" class="sidebar-link">Constraints</a></li><li><a href="/c/inlining.html" class="sidebar-link">Inlining</a></li><li><a href="/c/unions.html" class="sidebar-link">Unions</a></li><li><a href="/c/threads-native.html" class="sidebar-link">Threads (native)</a></li><li><a href="/c/multithreading.html" class="sidebar-link">Multithreading</a></li><li><a href="/c/interprocess-communication-ipc.html" class="sidebar-link">Interprocess Communication (IPC)</a></li><li><a href="/c/testing-frameworks.html" class="sidebar-link">Testing frameworks</a></li><li><a href="/c/valgrind.html" class="sidebar-link">Valgrind</a></li><li><a href="/c/common-c-programming-idioms-and-developer-practices.html" class="sidebar-link">Common C programming idioms and developer practices</a></li><li><a href="/c/common-pitfalls.html" class="sidebar-link">Common pitfalls</a></li><li><a href="/c/contributors.html" class="sidebar-link">The Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="formatted-input-output"><a href="#formatted-input-output" class="header-anchor">#</a> Formatted Input/Output</h1> <h2 id="conversion-specifiers-for-printing"><a href="#conversion-specifiers-for-printing" class="header-anchor">#</a> Conversion Specifiers for printing</h2> <table><thead><tr><th>Conversion Specifier</th> <th>Type of Argument</th> <th>Description</th></tr></thead> <tbody><tr><td><code>i</code>, <code>d</code></td> <td>int</td> <td>prints decimal</td></tr> <tr><td><code>u</code></td> <td>unsigned int</td> <td>prints decimal</td></tr> <tr><td><code>o</code></td> <td>unsigned int</td> <td>prints octal</td></tr> <tr><td><code>x</code></td> <td>unsigned int</td> <td>prints hexadecimal, lower-case</td></tr> <tr><td><code>X</code></td> <td>unsigned int</td> <td>prints hexadecimal, upper-case</td></tr> <tr><td><code>f</code></td> <td>double</td> <td>prints float with a default precision of 6, if no precision is given (lower-case used for special numbers <code>nan</code> and <code>inf</code> or <code>infinity</code>)</td></tr> <tr><td><code>F</code></td> <td>double</td> <td>prints float with a default precision of 6, if no precision is given (upper-case used for special numbers <code>NAN</code> and <code>INF</code> or <code>INFINITY</code>)</td></tr> <tr><td><code>e</code></td> <td>double</td> <td>prints float with a default precision of 6, if no precision is given, using scientific notation using mantissa/exponent; lower-case exponent and special numbers</td></tr> <tr><td><code>E</code></td> <td>double</td> <td>prints float with a default precision of 6, if no precision is given, using scientific notation using mantissa/exponent; upper-case exponent and special numbers</td></tr> <tr><td><code>g</code></td> <td>double</td> <td>uses either <code>f</code> or <code>e</code> <strong>[see below]</strong></td></tr> <tr><td><code>G</code></td> <td>double</td> <td>uses either <code>F</code> or <code>E</code> <strong>[see below]</strong></td></tr> <tr><td><code>a</code></td> <td>double</td> <td>prints hexadecimal, lower-case</td></tr> <tr><td><code>A</code></td> <td>double</td> <td>prints hexadecimal, upper-case</td></tr> <tr><td><code>c</code></td> <td>char</td> <td>prints single character</td></tr> <tr><td><code>s</code></td> <td>char*</td> <td>prints string of characters up to a <code>NUL</code> terminator, or truncated to length given by precision, if specified</td></tr> <tr><td><code>p</code></td> <td>void*</td> <td>prints <code>void</code>-pointer value; a non<code>void</code>-pointer should be explicitly converted (&quot;cast&quot;) to <code>void*</code>; pointer to object only, <strong>not</strong> a function-pointer</td></tr> <tr><td><code>%</code></td> <td>n/a</td> <td>prints the <code>%</code> character</td></tr> <tr><td><code>n</code></td> <td>int *</td> <td><strong><strong>write</strong></strong> the number of bytes printed so far into the <code>int</code> pointed at.</td></tr></tbody></table> <p>Note that length modifiers can be applied to <code>%n</code> (e.g. <code>%hhn</code> indicates that <em>a following <code>n</code> conversion specifier applies to a pointer to a <code>signed char</code>
argument</em>, according to the ISO/IEC 9899:2011 §7.21.6.1 ¶7).</p> <p>Note that the floating point conversions apply to types <code>float</code> and <code>double</code> because of default promotion rules — §6.5.2.2 Function calls, ¶7 <em>The ellipsis notation in a function prototype declarator causes
argument type conversion to stop after the last declared parameter. The default argument
promotions are performed on trailing arguments.</em>)  Thus, functions such as <code>printf()</code> are only ever passed <code>double</code> values, even if the variable referenced is of type <code>float</code>.</p> <p>With the <code>g</code> and <code>G</code> formats, the choice between <code>e</code> and <code>f</code> (or <code>E</code> and <code>F</code>) notation is documented in the C standard and in the POSIX specification for <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/printf.html" target="_blank" rel="noopener noreferrer"><code>printf()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <blockquote></blockquote> <p>The double argument representing a floating-point number shall be converted in the style <code>f</code> or <code>e</code> (or in the style <code>F</code> or <code>E</code> in the case of a <code>G</code> conversion specifier), depending on the value converted and the precision. Let <code>P</code> equal the precision if non-zero, 6 if the precision is omitted, or 1 if the precision is zero. Then, if a conversion with style <code>E</code> would have an exponent of <code>X</code>:</p> <blockquote></blockquote> <ul>
- If P &gt; X &gt;= -4, the conversion shall be with style `f` (or `F`) and precision `P - (X+1)`.
- Otherwise, the conversion shall be with style `e` (or `E`) and precision `P - 1`.
</ul> <blockquote></blockquote> <p>Finally, unless the '#' flag is used, any trailing zeros shall be removed from the fractional portion of the result and the decimal-point character shall be removed if there is no fractional portion remaining.</p> <h2 id="printing-the-value-of-a-pointer-to-an-object"><a href="#printing-the-value-of-a-pointer-to-an-object" class="header-anchor">#</a> Printing the Value of a Pointer to an Object</h2> <p>To print the value of a pointer to an object (as opposed to a function pointer) use the <code>p</code> conversion specifier. It is defined to print <code>void</code>-pointers only, so to print out the value of a non <code>void</code>-pointer it needs to be explicitly converted (&quot;casted*&quot;) to <code>void*</code>.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span> <span class="token comment">/* for EXIT_SUCCESS */</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span>  <span class="token comment">/* for printf() */</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">int</span> i<span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>

  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;The address of i is %p.\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="using-inttypes-h-and-uintptr-t"><a href="#using-inttypes-h-and-uintptr-t" class="header-anchor">#</a> Using <code>&lt;inttypes.h&gt;</code> and <code>uintptr_t</code></h3> <p>Another way to print pointers in C99 or later uses the <code>uintptr_t</code> type and the macros from <code>&lt;inttypes.h&gt;</code>:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;inttypes.h&gt;</span> <span class="token comment">/* for uintptr_t and PRIXPTR */</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span>    <span class="token comment">/* for printf() */</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">int</span>  i<span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>

  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;The address of i is 0x%&quot;</span> PRIXPTR <span class="token string">&quot;.\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">uintptr_t</span><span class="token punctuation">)</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>In theory, there might not be an integer type that can hold any pointer converted to an integer (so the type <code>uintptr_t</code> might not exist).  In practice, it does exist.  Pointers to functions need not be convertible to the <code>uintptr_t</code> type — though again they most often are convertible.</p> <p>If the <code>uintptr_t</code> type exists, so does the <code>intptr_t</code> type.  It is not clear why you'd ever want to treat addresses as signed integers, though.</p> <h3 id="pre-standard-history"><a href="#pre-standard-history" class="header-anchor">#</a> Pre-Standard History:</h3> <p>Prior to C89 during K&amp;R-C times there was no type <code>void*</code> (nor header <code>&lt;stdlib.h&gt;</code>, nor prototypes, and hence no <code>int main(void)</code> notation), so the pointer was cast to <code>long unsigned int</code> and printed using the <code>lx</code> length modifier/conversion specifier.</p> <p><strong>The example below is just for informational purpose. Nowadays this is invalid code, which very well might provoke the infamous <a href="http://stackoverflow.com/documentation/c/364/undefined-behavior" target="_blank" rel="noopener noreferrer">Undefined Behaviour<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</strong></p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span> <span class="token comment">/* optional in pre-standard C - for printf() */</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">int</span>  i<span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>

  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;The address of i is 0x%lx.\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">unsigned</span><span class="token punctuation">)</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="printing-the-difference-of-the-values-of-two-pointers-to-an-object"><a href="#printing-the-difference-of-the-values-of-two-pointers-to-an-object" class="header-anchor">#</a> Printing the Difference of the Values of two Pointers to an Object</h2> <p><a href="http://stackoverflow.com/documentation/c/256/operators/2205/pointer-arithmetic#t=201607261026480437786" target="_blank" rel="noopener noreferrer">Subtracting the values of two pointers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to an object results in a signed integer <sup>*1</sup>. So it would be printed using <strong>at least</strong> the <code>d</code> conversion specifier.</p> <p>To make sure there is a type being wide enough to hold such a &quot;pointer-difference&quot;, since C99 <code>&lt;stddef.h&gt;</code> defines the type <code>ptrdiff_t</code>. To print a <code>ptrdiff_t</code> use the <code>t</code> length modifier.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span> <span class="token comment">/* for EXIT_SUCCESS */</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span> <span class="token comment">/* for printf() */</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stddef.h&gt;</span> <span class="token comment">/* for ptrdiff_t */</span></span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">*</span> p2 <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token class-name">ptrdiff_t</span> pd <span class="token operator">=</span> p2 <span class="token operator">-</span> p1<span class="token punctuation">;</span>

  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;p1 = %p\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;p2 = %p\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;p2 - p1 = %td\n&quot;</span><span class="token punctuation">,</span> pd<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>The result might look like this:</p> <div class="language-c extra-class"><pre class="language-c"><code>p1 <span class="token operator">=</span> <span class="token number">0x7fff6679f430</span>
p2 <span class="token operator">=</span> <span class="token number">0x7fff6679f434</span>
p2 <span class="token operator">-</span> p1 <span class="token operator">=</span> <span class="token number">1</span>

</code></pre></div><p>Please note that the resulting value of the difference is scaled by the size of the type the pointers subtracted point to, an <code>int</code> here. The size of an <code>int</code> for this example is 4.</p> <p><sup>*1</sup>If the two pointers to be subtracted do not point to the same object the behaviour is undefined.</p> <h2 id="the-printf-function"><a href="#the-printf-function" class="header-anchor">#</a> The printf() Function</h2> <p>Accessed through including <code>&lt;stdio.h&gt;</code>, the function <code>printf()</code> is the primary tool used for printing text to the console in C.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Hello world!</span>

</code></pre></div><p>Normal, unformatted character arrays can be printed by themselves by placing them directly in between the parentheses.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d is the answer to life, the universe, and everything.&quot;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 42 is the answer to life, the universe, and everything.</span>

<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> y <span class="token operator">=</span> <span class="token string">'Z'</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token operator">*</span> z <span class="token operator">=</span> <span class="token string">&quot;Example&quot;</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Int: %d, Char: %c, String: %s&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Int: 3, Char: Z, String: Example</span>

</code></pre></div><p>Alternatively, integers, floating-point numbers, characters, and more can be printed using the escape character <code>%</code>, followed by a character or sequence of characters denoting the format, known as the <strong>format specifier</strong>.</p> <p>All additional arguments to the function <code>printf()</code> are separated by commas, and these arguments should be in the same order as the format specifiers. Additional arguments are ignored, while incorrectly typed arguments or a lack of arguments will cause errors or undefined behavior. Each argument can be either a literal value or a variable.</p> <p>After successful execution, the number of characters printed is returned with type <code>int</code>. Otherwise, a failure returns a negative value.</p> <h2 id="printing-format-flags"><a href="#printing-format-flags" class="header-anchor">#</a> Printing format flags</h2> <p>The C standard (C11, and C99 too) defines the following flags for <code>printf()</code>:</p> <table><thead><tr><th>Flag</th> <th>Conversions</th> <th>Meaning</th></tr></thead> <tbody><tr><td><code>-</code></td> <td>all</td> <td>The result of the conversion shall be left-justified within the field. The conversion is right-justified if this flag is not specified.</td></tr> <tr><td><code>+</code></td> <td>signed numeric</td> <td>The result of a signed conversion shall always begin with a sign ( '+' or '-' ). The conversion shall begin with a sign only when a negative value is converted if this flag is not specified.</td></tr> <tr><td><code>&lt;space&gt;</code></td> <td>signed numeric</td> <td>If the first character of a signed conversion is not a sign or if a signed conversion results in no characters, a <code>&lt;space&gt;</code> shall be prefixed to the result. This means that if the <code>&lt;space&gt;</code> and '<code>+</code>' flags both appear, the <code>&lt;space&gt;</code> flag shall be ignored.</td></tr> <tr><td><code>#</code></td> <td>all</td> <td>Specifies that the value is to be converted to an alternative form. For <code>o</code> conversion, it shall increase the precision, if and only if necessary, to force the first digit of the result to be a zero (if the value and precision are both 0, a single 0 is printed). For <code>x</code> or <code>X</code> conversion specifiers, a non-zero result shall have <code>0x</code> (or <code>0X</code>) prefixed to it. For <code>a</code>, <code>A</code>, <code>e</code>, <code>E</code>, <code>f</code>, <code>F</code>, <code>g</code>, and <code>G</code> conversion specifiers, the result shall always contain a radix character, even if no digits follow the radix character. Without this flag, a radix character appears in the result of these conversions only if a digit follows it. For <code>g</code> and <code>G</code> conversion specifiers, trailing zeros shall not be removed from the result as they normally are. For other conversion specifiers, the behavior is undefined.</td></tr> <tr><td><code>0</code></td> <td>numeric</td> <td>For d, i, o, u, x, X, a, A, e, E, f, F, g, and G conversion specifiers, leading zeros (following any indication of sign or base) are used to pad to the field width rather than performing space padding, except when converting an infinity or NaN. If the '0' and '-' flags both appear, the '0' flag is ignored. For d, i, o, u, x, and X conversion specifiers, if a precision is specified, the '0' flag shall be ignored. ⌦ If the '0' and <code>&lt;apostrophe&gt;</code> flags both appear, the grouping characters are inserted before zero padding. For other conversions, the behavior is undefined. ⌫</td></tr></tbody></table> <p>These flags are also supported by <a href="https://msdn.microsoft.com/en-us/library/8aky45ct.aspx" target="_blank" rel="noopener noreferrer">Microsoft<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with the same meanings.</p> <p>The POSIX specification for <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/printf.html" target="_blank" rel="noopener noreferrer"><code>printf()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> adds:</p> <table><thead><tr><th>Flag</th> <th>Conversions</th> <th>Meaning</th></tr></thead> <tbody><tr><td><code>'</code></td> <td>i, d, u, f, F, g, G</td> <td>The integer portion of the result of a decimal conversion shall be formatted with thousands' grouping characters. For other conversions the behavior is undefined. The non-monetary grouping character is used.</td></tr></tbody></table> <h2 id="length-modifiers"><a href="#length-modifiers" class="header-anchor">#</a> Length modifiers</h2> <p>The C99 and C11 standards specify the following length modifiers for <code>printf()</code>; their meanings are:</p> <table><thead><tr><th>Modifier</th> <th>Modifies</th> <th>Applies to</th></tr></thead> <tbody><tr><td>hh</td> <td>d, i, o, u, x, or X</td> <td><code>char</code>, <code>signed char</code> or <code>unsigned char</code></td></tr> <tr><td>h</td> <td>d, i, o, u, x, or X</td> <td><code>short int</code> or <code>unsigned short int</code></td></tr> <tr><td>l</td> <td>d, i, o, u, x, or X</td> <td><code>long int</code> or <code>unsigned long int</code></td></tr> <tr><td>l</td> <td>a, A, e, E, f, F, g, or G</td> <td><code>double</code> (for compatibility with <code>scanf()</code>; undefined in C90)</td></tr> <tr><td>ll</td> <td>d, i, o, u, x, or X</td> <td><code>long long int</code> or <code>unsigned long long int</code></td></tr> <tr><td>j</td> <td>d, i, o, u, x, or X</td> <td><code>intmax_t</code> or <code>uintmax_t</code></td></tr> <tr><td>z</td> <td>d, i, o, u, x, or X</td> <td><code>size_t</code> or the corresponding signed type (<code>ssize_t</code> in POSIX)</td></tr> <tr><td>t</td> <td>d, i, o, u, x, or X</td> <td><code>ptrdiff_t</code> or the corresponding unsigned integer type</td></tr> <tr><td>L</td> <td>a, A, e, E, f, F, g, or G</td> <td><code>long double</code></td></tr></tbody></table> <p>If a length modifier appears with any conversion specifier other than as specified above, the behavior is undefined.</p> <p><a href="https://msdn.microsoft.com/en-us/library/tcxf1dw6.aspx" target="_blank" rel="noopener noreferrer">Microsoft<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> specifies some different length modifiers, and explicitly does not support <code>hh</code>, <code>j</code>, <code>z</code>, or <code>t</code>.</p> <table><thead><tr><th>Modifier</th> <th>Modifies</th> <th>Applies to</th></tr></thead> <tbody><tr><td>I32</td> <td>d, i, o, x, or X</td> <td><code>__int32</code></td></tr> <tr><td>I32</td> <td>o, u, x, or X</td> <td><code>unsigned __int32</code></td></tr> <tr><td>I64</td> <td>d, i, o, x, or X</td> <td><code>__int64</code></td></tr> <tr><td>I64</td> <td>o, u, x, or X</td> <td><code>unsigned __int64</code></td></tr> <tr><td>I</td> <td>d, i, o, x, or X</td> <td><code>ptrdiff_t</code> (that is, <code>__int32</code> on 32-bit platforms, <code>__int64</code> on 64-bit platforms)</td></tr> <tr><td>I</td> <td>o, u, x, or X</td> <td><code>size_t</code> (that is, <code>unsigned __int32</code> on 32-bit platforms, <code>unsigned __int64</code> on 64-bit platforms)</td></tr> <tr><td>l or L</td> <td>a, A, e, E, f, g, or G</td> <td><code>long double</code> (In Visual C++, although <code>long double</code> is a distinct type, it has the same internal representation as <code>double</code>.)</td></tr> <tr><td>l or w</td> <td>c or C</td> <td>Wide character with <code>printf</code> and <code>wprintf</code> functions. (An <code>lc</code>, <code>lC</code>, <code>wc</code> or <code>wC</code> type specifier is synonymous with <code>C</code> in <code>printf</code> functions and with <code>c</code> in <code>wprintf</code> functions.)</td></tr> <tr><td>l or w</td> <td>s, S, or Z</td> <td>Wide-character string with <code>printf</code> and <code>wprintf</code> functions. (An <code>ls</code>, <code>lS</code>, <code>ws</code> or <code>wS</code> type specifier is synonymous with <code>S</code> in <code>printf</code> functions and with <code>s</code> in <code>wprintf</code> functions.)</td></tr></tbody></table> <p>Note that the <code>C</code>, <code>S</code>, and <code>Z</code> conversion specifiers and the <code>I</code>, <code>I32</code>, <code>I64</code>, and <code>w</code> length modifiers are Microsoft extensions.  Treating <code>l</code> as a modifier for <code>long double</code> rather than <code>double</code> is different from the standard, though you'll be hard-pressed to spot the difference unless <code>long double</code> has a different representation from <code>double</code>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/devtut/generate/edit/master/docs/c/formatted-input-output.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/c/files-and-i-o-streams.html" class="prev">
        Files and I/O streams
      </a></span> <span class="next"><a href="/c/pointers.html">
        Pointers
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1779e102.js" defer></script><script src="/assets/js/3.2cfa8016.js" defer></script><script src="/assets/js/567.04bf1bde.js" defer></script>
  </body>
</html>
